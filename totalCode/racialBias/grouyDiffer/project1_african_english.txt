```javascript
@Adam4lexander
Hey, got time to copy it in? Add as a separate module to `utils.js` in like `events.js` or `decorators.js`, then attach it to `AFRAME.utils.bindEvent`. Any more context about this? It‚Äôs hard to follow what this is for. The associated PR is adding a fair amount of code of complexity and the value is not obvious  > It seems to me that a proper fix would be for three to support setPoseTarget on WebXRManager
r? @donmccurdy want to check it out since you did the initial flatten  Can you also try with Chrome Canary (m69) to see if it still reproduces?  Maybe we should just remove the whole preload logic for audio and video, letting it stream as normal?  Not sure, should have left a comment back then. You can try removing it or moving to a tock.  This is a proposal for a built-in post-processing API. Setting up post-processing in a comprehensive manner that works well in 2D and VR modes is not trivial to do. It requires tight integration with the render loop. A built-in effects API will help raise the visual quality of the content and will make very easy for everybody to experiment with the different effects while ensuring good performance. At first we would not have a public API for user defined effects since many are not suitable for stereo rendering. By providing the effects we can control how and what order are applied to guarantee consistent results and FPS. Once we settle on an API we can consider open it up.
THREE.DRACOLoader.setDecoderPath( '/path/to/decoder' );
<a-entity gltf-model="src: foo.glb; dracoDecoderPath: /path/to/decoder;"></a-entity>
```javascript
- As you said syntax is uglier and more verbose.
I see some of the value on protecting against typos but after consideration of the costs an implications not sure if the balance is positive.  @PlumCantaloupe Thanks for your suggestions. I'm closing but will reopen if you still think we need to revisit this.   https://github.com/aframevr/aframe/pull/3764  Got bit recently with an unexpected issue writing a component, thought I'd write it up for ideas...
AFRAME.registerComponent('nav-mesh', {
- ngOnInit
- ngOnChanges
> is a pain, and gets complicated when you need to consider:
>    - ngOnChanges
> [image: peek-a-boo]
Kevin Ngo
ngokevin.com
AFRAME.registerSystem('async', {
AFRAME.registerComponent('sword', {
If by "robust" and "reusable" we mean (1) can be added at any point in the scene lifecycle, and (2) can be nested under parents with position/rotation/scale, then many components fall short of this. My own physics components and controls code, for starters. Both `ngokevin/aframe-physics-components` and `kframe/components/geometry-merger` make exactly the mistake I'm describing above, assuming that world position is available during `init()`, and will fail when nested under parents not located at the origin. Maybe the easy steps would be:
I don't have any quick answers on what we should do here... in short, I think the three.js defaults assume some familiarity with color spaces, and ideally we would abstract this away from our users, or at least provide some best practices as a reference for users who are going to care about matching a color palette precisely.
Things I'm still not sure about:
@dsinni What do you think of this PR? Instead of looking for ```e.target.id```, you would look for ```e.detail.id```, and it will give you the id of the sound being loaded/ended, even if there are multiple sounds on the a-box.  Hi @Syedwaheed ‚Äî For help, please use Stack Overflow or Slack. We use this issues list to track bugs and features. Additionally, when posting your question in either place, you will need to provide more information ‚Äî code (or better, a demo) for what you've tried so far even if it's not working, and a clear description of what you're trying to do. The meaning of "frames" is not clear in your question.  The property side is part of the material component (https://aframe.io/docs/0.8.0/components/material.html#properties_side). It should be `material="shader: flat; src:#image; side: double"` Please reopen if this is still a problem   Hi @samrae7, please feel free! My feeling is that it should probably be a sub-property of the `material` component, like:
@feiss does that sound reasonable for most use cases? https://github.com/aframevr/aframe/pull/3543  Thank you!  @vaibhav2203 Thanks for submitting. Can you describe what you are trying to accomplish with this PR?  Thanks! But this PR is invalid  When modifying `el.object3D.position` directly, incorrect/outdated TRS transforms are shown after calling `.flushToDOM()`. Not sure how much of a special case it's worth to fix this, but it would be nice for the debugging methods to work as expected here.
Example: https://jsfiddle.net/donmccurdy/gr2oo3um/ Ok no worries about the demo, I'm fairly sure it's 0.7 vs 0.8 causing the issue.  Thanks!  I restarted the tests Thanks!  This is a duplicate of https://github.com/aframevr/aframe/issues/3441 Thanks for filing When models do not appear, do you see network requests for them? Or any errors in the console?  try a-frame master, we removed the examples dir from the package and now pointing to three.js proper. perhaps it was trying to fetch all three.js repo.  It is a known constraint of THREE that it uses one eye Frustum for culling: https://github.com/mrdoob/three.js/issues/13236 @omgitsraven commented on https://github.com/mrdoob/three.js/issues/13236  In your tick method try the following:
```javascript
entityEl.object3D.position.x = 5;
Kevin Ngo
ngokevin.com
> @ngokevin <https://github.com/ngokevin> Enter VR can't wait because
Kevin Ngo
ngokevin.com
geometry="primitive: sphere; radius: 5000; segmentsWidth: 64; segmentsHeight: 32">
AFRAME.registerComponent('my-box-geometry, {
if (mesh) {
Everything is disappearing unless at the very edge of my right eye.
Now obviously that's a _bad idea_ I'm showing above, but:
font: /examples/assets/fonts/yahei.json;
I'm hoping my little web app can help out here, and let you generate just the character set you need (especially necessary for chinese users), but i need to [iron out some issues](https://github.com/soimy/msdf-bmfont-xml/issues/21) first. So, probably won't want to change the default for 0.8.0 I don't think.  +1 for mentioning this, although I might clarify it a bit:
@acm0055 Thanks. this is not A-Frame specific, it is how DOM APIs work. In order to set an attribute you need to pass a value: `el.setAttribute(‚Äúclick‚Äù, ‚Äú‚Äù) / el.setAttribute(‚Äúclick‚Äù, {}`  Can you share a link with the before and after? Have you tried `0.7.1`? The componentchanged event was throttled in 0.6.0 onwards. Instead, use a tick handler to read rotation changes. You should be reading every frame because the camera rotation always changes in VR.
Also I suggest checking the model against a "just threejs" viewer like https://github.com/aframevr/aframe/issues/2666, as Sketchfab's viewer is highly customized and will not necessarily match our results.
![winver](https://d3vv6lp55qjaqc.cloudfront.net/items/291D3U1R1c1e221W3a1b/Image%202018-01-23%20at%201.57.37%20PM.png?X-CloudApp-Visitor-Id=222920&v=d97ece4d) I'm closing this since it seems it is not specfic to A-Frame. We will reopen if there's any action to be taken on the A-Frame side.  Does it work on a regular browser on the Amazon Fire? You will have to figure out how to access to the browser console for phonegap and see if there are any errors. I don't know much about Phonegap and I don't have access to an Amazon Fire phone. I'm closing this since I'm unable to reproduce. We will reopen if there's additional information  I‚Äôm not 100% sure what it is the problem this solves. When you pull entities from the pool you can position them wherever you want. In the case of bullets you pull an entity from the pool, place it at the tip of the gun and animate it. The application has full control where the entities are placed. There is also the renderOrder parameter from Object3D for finer control: https://threejs.org/docs/#api/core/Object3D.renderOrder I would let content manage the position of the entities. The main problem of this PR is that it couples the internal data structure of the pool with the public API. The pool contract should be just `give me an available entity if any` / `return this entity to the pool`. External code should not care if there's a list, stack or any data structure internally. If that data structure changes the public API breaks. I think the proper solution is just position the entities so they stack in the order you need.  @ngokevin What do you think here?  **Description:**
> Ultimately, A-Frame is focused in VR and the 2D mode is not the expected primary mode of interaction with content. It is more like a preview mode.
@scheerio is your scene using aframe-environment-component? I'm not sure, but I think the issue might be limited to when that component is in use
If we could make that asynchronous it would allow this, but might also affect how materials are applied etc., so maybe not a small change. Would be curious to see a PR implementing it if you have time. :) Can have as a component, just skip the registerGeometry API  Cool thanks! Can you add a hover effect on the elements to emphasize you can interact with them using the mouse? Thanks! Congrats for your first PR  @meatwallace Thanks for investigating.  Is there any action to be taken on the A-Frame side here?  I can't reproduce the problem on iPhone X or Desktop (Firefox / Oculus) with the provided steps and example: https://glitch.com/~private-scent  Fixed this in #3201 Closing now! Sorry, I'm a bit late on this.  Thank you! üéâ You're probably the last new contributor of 2017. Happy new year! ü•á   Yeah, I think this is a bit difficult to do with an all-HTML API... perhaps there could be a single manager exposed on the `<a-scene>` or `<a-assets>` object, and `*-model` components can be changed to reuse that? This would make some other things easier like displaying a loading bar, too. For the drag-and-drop use case, which is a bit trickier to implement, developers could do something like:
var manager = sceneEl.manager;
Thanks to @arturitu for testing on:
The TextGeometry is probably created by the `three-bmfont-text` which is sort of a black box, and can't do much about that. Related: https://github.com/donmccurdy/aframe-physics-system/issues/74  This should be fix on the A-Frame side. I have a PR to fix this that introduces a camera rig to set the height of the user instead of using `stageParameters` in similar way than the THREE examples
You need to try to not use negative scale anymore @vincentfretin Thanks for investigating. It would be great if you have some bandwidth to open a PR with the fix.  **Description:**
Note that the ‚Äúposition‚Äù attribute in these BufferGeometries has only X/Y, it‚Äôs not local Cartesian coordinates. That‚Äôs also breaking physics components. üôÉ
I don't think we need a special one-off build with r88, since developers can opt into the sRGB texture encoding change easily, but when we do update we'll need to decide how to handle it for correct rendering vs backward compatibility. A-Frame has upgraded to r89dev. Couple things to fix, but tracking in other issues. Proposed fix in https://github.com/aframevr/aframe/pull/3424. Encoding on `.map` and `.emissiveMap` will be handled by `gltf-model` and `THREE.GLTFLoader` already, so you'd just need to set `gammaOutput` for the correct result:
However, it's never going to be perfect without setting the `objects` property because the rays will collide with each other's lines. @ngokevin it looks like we have an issue with the `laser-controls` raycaster colliding with its own controller model on Oculus Touch such that no ray will appear. Would you consider a PR to `laser-controls` to set `raycaster.near` to a small value by default to prevent this?  There are some plans in the roadmap for supporting spectator cameras, which might affect the concept of an "active" camera. https://github.com/aframevr/aframe/blob/master/ROADMAP.md
<a-entity material="src: foo/diffuse.png;
aoMap: foo/ao.png"></a-entity>
this particular error could be caught at preload step but many errors would not. It never reaches that point due to `<a-assets>` timeout. @joshmarinacci that sounds like the problem, but can you post the specific errors you're seeing in the console and/or Network tab? The exact fix is to add a console.log here: https://github.com/aframevr/aframe/blob/master/src/core/a-assets.js#L126 Could you post a demo, and/or get a screenshot of the Network tab in your browser's developer tools after refreshing the page? (you can drag .ZIP files into GitHub comments). And are you using a [local webserver](https://aframe.io/docs/0.7.0/introduction/installation.html#use-a-local-server)? Hi @rhokstar ‚Äî the model `adidas.gltf` is working OK with `gltf-model` for me in A-Frame 0.7.0:
https://glitch.com/edit/#!/lewd-ferryboat?path=index.html:7:64
Glitch above updated to show this behavior as well: https://glitch.com/edit/#!/lewd-ferryboat?path=index.html:17:84 Ok with c1403a2 reverted, I can toggle `material.depthTest` from the console and the behavior changes appropriately.
Can you just check in your click event handler if the plane is visible and then do nothing? Hard to understand the exact problem in the original paragraph. Code would be helpful.
@marchill Thanks for investigating this. Can you check if the issue above is the root cause?  @mre30 Do the `webvr-polyfill` examples work for you? http://googlevr.github.io/webvr-polyfill/examples/basic/  It is a known regression on the Oculus Browser and Samsung Internet. More info here: https://github.com/aframevr/aframe/issues/2844#issuecomment-340829968  @Aadjou Does the `webvr-polyfill` examples work for you? http://googlevr.github.io/webvr-polyfill/examples/basic/ This has to be fixed on the webvr polyfill side https://github.com/googlevr/webvr-polyfill It is not an A-Frame specific bug. I leave the issue opened as a reference until the polyfill gets a fixed and we can update the dependency As a temporary workaround try to set the display of your Galaxy S8 / S7 to the maximum resolution. As far as I know those devices come configured by default at a lower resolution they are capable of confusing the polyfill. Instructions on how to do it:
https://aframe.io/docs/0.7.0/introduction/faq.html#why-does-my-video-not-play-on-mobile  Does the webvr-polyfill example work for you? https://github.com/googlevr/webvr-polyfill/tree/master/examples @cloud4every1 the `webvr-polyfill` is the one doing all the work in browsers that don't have a WebVR implementation. If the polyfill example work on your device they should work on A-Frame. @cloud4every1 we were using the polyfill but we bumped the version we use. I would bet that it's a regression in the polyfill. You can try older versions of the polyfill by changing the package.json and running `npm install` and see if it fixes the issue: https://github.com/aframevr/aframe/blob/master/package.json#L46 @cloud4every1 yes, please open an issue on the polyfill or open a PR if you know how to fix it. Thanks! @siva3378 Can you describe the problem you have? What device are you using? What browser an version? Can you provide an example to reproduce? @siva3378 is not any of the examples
You can host your example on glitch if you prefer: https://glitch.com/~aframe
/cc @machenmusik
/cc @machenmusik
The other case, which is also uncommon: A developer could have more than one `<video>` element, defined in the scene's `<a-assets>`, mistakenly sharing the same `id` attribute values:
AFRAME.registerComponent('multivideo', {
What's unreasonable about this request?
A-Frame doesn't carry everything over from the 2D Web. As mentioned, there is long-term maintenance cost in code that is already complex. It's also awkward since it won't support the inline URL style, which is why a third-party component is preferred. It's not unreasonable, but neither are the maintenance concerns. Any third-party component that interfaces with the video element will then need to account for `<source>`. Documentation and online resources will continue to guide developers.
2. Click the "Enter VR" button.
Perhaps I'm missing something, but this doesn't fix the mobile cases.
3. Click the `Enter VR` button
You may also want to check out our [troubleshooting section](https://aframe.io/docs/0.7.0/introduction/models.html#troubleshooting), and test your model with an [online viewer](https://gltf-viewer.donmccurdy.com/). I don't know where to find the glTF model in that demo. It's better to test with minimal scenes, so that you can narrow down where the problem is coming from. Can you make a simpler demo to verify everything is working?
- [x] Oculus
- [x] Daydream
which Windows Mixed Reality headsets and which Android phones for Gear VR + Cardboard did you test with?
I just found #2981 in which @ngokevin advises against adding the model property. Sorry I didn't search issues before sending this. Shall I strip out the commits related to the model property and just keep the `remove` cleanup? What is the use case for hiding the controller model? Looking back at the conversation, people should be able to do:
@ngokevin: yeah, but that gets a lot more verbose when we're talking about setting it for all the controllers loaded by `laser-controls` re: a-blast For something complex as guns, you'd want to use your own controller component. There's no need for laser/raycaster there. All it is is setting your own model.
> <https://github.com/notifications/unsubscribe-auth/AJkeq8R1Ai2g40UjpoBgX_3Y-o6zLtTcks5sqouigaJpZM4Px76m>
// TODO: Check previousIntersectedEls to see if this is a new intersection.
What's the advantage of not including `clearedIntersectedEls` in the details of the `raycaster-intersection-cleared` event?
If you check the code, see that we still call getGamepads. The only thing I'm throttling is rebuilding the controller list. It's different from what we did before. #2984 was to fix the Chrome issue with `navigator.getGamepads` not getting called, this avenue was not approached. I can't imagine a couple hundred milliseconds affecting applications in controller detection, it will be hardly noticeable. Works on FF. Need to test on Chrome/Daydream/GearVR. @vincentfretin thanks for looking into it! Do you see any performance difference in the controller motion with and without the patch? Worked fine on Chromium/Rift. Is that enough? Anyone want to try to Daydream? I tried this on Gear VR: Oculus Browser and Samsung Internet on a Samsung Galaxy S8. compared to `master`, the controller doesn't seem worse. I can't perceive perf improvements, if there are any.
@ngokevin: which examples are you testing with? [Laser Controls](http://localhost:9000/examples/test/laser-controls/), [Tracked Controls](http://localhost:9000/examples/showcase/tracked-controls/)? Thanks. Either, anything with hands. Perf improvements are memory-leak/garbage related:
- Deprecate states.
geometry="primitive: box; height: 0.30; width: 0.30; depth: 0.30"
<img width="1252" alt="screen shot 2017-10-12 at 9 51 48 pm" src="https://user-images.githubusercontent.com/674727/31516448-e4734e64-af98-11e7-9562-6eea67536c4e.png">
<img width="1249" alt="screen shot 2017-10-12 at 9 58 28 pm" src="https://user-images.githubusercontent.com/674727/31516510-1617cd0a-af99-11e7-903e-6b9835692577.png">
That's why probably the `webvr-polyfill` examples orientation jumps around @olga-microsoft Probably. The decision should be made by the [polyfill](https://github.com/googlevr/webvr-polyfill) maintainers.  /cc @frederic-schwarz very nice example!  I suggest opening an issue on the [super-hands](https://github.com/wmurphyrd/aframe-super-hands-component) and determine there whether it's an A-Frame or a `super-hands` bug. I don't know much on how `super-hands` is implemented. I encourage using the Slack channel as well since people that use `super-hands` hang out there. In the meantime you can still use `0.6.1` if you don't need any of the features in `0.7.0` using `hand-controls` and `laser-controls` and `super-hands` all together looks iffy to me. I'm pretty sure you'd want to just choose one of those three. Could be some sort of race condition there and 0.7.0 just changed the loadout order.
Note that if something else is already loading a model (like `hand-controls`) then `laser-controls` might as well be `cursor` and `raycaster="showLine: true"`.  Thanks, I have made a PR which will index the docs once it's merged https://github.com/algolia/docsearch-configs/pull/225  Thank you!  Thank you!  Congrats on your first PR! The fix will ship in A-Frame `0.8.0` in Nov/Dec timeframe. You can always play with master by pointing to https://rawgit.com/aframevr/aframe/master/dist/aframe-master.js Just FYI, @dmarcos is right, but if you don't want all the other changes that will happen in master, it is safer to use your specific commit rather than latest master.  Closing in favor of https://github.com/aframevr/aframe/pull/3079  some of the text didn't seem to come through, did you need to enclose portions in backticks like `this` ? Fixed by https://github.com/aframevr/aframe/pull/3079  It is miliseconds. The documentation is correct  Thank you!   Thanks! All PRs should be done against master. The version branches are just for deployment purposes.  I would pass a querySelector for the raycaster to interact with the links like in the [example](https://github.com/aframevr/aframe/blob/master/examples/test/laser-controls/index.html#L53). Something like this:  `<a-entity laser-controls="hand: right" raycaster="objects: [link]; far: 100;"></a-entity>` Make sure that the distance of the raycaster is enough to reach out the objects you want to interact with. Please reopen if the [link traversal example](https://aframe.io/aframe/examples/showcase/link-traversal/ ) is not working for you. If it does then it's something specific to your application and better to discuss it on Slack or Stack Overflow. Very possibly same issue as #2980.  Hi @zzylovecode ‚Äî the [3D Models ‚Üí Troubleshooting](https://aframe.io/docs/0.7.0/introduction/models.html#troubleshooting) section in the docs is the best general advice we can offer if your model isn't working as expected.
So I recommend a component + Glitch, and we'd be happy to feature it in the documentation for people to remix. Next time I'll try to make the decision to close earlier so efforts aren't wasted. Thanks for understanding. Not sure whether that property type should pass through audio. The current three.js audio helpers do an XHR directly to the URL, they do not touch the audio element. It's better to pass a string. You also don't need to use `<a-assets>` for media streams because `<a-assets>` is for preloading only, and streams can't be preloaded. You can always use a string type or selector type and handle how you need. Right now, the sound component does not use the raw audio element so it doesn't make sense to change the behavior.  Closing for reasons in https://github.com/aframevr/aframe/pull/3042
Tried this on Oculus / Firefox 55 and it fixes the issue. @olga-microsoft Thanks for testing this. I made a couple of changes to consider the cases you mentioned. Now when disconnecting the headseat VR mode disengages automatically. Please, let me know if this covers every case now. @olga-microsoft I might need some help here. What browsers / headsets are you testing on? It is working as expected for me on Firefox / Oculus:
2. Click on the Googles to enter VR (VR mode engages and head tracking works as expected).
3. I unplug the cables (I tried the USB and HDMI independently and both at the same time) VR mode exits, the googles icon renders again and I can move the camera with mouse and WASD keys.
Do you see any errors in console? @olga-microsoft I see. `vrdisplayconnect` / `vrdisplaydisconnect` don't fire reliably with Firefox + Vive. It's a known bug (https://bugzilla.mozilla.org/show_bug.cgi?id=1397397). Do you have an Oculus to try on?
![image](https://d3vv6lp55qjaqc.cloudfront.net/items/2F320c2D1e3J0X0w310f/Image%202017-09-07%20at%203.50.12%20PM.png?X-CloudApp-Visitor-Id=681eb91758819d0066e71ca9eb6d31d7&v=39470660) Interesting. It seems you're seeing the render loop crashing and does not recover. Could it be that when the headset is unplugged in the middle of the render loop there's a last call to `submitFrame` that does not finish properly? The `vrdisplaydisconnect` would be dispatched after that call.  It looks there's a time discrepancy between Firefox and Edge somewhere. When unplugging the headset on Edge the vrDisplay.requestAnimationFrame is cancelled implicitly and the callback never invoked stopping A-Frame rendering loop. In Firefox somehow the callback of the ongoing requestAnimationFrame is invoked one last time after the headset is unplugged so the render loop has a chance to seamlessly switch to window.requestAnimationFrame. I'm not sure what is the expected behavior. It's not something we define in the spec (https://w3c.github.io/webvr/spec/1.1/#dom-vrdisplay-requestanimationframe) I pushed a change to restart the render loop when disconnecting the headset that you can try. @olga-microsoft let me know if that solves the issue on Edge. I still have to improve the approach since we don't want to end up with multiple render loops on Firefox Thanks! I'm now calling `cancelRequestAnimationFrame` on the handler for `vrdisplaydisconnect`. I also works on Firefox 55 / Vive  Thanks!  Someone pointed out in Slack that the default `<a-sky/>` element already exceeds the faces limit:
Maybe the sphere resolution should be lowered, maybe not, but regardless I think the stats threshold seems too low. Seems like the limit should be at least `maxVertices / 3`? Is there some validity to it? Ideally even though it's a bit more work and we should add more support, people would use cubemaps to get it down to 6 faces? I don't think there's any ~validity~ consistency to it ‚Äî if 12000 vertices is OK, then 12000 / 3 faces should be OK too. Could someone point me to where this limit is defined? Digging around and can't seem to find it. The faces limit is really not consistent with the vertex limit here. Also ‚Äî perhaps the `stats` component should include a link to our performance best practices doc, where we'd explain what `Calls` means etc.?  I think the exclamation is intentional to emphasize. @ngokevin ?  As I mentioned in PR #3010 Mozilla‚Äôs high-level goal is to continue its official support, leadership, and involvement, as it has since A-Frame‚Äôs creation by our staff. We‚Äôd be open to making the following contributions explicit:
Since the question has come up in the past, a completely hands-off approach like the one Mozilla used in the most recent governance model for the Rust project doesn't fit as well for A-Frame. That project required a higher level of independence in order to assure potential contributors and users that the Rust language would not transition from a systems programming language into a browser-specific programming language. Mozilla does not expect that model would be used with any projects in the future, excluding those in which we no longer expect to invest.
AFRAME.registerComponent('ortho', {
this.cameraParent = sceneEl.camera.parent;
But as @dmarcos says, A-Frame is not meant to be a general 3D library (as three.js is), it is focused on VR (and/or AR,XR,MR...), so ortho is probably not a case we can guarantee support or documentation for. Yeah, you'll need to write your own controls components possibly to work with ortho and manually replace the camera as Don suggested.  @promontis An orthographic camera and all its implications would be very hard to maintain. You can always build your own component as suggested above that you can ship with your editor. Is that an option for you?  Thanks!  Nice - I had actually done a version relying on `tracked-controls` changes from #2583 which are similar to those you made here, but I didn't have actual controller models.  Wonder if it makes sense to merge them FYI, working implementation on top of #2583 is here:
Project Maintainers: @dmarcos @donmccurdy @ngokevin
Moderators: @AdaRoseEdwards @Utopiah
For clarity/efficiency and to enforce the explicit governance, we propose to have only maintainers keep admin/write permissions to the @aframevr organization and its repositories (unless provided otherwise such as with @fernandojsg and the Inspector).
https://aframe.io/docs/0.6.0/introduction/javascript-events-dom-apis.html#where-to-place-javascript-code-for-a-frame
````javascript
src: https://glitch.com/~absulit-cursor-feedback
Or just a floating laser that you can use however you want?
We should be able to just create poses for the hand, but I'm not too sure how this works, or what poses are needed for Knuckles. :/
See Slack discussion at https://aframevr.slack.com/archives/C0GG937RN/p1502489851298903
https://github.com/chenzlabs/aframe/blob/4e3fb0a938432bd10b91f7d9df5effdbf588ba86/src/components/tracked-controls.js#L28 Sounds like @dmarcos prefer an alternative he is working on to #2583, so what is the preferred avenue to solve this issue then?  Commit a new rotated version of model to assets and remove the adjustment in laser-controls? @dmarcos ^^ ?  Normally, we recommend just copying/customizing the look-controls if people need special behaviors. There are many permutations and edge cases of controls that people have come up with, but supporting all of the at once is pretty hard. Since now we have so many switches, it becomes harder to maintain.
https://aframe.io/docs/0.6.0/introduction/javascript-events-dom-apis.html#where-to-place-javascript-code-for-a-frame
el.setAttribute('test', 'foo', AFRAME.utils.clone(foo));
@rockwalrus you could add a class to all your dynamic entities `<a-scene class="myElement">` and select them all with `document.querySelectorAll('.myElement')` and remove them. Still more performant that reloading the scene, specially if you care about cardboard / mobile In your case I would create a `reset` component for the scene that restores the state and removes all the dynamic entities.  To determine if `reload` is worth keeping I prefer to analyze the use cases that need the feature. In the case described above (restoring the initial state of a scene) reloading the whole scene is not the ideal more performant way to proceed and it should be solved differently. Your use case to reload a page is already covered by the WebVR API since reloading a page and remaining in VR is a considered scenario. Your problem is with devices where there's no WebVR implementation (Cardboard like devices). Are you using a cardboard with a button? You could hook enter VR to a press on the button after reload to be able to enter VR (fullscreen on polyfilled devices)
Excellent news. Thanks @mkeblx   I think the 'rain' and 'ocean' components are good examples of this, and the goal for this issue would be to gather even more ideas. No need to distinguish categories of procedural-ness. :)
http://iquilezles.org/www/articles/distfunctions/distfunctions.htm @joshmarinacci Have you read the component documentation? https://aframe.io/docs/0.6.0/core/component.html
```javascript
```javascript
````javascript
```javascript
el.setAttribute('geometry', 'primitive: plane; height: 1; width: .5')
thanks for taking this on :) This seems like a pretty narrow use case (iOS + video + streaming + HLS). This seems like it could be done fairly easily outside of A-Frame without A-Frame supporting it specifically? why limit A-Frame‚Äôs video capabilities? and, if A-Frame decides to explicitly not support these video use cases, provide a working solution for integration with A-Frame. if A-Frame doesn‚Äôt just work out of the box, potential big names will just move on to a different WebVR framework that does. Similar to what happened with Shopify VR prototyping with A-Frame but [ended up settling on PlayCanvas](https://www.shopify.com/partners/blog/building-a-vr-shopping-experience). Because there's a maintenance cost, complexity, and it can be accomplished outside A-Frame. I believe A-Frame is successful with adoption in the WebVR space, I don't think it hinges on iOS streaming video support. 2) Sure, the extra shaders, special checks for Mac, switching shaders depending on a combo of file type and platform, needing to communicate between different parts of code base for whether a texture needs a flip or correction, and additional logic branching in code I already have a hard time following (texture and material utils). Then on top of that the browsers are always changing, and different browser versions. Then compared against the demand.
Perhaps, there's no way to apply the quirk through the base material component, but it should be possible if you wanted iOS HLS to have a component that does everything start to finish. There's a high bar for core features, we've excluded much more popular features from the core. @cvan There‚Äôs a thousand things A-Frame could do and we have to prioritize and factor in complexity and maintainance cost. If there‚Äôs a strong market signal that indicates that `iOS + video + streaming + HLS` is important we can consider it. Said that even if we try to cover as much ground as we can we won‚Äôt get 100% adoption since taste and personal preferences also play a role in decisions. Shopify does not provide much detail in the blog post about why they favored Playcanvas over A-Frame. I would love to know more but it does not seem to be video related. If you have more info please feel free to open any issues with the functionality you think is missing. @dmarcos Fair points, thanks. As @machenmusik points out in [his comment above](https://github.com/aframevr/aframe/pull/2830#issuecomment-337408140), iOS is not the only consumer of HLS. Microsoft Edge (Windows Mixed Reality) and Safari use HLS.
If video is not considered not an A-Frame priority (roadmap or not), @machenmusik should have been consulted back when he opened this PR on June 30.
````javascript
Both data and oldData are modified. the `update` method of the component is never called because no changes in the component are observed since  `oldData === data`. PR coming If you call `setAttribute` multiple times with the same object (as you do in your example), the object is considered trusted and we disable certain checks on it (type checking and comparison with oldData values). Your second call to `setAttribute` is going to through a different path that ends up triggering the change you were expecting on first call (because we don't compare against oldData) We should probably restore the comparison with oldData regardless if the same object is passed multiple times to `setAttribute` (thinking about it)  This has been fixed on aframe master branch in github   @autonome Do you know if the fix ever landed on the polyfill? We can pull the fix in for `0.6.1` next week  Hi @7dir ‚Äî Nice! Would you like to add your component to [awesome-aframe](https://github.com/aframevr/awesome-aframe)? I don't think there's anything actionable on this issue.  You can play with the segments property and see if you can find a lower value that feels good. PRs are welcome :) https://github.com/aframevr/aframe/blob/master/src/extras/primitives/primitives/a-cursor.js#L12  Thanks! Almost ready to go. There's a broken test to fix I've updated to fix tests, added tests for selectors that were not accounted for, fixed the regex. thanks much  Thanks!  Seemed to be causing backward compatibility issues with animated cursors Gonna need to grep the examples and tests @ngokevin did you want to finish this one off?  I won't be able to get back to it for a while  Can you post example code which this PR might address? Will help clarify the case, thanks! I would add a test with the case that this PR fixes added the tests  Nice catch  This does seem to be a bug, really weird. I can reproduce on master + Firefox too. And using the text component vs. primitive as well.
One solution would be to include `hand: 'left' | 'right'` in the `controllerconnected` event. Actually, the current vive-tracker PR may have some changes one is looking for here... especially regarding hand Not all tracked controllers have the concept of handness so we include that on the vendor specific controls live `oculus-touch-controls` or `vive-controls` @AndresCuervo Can you share a bit more of your use case so we can recommend a solution? A code snippet / markup will help IMO, seems like there are a few different topics this brings up:
You may also be able to add a [TypedArray polyfill](https://github.com/substack/typedarray) to your page. But generally speaking, we very much recommend using an evergreen browser (Microsoft Edge, Firefox, Chrome, or Safari) with A-Frame.  Hi @vrimaginar ‚Äî it looks like the model is hitting some sort of GPU limit on your other devices. I don't have enough info to guess what exactly it is, but tl;dr my advice would be to reduce the complexity of your model. 85MB is quite a lot for a mobile device to deal with. In Blender, you can simplify the model with tools like the [Decimate Modifier](https://docs.blender.org/manual/es/dev/modeling/modifiers/generate/decimate.html).
Targeting <15MB is likely to give better results, and more like 1‚Äì2 MB if you intend for yours to view your presentation on their cellular connections. Hm. Hard to guess whether it is the model itself, then. I'd be curious if you can remove things from the scene (remove one sky sphere at a time?) and if it starts to work at some point. Try using this build https://rawgit.com/aframevr/aframe/8d60730/dist/aframe-master.min.js where textures get auto disposed when not in use. What may be happening is you are switching between the spheres and the textures in memory accumulate. Also helps is rather than 15 skyspheres, have one at a time and swap out the image  It restarts randomly, while interacting with the scene, in 2D mode, in VR mode? I can't reproduce on my iPhone 7 Plus with https://aframe.io/examples/hello-metaverse/.
Cool @moyashipan. Thanks for verifying  A PR to fix this landend last night: https://github.com/aframevr/aframe/pull/2751
> EDIT: Oops, just saw you mentioned `a-assets` in the title. Anyway, the two suggestions would be the right next steps I think. I think the extra requests were fixed here: https://github.com/aframevr/aframe/issues/2472
Just run this install to `aframe` version `0.5.0`:
npm install aframe
1 verbose cli   'i',
1 verbose cli   'aframe' ]
7 silly pacote tag manifest for aframe@latest fetched in 776ms
10 silly install loadShrinkwrap
21 silly pacote range manifest for style-attr@^1.0.2 fetched in 173ms
23 silly pacote range manifest for three@^0.83.0 fetched in 112ms
41 silly pacote range manifest for envify@^3.4.1 fetched in 316ms
43 silly pacote version manifest for present@0.0.6 fetched in 316ms
52 verbose tar pack   '/Users/cvan/.npm/_cacache/tmp/git-clone-a2c71706' ]
54 verbose folder /Users/cvan/.npm/_cacache/tmp/git-clone-a2c71706
60 verbose stack Error: Command failed: /usr/local/bin/git checkout a02a8089b
60 verbose stack
61 verbose cwd /private/tmp/atest
62 verbose Darwin 15.2.0
63 verbose argv "/usr/local/Cellar/node/8.0.0_1/bin/node" "/usr/local/bin/npm" "i" "aframe"
65 verbose npm  v5.0.1
@dmarcos: Thanks! I see that the commit resolves on GitHub, but I cleared my npm cache and it still won't install properly. I tried `npm cache clean`, `rm -rf ~/.npm`, `npm cache verify`,
Ideas?
Please reopen if it does not. I'm running into the same issue here. Daydream controller works on the webvr.info and threejs.org examples but not on the aframe examples.
It looks like some async problem maybe? As If I'm adding breakpoints that slow down the initialization sometimes it works and the controller appears Is that master or 0.7.1? Both Something must have changed on the chrome side @dmarcos could you reproduce it too? I don‚Äôt have a daydream around today Go home get one! Everything is on fire! @machenmusik on the first link doesn't work but on the second one yep Git bisecting it right now... :\ It's some kind of async issue, as after getting an absurd bisect commit, I went through your two codepen examples and I reload them several times and I got both of them working and not working.
AFRAME.registerComponent('stats', {
This is with using `ogg` encoded audio files. It's also worth noting that manually calling `sound.playSound()` after the render loop begins produces the same error. @johnshaughnessy Should we store the file and not the element in the cache? I cannot remember why we store the element. I will have to dig into it. @ngokevin Do you remember the rational?  Sweet! Thanks!  We use `document.createElement` everywhere. It doesn't matter for Node because we don't expect it to be executing any runtime code, right?  We use github issues for bugs and feature requests. For questions please use stackoverflow:
https://stackoverflow.com/questions/tagged/aframe
https://aframe.io/community/#slack
````javascript
AFRAME.registerComponent('my-component', {
We can still take the old form and provide a warning message in console for a couple of versions before deprecating. @donmccurdy @ngokevin what do you think? Offhand, I like the idea of having a `config` property, but I'm not sure dependencies and schema should be in it. They feel less like configuration, or at least schema does. Can we think of other properties that make sense? Some ideas:
AFRAME.registerComponent('my-component', {
I will configure the aframe-site repo to build the URLs depending on the version of the documentation being viewed and show a View Source button.
- Reproducible Code Snippet or URL: https://hazardu5.github.io/aframe-workshop/examples/19/finish > the controller model rotates around a point in space outside the models geometry.
Hmm I'm having second thoughts. To add some context from #2721, apparently `ambientOcclusionMap` never worked to begin with, and was never reported as a bug.
metalnessMap: ...;
EDIT: For the case of shiny materials, Maya's Stingray PBS materials can be converted to glTF metal/rough using FBX2glTF. The author of the converter is quite responsive to bugs, if that's not working for you.
AFRAME.registerComponent('my-crate-material', {
I think the point is less that A-Frame's API especially needs a type system, and more that A-Frame users may want to use TypeScript in their own applications (for whatever reason), and doing so is extremely painful if your dependencies do not have correct typings. For example, the BabylonJS ecosystem is TS, and it would be nice to accommodate those users coming from that background.
https://iridescent-team.glitch.me
https://iridescent-team.glitch.me/
Do you have the flag thrown manually on Canary and Beta?
I thought that interacting was supposed to be required, for security/privacy purposes.  The fact that "letting it sit for some time" works surprises me, maybe that's the race condition mentioned above
Also https://github.com/mayognaise/aframe-html-shader/pull/12 is an option for rendering HTML/CSS as a texture. Slightly expensive to compute, but perhaps cheaper than pulling in and rendering glyphs? I suppose `text.padding` wouldn't be too bad. The text auto width was intended to size the text width to the geometry, not the geometry to the text width - you can't automatically size both height and width, you need to pick something as a FRAME of reference.  Is it a more common case to want arbitrary width based upon fixed height, rather than arbitrary height (including line wrap) based upon fixed width?  If so, perhaps we should add some switches for that (whether it's padding, or something else)  There are a failing tests we have look at  I believe this should be filed against the inspector not aframe. @fernandojsg Moved to https://github.com/aframevr/aframe-inspector/issues/475  The camera doesn't handle any of that logic. `active` just refers to the user's camera, but a camera can be inactive but still controlled. You can `.removeAttribute('look-controls')` temporarily.  Can you point to an example that reproduces the issue? Thanks @darioodiaz can you provide more information on the specific model of phone that exhibits the problem?  my suspicion is that it does not support a OpenGLES extension the default font's text shader is using.  Can you also try one or more of the non-default stock fonts like kelsonsans? of specific interest: `GL_OES_standard_derivatives` Any errors on console like in the lines of `extension XXX not supported`? If there is a good way to determine whether the shader should use highp or mediump this might be straightforward to fix, but I don't have anything to test it with  yes, there is actually a PR to aframe polyfill to fix this already, but perhaps it hasn't been merged into the version you are using.  @dmarcos do you recall where this stands? looks like this isn't merged / used yet
1. Go to https://gurivr.com/, and click on the "Augmented Reality" demo
https://www.flickr.com/groups/360degrees/pool/ I see what you mean about distortion
but I don't recall this happening in prior versions, wondering if it is dimensions distortion (effectively clipping the picture which is bad for equirect) or insufficient sphere tesselation
http://codepen.io/machenmusik/pen/wdmjQb
so there are two pieces to this:
@dmarcos @ngokevin @cvan can one of you please reopen this issue? and would you agree that the stock values in core should probably be adjusted to compensate?
@machenmusik I'm ok with increasing the sphere segments.
http://codepen.io/machenmusik/pen/ZKoWLe
And with a `poster` image (#1271), as soon as a user clicks anywhere on the page (including clicking the `Enter VR` button), a 360¬∞ video would play. It's really great üëç
- Reproducible Code Snippet or URL: http://codepen.io/deva/pen/QvMeom
Possible API brainstorm:
geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
Here's the API I am thinking:
````javascript
| recursive |
Thoughts welcome @machenmusik very nice! That looks quite helpful.
AFRAME.registerComponent('custom-controls', {
side effects when combined with mixins and confusion when a component is both set on the entity and the primitive (you might have several attributes in the entity that refer to the same thing). As a layer of abstraction they introduce more noise than value over the entity / component model.  @ngokevin you can definitely add the controller-cursor behavior into cursor, although then you need to know if it is a controller-cursor or a gaze-cursor, not sure that is worth trying to jam into same component as opposed to having them separate.  However, IMO there should be a way to (1) provide custom appearance for ray/line (2) have the ray/line stop at intersection as opposed to tunneling straight through to the full length of the ray/line (and maybe place some intersection graphic) -- really this starts to be like teleport controls (straight laser vs. parabolic, and hit target appearance) @dmarcos Let's not start a different topic in this issue.
The point on primitives makes sense.
If possible, it would be preferable for `laser-controls` to not have specific knowledge of each `<device>-controls` component model for determining offsets, but to get that through some component or system API. Let's not plan on every `<device>-controls` being in core. @ngokevin  w.r.t. Laser customization of appearance - at some point you realize that the entity with controllers and model is related to but distinct from the ray/line indicating the laser with its own position and orientation offsets, they can't be the same entity... If the idea is to force people to make their own mesh, it is complicated by the need to understand the underlying object hierarchy to do it right... As an example, maybe I want the ray to be thin and lower opacity until it is intersecting with something at which point it starts pulsing and appearing to be more solid... which along the lines of cursor could be done as animation if things were structured properly Maybe laser-pointer should just be the ray/line, and cursor can auto-switch if it sees controller connected event, which should never happen if attached to camera to be a gaze cursor? Brainstorming here:
origin: { type: 'vec3' },
ok, feel free to steal liberally from codepen if helpful.  it felt really good / convenient to be able to just say
Gaze Teleport: https://github.com/donmccurdy/aframe-extras/tree/master/src/controls
These can be found on https://aframe.io/registry/
But you can try clearing texture cache `AFRAME.systems.material.textureCache`. They resolve promises which you can call `Texture.dispose()`. But yeah, iOS has 10MB limit per tab or something.  If you want to include an asset at runtime, just set the URL directly `<a-image src="texture.png">`. But yes, your way should work as well, but a roundabout way of doing it.
AFRAME.registerComponent('my-material-override', {
var el;
thanks, @mkeblx. I'll debug it once I get my new Samsung Gear VR; if you (or someone else) can get to it before then, sweet! I wonder if the old code to auto-enter VR (by necessity) for Carmel Developer Preview is trying and failing with Oculus Browser.  But previously for me pages were loading in 2D with enter-VR button visible just fine with Oculus Browser.  Did this just change recently? Can we test with 0.4.0? On the assumption that most will be using Oculus browser now, maybe we should remove auto-enter-vr from default scene components, and those that need can add manually? @dmarcos if you like that approach I can do quick PR @weddingdj thanks for investigating! Is that with current master? `auto-enter` vr was disabled recently. Entering VR itself works fine though right? requestPresent is failing. Is this the Oculus Browser or the Samsung one? `requestPresent` is clearly failing saying that it requires user gesture. I don't understand how it's entering VR. Is it the polyfill taking over? @dmarcos I don't think you merged #2707, was auto-enter disabled some other way? Perhaps auto enter is attempted and fails in such a way that messes up subsequent exit after manually entering.  Try with #2707 included maybe? I would look into the `exitVR` button of `a-scene`:
AFRAME.registerComponent('test', {
The test issue is that somehow only the node.js tests fail with a rather cryptic message.
go to this codepen:
which gets its pose from vive-tracker,
sense because the tracker has no handedness)
Is this behaviour above what I'm describing, the same thing you're experiencing, @rambambulli @derhuebiii?
</a-state-machine>
Concerns here:
I agree with that, yes, a global store is helpful. But I'm not sure how an entity or component would bind to its subtree without some sort of subtree-specific syntax, e.g. what I've written above.
> But I'm not sure how an entity or component would bind to its subtree without some sort of subtree-specific syntax, e.g. what I've written above.
@machenmusik r? Let me clarify my intent as I found the existing behaviour a bit confusing in use and I don't think I have been entirely clear on what the issues are:
2. Specifying both hands is confusing (solution to problem 1):
<a-entity daydream-controls="hand: left">
<a-entity daydream-controls="hand: right">
- Less documentation about schemas in the component API (https://aframe.io/docs/0.5.0/core/component.html#single-property-schema is a bit awkward to explain)
@dmarcos fixed the issue with the `remove/add listeners` on `play/pause` Thanks! @machenmusik I used false as I saw that we're initializing `controllerPresent = false` in all the `init` for each controller's component and that's why I used that value as default.  Can you file this on the Inspector? IMO, the Export feature is hard to make right  Thanks!  Thanks for filing. I wonder if it's an issue with the `collidable` entity not being initialized in time the raycaster does its `querySelector`, even though the raycaster should be listening for attached entities. What happens if you swap the order, or remove the `objects` check? Ah, right. Setting `dependencies: ['raycaster']` will initialize raycaster on the entity. Thus you were having a dummy raycaster not emitting events?  Thanks! I didn't think about this before, but there's no way to tell if the parser should be run in general on a default value. We don't know if the default value supplied is pre-parsed or parsed. The PR works for `vec2`/`vec3`, but that's a bit too ad-hoc.
````javascript
```javascript
- Finally `vrDisplay.RAF` jumps in and sends the, much higher, timestamp as I had the browser opened for a while.
- The jumps between these values generates incorrect deltas and can generate weird issues (Like the one we've seen in TWEEN: https://github.com/aframevr/aframe/issues/2175)
@caseyyee what are the use cases for reparenting you have in mind? There are `Entity.add` and `Entity.addToParent`, but then they wouldn't be represented in the DOM. Maybe those methods should check if the DOM node is not attached, and attach if so.
- Moving a child to another parent: `.parentNode = anotherEl` (this could internally use `.setParent()`)
handEl.object3D.updateMatrixWorld();
object3D.applyMatrix(worldToLocal);
Ungrab:
// Get world transforms.
position = activePrimitiveObject3D.getWorldPosition();
rotation = activePrimitiveObject3D.getWorldRotation();
I agree with @machenmusik.
</a-car>
Questions should also be asked on StackOverflow: https://stackoverflow.com/questions/tagged/aframe  Does this block #2378?
As mentioned above, it would be ideal if there were some way to ensure a `.glb` (or other model) can hold the asset system until it _parses_, not just until the content is downloaded, because parsing may not complete for several frames. Renaming the issue accordingly.  Constants are supposed to be internal to core. I would not like to expose them unless there's a good reason to. @kellyselden What's exactly your use case? Can you be more specific on what *keeping your app in sycn with upstream changes* mean? @kellyselden You can access the default value before initialization like this: `AFRAME.components.camera.schema.userHeight.default` Can you use `cameraEl.getAttribute('camera').userHeight` to get the value? Sorry for the circles. I think given there's no good way to grab the value, we make constants public, but be careful about what we place in the constants folder. We can have a constants index.js that exposes public things. If something needs to be private, then constants live within their own modules or directly require constant files. 0 is the default for the camera component, but 1.6 is the default for the default camera.  @xgqfrms-GitHub welcome! Yes, it is a custom element based on [newer web APIs](https://developer.mozilla.org/en-US/docs/Web/Web_Components/Custom_Elements). Much of A-Frame's syntax involves using elements like `<a-entity />` or attributes like `<a-entity foo bar />` to create relationships between [THREE.js](https://threejs.org/) objects. For example, `<a-scene />` is closely related to [THREE.Scene](https://threejs.org/docs/?q=scene#Reference/Scenes/Scene).
I'm more nervous about this. The three.js APIs are already a fairly high level abstraction around WebGL. And, I think it's a benefit not a drawback that you wind up writing three.js code (and using three.js docs + stack overflow) when working with A-Frame. Most of those things can be done fairly cleanly with three.js. The `fadeIn`/`fadeOut` methods are an exception, but I think that's a case for considering new imperative animation APIs rather than new abstraction on top of three.js. Good points. The distinction about re-creating the hierarchy is interesting. I've avoided that when trying this in the past (nesting is a problem with physics, which was my use case). But other users might want to preserve their model's structure. I've done https://github.com/ngokevin/kframe/tree/master/components/gltf-part#aframe-gltf-part-component for my own needs three.js: `mesh.getObjectByName('whatever')` would be awkward if the hierarchies don't match up. So perhaps if you use my part component, and have another component that generates an entity for every single part. And then attach components afterward? I think there will be lots of different use cases for this, probably not possible to have one component that does it all... Seems best to just make components as the need comes up and figure out what works well.  Good catch!  https://github.com/jpchase/OriginTrials/blob/gh-pages/developer-guide.md
@machenmusik @ngokevin alternative to https://github.com/aframevr/aframe/pull/2393 @machenmusik what about now? A bit more clear? This code is overly complicated and difficult to understand and maintain. I'm looking for opportunities to improve it.   Thanks!  **This issue opens following discussion:**
This is totally open and we should find the week day and time so that it would be possible to join as many interested participants as possible.
**OBJ/MTL** ‚Äî MTL files often have incorrect paths to textures. Open the MTL file in any plaintext editor and look for absolute paths (`C:\\foo\bar\baz.png`) that should be relative (`bar\baz.png`).
- http://stackoverflow.com/questions/40433713/why-does-my-obj-mtl-model-material-show-up-as-black
- http://stackoverflow.com/questions/42149435/a-frame-obj-mtl-why-i-do-not-see-anything Sounds good. We need a standalone guide for `Adding Models` which this would fit in well. After I filed this issue, we have added a troubleshooting section to the docs: https://aframe.io/docs/0.5.0/introduction/models.html#troubleshooting
- [ ] THREE.ColladaLoader (??kb)
([JSFiddle](https://jsfiddle.net/donmccurdy/wnL5g1ux/))
AFRAME.registerComponent('transmogrifier', {
AFRAME.registerSystem('transmogrifier', {
Point light in the center of the knot. Boxy shadow shapes.
https://github.com/ngokevin/aframe/commit/958fdfc2b2cfe37508951dbc439f88ad81dc4cab
2. I need a VR headset (or a mobile-polyfilled iPhone/Android headset) to interact with the scene.
3. Clicking the icon for the VR googles triggers Fullscreen mode when a browser does not natively support WebVR.
2. A-Frame indicates on the page the system and device requirements to experience "immersive VR."
- Include THREE.GLTFLoader.
2. Publishing with Neocities
2. Sounds good, if anyone wants to investigate tablet. @tinchoforever can you tell if `AFRAME.utils.device.isMobile()` is returning `true` on your Nexus 9? @tinchoforever What do you get when you do `navigator.userAgent` on console? That's the problem. Your userAgent string does not include the `Mobile` keyword. Apparently not all the Android tablets report the browser as mobile. I found some references to the problem:
if (iframe) {
Preferably both would work. Seems like a strange edge case that new users could easily be surprised by; I know the primitive init cycle is a bit troublesome but hopefully we can fix this case.
But I can't reproduce the problem either. There were websockets involved, so probably the elements were added after scene init, but even so I can't reproduce this. I guess she was on 0.3.2  Thanks for filing this. @ngokevin @fernandojsg I'm going to put some thought on this. Any ideas? Maybe some features for the inspector or a-painter? I don't think we have any mentorship spots open at the moment.
4. COLLADA is on a deprecation path.
I did consider banning single-prop components, but instead in the future, we'll be more diligent about using that, and use it for simple cases like pos/rot/sca/visible. Thanks!  <!-- If you have a support question, please ask at https://stackoverflow.com/questions/ask/?tags=aframe rather than filing an issue. -->
- Reproducible Code Snippet or URL: https://ngokevin.github.io/kframe/scenes/aincraft/
Specifically, these options might be useful:
| maxDistance | 10000 | Maximum distance between the audio source and the listener, after which the volume is not reduced any further | @wildaces215 you are more than welcome to help Oh, good point! `inverse` it is then. I don't think anyone's working on it. It seems a lot of people are just commenting "i want to work on this" on a lot of issues and not doing anything. If people are interested and the issue doesn't seem to be active, I'd just create a PR versus a comment. No worries, not talking about anyone specific :)  Try: `<a-entity camera cloned-look-controls="reverseMouseDrag: true">` rather than `<a-camera>` which has `look-controls` attached.  The `grab` component [currently only handles position](https://github.com/aframevr/aframe/blob/master/examples/showcase/tracked-controls/components/grab.js#L62-L85). Rotation would be a nice addition here, and solves some common use cases without requiring users to drop in CannonJS.
Another, somewhat related, idea would be a `snapped-grab` component that does the same thing but snaps object position to some interval and rotation to 45¬∫ or 90¬∫ after the object is released. Maybe we could just use the super-hands component That'd work too. I think the 'stretch' and 'drag-and-drop' functions are a bit less universal but otherwise it looks good. Adding rotation means also switching from aabb collider to something else. The demo is not the ultimate tutorial of VR object manipulation. I wanted to keep the complexity to a minimum while still being compelling so it can be used as a base for more advanced stuff. I would not use third party components for the core examples. @dmarcos Just switching to `sphere-collider` would do the trick, right? Aside from the nuisance of figuring out relative rotations for nested objects..
For A-Frame, this is uncharted territory for a lot of us. But let's get a start on it, and build from there.
I'm thinking more 2D interfaces that can be interacted with controllers. True, there's no one way to do VR interfaces, but it's better to have a guide showing a few implementations than nothing at all. That way, at least the community can build off of it. As we converge to more best practices, these guides can always be updated.
What I think @ngokevin wants is to write about the different ways of implementing and drawing UI elements using A-Frame. Something like what he has in the last bullet list of the first post: how to make ui elements using html tags only, using images, 3d objects, even procedural objects...
We should also allow `.removeAttribute('mixin', mixinName)` @BhuvanaMeenakshi Thanks for the interest. Can you open a PR with a test case fixing the issue? https://github.com/aframevr/aframe/pull/2291  I think this is a dup https://github.com/aframevr/aframe/issues/2008#issuecomment-257905203  Have you tried a-frame 0.4.0? Do the examples on aframe.io work for you? Then there's something wrong with your setup. You have to share your whole document and not only the `a-scene` I don't know much a bout Ionic/Angular.js but it seems this is not an aframe bug (since the aframe examples work for you) but something with your integration. I recommend asking the question on stackoverflow  http://stackoverflow.com/tags/aframe/ or use the a-frame slack (some people use angular.js there) https://aframe.io/community/#slack
4. Grabbing Objects (super-hands)
5. Checking for Collisions and Colliding Objects (super-hands)
6. Scaling Objects (super-hands)
7. Adding Physics to Interactive Objects for Throwing and Hitting (super-hands + physics)
<a-entity id="camerarig">
I believe we can't just assume a switch between globals or locals for all the cases but to expose both as unity does and leave that responsability to the component.
@machenmusik I don't understand what you mean with propagating camera changing to controllers.
<a-camerarig>
</a-camerarig>
Disadvantages:
Further discussion of animation: https://github.com/xirvr/aframe-gltf/issues/9
Core component source code currently use `require`s. If someone wants to copy/paste/fork a component to modify it to their needs, they'd have to change the `require`s to point to like `window.AFRAME` for utils.
If we make our components use the `AFRAME` global instead of `require`s, we ensure that our components aren't using any internal hidden API, and that they have same privileges as any other component in the ecosystem. It would also make components easier to copy/paste and they'd be able to work in a pure browser context.
Do we think this issue applies to many components other than controls (both for camera and tracked controls) ? If not then maybe we revisit some amount of abstraction around the controls api. I could see an option where we take #1248, make that into a new repo like aframevr/aframe-controls, and document how to customize controls for that framework. But #1248 doesn't include a clear story for tracked controls. This would only be for components, which I don't think should have access to private APIs. Using the global would be a way to enforce that, and sort of create separation/less coupling between the components and the core API.
geometry="primitive: ring; radiusOuter: 0.015;
dmarcos [2:23 PM]
aframevr/aframe
aframe - A web framework for building virtual reality experiences.
@dmarcos yeah, that‚Äôs what I was trying originally.  Not sure why it‚Äôs not working.  Will look into it again since it obviously works in the raycaster case.
mangob [2:27 PM]
mathemagie [2:31 PM]
dmarcos [2:37 PM]
@mchen how does that work?
i know for a fact that the teleport-controls usage works
@dmarcos ^
dmarcos [2:58 PM]
dmarcos [2:58 PM]
@caseyyee oh I know
dmarcos [2:58 PM]
dmarcos [3:04 PM]
dmarcos [3:05 PM]
footgun for sure if not.
ngokevin [3:13 PM]
ngokevin [3:14 PM]
ngokevin [3:16 PM]
But it might be possible to do something similar to React hot loading of components. A server can send a message to the scene which component changed. A-Frame can detach, re-register, and reattach the component. But that'll probably be far off I bet. @ngokevin WebVR recording tool doesn't help here.   Just being able to see changes reflected in the headset without having to reach over to click _Enter VR_ is all i'm asking for.
@giordyb ah interesting.  Could be something with A-Frame then.  Chromium should be fine. @machenmusik Oculus touch is not functional with Nightly right now because of the issues.   We'll want to wait till it's fixed before using it.  thanks!  I see, I think for now, it's OK to not clone and leave it up to the developer to do (`AFRAME.utils.clone`, pass in a string, or `JSON.parse(JSON.stringify())`  Just replied in stack overflow - will follow up with a full answer if that is helpful. :) Going to close this since this is more of a question, not an issue: http://stackoverflow.com/questions/41393812/toggle-the-visibility-of-dom-with-a-frame  You should be appending to the scene rather than the document.body. In the aframe-react bug, is that component mounted under the scene? Also, yeah we should throw a warning for that OK, repurposing the issue for the warning. Will try to investigate the react side later  This is a known browser issue with Chromium and passing wrong timestamps to requestAnimationFrame. You can try using an older Chromium from September or Firefox Nightly  Can you describe your problem more precisely, are your `headers` accept loading this issue can we reproduce that? Perhaps you should post it to stackoverflow instead... 20mb is not too large. The problem is likely something invalid in the model itself, or use of some feature that THREE.OBJLoader doesn't support yet. Usually it's the first. [Here](https://github.com/mrdoob/three.js/issues?utf8=%E2%9C%93&q=is%3Aissue%20objloader) are some examples of others' issues with the OBJ format.
@ngokevin umm as we could have several techniques I wouldn't choose `sdftext`, being a part of the core maybe `text` could be enough? or `text2d` or something non related to the technique used to render it I wouldn't mind `text` too much, we'd document that there are other methods. And it seems cleaner.
See all of the [uniform types](https://github.com/mrdoob/three.js/wiki/Uniforms-types) we'd need to create A-Frame-to-three.js mappings and property types. Every time three.js updates its API, A-Frame will have to answer. I understand it saves a bit of work in some cases, but in others it seems fragile and will cause some frustration. @ngokevin I don't think that API will change that much in three.js. At the end they're matching GLSL types and that's settled. The root issue is more code/API to maintain versus the benefit. If we propose an API that is an alternative to an existing one, it shouldn't have holes. We could pile on more code and features, but that increases maintenance versus just pointing to ShaderMaterial and leaving it at that. Every feature has a long-term cost.
````javascript
// API
AFRAME.Phase = {
sceneEl.addTick(AFRAME.Phase.PRE_TICK + 1, function (t, dt) {
1. Enable permission less innovation where multiple solutions to a problem can coexist and compete.
```  I'm not too familiar with this, but I think [adaptive streaming tends to require extra libraries](http://stackoverflow.com/questions/28529383/why-do-i-need-dash-js-for-streaming-mpeg-dash-videos), like dash.js. If you set all of that up, it could certainly be possible to use with THREE.js or A-Frame. But, I haven't seen anyone implement this yet, and I don't think we're able to provide videos for testing sorry. @ronit-kadwane #2129 is merged does that solve it for you? Yes, this feature would be left as a component and to extra libraries.  @Charton100774 you should ask that via stackoverflow http://stackoverflow.com/questions/ask/?tags=aframe  I'm facing the same problem, and it's not related to expensive code, for example:
```javascript
![nightlytween](https://cloud.githubusercontent.com/assets/782511/23705038/fb9a6fce-0407-11e7-90c8-38bc6a532cfc.gif)
Maybe it's tme to update TWEEN? /cc @dmarcos @ngokevin
I've just tried to update to `16.6.0`  and the problem is still there :\ it's really strange because if I run the same code on the tween examples it works but if I run on the console with AFRAME injected it doesn't After discussing with @dmarcos it seems that there's a problem with the `TWEEN.update(time)` in https://github.com/aframevr/aframe/blob/master/src/core/scene/a-scene.js#L446.
While in nightly it seems to jump abruptly:
This is similar to the native [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events) `detail` property.  There's an `enter-vr-ui` component already. What about adding an `auto` flag to it? https://github.com/aframevr/aframe/blob/master/src/components/scene/vr-mode-ui.js We can rename that component to just `enter-vr`  Have the `src/systems/material.js` keep a running count of usage for each texture. When a material component detaches, it'll call the system's `unregisterMaterial`. In that system's method, check how many other entities are using that texture. If there are none, then call `texture.dispose` on it. The issue was fixed by https://github.com/aframevr/aframe/issues/2686. No need to do anything, the fix will be released with A-Frame 0.6.0. @tsotneguti because 0.6.0 has not released yet üòÑ  **Description:**
AFRAME.registerShader('myShader', {
AFRAME.registerComponent('myShaderUpdater', {
I opened https://github.com/aframevr/aframe/pull/2145 to explore a solution. My first approach is to ignore mappings that have the same name as one of the registered components. This still won't work if components are register dynamically as the inspector does. @ngokevin What do you think?
````javascript
````javascript
AFRAME.registerComponent('foo', {
<a-entity daydream-controls vive-controls oculus-controls></a-entity>
hand-controls, vive-controls, oculus-controls, X-model-controls
Performance stats inside VR mode is really needed. Just a FPS counter attached to the headset tracking, in a corner of the screen, or even just a small quad with a color code indicating if fps > 90 (green) or not: orange ( >= 80 ),  red ( <80 ).. https://github.com/ngokevin/kframe/tree/master/components/fps-counter#aframe-fps-counter-component  **Description:**
The issue is that we have to maintain both Systems + Components. This means extra code for us, and extra concepts for developers. And then things like the Inspector and Registry have to take the differences into consideration.
## API
AFRAME.registerComponent('foo-system', {
systemOf: [['bar', 'baz']],
// Do whatever.
I also like the `systemOf` syntax. I could see AFRAME.registerSystem just being an alias of AFRAME.registerComponent that enforces/requires a `systemOf` property. We could make systems extend components, but there's a lot of code involved in managing the lifecycle. Right now, the lifecycle is the same so it makes sense to make them components with some extra sauce. The minimum level of extra sauce, IMO, would be that system-components' `tick()` handlers are invoked after all components on scene descendants. Or, alternatively, one of the various tick ordering proposals. What are the open questions for answers/feedback on this currently? I'm currently thinking having Systems extend Components but keep the `registerSystem` API. I can imagine Systems gaining more functionality like `entityAdded` and `entityRemoved` handlers. I'll close this for now as System updates just landed and there is currently a separate issue for entityAdded/entityRemoved handlers. If refactoring is needed later, we can re-evaluate.  @james-h-stephens working on this, but also there is a `vec4` property type that [works well for quaternions](https://github.com/donmccurdy/aframe-physics-system/blob/master/src/components/math/quaternion.js).
This could be done nicely with mutation observers:
observer.observe(sceneEl, {
+       el.setAttribute('dependency', 'foo: bar');
+       el.setAttribute('root', '');
Or a indirect route?
- ambientOcclusionMap
- displacementMap
texture__customemissive="map: emissiveMap;
Just a random idea.
AFRAME.registerComponent(‚Äòfoo‚Äô, {
You can actually do what you describe... You can create `AFRAME.registerComponentFn`.
I like simplicity over all. @mflux design is for me a proof of success of keeping things simple and unopinionated. He comes to a-frame with his own particular background and was quickly able to successfully bend the current design to his own taste.
var AFRAME = require('aframe');
AFRAME.registerComponent('foo', require('my-component'));
Otherwise, we've been promoting just our `aframe.io/releases` or `unpkg.com` (which we use for our component ecosystem). Thanks though!
The perspective screenshot is upside down and reverse
Hi @mountainguan ‚Äì thanks for using A-Frame! From the [contributing guide](https://github.com/aframevr/aframe/blob/master/CONTRIBUTING.md#get-help-or-ask-a-question), detailed questions on Stack Overflow tend to get better results than GitHub issues ‚Äî [ask a question with the 'aframe' tag](http://stackoverflow.com/questions/tagged/aframe).
1. More specifically what you are trying to achieve. By "aspect" do you mean aspect ratio? Or simply the direction the user is facing? Or detecting whether or not a particular object is within the user's line of sight?
Not quite sure what's going on, there's too much stuff sitting on top of A-Frame, it's hard to debug (Angular 2, routers, typescript, es6, multiple scenes).
I like using https://github.com/bryik/aframe-bmfont-text-component
alternatively:
AFRAME.registerComponent('angular-init', {
you have to go to your safari settings and set it to hide
<a-sky color="#FFFFFF"></a-sky>
Here are the issues:
- **Inconsistent with the Framework**: The `<a-animation>` tag is the only outlier in which we use a child DOM element rather than an HTML attribute to modify an entity's behavior. Components are nice because they can easily be mixed in, and you could use things like [aframe-mss](https://github.com/ngokevin/aframe-mss)
> My brother in high school was able to grab aframe-extras with no coding experience.
p.s., I also think it's quite beautiful that developers are adopting `aframe-extras`, it shows a healthy ecosystem. People are discovering it, are able to use it, gives them value, and all without us.
It's certainly frustrated me that with three.js I couldn't just pick and choose modules like I can with customised jQuery/lodash builds (which admittedly causes fragmentation and makes bugs harder to trace, report, reproduce, etc.).
I'd say that requiring a build step to create a scene now ups the learning curve. If you aren't moderately comfortable with the command line, Node, npm, and JavaScript, copying and pasting or downloading a third-party script (or bundle of scripts) becomes a black box.
I think it's important to support the pro-build folks and the anti-build folks. And, the anti-build folks aren't necessarily JS-na√Øve; they may instead want to simply invest more time in a scene than searching components, testing components, and settings things up from the command line.
So to bring things back, here are some ideas to solve the problems mentioned above:
Will just leave as is. Don't know if the extra build step is worth it and can come with surprises. It doesn't look to be maintained nor adopted.  Hi @s1mar ‚Äì we'd be glad to help with your question, but could you [repost it to Stack Overflow with the "aframe" tag](http://stackoverflow.com/questions/ask/?tags=aframe)? To get good answer, it would also be great if you could include more about what you mean by "hotspot functionality", and any code you've got so far.
https://aframe.io/docs/0.3.0/guides/building-with-components.html
@s1mar Sorry, again I don't know what you mean without more details and a demo. The `rotation` component is where you would start. You might also see the code for the [look-controls](https://github.com/aframevr/aframe/blob/master/src/components/look-controls.js) component, which uses discrete pitch/yaw/roll to track camera orientation.
Hacky way is to set `document.querySelector('a-scene').isMobile` to `true` and remove the orientation modal overlay.
You can check how the WebVR polyfill does it too https://github.com/googlevr/webvr-polyfill which does it for smartphones, you can do something similar for the Pi.
A bit hard to follow all these callbacks (our fault!). So you can't move code outside the `loaded` callback and into the `camera-set-active` callback?
Try this https://github.com/ngokevin/aframe-event-set-component for setting things in response to events when you don't need to tween.
@cvan was your comment in Slack saying that maybe state changes should fire independent events, e.g. `statechange`?
That'd be weird since if you stare at something, it'd keep clicking it.
Not sure. A-Frame doesn't depend on .VOX though, and suggested exports from MagicaVoxel is OBJ (or at least PLY).
There are a couple of failing tests
`<a-entity geometry="primitive: plane" material>`
<video id="cityMobile></video>
AFRAME.registerComponent('gearvr-height-fix', {
if (!AFRAME.utils.isGearVR()) { return; }
This should be good for review @ngokevin
@mkungla What warnings are you referring to?
@dmarcos
@mkungla can we move the devDependencies to a different PR?
@mkungla anything wrong with 0.80.0?
@mkungla Yeah, it seems something is different with the `THREE.TextureLoader`. We have to investigate what has changed. Thanks for looking into this.
Also adds <kbd>‚Üê</kbd><kbd>‚Üí</kbd><kbd>‚Üë</kbd><kbd>‚Üì</kbd> for good measure.
Fixes #333, #1409, and #1490.
But I don't know what others think about that. @ngokevin , @dmarcos ?
origin  git@github.com:AdaRoseEdwards/aframe.git (fetch)
origin  git@github.com:AdaRoseEdwards/aframe.git (push)
upstream    git@github.com:aframevr/aframe.git (push)
gir fetch --all #do get info from both remotes
Now your fork master is in sync with aframe master and you can rebase/merge with your other branches
@dmarcos lgtm
I think this is for 360 recording or recording from an external in-scene camera, rather than a screencap.
https://github.com/ngokevin/aframe-animation-component might respond to updates
https://travis-ci.org/mkungla/aframe/jobs/152856107
https://travis-ci.org/mkungla/aframe/jobs/152852975 some tests fail
Though I am not sure why we need SSL for localhost since APIs will allow access to localhost, but #1277 will solve anyways. There's a PR open https://github.com/aframevr/aframe/pull/1671 Although `http://localhost` and `http://127.1.x.x` are whitelisted as "secure origins" in Chrome and Firefox, if you need to test on mobile devices or dedicated remote devices (Google Daydream/Cardboard, Gear VR with Samsung Internet/Carmel, dedicated Windows machine for VR), you must load a URL on your LAN (e.g., `http://10.0.1.59:9000`) and load the scene in the headset.
https://codepen.io/ngokevin/pen/AXNZwV
I've just changed them to `360`:
`updateHeightOffset` was not taking into account mobile.
- https://github.com/robinvdvleuten/gingerbread
- Prose checkers: https://github.com/btford/write-good / https://github.com/ngokevin/engrish
@Coder206 go for it
[Grammarly](https://www.grammarly.com/) is also quite good
https://github.com/mrmarbles/wordsworth
istanbul, browserify-istanbul, codecov, karma-coverage
karma-mocha: ^0.2.0 -> ^1.1.1
karma-mocha-reporter: ^1.1.0 -> ^2.1.0
karma-sinon-chai: ^1.1.0 -> ^1.2.3
lolex: ^1.4.0 -> ^1.5.1
mocha: ^2.3.3 -> ^3.0.2
sinon: ^1.17.3 -> ^1.17.5
`git checkout -b mkungla-coverage master`
`git pull https://github.com/mkungla/aframe.git coverage`
@Haydos585 you can to PR with changes!?
https://aframe.io/docs/master/guide/device-and-platform-support.html
Heard that  WebVR API will  be put into [caniuse](http://caniuse.com/). It would be difficult to maintaining own browser list and keep it up to date.
@mkungla that'd be really nice in combination with https://caniuse.bitsofco.de/
Just to keep it mind that with `audio` and `video` `THREE.Cache` can cause problems since you can't modify `ArrayBuffer` after it is attached so you may ran into.
- https://github.com/GoogleChrome/samples/tree/gh-pages/service-worker#service-worker-recipes
What I would do is just make it really easy to opt-in with config settings (which IMO we should have on `require('aframe')`/`window.AFRAME` - and have the `sw.js` URL easy to download (or pull from npm).
@darkwing and @ngokevin wouldn't following be a solution? and perhaps add then polyfill into lib for compatibility.
@darkwing actually, how are we sure qsa returns an array again?
@fernandojsg Do you want the aframe-injected also on the VR mode UI, canvas, meta tags?
@ngokevin @darkwing  ops, sorry I was a little bit late to the conversation, maybe it could be another PR, but what about including `aframe-injected` to the CSS?
You also have an iphone 6.
We've been recommending latest smartphones for Cardboard (last two generations). That would be minimum iPhone 6.
@ngokevin and @dmarcos . perhaps aframe should enable us to set which camera effect is used when in vr mode. Since I have feeling that `THREE.VREffect` with distortion can't bring the comparable quality in detail as `THREE.StereoCamera` did in 0.2.0.
@dmarcos hm some reason I false idea that 0.2.0 used stereo camera by how that looked and prop stereoRenderer but now checking it's clear.
Related #1873, However using stereo view like in A-Frame 0.2.0 (2 squares ) would make affect experience on Gear VR and Cardboard
It's a limitation of mobile browsers, not A-Frame
Weird
@bryik lemme know if this works for you https://github.com/aframevr/aframe/pull/1797
wall lights, the little 20ms markers seem off
@caseyyee can you make these changes when you get a chance?
@ngokevin does #1712 close this?
@liuwaichung can you ask this via SO http://stackoverflow.com/questions/ask/?tags=aframe
@FrederickDesimpel yeah! Congratulations! I let @ngokevin check this out
Can you ask on http://stackoverflow.com/questions/tagged/aframe with more details for help? Thanks!
Also, as a side note, I tried the [a-wakens demo](http://ngokevin.github.io/a-wakens/), and it worked on:
Thanks @ngokevin
@cvan @ngokevin I don't know if this is the most elegant way to deal with this but it's 100x faster on Windows :). I should have done this a looooong time ago. I was suffering in silence.
r+wc fast and üëç
``` diff
index bf10f65..af63cc5 100644
"build": "mkdirp build/ && npm run browserify -- --debug -o build/aframe.js",
"browserify": "browserify src/index.js -s 'AFRAME' -p browserify-derequire",
"repository": "aframevr/aframe",
-  files: ['build/aframe.js'],
+        /** Custom event handler **/
3. the main reason: the WebSocket hanging issues  I've had a lot of budo-specific issues with multiple HTML pages open and directories [i.e., any HTML file whose url is not `'/index.html'`] - I've filed issues for all those in the past. I don't think others could reproduce my issues. (FYI: I'm referring to budo/issues#79 and mattdesl#80 mostly, which I cannot tell whether they are fixed or not because they are intermittent but common enough to be a problem/nuisance.)
I haven't filed an issue because I'm trying to find reliable STR, but every so often when I make file changes, the server will die on me on some socket error. I'll capture it next time I see it.
I have a few related budo questions for you. Would be easier to chat over Slack or Twitter DM. When you have some time, hmu. Thanks!
@mkungla this needs rebase
@dmarcos just rebased.
https://aframe.io/docs/core/component.html
@mkungla thanks for checking. @michael829 please reopen if this is still a problem
@darkwing thanks!
https://twitter.com/guri_vr/status/751870382219599872
<a-entity sound="src: river.mp3"></a-entity>
After talking with @mkungla, we have to:
@mkungla nice! Will try ASAP. Closing.
Thanks @mkungla , your explanation gave me a better understanding of the underlying problem.
- Challenging (introduces a ton of new technologies into the stack)
PR welcome!
I just found this app: https://aframe.io/blog/syria/
On the other hand, this seems to me a very random solution. I would like to have a better understanding on why this works.
@FrederickDesimpel Would love if you could add a target property (type `selector`) for the light component.
I think this is the issue: https://github.com/aframevr/aframe/issues/1715
I wish we included a `sha`, not just the `package.json` version in the bundle.
I can address at https://github.com/ngokevin/aframe-animation-component
@ngokevin :+1:
@ngokevin @fernandojsg How are we going to deal with master? If you use a-frame master it should point to the master version of the editor as well.
@ngokevin are you going to add the release command for the editor? As you mentioned master should point to the latest release of the editor and devs can just change the url if they want bleeding edge. Before merging this It would great to have a functional URL `https://aframe.io/aframe-editor/builds/0.3.0/aframe-editor.js`
@ngokevin yep, just after writing that, I was thinking how bad naming these functions have. I'll change them for `open/close`
@mkungla Do you use any project that follows that pattern? Using the archives to only package up the dist files
@mkungla I don't know how the `.zip` with the dist files is generated but React is not using `.gitattributes` (https://github.com/facebook/react/blob/master/.gitattributes). Can we change this PR to let the archiving be the whole repo snapshot and generate another zip with the dist files like React does?
**`vive-controls`** that is specific to the vive controller and makes the proper button mapping: trackpad, trigger, menu, grip
This puppy is ready to go. @ngokevin
@ngokevin One last decision it has to be made is to include or not `hand-controls`, `vive-controls` and `blend-model` (that carries an extra THREE module) as part of the standard build. It's quite a bit of code for a feature that won't be used much right now (but pretty important in the long term)
at i.twoWayEmit (http://localhost:9005/js/aframe-master.min.js:202:3787)
{href: '?env=egypt', image: 'img/egypt.png', title: 'Egypt'},
AFRAME.registerComponent('generate-links', {
var linkEl;
Gives errors like:
aframe-master.min.js:297 Uncaught (in promise) TypeError: Cannot use 'in' operator to search for 'strokeColor' in pano
at e (aframe-master.min.js:289)
<a-scene vr-mode-ui><a-scene>
Nice it seems mrdoob accepted the patch
Now both eyes works, but it looks weird. The left eye looks at the front but the texture is stretched and the right eye looks like the camera is rotated to the left:
@ngokevin @wizgrav do you mind if I leave this review to next week as I'm quite busy right now? I'll give it a try and try to use in another context with other effects to see how it will scale
```javascript
AFRAME.registerComponent('delay-set', {
value: {type: 'string'}
AFRAME.registerComponent('delay-set', {
value: {type: 'string'}
What do you mean by misalignment between split screens? Anyways, I don't think VR mode is useful in a tablet form factor. There are no holders in the market that fit tablets.
https://aframe.io/docs/master/guide/getting-started.html
@mkungla has been doing some investigation and said:
> Problem with The Perspective cameras and how these are created and updated
geometry="primitive: box; height: 8; width: 8; depth: 8;"
@tbalouet You should make sure that your JS runs after AFRAME loads. Follow what @donmccurdy said.
@tbalouet Nice! Your scene looks really nice. are baking the lights?
https://aframe.io/docs/core/component.html
@reutopiaer Please reopen if you can provide additional information
@phaseOne did you want to address the remaining issues so this can get merged? how's this PR look, @dmarcos, @ngokevin?  Thanks!
@gasolin: @ngokevin: I've heard from numerous folks that the WebReflection document.registerElement polyfill is incomplete and not spec compliant (and there are issues filed for them). @csuwildcat told me we should be using the webcomponentsjs Custom Element polyfill instead.
- [x] Isocahedron, octahedron, dodecahedron, tetrahedron
## Primitives
- [x] a-circle primitive
- [x] sound primitive
- [x] torusKnot primitive
- [x] registering a primitive
- [x] a-*hedron primitives
## Misc
## Future
Unleash the @cvan
AFRAME only uses the custom elements API. We decided to go that route because the API spec is mature and it can be easily  polyfilled. We want AFRAME to reach the largest possible browser base without much performance hit and minimum bloat in the code base. We keep en eye on the shadow DOM but we have not played with it in the context of AFRAME but we are defintively interested. @trusktr how does your approach work across different browsers with no shadow dom implementation?
You can try https://github.com/donmccurdy/aframe-extras for now
'65': 'KeyA',
https://github.com/ngokevin/staryu/blob/master/index.html#L26
Can we maintain that offset if we detect non-VR fullscreen?
@ngokevin can you test a bit to see if everything make sense?
- VR:
- Exit VR, pose is restored to before entering VR.
// switch to stereoscopic mode directly on page load, this needs to be after the a-scene loads.
This is multi-prop:
type: {default: 'string'}
Shaders is an advanced feature. We have to document it but it's not necessary to dumb it down.
geometry is registerGeometry, not registerPrimitive.
- https://www.ibm.com/developerworks/library/wa-ioshtml5/
<anim/>
> https://files.slack.com/files-pri/T0FAGUM6W-F1846MQ5U/animations-from-dae
> Hey @ngokevin we got that dino animating yesterday ‚Äî but it looks like AFrame is only set up for skinned animations (where the animation is a child of the geometry) ‚Äî in (regular?) animations, they are in the Collada object which is discarded in Aframe‚Äôs loader implementation
Discussing this a bit here: https://github.com/donmccurdy/aframe-extras/issues/82
@ngokevin any thoughts on what the play/pause API should look like, since models can include multiple animations?
Strawman syntax:
<a-entity collada-model="src: url(...);"
3. Tick the animation
https://github.com/donmccurdy/aframe-extras/issues/101#issuecomment-257197602  Which Chromium? Brandon's builds use WebVR API 1.0. Chromium doesn't have WebVR. For the former, it's a WIP with a PR up now, for the latter can't do anything about that
dupe https://github.com/aframevr/aframe/issues/316
AFRAME.registerPostProcessor('some-effect', {
<a-scene postprocess="bloom, hdr, ssao" bloom="intensity: 0.5>
@fernandojsg r?
Sometimes you may want to add gloom + ao for the whole scene but also want to active from time to time other effects like nightvision or some kind of underwater distorsion.
<a-effect id="nightvision" type="nightvision" intensity="2.0" noise="1.2">
@wizgrav I'm rethinking the tick/tock...It would be more flexible to explicitly define an order like you had before right?
@wizgrav With that approach you're avoiding multiple drawcalls but if the effects change dynamically (going inside/outside water, nightvision on/off) you're rebuilding the whole shader on each switch which is not very performant :\
Thanks! The convention we were trying to introduce for event names was: componentname-eventname. @ngokevin why do you think the new events are not working as expected?
I am proposing https://github.com/ngokevin/aframe-event-set-component as the alternative to deprecate declarative events.
I've used animations for:
@radenui thanks for letting us know I would try first to make a core shader `video`. Can we expose the video texture to custom shaders? If tha's hard or not posible we can maybe try something like `video-material` approach There is now support merged into latest master for HLS on iOS 10 with Mobile Safari.
dupe #333
Can you show a bit of code?
reported by @drakon58
Randomizer:
random-2="property: geometry.primitive; oneOf: box circle sphere"
Interactive WebGL applications are demanding and the browser adds overhead on top of that. There's indeed room for improvement on the browsers side. I'm going to close this since this is not an aframe specific issue. It would better to file it against Firefox or Chrome :)
Details at https://github.com/ngokevin/aframe-template-component
- `aframe-extras` bundle?
I think this should be out of the core and stay as a third party thing.
Please use Stack Overflow with the aframe tag for questions:
http://stackoverflow.com/questions/tagged/aframe
@fernandojsg What do you think about the name `texture` vs. `map`?
If we use `texture`, would it be odd to have `{heightMap: {type: 'texture'}}`?
The current cursor component is meant more for Cardboard, which many of us don't want to be the primary VR experience.
@ngokevin okay ill work on it :)
@mkeblx Can you squash your commits?
- Platform/Device: iphone 6 safari
There is a [3D Models ‚Ä¢ Troubleshooting](https://aframe.io/docs/0.5.0/introduction/models.html#troubleshooting) section in the documentation now; I think this issue can be closed if we just add a link from the `obj-model` docs.
Mixins are fine.
@dmarcos look good?
@enjalot Thanks!
@ngokevin I know the button but I don't always check that there's a single commit on the PR.
Tested, works on both ECS box and primitive-style box:
Distortion is provided by the `webvr-polyfill`.  @cvan Can we close this as an aframe issue?
You can set it yourself before you include `aframe.js`:
<script src="aframe.js"></script>
> @cvan Hi Chris, am I right in reading that the latest WebVR polyfill contains the code for lens distortion and device configuration for different cardboard headsets? Do you know when aframe will update to the latest version or which branch we can get a preview from? Thanks for the help!
<script src="aframe.js"></script>
Note that they are percentages.
very good catch. I updated the CodePen pen. thanks!
The changes should be required for r75
@ngokevin @cvan is there any reason to **not update** to Three r75?
- Maybe controls components need their own registration API and prototype? `AFRAME.registerControls` :white_check_mark:
- rotation/position controls can be registered with `AFRAME.registerControls` which they can define active/delta/getters :white_check_mark:
AFRAME.registerControls('airplane', {
## mobile
I'm trying it out here: https://github.com/ngokevin/aframe-comfort-turn-controls/blob/master/index.js#L123
- Get delta using old position
@ngokevin about adding `keyboard-controls` before `hmd-controls`, what's the effect? Keyboard controls aren't active unless a key is down, so I don't follow how/if that would dissuade their use in VR (although I agree with the goal).
@ngokevin sounds good! I'm traveling until Monday so I'll be slow on replies, but will try to take a look at those integration tests.
@ngokevin as I discovered, it'll auto-close the issue only if the author is added as a ["Collaborator"](https://github.com/aframevr/aframe/settings/collaboration) to the project. I wish GitHub did that automatically.
- Platform/Device: iOS/Android
@BhasinParth go ahead!
> Yeah, I think that's always been an issue. #879
ah, well then this bug is a dupe
@amberroy nice! thanks! can you squash your commits?
@ngokevin You should let contributors handle that. PRs have to come with tests or they won't merge.
I'm worried about the focus here. We've had a good sense on keeping a clean API and thus reducing code we have to maintain. I've had one-LOC PRs rejected on this basis, let alone 50 LOC! I hope we can keep our focus on WebVR.
Question, is any part of this PR actually ShaderToy specific? Or is it just inspired by ShaderToy?
**[DEMO](http://ngokevin.github.io/aframe/examples/test-raycaster/)**
@dmarcos r?
- [Example](http://ngokevin.github.io/aframe/examples/test-raycaster/)
I'm going to close this. IE 11 does not even have complete support for CustomEvents http://caniuse.com/#feat=customevent.
Can you be a bit more precise about the problem? What do you exactly mean by "double click for navigating"? Do you mean "enter VR"?
looks good to me. @ngokevin?
@K4orta I think it's specific to the Webkit based views. But It seems to work in the Facebook app web view.
@IagoLast  Does setting fill="backwards" / fill="forwards" do what you need?
https://aframe.io/docs/core/animation.html#Fill
also https://github.com/borismus/webvr-polyfill/blob/master/src/webcam-position-sensor-vr-device.js
It has a default value of 3000ms but we should maybe remove the timeout by default. @ngokevin what do you think?
'some-unknown-component': [el1, el2, el3]
Couple ideas:
I'm fine with ignoring them. @ngokevin what do you think?
@masom Thanks for helping
@K4orta Thanks for testing this
https://github.com/cvan/three.js/blob/fix-vreffect-safari/examples/js/effects/VREffect.js
thoughts with the `VREffect` changes?
We will be working on standard physics implementation and collision detection some time.
You can use https://github.com/ngokevin/aframe-physics-components
I know the naming is unrelated, but perhaps could call it just `query` √† la `xtag.query`:
@ngokevin Should fit-texture be a property of the flat/standard components instead of a separate one?
It's very edge case because it only works well for the plane geometry, and is mostly for `<a-video>`. I don't think this crosses the line for being a standard component, but we make this a third-party component and document this harder.
.red-cube {
Can you describe a use case for this? Should the `selector` type behave like `selectorAll` instead of having two separate types? @ngokevin What do you think?
@legendtang want to bump karma-sinon-chai?
Perhaps one of the LCD variety
Nice I love to see you tinkering with the soud.
@dmarcos SQUASH!
dupe https://github.com/aframevr/aframe/issues/1069
vr + pointerlock doesn't seem to go well together (unless we maybe restrict the pointerlock to a single axis)
Maybe Goggles when headset plugged in or mobile...else fullscreen arrows?
- Mobile: always goggles
Could be related to 7d1ab4ca
Because we didn't have a Pointer Lock-like component, we've seen folks create custom components to support the mouse-based FPS controls that Pointer Lock makes real simple.
For VR mode, I 100% agree.
That's the hard part. Encapsulating WASD+mouse control schemes vs. HMD-oriented control schemes.
Aframe scene hijacking or hiding the pointer does not seem a good experience to me
That's extra work and consideration for something I haven't seen anyone try or request. We should optimize for full-page 3D + VR.
> Aframe scene hijacking or hiding the pointer does not seem a good experience to me
> a seperate component for proper pointerlock + wasd + arrow keys (for the germans) and we can abandon this PR.
Most of [playcanvas](https://playcanvas.com/explore/featured) and [turbulenz](https://ga.me/) content doesn't use pointer lock and the demos that do I find it irritating. Look at tanks for instance (http://tanx.playcanvas.com/) and try to interact with your browser (switch tabs for instance). It's just not a good experience.
@bnolan I think we should handle our extensible controls story first (https://github.com/aframevr/aframe/issues/975#issuecomment-196093953) because every change to controls is like a temporary fix at the moment. If we go ahead with Don's proposal, all the controls API will change.
@masom What phone are you testing on?
Ah, okay sweet. Someone was saying it didn't work with Vector3s.
AFRAME.registerGeometry('triangle', {
But it can be separate component until then!
Confirmed, don't use the `play` event name. This will be documented later. https://jsfiddle.net/yL0cozoh/
@dmarcos r?
Does not nesting solve the problem?
Do we need our own style guide on top of https://github.com/Flet/semistandard? The idea of that was to spend less time nitpicking, but it seems we need more rules?
@dmarcos looks good to me
try out https://github.com/oscarmarinmiro/aframe-stereo-component by @oscarmarinmiro
Want to change this PR to handle for collada? I can handle for the OBJ since I have that already
try out https://github.com/oscarmarinmiro/aframe-stereo-component by @oscarmarinmiro
<a-mixin id="frame">
</a-mixin>
Being mixins, it seems more predictable to merge
as I'm sure you know, this is reinventing templates lol. you do have to make `a-mixin` inert (behind the scenes, it should extend `<template>`) or else a bunch of custom elements are going to get prematurely called and callbacks called and events fired and so on.
Mixins weren't created in a vacuum though. Maybe not the whole team, but at least some agreement
https://github.com/ngokevin/aframe-template-component
Also where does tick come into play?
Also:
**Contributing Code:**
- [ ] Mention of style guide (`semistandard`) and to use `npm run lint` to check.
`git remote add upstream git@github.com:aframevr/aframe.git`
Moved to https://github.com/ngokevin/aframe-look-at-component/issues/1
moved to https://github.com/ngokevin/aframe-look-at-component/issues/2
<a-entity geometry="primitive: plane;
Doing a lot of experiments with templating at https://github.com/ngokevin/aframe-templating-examples
Although I sort of want to deprecate `<a-animation>` for better solutions in the future, so this is not too important.
This also happens on Safari I believe, @mayognaise
Chromium and Safari are not respecting `crossOrigin/crossorigin`.
This certainly seems like a regression in Chromium. Wonder if it's specific to Brandon's builds or not. Will have to check.
Multiple scenes on the same page are not still supported directly. You could embed multiple scenes within iframes. @hawaiikaos  I'm closing in favor of I-Frames. three.js doesn't support multiple scenes with their own contexts either. > I'm closing in favor of I-Frames. three.js doesn't support multiple scenes with their own contexts either.
√† la [DrawVR's "Escape Room" game](http://drawvr.com/escape/), users can carefully construct SPA-like experiences by separating levels/worlds in separate entities whose visibility are toggled appropriately.
(Filed as MozVR/panorama-viewer#11)
/cc @ngokevin
Further reading: http://ngokevin.com/blog/aframe-vs-3dml/
5. And as @ngokevin said. a-frame can easily integrate with existing front end libraries. We don't force people to give up the tools they already know and like.
@enjalot if you replace your `a-cubes` with `a-entity`. Do you see the same problem?
If it was cursor-related, this was probably fixed by e4900e16ea9228af39d2a4fef6798393e79bd82a.
mouseleave is fixed, but this is a dupe of two animations at the same time https://github.com/aframevr/aframe/issues/857
Like: `startEvents: mouseenter; pauseEvents: mouseleave`  > `aframe.js:58458 The key "shrink-to-fit" is not recognized and ignored.`
https://github.com/gajus/scream
Going to dupe with https://github.com/aframevr/aframe/issues/967.
I wonder if this error is even what's causing the black error though. Will need to investigate some more.
[No click look controls](https://github.com/alexrkass/aframe-no-click-look-controls) also seems to hit this barrier and chose to duplicate the hmd tracking code in their component.
I don' think lock by default it's the more sensible since an aframe scene can share space with other content in the page
http://alexrkass.github.io/aframe-thetarestricted-example/
> Mousedrag is a bit irritating for first-person scenes.
It's also not that big, just 262 lines. I see that the `dist` is including A-Frame itself and it should not. Try to create your own controls by using only the component code: https://github.com/alexrkass/aframe-no-click-look-controls/blob/master/index.js On a quick glance I don't see any reasons why it should not work with A-Frame 0.7.1  From @brianchirls on [WebVR Slack](https://webvr.slack.com/messages/help-and-bugs/):
> **brianchirls [5:53 AM]**
Thanks for analysis and raising the performance issue. In the issue you posted there's a link to an octree based raycaster implementation. I think this should be fixed on the three.js side. @brianchirls Do you think there's something on the aframe side we should do?
Clear color rather than single-color skyspheres would also be a good enhancement.
https://www.reddit.com/r/WebVR/comments/3scbtx/video_the_mozvr_team_talks_about_their_new_aframe/
> DAE is explicitly designed to be an editor format and explicitly not designed to be an end-user delivery format.
Also: https://twitter.com/albertomoss/status/649646033790631936
> glTFLoader.js
https://twitter.com/mrdoob/status/649657743574466560
And @kearwood:
We currently support OBJ and Collada formats. Investing in GLTF in the long term might be the way to go. In the short term, the spec is not finalized and there's no content out there published in GLTF. Most of the `aframe` users won't create their own models and will want to use premade assets. None of the sites out there with free content will be useful for them.
Overall impression is the workflow is still half baked. If I could find a reliable Cinema4D to textured GLTF pipeline we'd be set. But for the time being it doesn't look possible.
Tony added both of those models.
If you run `./collada2gltf` without the `-e` flag, that'll get you what you want.
`collada2gltf -d -f sourcefile.dae -o outputpath/outputfile.gltf`
`collada2gltf -d -e -f sourcefile.dae -o outputpath/outputfile.gltf`
`collada2gltf -d -k -f sourcefile.dae -o outputpath/outputfile.gltf``
I've been working with those models as well as others from the glTF repo, and comparing them with DAEs from C4D. There's not much consistency in results, unfortunately. Even among the "canonical" models.
Nice work! https://github.com/xirvr/aframe-gltf
Gyro controls seem to be responsive with no lag.
@eskalera Is this still an issue on master?
If you make a small typo like `<a-entity geometry="primitive box;">`, it fails silently.
Nevermidn
For example, in the AnimeUI test scene in A-Frame, I have a series of transparent images arranged on the z-axis. I must declare them in order of depth, furthest from camera to closest, or I get blending problems.
This is problematic because:
https://twitter.com/mrdoob/status/667835175108112384
I've had to fiddle with a bunch of different properties in the past.   I really don't fully understand how each one works under the hood, but if re-arranging the order in which objects are added to the scene doesn't work, i've used some of these properties in different combinations to get things working:
Here's a good fiddle I found that demonstrates the combo:
http://jsfiddle.net/sg02e5sm/2/
Each of these have different impacts on perf as well (especially forcing sort order).
More from Doob: https://twitter.com/mrdoob/status/667850994068422656
Adding @kearwood to thread also...
As you rotate the scene around, watch the glass display sign at the front of the scene. The "Polly" text will appear and disappear from the sign, depending on camera orientation, because of transparency sort issues. This type of problem cannot be trivially solved in WebGL... the proper solution here would be for the artist to split the mesh of the glass casing in two parts, so that transparency sort will resolve correctly. Scene tree order isn't used, the order is:
AFRAME.registerComponent('my-renderer-settings', {
I thought we should enable `<vr-scene material="color: black">` - thoughts?
Off-white is appealing (`#DADADA`)...though also consider off-black `#111` to reduce eye strain in headsets.
Where `<a-scene shadow>` is defined as a system: `AFRAME.registerSystem('shadow', {})`
src/extras/
‚îÇ   ‚îî‚îÄ‚îÄ shadow-light.js
In this game, Instead of a specific target reticule.   The designers used concentric circles to form a holographic  tube.   They found that this:
Not sure why it would be different.
If you want elements that can be intersected when "invisible" then I would recommend folks use `material="opacity: 0"`. Thoughts, @dmarcos?
.vr-canvas {
::moz-selection {
npm run ghpages lolerz
https://github.com/ngokevin/aframe-physics-components
And with Oimo https://github.com/JoshGalvin/aphysics
https://github.com/mayognaise/aframe-gif-component
AFRAME.registerComponent('indicator', {
- Font
alternatively https://github.com/ngokevin/aframe-text-component
An example API would be
<a-entity link="to: http://janusvr.com" geometry="primitive: plane" material="src: portaltexture.jpg">
Well, I wouldn't say so because surrounding something implies hierarchy and a parent-child relationship.
Until we have a browser API to render an arbitrary element as a texture in WebGL you won't be able to use iframes (or any other DOM element) in an aframe scene. There's some discussion going on to bring such a feature to gecko. More info here:
Parallel discussion https://github.com/aframevr/aframe/issues/974#issuecomment-189995329
/cc @ngokevin + @dmarcos
https://github.com/ngokevin/aframe-react
https://github.com/ngokevin/aframe-react-boilerplate
https://github.com/ngokevin/threeschwifty
https://github.com/ngokevin/a-wakens
Yeah, we use the Custom Element API pretty heavily.
a related issue: aframevr/aframe-core#761
https://github.com/mayognaise/aframe-gif-component
Also related: aframevr/aframe-core#699 and #347
blocked on aframevr/aframe-site#121
@ngokevin: can you confirm this is fixed in PR #883?
AR cameras and utilities: https://github.com/argonjs/argon-aframe for A-Frame There's also https://github.com/jeromeetienne/aframe-artoolkit that's worth checking out  Thanks @staus. Curved image in general needs a lot of work to be "smarter". We're looking to address that when we move to a new implementation of the primitives. My first draft of the new approach for curved image is here: https://github.com/jcarpenter/aframe/blob/primitives/elements/primitives/a-curvedimage.js It does not yet have the logic for automatically determining theta-length / height based on image dimensions, but it does implement new approach to setting texture, using `repeat: -1 1` instead of scale. TBH I can't recall _why_ I went this route (a month ago seems so long!) but I do recall it was after much fiddling with different combinations of side, scale, and repeat.
@cvan It seems that the hover is not playing well with the primitives
> @cvan It seems that the hover is not playing well with the primitives
Thanks for putting up with my noob mistakes.
FWIW, in [aframe-core](https://github.com/aframevr/aframe-core/), we do have a example, the [Pano Explorer](https://github.com/aframevr/aframe-core/blob/1d07db6e/examples/panoexplorer/index.html#L17-L21), which makes use of the `sound` component. _(sidenote: those examples are not hosted online unfortunately [originally to minimise the size of the git checkouts]; see aframevr/aframe-core#689.)_
@tbalouet: we would have an "Enter VR" button which would trigger a fullscreen for the first scene. and then as long as you have `<iframe allowfullscreen>`, you'll be able to fullscreen the iframe (i.e., enter VR mode).
Specifically, https://github.com/aframevr/aframe-core/blob/1d07db6/src/components/wasd-controls.js#L83-L89 and https://github.com/aframevr/aframe-core/blob/a3855a3/src/core/a-scene.js#L539-L551 need to be developer-overridable (and possibly user-overridable, though that could be left as an exercise for the developer to do with JS; we'll have to make a call there).
https://aframe.io/docs/components/geometry.html#Cone
> <a-entity geometry="primitive: cone; radiusBottom: 1; radiusTop: 0.1"></a-entity>
https://aframe.io/docs/core/entity.html#Events
Is there a still an issue here?
You can use https://github.com/ngokevin/aframe-text-component for now.
let me know about the above harcoded `watch` above and we can merge (we can do address that as an issue against `budo` later as well)
> `watchGlob` added to `budo@7.1.0`, small example here:
Investigate http://krpano.com/plugins/videoplayer/#iphonepanovideo
Interesting: https://github.com/misterburton/ideo-sf-vr-nerd-night#bonus-points
@mobiwu Have any more details than that? That might be a result of trying to do cross-origin videos on Safari, which I haven't found a way to support.
@SonarSystems whoa, very odd. I'm not sure. @caseyyee, do you know? I know you're good with mobile debugging.
@ngokevin this is awesome. great work, @mayognaise - thanks!
everything looks great except for the MozVR text. In the shopping example, it looks a bit low-res. Can we upscale rather than downscale that one?
also per @ngokevin, these in particular I noticed the images are upscaled (with degradation) and there is padding around the increased images:
Also https://github.com/MozVR/aframe-core/issues/319
https://aframe.io/docs/components/material.html#Defining_Textures
Thanks @tbalouet. Getting more consistent results on Android devices is a top priority for us. Bug reports like this are very helpful. :+1:
After more than 8 months I haven't heard many complains about this being an issue? Do you this this is something we should tackle? @ngokevin
@ngokevin @dmarcos is this possible now in `dev`?
dupe of #300
/cc @dmarcos, @caseyyee
Private*
- https://github.com/aframevr/aframe/tree/master/examples/showcase-panoexplorer_OLD
Also see aframevr/aframe-core#622.
Username: mozvr
<a-entity geometry="primitive: box; width: 5; height: 5; depth: 5"
Reopening. We do have a torus primitive geometry but this issue refers to a primitive `<`a-torus></a-torus>``
- Other attributes then depend on the type.
oooof
mattdesl/budo#79 is closed. budo's ecstatic is gone. and I haven't seen this even in the days before budo's ecstatic dependency was removed.
I'm starting to see this again on Mac OS X. Very strange. I've filed #934 to check new budo and bump.
Dev can specify:
https://github.com/donmccurdy/aframe-extras
Dev can specify:
- Autoplay boolean
- Looping boolean
- Muted boolean
@ngokevin: thanks for the good feedback. I've addressed everything except the most recent comment, which I just responded to.
All that being said, thank you very much for this excellent piece of technology, which makes VR so accessible :)
Hexagon actually has 6; heptagon has 7. @dsinni lol, uh, yeah, whoops  Im working on a component that makes it intuitive to set up local clipping planes around geometries,
everything is working except that there is an inconsistency on what the right eye sees from the left
- Reproducible Code Snippet or URL: https://codepen.io/squaretone/full/WgqaqQ
@ngokevin i would like test this change, how do you generate the memory statistics?
These geometries may be of use to you.
Unknown property `color` for component/system `material`.
**Code**:
https://glitch.com/edit/#!/safe-tiglon
https://safe-tiglon.glitch.me/
https://sharp-penguin.glitch.me/
code> https://glitch.com/edit/#!/sharp-penguin
https://zesty-hide.glitch.me/
code> https://glitch.com/edit/#!/zesty-hide
**Code**: https://glitch.com/edit/#!/whispering-writer?path=index.html:25:8
There's also a strange button script at the bottom of the body, which I'm not sure of its purpose.
**Code**: https://glitch.com/edit/#!/abrupt-donkey
**Demo**: https://abrupt-donkey.glitch.me
After moving it to the bottom of the scene, it functions as expected: https://abrupt-donkey.glitch.me/
This issue was prompted by the following [tweet](https://twitter.com/thomasbalou/status/1030719598407110656).
what exactly should e0c8ff7 solve? @ngokevin  plz reopen the bug (i will try to make a simple sample showing the problem)  **How to perform an event in JS when a Videosphere reaches a particular instant in its time duration**
AFRAME.registerComponent('foo',{
```javascript
AFRAME.registerComponent('box', {
Ultimately, I think this will make it easier for people to create small bits of reusable aframe code and reduce the barrier to entry for new users and help grow the ecosystem while promoting modern JavaScript practices.
- Reproducible Code Snippet or URL: https://aframe.io
When using "laser-controls" on the currently-in-development version of aframe with an Oculus Go, the OGO model is shown on the screen as expected, but it is much too low - like our arms extend to our thighs and we hold the controller there instead of having the arm folded in a more natural pose.
- Reproducible Code Snippet or URL: https://aframe.io/examples/showcase/helloworld/
Equirectangular screenshot:
![screenshot-wikimmerse-1534046948967](https://user-images.githubusercontent.com/34930772/43998535-ff768488-9e3a-11e8-8b07-f4bec35065ae.png)
Hello, I was hoping to create a loading screen in Aframe. I found the page below, it's about object loading but I couldn't figure out how to use it...
- Reproducible Code Snippet or URL: https://zest-sandal.glitch.me/
- Reproducible Code Snippet or URL:  http://artgala.lamplightheritage.com/
I have ran into an issue while experimenting with AR.js (https://github.com/jeromeetienne/AR.js/issues/146) that required me to enable [logarithmicDepthBuffer](https://threejs.org/examples/?q=log#webgl_camera_logarithmicdepthbuffer). AFrame does not include this option, so I thought that I would include it myself.
https://jsfiddle.net/9en8zt3q/
[See fiddle](https://jsfiddle.net/9ex5Ljgp/22/) Hey @dmarcos
@ngokevin What happened with the build? Did I do something wrong with the pull request? Doesn't work, breaks controls completely.  **Description:**
- Reproducible Code Snippet or URL:  https://glitch.com/~aframe
The code in the remixable Glitch demo used in the [Getting Started](https://aframe.io/docs/0.8.0/introduction/) tutorial has errors (e.g. someone replaced opening tags for sphere and cylinder primitives with box).
360¬∞ videos in Aframe's videosphere are not working correctly in the last versions of Chrome desktop. In particular, the video blinks (video alternates visible frames with white frames) while it is playing and is completely white when it is paused, in Chrome v67. Instead, in v66 the video works but is continuosly vibrating.
- Reproducible demo: you can use the code of the videosphere example in Aframe's homepage.  Hi,
`THREE.MeshPhongMaterial: 'repeat' is not a property of this material.`
-Chrome
for (let key in MAP_TYPES) {
aoMap: maps.occ,
aoMapIntensity: 0.5,
![image](https://user-images.githubusercontent.com/26094902/42953539-ab370366-8b48-11e8-80f4-69913095417e.png)
![image](https://user-images.githubusercontent.com/11953198/42436174-b05aa218-838b-11e8-9b6b-af95b5b9bd00.png)
import 'aframe';
import 'aframe-animation-component';
import 'aframe-particle-system-component';
class AframeScene extends React.Component {
export default AframeScene;
Awesome-aframe has been discontinued and is seemingly no longer a helpful resource
Remove awesome-aframe components from the learning resources list.
<a-ring radius-inner='0.9' radius-outer='1' color='black' position='0 0 -1.8'></a-ring>
- Reproducible Code Snippet or URL: https://glitch.com/edit/#!/heavenly-piranha
I'm trying to use aframe 0.8.2, but i don't know why, there are two camera icon after the page loading
![doppia_icona](https://user-images.githubusercontent.com/6594262/42135340-f81a2a3a-7d49-11e8-9f66-a952d16ceb2a.png)
Vrsearch.arthur-moug.in
else
``` @ngokevin What portion of the code would I need to update so that the event fires on the rig?   I had tried that before with no luck. Here's an example I put together and if you view the console, none of the console messages in the code will execute: [https://codepen.io/anon/pen/XYPLMP](https://codepen.io/anon/pen/XYPLMP) I was able to get the `tick` handler to work for the camera `position`.  However, is there a way to prevent `tick` from running when you're not moving the camera position?  I have a code like this, to display image on camera:
- Code: https://glitch.com/edit/#!/hover-tech?path=public/journey.html:13:61
Hello! I am experiencing a gyro problem on 2 phones except they are accessing the gyro but with either random input, or very very sensitive input. If i keep my hand still and don't move it is almost still but i can see the micromovements on screen with my hand's micro shaking.
adding workshop resources  When I try to view the 360 video example on the a-frame website with my Oculus Go, it works until I click the VR icon to go into true 360 format, and then all I get is a black screen. It was working this morning, so I am unsure what could have changed. same issue with stereo 360
That's odd, I'm new to A-frame but it's possibly a device or chrome browser issue because your site loads correctly on my device.
In the meantime if anyone has any ideas for a workaround (I can detect a OnePlus device using user agent) that'd be appreciated. I'm wondering if I can somehow offset the devices accelerometer Y rotation - not sure at what stage I need to do this though - Browser/Three.JS/WebVR Polyfill/A-Frame?? I think I have tracked down where the offset needs to go: https://github.com/immersive-web/cardboard-vr-display/blob/d97e0ec3e4144bd227b498bd7afa6f6270f712d2/src/sensor-fusion/fusion-pose-sensor.js#L183 Due to the sensors being incorrect on specific devices, not sure how this is something the polyfill can detect and handle, and should most likely be handled after receiving an updated pose -- can probably be handled by nudging the A-Frame camera on every frame; more info: https://github.com/immersive-web/webvr-polyfill/issues/310#issuecomment-417356998  **Description:**
Artistic - Ink, Oil, and Pencil
Blurs - Gaussian, Motion, Radial
Distortion - Crystalize, Tile Reflection, Dents
Style - Edge Detect, Emboss
some more shaders
We are seeing this with our own app that uses android WebView, but testing it with an app called WebView from the play store shows the same issue. Get chrome canary. Go to your developer settings on your phone and set webviews to use chrome canary. finally use the webview app to go to aframe.io. looks like the device motion event is broken?
I have draco compressed GLTF images which needs to be loaded using aframe. When trying to load it using the new gltf-model component I am getting "components:gltf-model:warn THREE.GLTFLoader: No DRACOLoader instance provided." error. I hope this is because there is no option to specify the dracoloader which can be passed as argument to the threejs GLTFLoader -> setDRACOLoader function. Please help... Tried to check the above solution by hardcoding the decoder path instead of passing as a parameter. Now getting "defs.map is not a function" error in GLTFParser.prototype.getDependencies function. Seems like defs is an Object but the map function is available only for Array in javascript..Can some one help me to identify a solution for this? Thanks for the suggestion. The model I had did not work in GLTF viewer as well.
Am I doing something wrong ?
![3002 - aframe](https://user-images.githubusercontent.com/39618522/41350813-a59a99c2-6f14-11e8-8844-36b8b9a02c9e.png)
**Questions**
- Reproducible Code Snippet or URL: https://aframe.io/examples/showcase/360-image-gallery/
I'm looking for a portable VR headset which is supported by aframe.  So does anybody know if the Oculus Go can show the 360 image gallery example?
Are there also any other portable VR headsets like Oculus Go (no cardboards, no smartphones) in the market which can be used with aframe? Any proposals?
![com oculus vrshell-20180726-213451](https://user-images.githubusercontent.com/3518808/43284507-4ee363fa-911c-11e8-9b96-9fa44404d94d.jpg)
- Reproducible Code Snippet or URL: [JSFiddle](https://jsfiddle.net/Spencer101/u645omwj/1/)
I made a VR world where you look around and tap to move forward. However, when you go into VR mode on a mobile device, for some reason you don't move forward. I think that this is a bug in aframe. Please help me figure this out, I have been trying to fix it for hours.
I don't get how to use rigs though.
- Reproducible Code Snippet or URL: [JSFiddle](https://jsfiddle.net/Spencer101/u645omwj/)
I made an aframe vr world, and when you are not in vr mode, if you tap, it moves you forward. However, whenever I switch to vr mode on mobile, the tapping doesn't work. Also, what is up with the screen getting darker when you tap in any mode on mobile?
For any one who has the same issue, the 6.0 Afrmae is here https://aframe.io/releases/0.6.0/aframe.min.js
- Reproducible Code Snippet or URL: https://aframe.io/examples/showcase/helloworld/
Running `AFRAME.utils.styleParse.stringify` on attributes with coordinates outputs `[object Object]` instead of correct coordinates.
AFRAME.utils.styleParse.stringify({
- Reproducible Code Snippet or URL: https://codepen.io/anon/pen/jKrWEZ
- Reproducible Code Snippet or URL:https://jsfiddle.net/yuseit/egsdcm47/23/
- Reproducible Code Snippet or URL: https://lush-waitress.glitch.me/
Should vertices be removed from the panel all together? Done, thanks!  Checked on #3607, and on a [hebrew keyboard](https://www.lexilogos.com/keyboard/hebrew.htm) to get some touch on how it works, how about this:
It would probably be nice to test VR.
include only files in `dist` in npm pacakge
- include only files in `dist` in npm pacakge
npm's point is to install code libraries. Those packages then often get bundled into apps. Anything in those folders get included into those apps. For example if someone makes an electron app or a phonegap app and includes aframe those docs will then be embedded in their app.
https://glitch.com/edit/#!/lunar-stealer?path=index.html:10:116
The image taken inside the Oculus weirdly says 63, must be the way it takes a screenshot that gives the browser more cpu time as the screen goes black while it does it, but the raf says correctly 24,5 which would be 1000/24,5=40,8 fps
- Reproducible Code Snippet or URL: m.piacenzaromana/vrtour
When I put the aframe script at the bottom I get this message
It would be good to know a concrete reason why I needs to be at the top vs just voodoo since it's working just fine at the bottom.
Some of the demos on https://aframe.io/ are "cock-eyed" in the Oculus Go for some reason. For example:
* Animation (also extremely choppy)
For the bottom list, I click on the Cardboard icon and they just work. For the first list, clicking on the cardboard icon zooms the screen up but it's still 2D, and I'm presented with several viewing options (3D, 360, 360 3D, 180, 180 3D). None of them look right.
![com oculus vrshell-20180515-083442](https://user-images.githubusercontent.com/12532733/40060318-ecbf1a9a-581b-11e8-8019-60f8cad10346.jpg)
![com oculus vrshell-20180515-083931](https://user-images.githubusercontent.com/12532733/40060327-f476d9bc-581b-11e8-9acc-f5b5eaaa7781.jpg)
Thank you @ngokevin for the learning experience !   **Description:**
https://glitch.com/edit/#!/jolly-nurse?path=views/index.html:18:49
Calling html2canvas in the init method of AFRAME.registerComponent will cause this component to be created loop. this may be a bug.  In a dynamically created scene DOM, the antialias attribute seems to be ignored when viewing in the Gear VR:
- code: https://bklava.github.io/issues/aframe/gear-antialias/dynamic.html
- result: https://bklava.github.io/issues/aframe/gear-antialias/dynamic.jpg
Dynamic result detail:
![Dynamic](https://bklava.github.io/issues/aframe/gear-antialias/dynamic-detail.jpg)
Notice that the antialias attribute is set:
```javascript
scene.setAttribute('antialias', 'true');
- code: https://bklava.github.io/issues/aframe/gear-antialias/static.html
- result: https://bklava.github.io/issues/aframe/gear-antialias/static.jpg
It is the aframe example with the 3 red, yellow, blue objects, where the straight lines on particular the blue square is really rought.
Also the grey background is suddenly white when VR is activated down in the corner, which makes it super bright and unconfortable to look at, compared to the grey color. @dmarcos I could not see that in the documentation, therefore I thought it did not exist anymore.
- Reproducible Code Snippet or URL: https://github.com/fernandojsg/aframe-teleport-controls
"debug": "ngokevin/debug#noTimestamp",
I acknowledge this isn't really your problem, but just to explain more about the company I work for and to tell you about a few others I've been asking around with this same situation; I don't think I'm the only one who is being denied usage of A-Frame because of this silly situation.
https://www.npmjs.com/package/@ajwest/aframe
https://github.com/IntegersOfK/aframe/tree/captive
On Android devices, across all browsers, some aframe examples shake like crazy at the smallest movement.
The latest available version of aframe on the releases, and through Yarn is still 0.8.1, where this bug still persists.
When I manually updated aframe version, it worked in Firefox, but not Canary (both incognito/ private browsing version).
into an error
I know that combining devicemotion and touchpanner (both directions) at the same time can be a mess if not well implemented (I saw viewers that have implemented it with a very good user experience).
Helppp
Could a framework like Aframe benefit from having all this string types saved as consts somewhere like (very rough implementation):
```javascript
//aframe.constants.js
```javascript
AFRAME.registerComponent('mdmu-cutout-material', {
property0:     {type:AFRAME.SCHEMA_TYPE.ASSET, default:''},
property2:     {type:AFRAME.SCHEMA_TYPE.BOOLEAN, default:false},
property3:     {type:AFRAME.SCHEMA_TYPE.STRING, default:''}
this.el.addEventListener( AFRAME.EVENT.MESHLOADED, () => { console.log('loaded!'); });
```javascript
//custom function
const Context_AF = this;
const mesh = Context_AF.el.getObject3D('mesh');
if ( Context_AF.data.src === '' ) {
alphaTest: Context_AF.data.alphaTest
if ( Context_AF.data.renderSide === 'front' ) {
if (mesh) {
if (!Context_AF.data.shading) {
node.castShadow = Context_AF.data.castShadow;
node.receiveShadow = Context_AF.data.receiveShadow;
console.log(Context_AF.data.castShadow);
console.log(Context_AF.data.receiveShadow);
node.material.alphaTest     = Context_AF.data.alphaTest;
Context_AF.el.emit('materialset');
``` Thanks for the response @ngokevin. And thanks for pointing to the 'materialtextureloaded' event - I must have missed that in the documentation. I suppose it gets a bit hairy trying to track down what events exist and what I can listen to before doing something - and if I need multiple things to exist/be set before doing something else.
<title>decke wand boden TEST VR mit sky Ebenen</title>
<meta name="description" content="decke wand boden TEST VR mit sky Ebenen">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<script src="assets/aframe_min.js"></script>
<a-sky id="Boden" src="#pano00" rotation="0 -130 0" radius="5000" transparent="true"></a-sky>
<a-sky id="Raum" src="#pano01" rotation="0 -130 0" radius="5000" transparent="false"></a-sky>
It appears that the opposite is happening.
- Reproducible Code Snippet or URL: https://codepen.io/dansinni/pen/deYXZa
```AFRAME.scenes[0].querySelector('[raycaster]').components.raycaster.refreshObjects();```
Hope it can help. Thanks, @ArnaudRemi @ngokevin @donmccurdy . I typically use the same practices you outlined, @ArnaudRemi , however the `material.visible` functionality doesn't work as documented, hence the issue.
Out of curiosity, if this method were to be used, would raycaster objects still need to be refreshed manually?  Thanks for the reply @ngokevin. I'm sure you have it all figured out, because you're the dude. haha. But it seems rather complex for something somewhat trivial.
Is this something that could even be done in A-Frame, or would it need to be implemented in THREE.js? Don't be modest, @ngokevin; you are a wizard.
I think I like the default behavior as when I move my head, I don't my move hands at the same time, but with Aframe it looks like I move my hand which I don't.
There are several things that makes it works without arm:
But doing the arm model, it will be more confusing as with WebVR you just came from the default and then into a weird Aframe arm model. It feels really weird. I am not sure what you are suggesting would be providing the positional update for the Go controller with no arm model, as it is not a 6DOF controller and the Go doesn't know where it is.  If you are saying that the browser is providing a full 6DOF pose using the native arm model, that would be great, but I would like to get some level of confirmation from the committers, as I expect they would have disabled the arm model if it was not required. That being said, it looks as though there is a simple flag to disable arm model if you like, see
@kevinsimper right, but if you turn around (turn your head 180 degrees), without any arm model, your right hand would then become your left hand... the arm model is what keeps your right hand on the right.  Also you can turn it off if you don't like it, as described above. @machenmusik We can't change how it works inside the Oculus Go, so shouldn't it work the same inside Aframe so that people don't get confused?
The Oculus Go native arm model is almost certainly more sophisticated than the current basic arm model in A-Frame; pull requests with better arm model are certainly welcome, as are suggestions on how it could be improved even without implementation, as you have been doing (thank you BTW!)... and if the behavior with `armModel:false` is more to your liking, that is already a built-in A-Frame option. https://judicious-random.glitch.me seems fine on Oculus Go
(https://glitch.com/edit/#!/judicious-random?path=index.html:3:2)
geometry="primitive:sphere; radius:30; phiLength:360; phiStart:0; thetaLength:180"
In #3450, @ngokevin mentions "now threejs controls camera rotation in VR mode." Do you know where we can find that code? @dmarcos having the same issue on Sumsang S7, Huawei P9, XIaomi 6. look-controls no longer works after exit VR mode(works before entering VR mode). Tested with "Hello WebVR" example on Aframe.io.
I have the same issue on Samsung S8 ( Chrome 66.0.3359.158) with Aframe 0.8.2.
There's something happening in aframe when the device is returning from VR mode, but I can't find where or what is going on.
Add `blending` property to Aframe Material component
On Tue, 17 Apr 2018, 20:12 Kevin Ngo, <notifications@github.com> wrote:
@ngokevin line added to docs. thanks Thanks @samrae7! My hero! :) +1  https://github.com/aframevr/aframe/blob/master/ROADMAP.md  Originally orientation offset was for vive-tracker, did we want to put that back in now? Wait, I thought rotation offset was for hand-controls - if you changed hand-controls to use orientationOffset should be fine though Shouldn't the orientation Euler be applied in order YXZ like elsewhere in A-Frame?  **Description:**
$ roadhog build
SyntaxError: Unexpected token name ¬´of¬ª, expected punc ¬´;¬ª [./~/aframe/dist/aframe-master.js:75051,0]
Arguments: -c roadhog build
Directory: /Users/a1111/Documents/Projects/diseasenet
This PR modifies `updateOrientation()` in `look-controls` to also take into account the value of the `rotation` component, if present. @ngokevin is that a theoretical concern, or a finding from using supermedium?  Agreed obviously that if it doesn't work in VR then an alternative implementation is needed Ok makes sense to close until we can get accommodation in Three   The trigger on a Cardboard V2 causes a screen touch, so it's common to listen for an click on the scene element or window.  This changes prevents a tap on the a-enter-vr button from propagating to the scene and window, so the other listener doesn't have to disentangle an "enter vr" tap from the Cardboard button.
This DB's info seems to mostly be about display size, though. AFAICS the canvas, at least, seems to be getting set up correctly, so it's totally possible this is a red herring. OTOH it's also possible the black models are coming from some problem with a texture buffer being improperly allocated (perhaps because of this exact missing resolution info).
In either case, I'm a bit out of my depth. Looks like both you and @ngokevin are in the bay area. I'm in SF too and have several of these devices for testing. I'd be happy to get you one of them, or can just supply you with more info if that's easier.
Hmmm...it certainly isn't a problem with all WebGL texturing, though -- https://fltr.world/ (simple texture demo implemented with three.js shaders) works fine, as does https://webglsamples.org/aquarium/aquarium.html
> <https://github.com/notifications/unsubscribe-auth/AB-_4gbNwwBdNuqiplyeMbpEAR8aTQBfks5t1u1fgaJpZM4TH_DS>
i ask the codesandbox dev to solve this, but they think aframe should fix this
![livevibelogo](https://user-images.githubusercontent.com/28209737/38177212-05e5d19e-35b2-11e8-9ca8-09911973d6d8.png)
- Platform / Device: HoloLens Edge Browser
I am closing this issue; Aframe works correctly once the "Enable WebVR" experimental flag is checked in Edge for HoloLens under "about:flags." WebVR is not an experimental feature for Windows 10 desktop Edge browser so I forgot to check this. Is it by design of the hololens that there is no click event in immersive view? If there is a possibility to click can you please document that? I was unable to figure this out yet.
still using aframe A-Frame Version: 0.7.1 (Date 18-10-2017, Commit #b9a751e)
- Reproducible Code Snippet or URL: https://codepen.io/dansinni/pen/ZxvyLx
Sounds good, @koganei. I only mentioned `e.target` because I couldn't figure for the life of me how to access that data. `e.detail` definitely seems more appropriate. Thanks.  Hi,
<a-entity geometry="primitive: sphere;
With A-Frame v 0.8.0 the img materiel is rendered outside the sphere, I tried using side property to change it to inside but never worked. With the same code without using side attribute the materiel is rendered as expected inside the sphere with 0.7.1  Threejs' Material class has the `blending` property which is really useful for faking materials that emit light or other effects. (For example, see the disco lights in [saturday night](https://aframe.io/a-saturday-night))
```javascript
```javascript
npm WARN addRemoteGit  dmarcos/three.js#r90fixPose resetting remote C:\Users\...\AppData\Roaming\npm-cache\_git-remotes
Here is the log from --verbose flag.
npm install --save aframe --verbose
npm verb cli   'aframe',
Is there something I'm meant to do to indicate to A-Frame that a secondary camera is not meant to be driven by the user's head in VR mode? That works around it perfectly! Thanks so much!
However, changing the aframe ver to `0.7.1` always picks the front-most object.  **Description:**
// Remember, object3D rotation is in radians!
- Reproducible Code Snippet or URL: https://glitch.com/edit/#!/laneo360-3?path=index.html:10:49
for large arrays like I am passing in (I am dynamically creating complex
buffer geometries).  Adding a custom property definition such as,
> I noticed this on my Samsung s8 + last night. Aframe .8.2 and chrome m66.
Hi @ngokevin I am beginner in git. Do you have a video instruction on how to make my own build like what you commented on May 3. Thank you.  The DayDream controls were missing menu and system button tests to make sure that they get remapped and reemitted properly given their remapped names.
FAILED TESTS:
@ngokevin I'm also interested in why this wouldn't be possible.
Elm isn't built for just the 2D web; there's even [a WebGL package for Elm](https://package.elm-lang.org/packages/elm-community/webgl/latest).
PS: Thanks for creating A-Frame. It's awesome by itself! @ngokevin I also want to support this, Elm provides a wonderful way for building complex, interactive A-Frame scenes and it feels extremely natural to use the combination of the two. It would be great if this would work again.  Correct handling of post processing when using three's internal webvr support
- Reproducible Code Snippet or URL: https://glitch.com/edit/#!/lace-coast
- Reproducible Code Snippet or URL: https://curved-actress.glitch.me/
![Random camera movement gif](https://media.giphy.com/media/zmTp1LVYEjjySTdVYm/giphy.gif)
Chromium bug: https://bugs.chromium.org/p/chromium/issues/detail?id=819413 @jsantell the camera is moving even if I'm not moving the device at all, is that caused by this exact bug? @tomegz there are [two issues](https://github.com/immersive-web/webvr-polyfill/releases/tag/v0.10.3) with Chrome m65, one with devicemotion events lacking rotationRate requiring a deviceorientation fallback in the polyfill for only m65, and another of low rate of updates (~10hz) for both events  2 minor changes
- Reproducible Code Snippet or URL: https://brash-landmine.glitch.me/
- Reproducible Code Snippet or URL: https://glitch.com/edit/#!/wheat-cord
```javascript
https://github.com/aframevr/aframe/tags
* Reproducible Code Snippet or URL: Aframe.io (examples)
AFrame doesn't use the gyros anymore, and behaves as the non-gyro-equipped phones.
**Moreover, the VR view is and moves in the wrong way when using aframe master and Chrome 65.0.3325.109.**
So we need to wait for m66, hoping there is a fix, right?
On Thu, Mar 29, 2018 at 12:34 AM MD Sabbir Hossain <notifications@github.com>
I checked some aframe example on Samsung S6 even on Samsung S6 edge some times. But I have found same problem. It's moving very slow.
Switching through the example section of aframe.io, I can confirm that some examples work, while others look weird.
@FeralRizvi what aframe version did you import? I'm on 0.8.0 @dirkk0  Works now!!! Thank you so much @dmarcos ! People my Chrome updated to 66 but the gyroscope bug continues, any solution? Thanks @dmarcos  Yes in the browser only it works, in the phonegap app no longer works. @dmarcos  I understand, but when I come back to the version of my Chrome it works. @dmarcos I understood, thanks, I'll wait for an update. Gyroscope doesn't work before to enter on VR Mode!
I have this issue on Samsung S8 ( Chrome 66.0.3359.158) with Aframe 0.8.2.
It works with Aframe 0.7.1  Gyroscope doesn't work in fullscreen and VR
Older versions of aframe will not work on the latest versions of Chrome Gyro was finally working good with 0.8.2 and Chrome m66.
- Reproducible Code Snippet or URL: https://codepen.io/dansinni/pen/yKOjem
@ngokevin - is there any information/advice/direction you can offer here? thanks @dmarcos. there's actually an [existing issue](https://github.com/mrdoob/three.js/issues/10706) already tracking it. I don't think my fix will land, so hopefully someone with more knowledge of three can solve it. This issue is still blocking me from using `0.8.*` in production. üò¢  @dsinni - fork A-Frame & edit the dist code directly to reflect the changes made in [this PR](https://github.com/mrdoob/three.js/pull/13710)
Pixel
* Safari
* Safari
A better fix would be to ensure that the camera is ready as early as possible, but that might require a large-ish refactor. This PR aims to fix the immediate error case. @dmarcos did you commit what we were working on some time ago? (which at the time was mostly early vrdisplayactivate from Oculus Browser, IIRC) @ngokevin Enter VR can't wait because `requestPresent` needs to invoked in a stack that was initiated by a user gesture or by the `vrdisplayactivate` event (which typically happens if you were previously in VR and then refreshed the page or traversed to a new VR app).
https://codepen.io/PButcher/pen/PRZGRr
Here's a terrible GIF of one of my apps that I was upgrading to 0.8.0 from 0.7.x that alerted me to the bug: https://streamable.com/ntaum
- Reproducible Code Snippet or URL: https://codepen.io/PButcher/pen/PRZGRr
This isn't an expected behavior, is it?
a-animation still checks `evt.detail.state` which is `undefined`.
6: #define GAMMA_FACTOR 2
26: 	#ifdef USE_MORPHNORMALS
35: 		a‚Ä¶
5: #define GAMMA_FACTOR 2
9: #ifndef saturate
33: vec3 Uncharted2ToneMappin‚Ä¶
6: #define GAMMA_FACTOR 2
26: 	#ifdef USE_MORPHNORMALS
35: 		a‚Ä¶
5: #define GAMMA_FACTOR 2
9: #ifndef saturate
33: vec3 Uncharted2ToneMappin‚Ä¶
The components defined in an a-primitive's defaultComponents are not immediately accessible via `el.getAttribute()`. They seem to be added on the next tick.
- Reproducible Code Snippet or URL: https://glitch.com/edit/#!/tranquil-cod
DigiTec [3 h 51]
Console Warrnigs:
Polyfill / cardboard-vr-display - https://github.com/immersive-web/cardboard-vr-display/issues/18
as a dirty solution I was thinking about using the iframe postMessage to send devicemotions to the child iframe
```javascript
//"*" used to avoid cors protection
Children iframe
```javascript
//now how to pass the devicemotions coordinates to aframe??
but how to send the father devicemotion coordinates to the child iframe aframe?
AFRAME.registerComponent('box-custom',
else
I've been teaching with a-frame a lot, and this is becoming a common point of confusion with my students (they wonder why their low-roughness materials don't reflect anything, then learn about envMaps and try to add one by setting the attribute with materials, and are confused why it doesn't work)
Some ways this could be approached, not mutually exclusive:
```javascript
AFRAME.registerComponent('mdmu-gltf', {
let el          = OContext.el;
//model change
el.setObject3D('mesh', object);
//color change
if ( child.isMesh ) {
It works perfectly on threejs, but how can I use it in aframe, I am trying to create AR app.
and aframe does not enter in VR mode.
Actual code:
- Reproducible Code Snippet or URL: https://codepen.io/JFarrow/full/pNmdXa/ (same issue happens on any web page)
- Reproducible Code Snippet or URL: https://aframe.io/examples/showcase/helloworld/
@dmarcos @ngokevin I believe with this change everything should be fine now. Although I'm not sure about how the getAttribute works, I would expect that If I'm modifying the value accessing directly to the `object3D` that won't get me the expected value, but if I'm setting attributes using `setAttribute` it will always return the same value when I'll call `getAttribute` is that correct?
https://canyon-lentil.glitch.me/ (0.7.0 ‚Äì works as expected)
https://canyon-lentil.glitch.me/alt.html (0.7.1 ‚Äì faces, vertices, and draw calls stay constant)
dmarcos [5:55 PM]
https://codepen.io/machenmusik/pen/oEQbab
2. enter VR and put on your Rift
dmarcos [6:03 PM]
but the headsphere is in the floor (bad) The headlocked hud text is not locked correctly to the camera, although it is a child of the element containing the camera component.
At the moment, 1 and 3 are true, but 2 is not, so 4 is not. the strange thing is, the camera *rendering* appears to be done from the correct Y position, but the entities that are supposed to be placed at the position of that entity with the camera are instead being placed in the floor.  Which is why you find yourself looking down at the headsphere rendered beneath the camera vantage point. Working with master last week, I observed an issue which appears to be the same.  Specifically, on desktop (FF &Chrome under OS X) the camera position is correct, but in VR mode in Gear Vr (Oculus & Samsung) the camera appears slightly more than 1.5 m above where it should.
(There's also a square of random color that appears where the avatar's waist should be.) and stranger yet, today it is working as expected (camera and headsphere are always locked so you see the nose cone properly, headlocked text appears properly) ok, now I am seeing a weirder state - camera Y position shows as correct, and controllers are displayed at the right height, but the controller y positions are in the floor
https://gainful-pirate.glitch.me/ I modified the codepen to show HMD and controller Y positions, and I see the weirder state I was just describing... #3407 may fix this? Yup, I believe #3407 should fix the controller y position. As of Mar 2, I'm still observing this issue in my code.
![animeui-normal](https://user-images.githubusercontent.com/378430/36931925-550db2e0-1e8e-11e8-84c1-cf63e8537a11.jpg)
When I go to VR mode the camera is above the centerline:
- Reproducible Code Snippet or URL: https://aframe.io/docs/master
actually `0.7.0` is fine `master` is a issue Now the `0.8.0` docs are broken. @ngokevin what is the state of this issue? redeploy failed as I see.  **Description:**
Áúã‰∫ÜÂá†Â§©aframe ÊñáÊ°£ÔºåÊÉ≥ËØ∑Êïô‰∏§‰∏™ÈóÆÈ¢òÔºö
1.aframeÂ¶Ç‰ΩïÂàõÂª∫‰∏Ä‰∏™Ëá™ÂÆö‰πâÂÆû‰ΩìÔºå‰æãÂ¶Ç‰∏Ä‰∏™Â∑•‰ª∂ÔºåÊàñËÄÖ‰∏Ä‰∏™Âª∫Á≠ë‰πãÁ±ªÁöÑÔºåÂè™ËÉΩÈÄöËøámaya„ÄÅBlender‰πãÁ±ªÁöÑÂØºÂá∫3dÊ®°ÂûãÂÜçÂØºÂÖ•Âà∞aframeÂêóÔºåÂèØ‰ª•Áî®aframeÁõ¥Êé•ÁºñÁ†ÅÂæóÂà∞Âêó
2.aframeÁöÑÁÇπÂáª‰∫ã‰ª∂Âè™ËÉΩÊòØ<a-camera>ÈÖçÂêà<a-cursor>Ê®°ÊãüÁÇπÂáª‰∫ã‰ª∂ÂêóÔºåÂ¶Ç‰ΩïÈÄöËøáËé∑ÂèñÂÆû‰ΩìdomÔºåÁõ¥Êé•ÁªëÂÆö‰∫ã‰ª∂
[A-frame Laser pointing 45deg to the left](https://i.stack.imgur.com/R5PVh.jpg)
throwing THREE.Color: Unknown color #NaNNaNNaN error
We should probably keep this issue limited to current Gamepad API, and discuss WebXR future in https://github.com/immersive-web/webxr/issues/319
1. Enter VR on the Go in a scene with oculus-go-controls (e.g. https://lunar-stealer.glitch.me/)
2. Press the back button to exit VR
3. Enter VR again
Hope this helps! @spleennooname, I created a sample for Oculus Go on Glitch that uses event listeners:
https://glitch.com/edit/#!/amino-go?path=index.html:1:0  // <a-entity "name"></a-entity>
in the following "Removing an Object3D From an Entity" is the same inconsistency
i will open a separate bug
here is an example code :
It took me a long time to realise that the Gamepad extensions had to be enabled in order to use the controller.
Is the likely cause of this clear / is there a particular place I should start looking? I'm happy to spend some time investigating myself, although i'm not all that familiar with A-Frame/three.js source.
Now there are two things happening when I enter VRmode (as mentioned it's fixed when I leave out the `active: true` part):
2. The rotation of my camera seems not to be synchronized with the initial headset ratation what makes the children move in the wrong direction. So if the headset for ex. moves forward, the children also move farward but in the direction of their own forward axis which is not the same as the headset anymore. This leads to the strange effect, that you can watch the children dancing around like a mirror of youself from a different position.
AFRAME.registerComponent('click', {
AFRAME.registerComponent('load', {
AFRAME.registerComponent('load', {
after https://aframeproject-a5507203.c9users.io/ (0.6.1)
testing different variants
aframe-text-geometry-component
Link - http://aframe5gltf.surge.sh/
Link - http://aframe07gltf.surge.sh/
Please do watch in a VR headset to clearly observe the issue. I hope to get this solved with your help.
On A-Frame home page, When I turn back from VR mode, the aliases appears on the edges of shapes. Why that happened?
It appears that after turning VR-mode on and off again, the `pixel ratio` has changed in the renderer of the scene (WebGLRenderer.getPixelRatio()).
This is why this problem only appears to be on mobile devices where the device pixel ratio is higher than 1.
3. Click the goggles button to enter VR with WinMR.
FYI, that 360 video example is using A-Frame 0.7.1 but this can be reproduced with master as well.
Thanks @leweaver @dmarcos for helping to chase down!  i am trying to build a 360 image viewer using phonegap and aframe. I tried a lot of code samples other than displaying 360 image and everything works fine but when i try to display 360 image there is nothing but a black screen
<a-sky src="http://appsdevpk.com/360/naran.jpg" rotation="0 -130 0"></a-sky>
For an example of use, see https://github.com/DougReeder/elfland-glider/tree/master/ginnungagap/index.html#L41
geometry="primitive: ring; radiusOuter: 0.08;
AFRAME.registerGeometry('box_loader', {
https://github.com/donmccurdy/aframe-extras/issues/167
I think if we can make this custom geometry components, is of great convenience to many of the specific project, looking forward to
Think there is such a vr scene, a car inside, if you want to be a key to replace the wheel parts, or   a key to replace body material, no matter use what format loaded geometry, must use the geometry of the custom components.Of course the json as the default format of three, I think is the most appropriate.Continue to look forward to you and the community as early as possible for this function, thanks!  Added a Glitch example to the docs, to demonstrate how to allow mouse clicks on entities with A-Frame.
- Platform / Device: Gear VR + Galaxy S6 running Android 7.0
2. Navigate to https://aframe.io/examples/showcase/helloworld/
- When our page first renders we are seeing `components:text:error ReferenceError: nek is not defined` twice, presumably once for each of our 2 entities with the `text` component.Uglify is butchering [this function](https://github.com/mattdesl/word-wrapper/blob/master/index.js#L32), renaming it's args to something normal like `(a, b, c)` then where you'd expect `a.indexOf`, it puts `nek.indexOf`. Seems to be gracefully handled by A-Frame.
The issue appears to be in UglifyES itself. It's affecting our entire app, not just A-Frame related code. It may be some specific configuration, but for now, we're settling for locking our version to `3.2.2` as we don't have the bandwidth to investigate further.
https://fresh-palm.glitch.me/cursorbody.js
2.  Enter VR Mode
3.  Exit VR Mode
- Code: [Code example 1](https://glitch.com/edit/#!/coral-crate), [Code example 2](https://glitch.com/edit/#!/private-scent)
issue:
@wmurphyrd  many thanks for the update @wmurphyrd should this issue be closed?  @mkungla yes @aframevr/a-team can you close it!  **Description:**
Is there a reason that the LoadingManager is not available by default in Aframe?
<script src="js/aframe-v0.7.1.min.js"></script>
<!-- skull from here: https://sketchfab.com/models/1a9db900738d44298b0bc59f68123393 -->
<!-- just some silly 2d circles being used to test shadows at various heights -->
geometry="primitive: sphere; radius: 500;"
I can't seem to figure out why the mobile view of a-frame camera aspect ratio (a-marker-camera) is completely off. it's scaled so everything looks skinny in portrait mode, and wide in landscape. I am also getting this error in console:
<script src="./dist/aframe-ar.js"></script>
id="Gunnar"
json-model="src: url(./Models/Gunnar-NewYear.json);">
<div id="confetti"></div>
http://itkabhie kabhie song and poem - youtube+8801971131144/prefixing.com
docs/introduction/docs/introduction/index.mdindex.mdhttp://itkabhie kabhie song and poem - youtube+8801971131144/prefixing.com  The usual case for transparent background is AR.  I don't think we need to force background scene component, if you want to change the background you can just add it yourself...   vec3 change to vec3 or vec4
```javascript
```javascript
- aframe-master
ani.setAttribute("attribute", 'visible');
ani.setAttribute("to", 'true');
selector.appendChild(ani);
geometry="primitive:plane;height:1.4;width:4"
material="opacity:0.6;color:black"
text__appname="align:center;baseline:bottom;color:yellow;value:lorem Ipsum;wrapCount:12;zOffset:0.01"
https://a-frobot.github.io/aframe/examples/boilerplate/360-video/ only shows black. https://a-frobot.github.io/aframe/examples/test/videosphere/ is also broken and only shows black. duplicate of #3287  @mkungla it's not a duplicate in the sense that text being broken is separate from 360 video being broken, right?  although the root cause may be the same.  @ngokevin hmm, so that isn't great... hadn't seen any reason for that to break with newer three.js? So what did we decide to do here, change videosphere to use `side:back`, or make negative scale work again?  (If the former, we probably want to note negative scale change as potentially breaking) (Sadly, yes) I found this issue when trying to use aframe master on my project.
I confirm the issue is related to mrdoob/three.js#12787
I see some new warnings, something else seems wrong...
not sure why we are using a specific commit that is renderer 89dev ... should rename the issue lot of examples are broken and  issue was introduced by https://github.com/aframevr/aframe/commit/3d188db12742d162b2c9e60ffd0222f75acaffa1   Fixed in #3652  **Description:**
I have a problem in how VR mode is generated in A-Frame 0.7.0 in my Samsung Galaxy S7 Edge. It worked good with A-Frame 0.3.2. Now, with A-Frame 0.7.0, it appears in this way:
This is incorrect:
- A-Frame Version: aframe.io samples
- Reproducible Code Snippet or URL: http://aframe.io  samples
https://mozvr.com/webvr-demos/demos/nepal/  The latest three.js release corrected how handling gamma output with sRGB colorspace images: https://github.com/mrdoob/three.js/issues/12554
- A-Frame Version: aframe-master
geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
- Reproducible Code Snippet or URL: https://spiffy-pear.glitch.me/
AFRAME.registerComponent('mesh-standard-material',
/* Texture */
displacementMap: {type: 'string'},
const newData = AFRAME.utils.diff(oldData, this.data)
Thx @ngokevin, using the method mentioned above would I be able to get the point of intersection aswell?  How to change line width or radius??
webView.loadUrl("https://aframe.io/examples/showcase/helloworld/");
buildTypes {
- Reproducible Code Snippet or URL: https://codepen.io/anon/pen/eeebNx
https://glitch.com/edit/#!/horn-sparrow?path=index.html:1:0
I'd appreciate if someone can investigate as to why aframe.min.js is causing two requests. Thanks @dmarcos @ngokevin : I tried using a-assets and the browser did not make two requests. Thank you! This works for img and video assets, but not for audio. Can you suggest how to prevent loading audio files twice?  When .dae / .obj / .json models used, the PNG textures transparency applied on those models is not presented, as in other viewers.
<a-asset-item id="foliage-mtl" src="assets/untitled-scene.mtl"></a-asset-item>
<a-entity collada-model="#cave" rotation="0 180 0"></a-entity>
<a-entity obj-model="obj: #foliage-obj; mtl: #foliage-mtl" rotation="0 180 0" material="transparent: true"></a-entity>
Created  experimental repository [mkungla/aframe-lite](https://github.com/mkungla/aframe-lite) where all the excessive noise has been removed reducing repository size **50** times and improving commit log readability.
Rewriting Git's history at this stage of the project is rather challenging, but not impossible. I think, in addition to reducing the size of the repository, attention should also be drawn to the readability of Git's history. As @a-frobot already has over 600 commits in less than a year, which is relatively verbose and has created a disturbing noise to track the actual development of A-Frame.
- `./docs` and `gh-pages`  could also be painlessly moved to other repository together with A-Frame site content e.g.
What are your thoughts? Do you see this as a potential issue, or can this become a issue in the near future?
yes in many cases it is the way to go. @ngokevin  what help is here needed? i think this can be closed?  **Description:**
I don't understand what is the issue here.
Unless you have this issue https://twitter.com/fernandojsg/status/924985106372100096 ?
@fernandojsg was this with a S6 phone and Samsung Internet? Do you still have this issue?
- Latest version of A-frame
AFRAME.registerComponent('test', {
- Reproducible Code Snippet or URL: https://glimmer-house.glitch.me/
When I try to open any aframe scene with an S8 device, I get double vision and blurry effects. If the lenses are moved far apart, the stereo view gets a little better, but you see everything blurry because the images do not align with the focus centre of the eyes.
So my assumption is that te weird aspect ratio of the S8 (18.5:9 instead of 16:9)  is causing problems with the two vr cameras and the 3d stereo view. The eye centers are not correct because the whole screen is being used for VR.
- @mkeblx phone is not in power saving mode
- Reproducible Code Snippet or URL: https://surf-jumper.glitch.me/ (it's just the basic aframe demo)
This worked for me, coupled with aframe-stereo-component, making use of stereo sky-box entity.
<script> var jandevice = 0;</script>
<script src="/third-party/7e5b5c5/aframe-master.js"></script>
<!-- aframe-stereo-component enabled a-sky -->
var jandevicemsg = "";
if(jandevice == 200) {
jandevicemsg = ("Online device database has current device's global settings.");
else if(jandevice == 404) {
jandevicemsg = ("Online device database does not have current device's global settings.");
jandevicemsg = ("VR SDK uninitialized : DPDB not searching for online device database.");
alert(jandevicemsg);
// this part still a little iffy, the *2 might be because of the split screen, though it worked on my test phone for this value so hope to get some feedback
sky1.setAttribute("phi-start", radiansoffset);
```javascript
// added the check jan device.
jandevice = 200;
//jandevice
jandevice = 404;
``` I'm also getting the double-vision problem on a Samsung S8, with a Cardboard viewer and a standard WebVR sample (https://webvr.info/samples/03-vr-presentation.html?polyfill=1), with the resolution turned all the way up to 2960x1440. (I've tried all 3 available resolutions.)
@naftalibeder I had success setting the camera offset value for S8.
<!-- aframe-stereo-component enabled a-sky -->
```javascript
// this part still a little iffy, the *2 might be because of the split screen, though it worked on my test phone for this value so hope to get some feedback
sky1.setAttribute("phi-start", radiansoffset);
https://github.com/chenzlabs/aframe-360-video-example  **Description:**
- Reproducible Code Snippet or URL: https://glitch.com/edit/#!/substantial-latex?path=index.html:14:0
- The Glitch example, when you go and look at it, has been edited (probably unintentionally) so that it is rotated 80 degrees instead of 180 degrees.  We need a way to make the Glitch viewable, but require remix to edit.
I've added a click and mouseenter listener on my cursor but it seems to only work after i open the aframe inspector ( ctrl + alt + i ), it also works using my mouse instead of the cursor (but then not compatible with phone or VR glases) .Any ideas why this could be happening ? I am facing the same problem. Did you find a fix for this? I noticed that with primitives it will work. Objects with custom models will have their size not matching the object size. This will cause the raycaster to not register the clicks. Try using the "geometry='primivitve: box'" on your custom model and you'll notice a tiny box on loading the scene. After opening the inspector it seems like it recalculates the width and height of the objects so the raycaster intersects properly with the objects. Thank you it worked ! I hope they get the problem fixed Sure.
This feels like a dependency on broken behaviour?
Video formats: Webm for Android, for safari iOS?
I would prefer to use it with `<a-video>` it would be better for me for a few reasons, any idea why it works with a-entity but fails with a-video?
reason is that in mobile the video is not being started and that's why it shows black,
Good that you have found a solution, alternatively have you evaluated APNG?
APNG support is increasing:
https://caniuse.com/#feat=apng
- Reproducible Code Snippet or URL: https://aframe-gltf-loading.glitch.me/
As I mentioned in #3202, the current format is ambiguous - both for humans and machines.
Is there a cross-domain reason? thank you very muchÔºåbut ios11 Still can not play VR video . m3u8 format @ngokevin  ios11 Still can not play VR video too Ôºåno matter which format i have solve the problem by creating a button to play  After downloading the latest version of Aframe, look-controls is no longer working.
wasd-controls>
<a-sky id='sky1'
So it looks like this error/warning have been fixed there already but was not in the aframe-master.js
distorter_
What can be the reason for this? Hi, I took a copy of the repository and tried to run it locally but I only receive a black screen with the menu on the top right (Fullscreen | VR(WebVR/Mobile only) | Reset). No errors in the console during the initial load.
In the older version it was recognized as CardboardVRDisplay. Is this not/no longer supported in webvr-polyfill? many thanks! Many, many thanks for your advice. This solved at least my issue.
- Platform / Device: Windows 10, Firefox 56 (64 bit), Oculus HMD and Oculus Touch Controllers
- Reproducible Code Snippet or URL: https://codepen.io/vasturiano/pen/pWBXJa
and i receive this error
AFRAME.registerComponent('mysquare', {
at NewComponent.updateProperties (aframe.js:75409)
at NewComponent.updateProperties (aframe.js:75409)
at o (polyfills.js:3)
People then [blame the library](https://stackoverflow.com/questions/46797635/aframe-content-not-rendering-on-chrome-with-hyperhtml/46817370) ignoring the V0 vs V1 eternal battle when it comes to Custom Elements, hence I'm here to offer help because I want _hyperHTML_ to work with A-Frame too, it'd be a shame if it cannot.
> Any other benefits of migrating to V1?
// the Custom Element name
// alias for createdCallback
// alias for attachedCallback
// alias for detachedCallback
- add XREffect
- add XRControls
Is there a specific objection?  I think most of the complexity around video is around (1) user gesture requirements on mobile, which A-Frame can't solve (2) unsupported codecs and formats, which source element support was specifically designed to mitigate (3) browser quirks especially Safari and iOS which we are considering dropping.
@ngokevin I share concerns over complexity for caching etc. and also unwitting preload of giant video files that exacerbate memory constraints, do you think we should take specific steps to avoid? Let's move from abstract to concrete discussion on #3176.  Only slightly more than getAttribute / hasAttribute, have a look.  **Description:**
<a-mixin id="corn"
geometry="primitive: box; height:1; width:1; depth:1"
<a-entity mixin="corn" material="src: #corn-ply"></a-entity>
When you exit from VR mode, the image is still stereoscopic. You can see it on attached videos.
- Reproducible Code Snippet or URL: https://aframe.io/examples/showcase/helloworld/
- Reproducible Code Snippet or URL: https://codepen.io/anon/pen/BwPgqQ
For some reason, it's slightly different to the geometry version.
I tried searching the source, but it wasn't easy to find.  It appears that A-Frame doesn't allow to create properties that may not exist (or may have null values). For example, an integer or float value will always have a default numeric value, which may not always be appropriate. If I create a numeric property with a `{default: null}` it gets parsed as NaN. Strings with `{default: null}` work seemingly ok but issue a warning (though, inexistent string value may be designated by an empty string, this is not always appropriate).
I think you miss the whole point. The point is that aframe component property types apparently are designed around the string representation of their values. And in the reality, no one will use just a string properties for an app bigger than a hello world. One will use React or Angular or anything else and this will require passing native javascript objects around to tie these two worlds. Why restrict that? Ok, what if data is a multidimensional array? Thinking in the "data not logic" paradigm callback could be a design smell. I think I can subscribe to an event in a React component, this solves callback problem. Thank you for the hint.
3. Exit VR
<a-entity id="kolobot" gltf-model="src: url(https://github.com/KhronosGroup/glTF-Sample-Models/blob/master/2.0/AnimatedCube/glTF/AnimatedCube.gltf);"
And the .glb animation doesn't work in aframe
git clone git@github.com:vincentfretin/aframe-sandbox.git
cd aframe-sandbox
cd workspaces/aframe
git remote add dmarcos git@github.com:dmarcos/aframe.git
git fetch dmarcos removeVREffect
The functionality of `AFRAME.registerShader()` has improved to the point where it is pretty useful, but the documentation for shaders is buried inside `material`, and the documentation for `registerShader()` does not have an example of recent changes which allow very straightforward usage without dipping down into `THREE` materials:
/* global AFRAME */
AFRAME.registerShader('grid', {
fragmentShader: [
- (Perhaps a nontrivial example showing how uniforms can be derived from dynamic data like mouse pos, etc.?)
-useful, external links - depending on the type of service you want the docs to fulfill, but since A-frame is beginner-facing I think mentioning these would do a great service to many who encounter shaders for the first time through Aframe and the docs:
[The Book of Shaders](https://thebookofshaders.com/)
Duh, forgot to use `type:'time'` instead of `'number'` @michaelhazani ok, updated with opinionated section and removed duplication. @donmccurdy that means I blew away the prior custom component examples, but hopefully you will see why... if not, we can always revert Great stuff - thanks for doing all that. I think this is a huge step up and the examples are excellent and nontrivial. This is the kind of doc I'll be forwarding to beginners / onboarding devs for reference. Thank you!  The changes here use an updated version 0.9.40 of the polyfill that make the accelerometer / gyroscope based sensor fusion work properly on the latest Web Browser for the ODG R-7, which is a landscape-primary device, as well as making A-Frame realize that it should be using it for R-7. ahead of you, https://github.com/googlevr/webvr-polyfill/pull/286 once @jsantell merges into polyfill, if we are using latest master of polyfill in general, then the package.json change can be reverted understood.  looks like it just merged, let me retry without package.json, hang tight just published webvr-polyfill v0.9.40 with the changes to support the R7 :metal:  nice!  OK so now the latest ODG R-7 Web Browser can use polyfill with correct accelerometer/gyro behavior, so you can load up https://r7-aframe.glitch.me/ and look at the boxes to select them.  (Although the display is still monoscopic at the moment.) @dmarcos OK to merge, thx @jsantell ! those github: changes shouldn't have been necessary, I undid by checking out an older version, let me fix ok, package.json fixed looks correct now:
- Reproducible Code Snippet or URL: https://codepen.io/ebhoren/pen/zEjYRO
I still don't understand what is said here due the fact: I don't understand the difference between the camer when no in VR and default camera. Can you elaborate the difference? @ngokevin ohhh, now after reading this new section everything makes sense! thanks for the explaination  **from my point of sight, it would be interesting for you to:**
- *compiling csound for aframe*
obj.material.aoMap.dispose();
with Safari all bets are off - and it helps to have a working example.
AFRAME.registerComponent("follow-intersection", {
I'm just finding it unfortunate that I now need to add much complexity to my code or add an extra dependency to my project to do what used to work in aframe 0.7.1. I know all those changes are for performance reasons, and I appreciate all your work in this area.
> I'm just finding it unfortunate that I now need to add much complexity to
> aframe 0.7.1. I know all those changes are for performance reasons, and I
> <https://github.com/notifications/unsubscribe-auth/AB-_4ikLtnc5fVmwbR_PPL8RPAXIqhVTks5tyB8VgaJpZM4PwiK0>
The aframe-ar-plane Glitch has a slightly different solution @ngokevin I don't think two raycasters will work well, but YMMV
for (i = 0; i < prevIntersectedEls.length; i++) {
for (i = 0; i < prevIntersectedEls.length; i++) {
if (intersections[0].object.el === el && intersections[1]) {
@ngokevin adding clone() indeed fixed the issue.
https://jsfiddle.net/8jmcuaLw/4/
- Platform / Device: MobileVR - Cardboard, Daydream, GearVR
The same happens in an official exmaple:
https://aframe.io/examples/showcase/helloworld/
chromium/Rift+Touch and chrome/daydream - the former being what stopped us before IIRC.
@ngokevin thanks and sorry about the weird spaces - working through some linting issues in my local dev env. Won't happen next time;)  This fixes issue #3051
- default color - `#E0E0E0` @ngokevin  well if you are satisfied with the result can you remove the **need changes** tag  I'm not sure what you meant in this sentence, but there is definitely a verb missing. Ok, I changed it.  Following [this comment](https://github.com/aframevr/aframe/pull/3040#issuecomment-329412188) on #3040, add a caveats section to warn about HTML APIs not working as expected and linking the F.A.Q. @ngokevin the JavaScript section is no longer there in 0.7.0, is it right? Where should I add the caveats section?  The following schema is not working as expected:
```  Sinde the update to version 0.7.0, the enter vr button injected by the framework is not functioning. You can click the button, but nothing happens. Bug is reproduceable on the Aframe VR examples.
Hi, I 'll be using aframe this fall and it would be amazing to try it with my cardboard and on Edge mobile, but unfortunately as reported it doesn't do it anymore. So I guess I am sending some encouragement here ‚ú® And I would be excited to see an update üò≥ üòä
@Malwine I tried the polyfill link, the scene is jumping around. Our team will investigate, what causes the problem. Let me know if you have a different result. @olga-microsoft Thank you for investigating!! üíõ ‚ù§Ô∏è
A-Frame 0.6.1
Resizing the browser window while presenting leads to the canvas being resized accordingly, which updates resolution in the headset, causing a bad experience. Since Aframe does not rely on Three.js built-in mechanism for resizing the canvas this needs to be handled explicitly in a-scene.js.
Relevant code:
here is my code:
I would be absolutely marvellous if someone could create a comprehensive aframe docst for Dash/Zeal/etc. I get:
If I'm using this code:
~Olga
To: aframevr/aframe <aframe@noreply.github.com>
@ngokevin, @netpro2k Despite I understand the argument against `sound` component dealing with streams, I think the patch gives you support for a very simple but common use case in a consistent and straightforward way. Furthermore, the source code might serve as a model for more complex implementations. As I mentioned above, I can totally see the argument for not adding this feature to the `sound` component, but I think the change in this PR to propertyTypes.js that allow audio elements to get passed through untouched is still probably a good idea, otherwise its difficult for people to write a component that handles MediaStreams themselves. Even if "preloading only" was the original intention, `<a-assets>` is also the place for mixins and, as far as I know, mixins can be generated dynamically. From the semantic perspective, it makes sense to contain all the experience assets inside the `<a-assets>` tag. From an API perspective, it is more homogeneous if media elements are treated equally (if the core sound component only needs the URL, that's perfectly fine).
The clarification use MutationObserver as an example but the warning generally
pages created using aframe.
Abel Seyoum Ar'aya
Ocellinet Software Development P.L.C
Dynamic Interactive Solutions
www.Dynamicstm.com
> <https://github.com/notifications/unsubscribe-auth/ACURvE47kUuJiIS0a1UzePn6W1U6JVCQks5sgSTigaJpZM4PP6x7>
Abel Seyoum Ar'aya
Ocellinet Software Development P.L.C
Dynamic Interactive Solutions
www.Dynamicstm.com
Abel Seyoum Ar'aya
Ocellinet Software Development P.L.C
Dynamic Interactive Solutions
www.Dynamicstm.com
any solutions would be a massive help
Thanks! We are taking a look on Edge and will let you know
To: aframevr/aframe
Hi Diego,
If I plug in headset again, the Enter VR button starts VR as expected (but renders black too) The behavior I described above is with Edge + Win Mixed Reality.
- Exclamation (!) changed to full stop/period (.)
- Platform / Device: Windows Mixed Reality
- Reproducible Code Snippet or URL: https://aframe.io/examples/showcase/helloworld/ Sorry I omitted that. I have tested the following combinations, it reproduces on all of them:
- Vive & Chromium
2. Open browser, navigate to https://aframe.io/examples/showcase/helloworld/
Can we use a OrthographicCamera in Aframe?
I do really need a Orthographic view instead of Perspective view, but Aframe always uses PerspectiveCamera, can we add options in [camera]?
@dmarcos I'm doing a data visualization project, it was working with general 2D lib like d3.js, we're trying to re-create all lines in a 3D world. It works well with three.js, and much easier with A-Frame, but we don't like or need the perspective effect. @ngokevin sorry to hijack this old post, but I'm currently building a VR 'editor' and I do agree with that A-Frame should mainly focus on the Perspective Camera, but I do need to switch between PerspectiveCamera (when viewing what the user has build) and OrthographicCamera (when the user is designing). I'm unsure yet on how to make it work (the sample posted above, doesn't really work), but would you accept a PR if I were to build support for it? @promontis I am also trying to implement an orthographic camera but currently struggling with controls. Have you found any useful resources by any chance?
which is weird, since I'm only getting the a-scene, building a minimal a-box, and then attaching the a-box to the a-scene...
In fact, there is some code in the  [section on JavaScript](https://aframe.io/docs/0.6.0/introduction/javascript-events-dom-apis.html) that suggests that there is no need of waiting until the scene is loaded:
```javascript
I am trying to get a message to show when a user has its mobile phone in VR mode but holds it inin portrait position.
Unfortunately, it is never triggered, because when entering VR the scene locks the phone in landscape mode (`aframe/src/core/scene/a-scene.js:246`)
- When the flag is turned off, a bespoke viewer is used
- When the flag is turned on, the Cardboard Viewer is used
It might be interesting to implement it on the "bespoke" viewer, though. @ngokevin any thoughts on the above ?  **Description:**
Any idea what could be causing this? It might be interesting to note, that if the scene is rendered with polyfill in firefox on the device, the texture is filtered correctly, and the aliasing is completely gone. Using daydream in Chrome. Also the same thing occurs in Chrome beta. Haven't tried it with Oculus/Samsung Internet/Gear VR, but I can give it a try as well. Here's an example where the issue occurs: https://superhelix.dk/vr/test1/ Furthermore, if VR view is exited, by pressing the app button, the texture then also becomes very aliased in the normal view. I have tested the scene on a Vive headset through Firefox, and the aliasing does not occur here, so it is something specific to Chrome. Ok, I don't think this is fixable by a-frame as such. The problem occurs because Chrome's Daydream renderer apparently subsamples the rendering quite a bit. If I manually resize the rendering canvas, the aliasing disappears, but performance takes a hit.
this is monster.gltf(https://github.com/mrdoob/three.js/tree/dev/examples/models/gltf/Monster)
A few of the a-frame primitives use 'height' and 'width' to refer to properties of the geometry, but the docs seem to assume they're referring to properties of the material. (I'm not sure if this suggests an underlying problem with whatever originally generated these tables in the docs, but it was suggested in the Slack that I just go ahead and edit the docs manually, so I have.)
https://community.elphel.com/files/gltf_test/aframe.html
https://aframe.io/docs/0.6.0/components/laser-controls.html
https://aframe.io/docs/0.6.0/components/daydream-controls.html Yes! I would still like Daydream controls, I had already tried this before posting the issue and it didn't seem to work:
Thanks, @ngokevin ! Makes sense.
- Reproducible Code Snippet or URL: https://slime-cereal.glitch.me
- Put on Daydream View Headset
Possibly related to this older issue: https://github.com/ngokevin/aframe-core/issues/797 @machenmusik Yes, it can, I had the same problem, solved it this way:
Etienne I don't think `Infinity` is a valid value of the repeat attribute. Perhaps you meant `indefinite`?
geometry="primitive: ring; radiusOuter: 0.30;
``` Here is one http://vatelier.net/MyDemo/AFrameVideoExample/ but not on Glitch as iOS still requires videos to be on the same domain. @ShaguftaMethwani This example isn't working for me on PC.  Can't we use js video api to make this work? https://aframe.io/examples/showcase/videosphere/ is the current example, which works fine AFAIK  **Description:**
* This might cause some unexpected behavior for projects using `cursor` for gaze fusing and capturing touch input manually for other purposes. If preferred, I could extend the schema make this configurable, either as a flag or as a list of event types.
I considered that but then if you want to disable tilt only for non-VR mobile mode and then the user enters VR-mode, the code would have to react and reset the hmdEnabled flag for the HMD to work properly. I'm assuming this, I didn't actually test to see if that would be the case. Okay then. I'll just proceed with your recommendation of writing a customized/different look-controls component. I will probably want to do more with it anyway. My goal is to help build websites that can transition somewhat seamlessly from manually navigated 3D (the most likely usecase) through "tilted"/"look around" mobile 3D (less likely), and then finally VR (the coolest, but most niche at this time). I understand your desire to keep A-Frame focused on VR, and possibly AR as well.  Testing with https://wmurphyrd.github.io/aframe-super-hands-component/examples/portals.html
this magic incantation used to force that texture cache to be flushed
`AFRAME.scenes[0].systems.material.clearTextureCache()`
but that may not be what you want
![oculus-error](https://user-images.githubusercontent.com/223277/29228993-ee3610a0-7e90-11e7-8125-7eb33f22e765.png)
AFRAME.components['laser-controls'].Component.prototype.config['oculus-touch-controls'].raycaster.direction.y = 0;
https://glitch.com/edit/#!/gainful-pirate?path=oculus-touch-controls-hack.js:1:0  **Description:**
3. As @ngokevin mentioned, web developers love their responsiveness, and there are definitely use cases out there (and cases like mine will probably grow, especially if this PR goes through). Making this small change will greatly expand aframe's applicability for web devs (allowing full-featured mixed-device operation), increasing interest and gaining contributors who are eager to help. I don't know if that's a good thing, but probably it is? Hooray for OSS!
* [A-Frame 101](https://www.whitesmith.co/blog/a-frame-101/) introductory materials by @afvc  @ngokevin @dmarcos I recently made a tutorial that has lots of little pieces of code, but in codepen, not glitch. I can pass them to glitch if you want to.
I wonder if linking to people's Glitches that can be changed or broken at any point in the future might lead to poor experiences for A-Frame docs users I'm going to gather the suggestions/requests of content per week. I'm happy to see the conversation moves forward. Thanks @afvc for stepping forward and suggest more content. @delapuente maybe a tutorial that explains the differences between using AR in mobile and desktop? It's a simple thing, but for example, I was stuck on it for several days until @cwervo gave me a hand. I can make a codepen or glitch with it.
If there was a tutorial that showed two or three different ways to deal with these issues maybe less people would face them?
http://curious-electric.com/w/experiments/aframe/audio/
(slightly unrelated - .wav file support seems broken in A-Frame 0.6.1 (or rather in ThreeJS 0.84):
http://curious-electric.com/w/experiments/aframe/audio/index61.html
[EDIT: links changed] @wav I will try to find out if this is a ThreeJS problem or not and then add an issue either over there or here.
How would I proceed regarding the audiosprite example?
http://curious-electric.com/aframe/audiosprite/
speechUtterance.name = "Fiona";
‚Ä¶edded scenes
I made an example which I have also uploaded [here](http://games.clarklavery.com/aframe-sample/index.html) to test it out by mousing over the central cube. The problem with using the `throttle` wrapper is that if the user does a lot of small quick drags, it won't update to the final result. Doing a single resize works fine though.
- Reproducible Code Snippet or URL: https://codepen.io/Alxblsk/pen/NvpPPv
AFRAME.registerComponent('my-component', {
scene.appendChild(createEl);
https://glitch.com/edit/#!/heartbreaking-deposit
As an example, this breaks:
https://github.com/aframevr/a-saturday-night/blob/master/src/components/states/dancing.js#L67
https://github.com/aframevr/a-saturday-night/blob/master/src/components/mimo.js#L7  demo here:
http://curious-electric.com/aframe/throttle/
> *@ngokevin* requested changes on this pull request.
> -### `AFRAME.utils.throttleTick (function (t, dt) {...}, interval [, optionalContext])`
> +AFRAME.registerComponent('foo', {
> +    this.throttled = AFRAME.utils.throttle(this.tack, 500, this);
> -### `AFRAME.utils.throttleTick (function (t, dt) {...}, interval [, optionalContext])`
> +AFRAME.registerComponent('foo', {
> +    this.throttled = AFRAME.utils.throttle(this.tack, 500, this);
> -### `AFRAME.utils.throttleTick (function (t, dt) {...}, interval [, optionalContext])`
> +AFRAME.registerComponent('foo', {
> +    this.throttled = AFRAME.utils.throttle(this.tack, 500, this);
> before and after the throttled function because it's weird to have the
Different from #666 ? @donmccurdy
- Reproducible Code Snippet or URL: https://codepen.io/prabhatsinh/pen/LjZPzv
https://codepen.io/prabhatsinh/pen/OjXBqb
geometry="primitive: plane; width: 1; height: 0.4"
This was my mistake then, my apologies. I'll close this pull request and open up an issue. Thanks for your feedback.  Question:  Are the second UV maps used for Lightmaps and AO maps limited to duplicating the first UV set on the object?  or can we set up a second UV set in a 3d application and use that instead?  This could enable things like lightmappers for Aframe etc to work.  Currently it seems that the gltf importer duplicates the first UV set automatically, which precludes using different UV maps that optimize texture sizing and layout on 3d objects.  The use case for allowing custom uv sets would be that you could take a repeating brick texture and tile it while having a Lightmap for the entire scene instead of individual lightmaps for each object.
This package will let you publish the latest aframe in the Ubuntu store, and from there reach many users on all the supported Ubuntu versions, and more Linux distributions in progress.
Here at ubuntu we are working in a new packaging and delivery system. If you haven't heard about snaps before, here's a lot of info: https://snapcraft.io/
$ git clone https://github.com/elopio/aframe
$ cd aframe
(--dangerous because the snap you build doesn't come signed from the store. Once you publish it, your users will just have to do sudo snap install aframe).
pura vida. @ngokevin well, it depends on how you define niche store. There are millions of ubuntu users. They will all be able to see the aframe showcase snap in the software center, and install it with one click.
pura vida.  **Description:** link component releasted, using past tense
First I tried to directly animate the camera, apart the fact that it doesn't seem to work on chrome mobile (v57), it seemed to "block" the ability to look on the floor. [Short screen capture of the problem](https://gfycat.com/SmoggyQuarrelsomeDavidstiger).
- Are theses behaviors expected ?
apiaget  So we use A-Frame 0.50?
add @ Tween.js:41
add @ Tween.js:41
add @ Tween.js:41
add @ Tween.js:41
add @ Tween.js:41
Is this something that would have been caught by unit tests? Does the CI system run the actual webGL code? I did a fresh checkout this morning and everything is fine. It must have been a transitory issue with TweenJS.
- Reproducible Code Snippet or URL: https://aframe.io/docs/0.6.0/components/obj-model.html#troubleshooting refers to a page if more information is needed, and the page link has 0.6.1 in the URL and as a result gives a 404 error on clicking on it.
</a-mixin>
A few flashing signs
- Reproducible Code Snippet or URL: NA
[Why not rely on Tween for the repeats ?]
If desirable, I could prepare an initial PR for further review, first to see if travis testing picks up something ?   I've been playing with the Google Blocks tool and I'm totally amazed by it. I think that aframe will benefit a lot from an easy way to import objects from Blocks. Some points that would need to be discussed are:
Line 111: It looks to me that the ".js" I deleted is just stray text at the end of the sentence. I hope I'm reading that right.
<a-text value="click me!" geometry="primitive:plane"></a-text>
- Reproducible Code Snippet or URL:  For example the page https://aframe.io/docs/0.6.0/core/mixins.html
Hi Can I work on this issue? @ShaguftaMethwani @dmarcos I understand the changes to make but can you people point me in the direction where is the file located. I'm unable to locate the file.  **Description:**
Sometimes a hard reload fixes the problem. Some kind of race condition maybe.  Is there an event that emits when the image is actually displayed and not only only loaded.
After exiting VR mode in FireFox Nightly the desktop window of Nightly is white and non-responsive. It
**code:
if (!AFRAME.utils.device.isMobile()) {
my code:
- Platform / Device: Nightly & Chromium, desktop & Vive
- Reproducible Code Snippet or URL: https://glitch.com/edit/#!/voracious-canvas
- Reproducible Code Snippet or URL:  https://aframe.io
@ngokevin is right that it probably wouldn't take too much effort to move the current implementation into a component. That will require some support from core.  I see three possible ways to make that happen.
@dmarcos gives good arguments against this approach. "Here there be dragons" methods don't seem to be the A-Frame way.
- Reproducible Code Snippet or URL: https://aframe.io/examples/
@dmarcos same problem with the polyfill. Also [this](marchhill.github.io/VR-Maths-Shapes/) is my project that uses the latest A-Frame development version by including it with `https://rawgit.com/aframevr/aframe/538439e/dist/aframe-master.min.js`. It still has double vision. @ngokevin The vision is blurry, and the two images for both eyes do not merge into one. There is one cursor for each eye, so you can see two cursors. I tried this with an iPhone 6S+ and it was not an issue, only on the S7.
I'm not sure what caused this.
Here is a link to the project: http://m.lancs.ac.uk/VR/  After updating to 0.6.0 the cursor in VR mode has a visible (and green) line, even with implicit (default) or explicitly setting the raycaster component to `showLine: false`. This actually broke the [mouse-cursor](https://github.com/mayognaise/aframe-mouse-cursor-component) component we rely on: it no longer emitted `click` events when using the mouse or tapping the screen on an entity. It was solved by explicitly adding `line="visible: false"` to the `a-cursor`.
**Broken code (green line is visible in VR mode; mouse-cursor does not work correctly):**
<a-cursor raycaster="showLine: false" line="visible: false" geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03" />
To: aframevr/aframe
After updating to 0.6.0 the cursor in VR mode is visible (and green), even with implicit (default) or explicitly setting the raycaster component to showLine: false. This actually broke the mouse-cursor<https://github.com/mayognaise/aframe-mouse-cursor-component> component we rely on: it no longer emitted click events when using the mouse or tapping the screen on an entity. It was solved by explicitly adding line="visible: false" to the a-cursor.
Broken code (green line is visible in VR mode; mouse-cursor does not work correctly):
<a-cursor raycaster="showLine: false" line="visible: false" geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03" />
Repro:
Set src on image primitive or
https://glitch.com/edit/#!/free-harp
Ah you're right! It was the WebVR Emulator. After disabling it the behavior is back to normal. So I think this can be closed. Thank you!  **Description:**
From: machenmusik <notifications@github.com>
To: aframevr/aframe
@machenmusik I just have bought the S8 and the Gear VR, so I'm not already familiar with the oculus system, but I think I have tried on both (both are called Samsung internet but one is through the oculus launcher, isn't it?) and I don't understand the difference between them.
Ok, I will do more test tomorrow 'cause I don't have the device at home. I can confirm there is an issue with Samsung Internet (not Oculus browser) with Samsung S8 / Gear VR / Aframe 0.7.0. I put in bold what I think is wrong.
I don't really understand how the hand system config influence A-Frame here.
![oculus_browser_left_hand](https://user-images.githubusercontent.com/112249/32133678-7f046508-bbdd-11e7-9896-18deeb4dc24c.png)
Now where is the issue tracker for Samsung Internet for VR... I'm searching it... Anybody knows? Found it, I created an issue there https://github.com/SamsungInternet/support/issues/22 @mkeblx ^^ ? I'll have a look soon. Thanks For Samsung Internet handedness bug is resolved. Our next release will have fix in. Brilliant thank you! Thanks @mkeblx !  The [environment component](http://github.com/feiss/aframe-environment-component) is useful in many cases when there is no 3d modelling knowledge and/or when something quick for testing and experimenting is needed.
* Creating and applying textures and materials (using https://github.com/mrdoob/texgen.js/ ?)
* Applying complex animations
* Creating advanced particle systems
* Creating spaceships
and much more!
Thinking a bit bigger here are some ideas.
A complex procedural component could be one which takes the scanned image of a floor plan, or plan of building foot prints of city blocks, and reconstructs 3d walls and doors and windows via image machine learning.
@joshmarinacci
Reading [Writing a Component](https://aframe.io/docs/0.6.0/introduction/writing-a-component.html) in particular [Creating the Box Mesh](https://aframe.io/docs/0.6.0/introduction/writing-a-component.html#creating-the-box-mesh) describe precisely that. Maybe [<a-entity>.object3D](https://aframe.io/docs/0.6.0/core/entity.html#object3d) could be linked explicitly in [introduction](https://aframe.io/docs/0.6.0/introduction/) or [Developing with three.js](https://aframe.io/docs/0.6.0/introduction/developing-with-threejs.html). Alternatively the documentation could visually display the stack ([as I've done in a very ugly manner before](http://jsbin.com/yuwive/edit?html,output), as usual üòâ) but apparently not everybody is a fan of that. @dmarcos actually it is practically finished... you can take a look at the code here: https://github.com/rlamana/a-aviator. I basically used your official documentation as my only source. This is the first time I use A-Frame so I guess there are probably better ways to do some of the things I did. I look forward to your feedback ;) @fernandojsg done, https://rlamana.github.io/a-aviator/  **Description:**
https://glitch.com/edit/#!/almond-taker?path=public/index.html:10:40
https://almond-taker.glitch.me/
I am attaching two images. The first is a screenshot from VR mode in Xiaomi MI 5 on Google Chrome, where the effect is visible. The second shows the inspector in a desktop version where the line component has the `visible` property set to true despite the `showLine` property set to false on the raycaster component.
`var text = document.querySelector('#af-text');
`<a-entity
geometry="primitive: plane; height: auto; width: auto"
and adding `geometry="primitive: plane; height: auto; width: auto;" material="color: red"`
- Reproducible Code Snippet or URL: https://glitch.com/edit/#!/complete-capricorn?path=index.html:171:40
If you are saying you don't want A-frame to maintain the list of which things need which quirks, I understand.  But having the support to be able to apply workarounds for the quirks is definitely something for core A-Frame.  There is no other way to externally apply the quirks, because even if you set the shader manually, A-frame would set the wrong texture format for THREE to try. To be clear, native HLS is available in Windows (Edge), macOS (Safari at least), iOS (Safari and friends which is everything), Android (Chrome, Samsung Internet, Oculus Browser) so I don't think there should be a question of supporting HLS where commercially reasonable.
I think the very simple case of adding, alongside the existing MP4 video demo, an equivalent that uses HLS - which was the original call for action here - has somehow gotten wrapped around the axle of Safari quirks and concern over whether they should be accommodated.
Ok? @ngokevin I think we agree on the direction, very specifically that A-Frame will continue to support video in core to the extent the underlying implementations expose it, but not include any customizations for deficiencies or quirks in behavior.  In fact we expect to remove existing workarounds in subsequent PRs.  Do I misunderstand?
Firstly, I experience the same problem as @ibrews.
Secondly, I noticed that reversing the order of these components inside HTML tag restored the previous behavior. Is there a test that checks the execution order of `tick()` etc.? If not, we should write one. @ngokevin Probably later, I have no time at the moment, unfortunately, but wanted to let others know. Ah, that makes sense! But quick question: why is that solved by calling `el.setAttribute` a second time? Wouldn't the same `oldData === data` check have the same result? More than likely
To: aframevr/aframe
- Reproducible Code Snippet or URL: aframe.io
**https://github.com/7dir/aframe-triangulation-component**
undefined
- Reproducible Code Snippet or URL: https://pastebin.com/aWytFC2k
Kind regards, and thank you for a great product! Hi @ngokevin, still the same issue when I use:
the aframe master example regarding 'Adding visual feedback' is wrong;
This scene errors when a component on `<a-locomotor>` expects an object to be returned from `getAttribute` on a child node component but gets a string instead:
<title>Most Basic Super-Hands Example</title>
<a-locomotor>
</a-locomotor>
<title>Most Basic Super-Hands Example</title>
<a-locomotor>
</a-locomotor>
https://glitch.com/edit/#!/denim-straw
re: @dmarcos
A-frame has the option to register custom geometries:
https://aframe.io/docs/0.5.0/components/geometry.html#register-a-custom-geometry
https://aframe.io/docs/0.5.0/components/geometry.html#register-a-custom-geometry
Yeah, as it is, registerGeometry does not really provide advantages over registerComponent for custom THREE Geometries, as far as I can tell.  **Description:**
cc @ngokevin Yea a revert won't cut it, that will just put it back into a broken state. This PR should be what you want. rebased Should this go into the angle template as well ? I just had what seemed to be same/similar issue using angle initcomponent, the npm install.  **Description:**
- from `<a-light>s` to `<a-lights>` Alright, my bad. Still sounds kinda weird. Shouldn't it be `<a-light>` without the s? Ah, that's why. üÜí   The position attribute implies that this component alone can do positional audio, which is not true (as of 0.5)
I've made a presentation for a client in Aframe. All is working well except on iOS devices iPhone 5S, 6,  iPad mini 1 and the iPad Air 1. iOs is at the latest version (10.3.2).
[Warning] Invalid timestamps detected. Time step between successive gyroscope sensor samples is very small or not monotonic (aframe-master.min.js, line 134)
7: #define GAMMA_FACTOR 2
30: vec3 Uncharted2ToneMapping( vec3 color ) {
32: 	return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );
90: 	vResult.w = fract(Le);
96: 	float Le = value.z * 255.0 + value.w;
142: struct IncidentLight {
226: #ifdef USE_ALPHAMAP
230: #ifdef USE_AOMAP
452: 	return Lo_i;
493: float G_BlinnPhong_Implicit( ) {
496: float D_BlinnPhong( const in float shininess, const in float dotNH ) {
499: vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
504: 	float G = G_BlinnPhong_Implicit( );
505: 	float D = D_BlinnPhong( shininess, dotNH );
515: #ifdef ENVMAP_TYPE_CUBE_UV
624: 		irradiance *= PI;
673: 		float penumbraCos;
987: #ifdef USE_BUMPMAP
1042: 	#if ! defined( PHYSICAL ) && ! defined( PHONG )
1081: 	#ifdef USE_ALPHAMAP
1085: 	#ifdef ALPHATEST
1123: #elif defined( USE_BUMPMAP )
1186: #if defined( RE_IndirectDiffuse )
1213: 	#ifdef USE_AOMAP
1224: 	#ifdef PREMULTIPLIED_ALPHA
[Warning] Invalid timestamps detected. Time step between successive gyroscope sensor samples is very small or not monotonic (aframe-master.min.js, line 134, x4)
It's a collada model converted to GLTF 1. I will see about lowering the size for the model.
When there where 2 spheres this problem did not occur, so there seems to be some memory issue in this presentation. I just included a 28MB collada model and the safari browser kept reloading the page.
I have managed to downsize the equirectangular images and other images in the presentation and the total size is now about 54MB. It still will crash at some point and cause safari to reload the page. Have that in the nightly update for win10. It hits aframe and crashes the
Hi @ngokevin, I've tried the version you recommend but that version has a bug where the cursor is interacting with hidden objects (visible="false").
- Reproducible Code Snippet or URL: [https://aframe.io/examples/hello-metaverse/]
So after getting an unminified version of the files, I have found out that there is an issue with the iOSWakeLock function (lines 80195 and 80195 of aframe-master.js from v0.5.0).
- Click VR Mode button on bottom right and switch to landscape mode.
If anyone can shed some light on this, it would be much appreciated! :) I've uncommonly heard similar reports on using WebVR polyfill and it comes down to the wakelock. Hi, I'm having the same issue on iOS 11.
- Platform / Device: Gear VR, Oculus browser
- Reproducible Code Snippet or URL: http://aframe-master.glitch.me/
https://aframe.io/docs/0.5.0/introduction/entity-component-system.html#syntax
https://aframe.io/docs/0.5.0/introduction/entity-component-system.html#syntax
BR/KK Done!
It may have to do with the npm cache. I cleared mine earlier and the problem has come up for me, so might be able to replicate it by clearing it. I'll test this tomorrow on a computer that is currently working fine. I've been testing `npm install aframe` today and I've tried with npm version 3.10 and 4.2 without success. Actually there were no issues to begin with, but as soon as I cleared my npm cache I started getting these errors:
So, there shouldn't be any problem as long as you've previously installed aframe without issues and don't clear your npm cache - as the cache has remembered the reference to the a02a8089b commit. However if you either clean your npm cache or install a new npm version you will start getting errors. @dmarcos Yes this is working fine on my local and deployment servers now.
Daydream controller doesnt work and entering VR Mode throws a critical error, somehow it works in custom builds and older versions of Aframe.
**UA** Mozilla/5.0 (Linux; Android 7.1.2; ZTE A2017U Build/N2G47O) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.92 Mobile Safari/537.36
![aframe-webvryoga-test](https://user-images.githubusercontent.com/6901764/27070212-5348a388-5018-11e7-81cd-36d937f86b30.jpg)
-- aframe boilerplate with aframe master branch
About the flags: I disabled the following chrome://flags/ (WebVR, WebVR experimental rendering optimizations and Chrome VR). Now Aframe is switching to stereoscopic view but the daydream application is still not starting to enable the controller. Errors ahead:
@machenmusik The thing that confused me with the polyfill is that while the WebVR flag is activated, the polyfill seems to be still active partly. However i tried various chrome browsers (beta, canary, etc.), versions and also Aframe (master) and vrpoly configurations (0.9.24-latest) and nothing seems to "work".
2. Clicking VR button in lower right corner to enter "VR mode"
Ok the flashed OS thing is not much of a difference since my brother has the same phone with original OS and its not working there, too (same issues just slighty other UA). But sure you are right if no one can debug it since the lack of the hardware it wont work out. *cries deeply* @machenmusik if the page is insecure it usually shows even in vr mode that the page is "not safe", however I tested everything, including the flag/token and without it I also pressed every button multiple times while in stereoscopic view its strange the controller seems to be there codewise but it simply doesnt work. I can confirm that the regular chrome browser does not work in every case, just canary or beta. The problem is I get no specific error or like no informative error which shows up that is different from playcanvas or the webvr.info examples which still work (like there are warnings and errors regarding dpdb and device size but thats it). In your example on codepen I only have gaze view BUT the webvr mode kicks in after pressing the vr button, otherwise the 3. "Put your Phone into the Daydream View" part from the post above would not start cause of the missing token/flag.
cc @ngokevin  Everything should be addressed.  **Description:**
// - some skipped code
I think there is a problem that VR mode is not rendered correctly in Firefox android browser, it has huge amount of aliasing and terrible resolution. the non-VR works fine and Chrome doesn't have this issue. Screenshots were taken with Aframe.io example.
- A different image with correct labels
https://aframe.io/examples/showcase/helloworld/
var evt = new CustomEvent(name, data);
https://aframe.io/examples/showcase/helloworld/
I got the basic stuff in Aframe working now in IE11. I added the following Javascript to my main page:
function CustomEvent ( event, params ) {
window.CustomEvent = CustomEvent;
<script src="aframe.min.js"></script>
<!-- A-Scene -->
<img id="skyTexture" src="tram.jpg">
<a-plane geometry="primitive: circle" position="0 -3 0" color="black" rotation="-90 0 0"  width="5" height="5"></a-plane>
function CustomEvent ( event, params ) {
window.CustomEvent = CustomEvent;
File: aframe.min.js, Line: 447, Column: 2073
File: aframe.js, Line: 80411, Column: 3
File: aframe.js, Line: 76482, Column: 9
File: aframe.js, Line: 76482, Column: 9
``` @sim3083 You can see the HTML file I used here with the code in it working for IE, where you can see the bubbling code:
But I couldn't get Aframe 0.71 to work which is why I stayed on 0.70 @dmarcos
**Using aframe 0.7.0 without the js**
**Using aframe 0.7.1 without the js**
File: aframe.min.js, Line: 445, Column: 2257
File: aframe.min.js, Line: 105, Column: 3544
@sim3083 Could you provide me with some details of where you are running this from? It sounds to me like you are running this either from a restricted network access PC or on a corporate network where they discallow certain websocket connections, as the error you get is caused by Websockets, not AFrame @zubairq It is from a work network... does this mean its another barrier for this working in IE? @dmarcos @zubairq
**Outside the network**
(61, 1): syntax error, unexpected UNSUPPORTED_TOKEN
(124, 1): syntax error, unexpected UNSUPPORTED_TOKEN
@sim3083 But it CAN be done in IE11. I have seen over 80 different Windows 7 PCs with IE11 run Aframe from the link http://139.162.228.5/ @zubairq this is what i get when looking at it in IE11 (outside the network)
File: aframe.min.js, Line: 105, Column: 3544
(61, 1): syntax error, unexpected UNSUPPORTED_TOKEN
(124, 1): syntax error, unexpected UNSUPPORTED_TOKEN
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
(67, 1): syntax error, unexpected UNSUPPORTED_TOKEN
(134, 1): syntax error, unexpected UNSUPPORTED_TOKEN
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
(62, 1): syntax error, unexpected UNSUPPORTED_TOKEN
(125, 1): syntax error, unexpected UNSUPPORTED_TOKEN
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
(67, 1): syntax error, unexpected UNSUPPORTED_TOKEN
(134, 1): syntax error, unexpected UNSUPPORTED_TOKEN
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 105, Column: 4729
File: aframe.min.js, Line: 104, Column: 3671
File: aframe.min.js, Line: 105, Column: 4729
(61, 1): syntax error, unexpected UNSUPPORTED_TOKEN
(124, 1): syntax error, unexpected UNSUPPORTED_TOKEN
(68, 1): syntax error, unexpected UNSUPPORTED_TOKEN
(135, 1): syntax error, unexpected UNSUPPORTED_TOKEN
``` @zubairq
Thanks @sim3083 Ok, I will try that later today @zubairq thanks heaps... may mean I cant use a-frame which is a real shame @sim3083 I just tried the link http://repo3.cfals.info/tram_supply/index2.html in Chrome on my Mac and I only get a JPEG on the screen, nothing in AFrame though, is that the correct behaviour? @zubairq sorry try it now @sim3083 Ok, that works on my mac. I'll try IE11 later today @zubairq great cheers @sim3083  http://repo3.cfals.info/tram_supply/index2.html  works in Chrome from work network @sim3083  doesn't work from IE 11 on my work network @sim3083 I looked at the "View source" of the page  http://repo3.cfals.info/tram_supply/index2.html  but I couldn't see the extra IE code that I suggested you add though:
function CustomEvent ( event, params ) {
window.CustomEvent = CustomEvent;
function CustomEvent ( event, params ) {
window.CustomEvent = CustomEvent;
es6-shim.js
then it should work @zubairq Thanks for your efforts
@sim3083 It's fine, I committed on the AFrame forum that I will try and get AFrame working with IE11 so I will stick by my word, as long as I know it is still possible
Already done @zubairq  @sim3083 Ok, super, I can test it in IE next week at work @sim3083 works fine for me now, on IE 11.0.9, what version of IE do you have and is it running in Edge mode? 11.0.9600.16428
http://simonbertoli.com/aaa/
cc @ngokevin Sounds good. I'll take a look. Also, if you can think of a test that would have caught this regression, I would be happy to include/write it.  similar to #2747 and #2752.
@ngokevin I suggest the documentation for the `sound` component be changed to reflect this too, because as-is, the preloading audio example does not work:
@dmarcos I think we'd want to store an `arraybuffer`, but since the browser is the one loading the audio for an `audio` tag, I don't know of a way to get an `arraybuffer` out of the `audio` element. The `a-asset-item` workaround works because the `THREE.FileLoader` is makes an `XMLHttpRequest`, and that request is configured to return an arraybuffer: https://github.com/mrdoob/three.js/blob/master/src/loaders/FileLoader.js#L253
**note** on my machine I am only able to run the tests in Firefox Hey @ngokevin, I haven't seen the intermittent failures reproduce on my machine, and I also just submitted a PR that touches this code again. When you get a chance I hope you can take a look (https://github.com/aframevr/aframe/pull/2748) and provide feedback, and also let me know if you're still seeing failures?    system.update() is not called when system attributes are modified via the web inspector while setAttribute() works as expected.
I just want to point out that in the aframe website the URLs from threejs seem off:
The hashtag "#Reference" has been swapped for "#api"
Changes proposed:
I am try to rotate the 360 image using
``` Hello nwoltman
- A-Frame Version: 0.5.0 and current master @ngokevin I just think that this is not a corner or a rare case - changing a class name of an element so that it triggers (or does not trigger) a selector match. Why not do an extended check in the raycaster component (maybe just reacting on "class" attribute changes)? Is it a performance consideration?   The physical based rendering of A-Frame is limited because these values can only come from integers. Popular physical based pipelines like Substance Designer generate texture maps for diffuse, roughness, metalness, and normal.
I know it seems kind of crazy, but when I just started out as an artist in VR, all I could build with was cubes and spheres and simple cylinders that I scaled just so. It took me a long while to build up to being a 3d artist, but meanwhile I wanted every cool effect I could get away with on those primitives :)
I think there is a lot of room for expansion of basic primitive parameters in AFRAME, perhaps some sort of more universal primitive component would be valuable.
Some things that are missing from aframe that are useful in SL are things like path cut, hollow, twist, and shear. They also have flexible primitives. And the big thing I find missing from aframe is unique textures (and attributes such as shininess / roughness) on a per face basis. ( Of course there are some components with different properties, but none that are as far reaching as the above ).
An aframe extended primitive component that had a 1:1 match for each of the Second Life / Opensim primitive parameters would open the door to bringing a lot of already created 3d content to the web.
People make quite complex structures with these platforms and primitives because of the wide variety of deformations and attributes presented. AFRAME would benefit from supporting more of these.
To: aframevr/aframe <aframe@noreply.github.com>
I know it seems kind of crazy, but when I just started out as an artist in VR, all I could build with was cubes and spheres and simple cylinders that I scaled just so. It took me a long while to build up to being a 3d artist, but meanwhile I wanted every cool effect I could get away with on those primitives :)
It's been my observances in VR that many artists tend to go through various phases:
2. minecrafter types capable of assembling complex objects with basic primitives (guns made from blocks)
3. primitive tweakers who play with complex textures (usually seamless) to get an even more detailed object
http://freepbr.com/
I think there's alot of ex-Second Lifers wondering if a-frame could be the basis of the next metaverse, and we're transferring our own experiences onto your project. Take from it what inspiration you like or not. =)
My client wants shiny metals. My 3D artist works with Maya which, apparently, can't export shiny, and converting to glTF is not an option (their preferred format is fbx, which is proving to be a nightmare).
@ngokevin
two users of aframe:
3d noobs who should be content with phong
It would be great to include TypeScript support w/ A-Frame. This doesn't require any code to be rewritten, just include [a .d.ts file like this](https://github.com/devpaul/aframe-typings/blob/master/src/AFRAME.d.ts) as part of the release and add some tests to exercise the typings against A-Frame.
I'm happy to answer any questions. If there's enough interest I'll submit a PR. I forgot to mention, if people would like to experiment w/ current ambient declarations there's a boilerplate here: https://github.com/devpaul/ts-dojo-aframe-boilerplate > If the .d.ts file will have to be updated by hand regardless, then I think it would be better to maintain it outside of this repo ‚Äî none of us are using TS here, and it's likely to go stale.
I love A-Frame's usage of the DOM. Typings would lower the barrier to entry as users start working directly with elements or writing custom components. Having Threejs typings for `object3d` and the other more complex dependencies of A-Frame has helped me quite a bit.
Bundled typings are indicated via a `types` entry in `package.json` that points to a file (e.g. aframe.d.ts) distributed with the package. Docs: https://www.typescriptlang.org/docs/handbook/declaration-files/publishing.html
What could be the reason for this performance drop?
Thanks! Hi Jiel,
There are outstanding issues in the polyfill, of course, so please let me know if you're aware of any bad bugs and to help out with priority, because Aframe is by far the biggest consumer of the polyfill (I'm guessing, anyway), so try it out and let me know if there's anything else on our end needed to no longer need a fork.
I have resolved this for myself by making a branch where this specific commit is reverted, but I haven't done a PR for the revert, as I expect the team would rather investigate the issue and get A-Frame working properly with the official polyfill version. Thanks for the heads up, @RSpace. Creating a bug on webvr-polyfill, dug into this a bit   Yeah, multi-language docs need integrates into the docs  **Description:**
I'm trying with the three.js examples, but I see a message saying my broswer does'nt support WebVR for the webvr section examples (same for chrome). There's no crashes
The link should be replaced with this `https://aframe.io/docs/0.5.0/introduction/writing-a-component.html`
hi cavin
Janavee  **Description:**
There were a small grammar error and a broken link to `gifpardy`.
Here is a hacky solution that I came up with:
```javascript
import AFRAME from 'aframe';
AFRAME.registerComponent('text-auto-width', {
<a title="translate" class="button fa fa-arrows active"></a>
@dmarcos
THREE.WebGLProgram: shader error:  0 gl.VALIDATE_STATUS false gl.getProgramInfoLog invalid shaders   ERROR: 0:5: 'highp' : precision is not supported in fragment shader
Touching Daydream touchpad causes `TypeError cannot read property 'length' of undefined`. Because of this TypeError, I also seem not to get `axismove` or `trackpadmoved` events.
__proto__: CustomEvent
```javascript
- A-Frame Version: aframe-inspector@0.5.2
- Reproducible Code Snippet or URL: https://aframe.io/examples/showcase/a-painter/
viewer built with Aframe with artifact:
https://beta.babylonvr.ca/viewer
- Platform / Device: GearVR, Oculus Browser
- Reproducible Code Snippet or URL: Any of the Aframe.io Examples
@dmarcos @ngokevin @donmccurdy thoughts? sidebar: @cvan let me know what you think of the example in #3210 that has multiple sources and HLS, along with some crude click-to-play scripting per the above  http://stackoverflow.com/questions/43774660/aframe-remove-texture
```jsx
@shikuru  You can remove event handler which is responsible for starting an animation on animation end.
---------------Javascript-----------------
- gaze-based (Cardboard)
Mayognaise's mouse cursor is designed differently, but gaze and controller cursors could be integrated somehow.
To Teleport.
AFRAME.registerComponent('set-camera', {
AFRAME.registerComponent('set-rotation', {
This will speed adoption much faster I believe. I am in the process of completely learning everything now because of what aframe can do. I believe once people can add interactivity it will inspire those that want to program at a higher level. Does this make sense?
As you can see I'm not afraid of code and hack entire blocks of it to get
I am currently working on a panorama viewer built with Aframe and some homes that we use have more than 40 panoramas. I have put together the example described above based on 360-image-gallery-boilerplate to see if it has to do with my code or with Aframe.
- **Reproducible Code Snippet or URL:** https://codepen.io/aidanfeay/project/full/XmgpOD
switched from console.warn to warn() and added braces around if. I hope it's OK (but please take a quick look - I'm not such a genius with javascript)
The keys in the "mappings" struct in registerprimitive are case-sensitive and must be lower case to work.
This is totally non-obvious.
https://aframe.io/docs/0.5.0/primitives/#register-a-primitive
There is something about camelCase in addComponentMapping but it's not clear to me what this is.
AFRAME.registerPrimitive('a-myNewComponent', {
@ngokevin Thank you. What about the first part of a question? Can it be considered a feature-request?  Hello,
Pointerlock on focus seems most natural to me. Mousedrag is a drag D; What if there are multiple Aframe scenes on a page, or lots of other content on the site to scroll through? The only other situation I can think of is if there is lots of content at the top of a page and an A-Frame scene at the bottom. The user could be confused as to why there is no pointer.
- changed 'light' to 'geometry' in description
(Oculus browser)
// Don't exit VR if not in VR.
FAILED TESTS:
should fix #2606
- proper reference was not given for "entity-component-system",hence added.
- Fix the link for the vive requirements
https://aframe.io/docs/master/introduction/device-and-platform-support.html#hardware-specifications
it is used for mobile device
Handles quirk in Nightly where gamepad id strings are same for both controllers and trackers (either all `OpenVR Gamepad` or `OpenVR Tracker`), but hand properties are correct.
it is used for mobile device
I am raising this as an issue here, as the WebVR Polyfill Examples are working on iOS, but aframe does not. So it doesn't seem to be an iOS problem.
I was investigating why it is not working with aframe, but the only difference I found is that the examples are calling requestPresent handing over a canvas object.
Also interesting the comment:
Is this ensured in aframe?
https://github.com/toji/webvr.info/blob/master/samples/03-vr-presentation.html
a-scene {
@rambambulli
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
thanks for your time. Now it works but when I move from vr to pano and back the a-scene is a bit smaller resulting in a white line on the bottom or on the right (depending on landscape or portrait of course)
i have no issue  This adds a triangle geometry as discussed in #2535.
I guess that means we have to add strip and other more advanced geometries...
would be good to understand what browsers actually do including previously mentioned exceptional cases.
higher-level components (e.g. oculus-touch-controls and vive-controls ) are allowed and indeed encouraged to be multiply specified, and only those actually present are bound using tracked-controls.
The approach you are suggesting (remove the hand property, have the component use what it provides to you) is what I generally describe as bottom-up approach -- which was previously rejected when proposed w.r.t. oculus and vive, specifying multiple options explicitly was deemed preferable.
> 2, Specifying both hands is confusing (solution to problem 1):
Don McCurdy asked me to file this as a bug. The community needs a more thorough documentation of materials and shader development for aframe.
- Platform / Device: Safari
How do I trace back this warning a specific entity? All I know is that it's some entity that has a sound component. 0 identifier being given and in many instances there are too many entities to reason out which one it is. @ngokevin awesome! Thank you.  I'm using the look-controls component on a Pixel C tablet and noticed that I can only pan left to right when dragging the screen around. This is also happening on the Hello WebVR example.
I updated the page to include brainstem and the duck next to each other and they look fine until I go into VR (on Vive) or into Inspect mode.  http://pieper.github.io/sites/gltf-question
how the aframe get accelerometer and gyroscope values when we using it in mobile , so can i give the values externally if am using computer....?  **Description:**
- added missing closing tag in a-collada-model documentation
Long time I am using **aframe** :D
@l2aelba that's related to entity animation (being replaced by the way, cf https://github.com/aframevr/aframe/pull/3678) and has no relation with look controls. @Utopiah Aha ! So thanks so much.  @Utopiah closing?  This PR, which includes #2538 in its entirety (and is intended to be merged afterward), should add support for the new 3DOF Gear VR Controller as proposed at https://webvr.slack.com/?redir=%2Farchives%2FC0EEECMA5%2Fp1490839724160554
![com oculus vrshell-20170413-202106](https://cloud.githubusercontent.com/assets/293795/25032234/482d1094-2087-11e7-8b82-7d5dec4915eb.jpg)
<a-scene vr-mode-ui>
@ngokevin this can be closed, I believe. I'm able to repro behaviour in 0.5 but not in 0.7.0. (maybe @derhuebiii would like to confirm.)  Is there a way to use a custom fragment shader for a material? If not, this feature should be added.  If so, the documentation should specify it.
@ngokevin - Sorry for lack of response (I was swamped with work stuff for a bit). Thanks very much for adding the test / fixing.  you mean should be able to override base URL, right?
The AFRAME.utils-Function "deepEqual" causes an Infinite-Loop leading to a Maximum Call Stack Error when a Component-Property is updated under the following circumstances:
AFRAME.registerComponent('reproduce', {
3. Infinite-Loop happens
Screenshot: https://gyazo.com/c6b620150e884cfc24fac9e9b9bb9d25
@ngokevin what? You say that a-frame doesn't update values in attributes, but it does!
to keep tests working, only getVRDisplays when VR entered.
but got weird effect where right hand was applying offset but right hand wasn't,
so there may still be some strange race condition somewhere)
Thanks for the patches + reviews! (@ngokevin you can squash at merge time via Github, correct?)  #It would be very convenient to have methods to add and remove mixins using using Javascript in the same way class names are handled:
https://aframe.io/docs/0.5.0/core/entity.html#events_componentinit
AFRAME.registerComponent('collider-check', {
AFRAME.registerComponent('test', {
- add segments
@ngokevin thanks  so it seems that you want a separate component that will apply default user height like camera, and use that instead of default camera behavior?      After #2476 and #2477 were merged, it is now possible to run aframe in node. This is a regression test to preserve this functionality as aframe grows, and to iterate upon to make it run better in node. This is a partial solution to #2031, but there will most likely need to be more work.
I think it is important that the raycaster is interacting with non-visible entities. For example if I want to show the cursor (attached to the camera) when it is entering an invisible sphere, I want exactly that behaviour. So you can create user interfaces where the cursor only appears when the user can trigger an action. @ngokevin thanks kevin
Which `el` is it in this case? I did `AFRAME.scenes[0].querySelector('[raycaster]').components.raycaster.refreshObjects();`
I'm still seeing 3 GETS when using `<a-asset-item>` One consequence of this is that even with `<a-asset-item>` resources, it's difficult to reliably reason about download progress due to the abundance of non-meaningful XHR progress events. Thanks for the fix I was eager to try it. When I switch to current aframe-master.min I get:
document.querySelector('a-sky').setAttribute('src', '#source');
I am creating an editor for HTML content where one building block is for aframe blocks.
If I push an aframe scene the first time, this works all fine. If I do it a second time, I get the error:
Kr,
AFRAME.registerSystem('system-before', {
AFRAME.registerComponent('system-before', {
AFRAME.registerComponent('system-after', {
AFRAME.registerSystem('system-after', {
``` Hi @dye784,
AFRAME.registerComponent( 'dynamic', {
target2.setAttribute( 'geometry', 'primitive: box; buffer: false; skipCache: true' );
<a-entity dynamic>
AFRAME.registerComponent( 'dynamic', {
target2.setAttribute( 'geometry', 'primitive: box; buffer: false; skipCache: true' );
definitely~i'll look into it updated~ oh gotcha i wasn't using ruler. try now  I was confused for a moment when inspecting `AFRAME.utils.coordinates.isCoordinate` in the debugger. Seems it should be renamed (or aliased) to `areCoordinates`.
http://codepen.io/machenmusik/pen/JWXGap
So two apparent bugs:
With Rift,
Nightly, which does *NOT* work properly, does *NOT* return stageParameters:
this.dolly.position
this.dolly.position
`VRStageParameters {sittingToStandingTransform: Float32Array[16], sizeX: 2.0250000953674316, sizeZ: 2.0250000953674316}` With Vive,
this.dolly.position
this.dolly.position
http://codepen.io/machenmusik/pen/aJNejw
@dmarcos @ngokevin @kearwood let me know if you would prefer to close this issue and open a new one on the controller.  (@fernandojsg do you see this with your recent A-Blast Touch changes?) I would think it's something like the room transform not being applied to the controller pose?  ie:
Cursor
The reason why `emulated` is needed is because per some of our original discussions on how to support multiple types of controllers, the strategy employed is to speculatively pre-attach the various components that could be used (`oculus-touch-controls` and `vive-controls`), and they are supposed to do nothing if their respective controllers are not present.  When #2314 committed changes to always attach event listeners, that broke the do-nothing contract, and so with both `oculus-touch-controls` and `vive-controls` attached, both components reacted to events that something like `tracked-controls` would generate, leading to e.g. double-event bug #2379.  If applications perform non-idempotent operations as a result of getting tracked controller events, the effects can be more significant.
Although, actually it turns out that for replay examples like https://ngokevin.github.io/kframe/scenes/aincraft/?avatar-recording=recording.json
(Assuming you mean Touch here, but not Vive?)
On Thu, 9 Mar 2017, 03:13 Kevin Ngo, <notifications@github.com> wrote:
Keeping the worldspace transform and rotation of the child would allow a camera to step on an elevator, move freely whilst on it, then step off on a different floor seamlessly.
```javascript
AFRAME.registerComponent('parent-constraint', {
const Context_AF    = this;
//model change
if (Context_AF.psuedoParent !== null) {
Context_AF.setupConstraint();
//     Context_AF.setupConstraint();
const Context_AF    = this;
const Context_AF    = this;
const data          = Context_AF.data;
let parentObject3D          = Context_AF.psuedoParent.object3D;
let thisObject3D            = Context_AF.el.object3D;
if ( scale_P.length() > Number.EPSILON ) { //zero-vector will throw a bunch of errors here ...
'triggerup'
IMO it is highly undesirable to have browser-specific gamepad API mappings for the same controllers on the same machine.  @cvan @kearwood @toji - would appreciate your thoughts on how best to resolve discrepancies. Easiest way to "split" the axismove handling is to simply comment out the onAxisMoved handler, in which case the code won't fire.  but remember there is already a different version of axismove committed into master for vive only, not for oculus, so we'd be disabling that vive-only functionality by doing so so rather than split out the axismove handling, I added axis change propagation, which allows culling of spurious moves. @cmvanb if you get the chance, can you check to see whether the latest version of this PR prevents the spurious `trackpadmoved` events you were seeing before? @dmarcos relayed discussion with Mozillans where different Oculus Touch button/axis mapping is not likely to change soon (unlike id string).  Can I urge Mozillans to reconsider?  At least make analog buttons like trigger and grip generate actual button events, rather than treating them like sliders... otherwise even simple trigger button down/up will become unreliable See https://github.com/aframevr/aframe/pull/2446#issuecomment-283754949 @ngokevin you might actually be better off also capturing emitted events from `oculus-touch-controls` and `vive-controls` (perhaps daydream and gearvr, not sure about leap hands) as well as those from tracked-controls, at which point you don't even need emulated true, you just need the app to be paying attention. should we deprecate this in favor of #2446? Right.  if you merge this PR, #2446 will simplify itself :-) so which things between this and #2446 want to be separate PRs?  there is some overlap so may be nontrivial (e.g. https://github.com/aframevr/aframe/pull/2423#issuecomment-283206116), and i am tied up for a little while
http://codepen.io/machenmusik/pen/QdewNZ >Are you looking for this value?
```hbs
```hbs
``` > You can access the default value before initialization like this: AFRAME.components.camera.schema.userHeight.default
@ngokevin mentioned up here https://github.com/aframevr/aframe/pull/2418#issuecomment-281202407
@machenmusik You are right, there may be a bug somewhere in here that I am trying to work around, but I'm so new to Aframe so I just hacked around it for the time being. I think what I observed was if you initially render this
I feel like we are going in circles. I've laid out the use case why it would be nice to have the value as a constant and not a runtime calculated value. The remaining question is whether it is worth it for you all to expose it. @ngokevin It was mentioned above that `AFRAME.components.camera.schema.userHeight.default` should have it, but it is only ever zero in my testing, when it seems like it should be 1.6. Maybe there's bug there where it is not 1.6 when it is supposed to be? If so, that would be a good alternative to a public constants section. @kellyselden - @ngokevin statement matches my observations above https://github.com/aframevr/aframe/pull/2418#issuecomment-282892629 it seems that you want two things to happen:
1 - let aframe pick the default camera height
Closing for now. @machenmusik's workaround is better than my workaround. It makes waiting for first render not as bad as before. Will reopen if any new info arises.  what's this ? a custom element ?
AFRAME.registerComponent('test', {
```javascript
setPhong(selector, params)
```javascript
AFRAME.registerComponent('mycomponent', {
this.setPhong('cube2', {color:'green'});
I see 2 tricky bits here:
<script id="avatar-selector-tempalte">
``` @ngokevin this is cool for handling the first case, where you want to clone individual objects out of a gltf file, but doesn't work for the case where you only want to reference nodes but keep them in their original hierarchy. My current usecase for this is referencing joints for skinned meshes and specific materials. Yep, that's what I am doing now, would just be nice to have some declarative way to get at these so reusable components (with no knowledge that they are operating on some deeply nested node) could be added to them.  the pool component is creating the pool of entities twice.
- Reproducible Code Snippet or URL: aframe/examples/test/pool (checking the pages html will confirm 20 'laser' entities instead of 10)
Today, an another tricky question.
In extenso: 2 times img xhr make the first img ( dom element ) having complete state to true whereas the img is not complete.
You will probably have to listen to DOMMutations on a-assets
The second one is to create diffrents Events for video and img loading and complete and attach those events on elements, but it won't correct Double Loading ( Thx to Aframe Asset Managment System ).
Cordialy,
An Aframe Lover.
<script src="js/aframe.min.js"></script>
id="textPrimitive"
geometry="primitive: plane; width: 5"
text="color: white; align: center; width: 5; font: kelsonsans;
geometry="primitive: plane; width: 8; height: auto"
value: a-plane align:center (anchor:align) DejaVu width 8 1234567890123456789012345678901234567890">
@dmarcos @ngokevin was there some issue in creating the aframe-v0.5.0.min.js file, that does not exist in aframe-master.min.js? @machenmusik - it wasn't that I expected the script to directly embed the font file; rather that I expected the script to fetch the font by AJAX, like the `master` bundle. I assume this is the intended behavior whatever the release. if you are loading your web page from file system, there may be a security permissions issue.
see this codepen which works with aframe.min.js:
Maybe you have other ideas and ways in mind how to further improve the build size? Happy to hear what you think.
> browserify src/index.js -s 'AFRAME' -p browserify-derequire "--debug" "-t" "[envify" "--INSPECTOR_VERSION" "dev]" "-o" "build/aframe.js"
npm ERR! aframe@0.5.0 dev: `npm run build && cross-env INSPECTOR_VERSION=dev node ./scripts/budo -t envify`
npm ERR!
npm ERR! If you do, this is most likely a problem with the aframe package,
npm ERR!     npm bugs aframe
npm ERR!     npm owner ls aframe
npm ERR!     /data/Projects/a-frame/aframe/npm-debug.log
npm ERR! aframe@0.5.0 start: `npm run dev`
npm ERR!
npm ERR! Failed at the aframe@0.5.0 start script 'npm run dev'.
npm ERR! If you do, this is most likely a problem with the aframe package,
npm ERR!     npm bugs aframe
npm ERR!     npm owner ls aframe
npm ERR!     /data/Projects/a-frame/aframe/npm-debug.log
npm ERR! errno ENOENT
npm ERR! spawn ENOENT
npm ERR!
npm ERR! If you do, this is most likely a problem with the aframe package,
npm ERR!     npm bugs aframe
npm ERR!     npm owner ls aframe
npm ERR! code EACCES
npm ERR! errno -13
npm ERR!     at Error (native)
npm ERR!   errno: -13,
npm ERR!   code: 'EACCES',
npm ERR!
- Reproducible Code Snippet or URL: https://aframe.io/examples/showcase/helloworld/
Reached the same conclusion, too heavy for that very specific use case, wondering if someone has a lighter solution. Yes it's precisely what I did before cf https://twitter.com/utopiah/status/831496563780378625 so... in case others stumble upon the same issues:
It's a bug in the WebVR Polyfill, but I'm reporting it here because it looks like this fork of the Polyfill is only used for A-Frame:
1. Open https://aframe.io/examples/showcase/helloworld/ in Firefox
```javascript
(3) if the intent is to still make an external call, then ONLINE_DPDB_URL should be set to the appropriate URL string value. I have the same issue on Chrome 56.0.2924.87 on Android 6.0.1 (Samsung S5; tested with aframe master and 0.5.0). Also the examples on aframe.io does not work with Chrome 56 only with Chrome Dev, I guess the latter supports the WebVR API and don't have to use the polyfill. I tried the bugfix suggested by @Stefie and it resolves the issue. But another error occured afterwards:
aframe markup:
is a bug.
if (THREE.Cache) {
import 'aframe';
} from 'react-native';
- Reproducible Code Snippet or URL: No code snippet, but can provide screenshots (?) if desired? perhaps muting the video would help @Hermanya I'm not sure what you mean - we were never playing video. We were just entering/exiting VR mode on a variety of apps. `wakelock.js` is using a video under the hood to keep the device awake. `play()` fails because mobile chrome requires the user to tap on something on the screen in order to play a video. The only way around that is to mute the video, so that it's more like a gif and less annoying to the user. Thank you for explaining the errors that were encountered! But, I guess I'm confused now - I'm not sure how they tie into the enter VR button disappearing after exiting VR mode, or how that can lead to a solution to it. Judging by what you've said, that's the source of the errors, but it appears the errors may be independent of what we were experiencing then - our main issue was that when you clicked the enter VR mode, and entered, then exited, there was no way to re-enter VR mode (the button disappears) without refreshing the page.  I tried many threejs examples both which use the touch controller on FF Nightly and Chromium VR
But when I launch these aframe examples my controllers Stay locked at the first position where they show up when toggling the VR mode...
- https://aframe.io/a-painter/
- https://imgntn.github.io/jBow/
<a-mixin id="cat-mixin"
data-name="Nyancat" // will be the default data-name and overided by entity dataset
text="value: miam"
<a-entity  id="my-first-cat" mixin="cat-mixin" data-name="Miaous" >
<a-video src="airbending.mp4"></a-video>
<source src="airbending.mp4" type="video/mp4"/> // At least one source
If you use video with source like mentioned before, you will trigger a console.warn that is implemented on your library because currently: Aframe expect an src attribute.
The video will play in 3D environment but the warning hasn't to be triggered and at least aframe should take the right source that the navigator takes.
500- 1000 boxes = very shaky, stuttery and sluggish
Is there anything that can be done about this? Hi @ngokevin, thanks for your performance suggestions. Do you have any advice for collada models? Can you `mergeTo` a collada model? I'm experiencing the same problem on Android (7.0, OnePlus 3T). I realize this issue doesn't lie solely with A-Frame, but I think it's an important one as new VR creators try to get up and running quickly and want to show off their creations on whatever hardware they have.
@ngokevin A couple of questions if you don't mind:
I just started tinkering with A-Frame, and built my first VR experience. I'm extremely impressed how it works with tried and true web technologies, and how low the barrier to entry is. That being said, this issue _increases_ the barrier to entry for anyone using Android. I do have several hundred boxes in my scene, but my phone easily renders it at 60+ fps. There's no apparent performance issue, though the head tracking is still jittery. While my demo served the purpose of learning about A-Frame, it's difficult to show others with all the stutter.
https://github.com/donmccurdy/aframe-extras/issues/117
http://codepen.io/jonikorpi/pen/EZLQoG
geometry="primitive: box; height: 1; width: 1; buffer: false; skipCache: true"
geometry="primitive: box; height: 1; width: 1; depth: 1; buffer: false; skipCache: true; mergeTo: #mergeTarget"
- Reproducible Code Snippet or URL: http://codepen.io/jonikorpi/pen/EZLQoG Agreed. Seeing the same problem with 0.5.0 +1, still getting the same error... +1 at 0.6.1 +1 at 0.7.0
note: I'm using aframe-react though.  **Description:**
- Reproducible Code Snippet or URL: https://gist.github.com/AmadeusW/478b521e49bc4bbc612c623249a44fa8
Encountered the same problemÔºåhow to triggers enter VR presentation? I use the last version chrome mobile browserÔºåand it worksÔºÅit seem to some browser does not support the VR presentation any more.  **Description:**
> +[COLLADA (`.dae`)](https://en.wikipedia.org/wiki/COLLADA) is an XML based format with a very rich feature set ([example](http://curious-electric.com/aframe/collada/)).
```diff
- Misses        634     635       +1
ngokevin [8:00 PM]
https://ide.c9.io/maissani/testvr
https://testvr-maissani.c9users.io
>ngokevin commented on this pull request.
>+      <a-text mixin="text" font="kelsonsans" position="3 0 0"
>+      <a-text mixin="text" font="kelsonsans" position="3 2 0"
>+      <a-text mixin="text" font="kelsonsans" position="3 3 0"
>+      <a-text mixin="text" font="kelsonsans" position="3 3.5 0"
>+      <a-text mixin="text" font="kelsonsans" position="3 4 0"
>+      <a-text mixin="text" font="kelsonsans" position="3 4.5 0"
>+      <a-text mixin="text" font="kelsonsans" position="3 5 0"
>ngokevin commented on this pull request.
I'm the author of aframe-point-component
https://github.com/naugtur/aframe-point-component
When a scene contains both an entity with `raycaster` and a `<a-collada-model>` there's an error thrown:
@ngokevin Is it the same issue except for collada instead of obj?  Done: https://github.com/aframevr/aframe/pull/2320
Hey @ngokevin I can write the guide. I just wanted to know that what format should the doc be in?
It's a bit confusing for us A-Frame users because the "look-controls" component covers 3 quite different interaction styles: desktop with a mouse, mobile with multitouch, and VR/magic window mode.
> <https://github.com/notifications/unsubscribe-auth/AB-_4t4Czy63EalJqYVL4rV_lMCC5BxGks5rWnzVgaJpZM4LuJev>
re: recorder and tracked controller events - the worry I have is that if the app uses both aframe controls and also gamepad api (e.g. arcade), recorder replays may not work well / correctly... and that if during recording playback the gamepad api input isn't turned off, chaos may ensue
ngokevin [8:08 PM]
you mean you‚Äôre not using tracked-controls?
ngokevin [8:10 PM]
a-scene stats are too dark
- Reproducible Code Snippet or URL: http://codepen.io/fabricius/pen/ZLJvoz
aframe.io > Get Started > Device & Platform Support > Best Practices > FAQ > The End
aframe.io > Introduction >  Device & Platform Support > Get Started > Guides
Separate discussion:
* At the moment, the first time the doc mentions 'asset management' or 'entities' or 'lights' is in Best Practices. Readers have had no introduction before that. So even if it wouldn't hurt beginners to read Best Practices and the FAQ, they won't necessarily be able to understand them.
- Reproducible Code Snippet or URL: http://codepen.io/tinchoforever/pen/ZLyEbj
here with Aframe 2
http://codepen.io/tinchoforever/pen/ggROwL Aframe 4
In Aframe 4, I'm only enable to move the camera using touch but no movement.
I've discussed over Aframe Slack about this, we checked over Google WebVr Polyfill and there is no restriction for this on their lastest version.
An Any help is welcome we are happy to help to create the fix for this issue @ngokevin do you have any idea why 2. was working on Aframe 2.0 but not on Aframe 4.0? Any ideas where to check? Both return **false**
For some reason Aframe 2.0 let us use the accelerometer.
Aframe 4 : AFRAME.utils.device.isMobile()
Aframe 2 AFRAME.utils.isMobile() What do you think ? @donmccurdy  @dmarcos
- Reproducible Code Snippet or URL: http://www.abnahme.mxo.cc/milon/index_desktop.html
![screenshot-milon q clubvr configurator-1485277659947](https://cloud.githubusercontent.com/assets/24720753/22258045/57e02bc6-e260-11e6-8eb9-2a06902f37d1.png)
> `antialias="true"` will help.
@dmarco
@dmarcos you can try accessing with your mobile browser to https://aframe.io/examples/. You can check what I meaning  @ngokevin I understand if you are in vr mode tilt doesn't work but if you aren't , in my opinion, it should work ... however could you make me an example about "play" with camera and vertical panning?
In addition, if the "w" key is pressed in Firefox Nighly, the camera starts to "jump":
I had this behaviour in my project, but this is also repoducable with the aframe hello-world demo.
The idea list of outreachy is also out yet I cant find a project related to aframe. (https://wiki.mozilla.org/Outreachy)
Are there any pending projects related to aframe/aframe-inspector that can be added to the list?
Princi Vershwal  In v0.4.0, using a mixin doesn't work with [aframe-animation-component](https://github.com/ngokevin/kframe/tree/master/components/animation)
mixin="anim-mixin"
A vive controls injected
- Reproducible Code Snippet or URL: kfarr.github.io/aframe-city-builder From Slack 2017/01/22
kfarr [1:51 PM]
That being said, I have noticed with some collada models that they simply don't load properly without this setting being adjustable, it is not about adjusting a model to me, but loading it properly in the first place.
I thought collada was the main support with gltf to come later? I think both are good. Sadly the GLTF issue I have run into is that many are binary and not ascii.  Fair enough. It will be the same issue with GLTF, I do understand that covering all cases would create a large library. I do think that this specific property having a default might actually reduce bugs for model loading quite a bit.
It clears all mixins of el.
-> var str = ' abc def\tghi\n jkl  mn  '
<- undefined
<- " abc def	ghi
jkl  mn  "
<- ["", "abc", "def	ghi‚Üµ", "jkl", "", "mn", "", ""]
<- ["abc", "def", "ghi", "jkl", "mn"]
I see, thanks! @wildaces215
Panner options has been added.
[jsfiddle](https://jsfiddle.net/cuebtvLm/3/)
Allows entity.removeAttribute(`mixin`)
@ngokevin it looks like a-mixin.js sets up the object initially, then mixin update logic is handled in a-node.js. If we want to approach update logic in a-mixin.js, I wonder what the best approach is.  Is this about building an interface-builder in VR? Or assembling an interface in HTML, then have it show up as a VR interface?
This is definitely hard because there are no user guidelines and best practices for what a user interface should be like in VR. A lot of UI is trending towards laser-pointer based because we're so used to 2d surfaces and mouse.
Why is the 0.4.0 version's resolution so bad in VR mode?
When clicking the "Enter VR" icon (the goggle icon), to enter in VR mode, the screen periodically turns black. The issue seems to occur at random times.
Whether it fails (renders black or is successful) I recieve the following errors:
at r (aframe.min.js:281)
The issue seems to vary in occourance depending on device.
<!--Moon-->
<a-sphere src="#earth" position="0 -9.5 0" scale="9 9 9">
@dmarcos: Yes, I've also tried updating to 0.4.0, same problem. I just tried to run the showcase HelloWorld on the phone, works perfectly. It's built with Ionic / Angular.js, the scene can run independently, at least the VR mode can. Clicking VR-Mode works 50% of the times, and it's possible to use the Android back button and spam untill it is successful.
-change errant ; to ,
**Disclaimer:** VR mode won't work right now until the`allow-vr` attribute is added to CodePen's I-Frames.
- Reproducible Code Snippet or URL: https://mitchallen.github.io/birdseye.html
Ok, so, if you're on roomscale devices definitely avoid `kinematic-body`
giordy [3:55 PM]
i‚Äôm using it for mobile
giordy [3:56 PM]
Kk, haven't had the chance to try `teleport-controls` myself yet
giordy [3:57 PM]
giordy [4:00 PM]
or http://www.pippistarace.it/aframe/indexrift.html (with controls but no physics)
leupsi [4:00 PM]
Please have a look at the modified version of the Playground example. The barrier to limit the world works fine, only problem is the camera is bouncing back when colliding. And it doesn't work when wasd-controls are used, no idea why that. I think it's quite useful when playing the scene on a cardboard, so the user does not lost himself in white. http://leupsi.com/interaction/aframe/barrier/
giordy [4:01 PM]
@leupsi it looks fine on safari, what do you mean it‚Äôs bouncing back?
@leupsi i don't see the bouncing either.. to some extent that's controlled by restitution: `physics="restitution: 0.3"` for example.
leupsi [4:05 PM]
giordy [4:09 PM]
leupsi [4:12 PM]
leupsi [4:32 PM]
donmccurdy/aframe-extras
aframe-extras - :confetti_ball: Add-ons and helpers for A-Frame VR.
giordy [3:06 AM]
i think it‚Äôs because teleport-controls doesn‚Äôt like being a child of the camera, but the issue might also be with the generic tracked-controllers since the position is also wrong (edited)
joined #issues
giordy [9:17 AM]
joined #issues. Also, @itsravenous joined, @jeff.gayle joined, @kabbi joined.
giordy [3:05 PM]
@mchen here are the different scenarios that I tried:
giordy [3:08 PM]
giordy [3:09 PM]
giordy [3:10 PM]
giordy [3:11 PM]
giordy [3:48 PM]
@giordy the reason why the player falls through the floor when you put the kinematic-body on it is actually quite simple.  you have your floor-box aboze zero.  so since the player y is zero, as soon as you make it the kinematic body, it is already below the top surface of the floor and starts falling.  move your floor down so the top edge is at zero, and that problem goes away...
what I wonder is whether at y=0 the player is able to move under the walls, so maybe cheat the player up a tiny bit?
so any motion or rotation of the camera is messing with that.
danodejos [2:24 AM]
joined #issues
when you say kinematic-body is incompatible with roomscale, i've only seen your physics system use dynamic and static bodies...?
Yeah, for exactly that reason I've omitted the `kinematic-body` component from aframe-physics-system. It's just in aframe-extras, with an "experimental" label on it.
which may mean another refactor...
that's the approach I took with leap motion, and it worked nicely.
(but it's also much easier with leap motion ...)
that uses a fork of @fernandojsg aframe-teleport-controls that has been taught how to (1) move player entity, not camera and controllers (2) move physics bodies as well as non-physics entities
and has its own equivalent of arrow key `wasd-controls` as well as multi-tap/click, mouse scroll / drag, D-Pad / stick movement... http://chenz.org/aframe-arcade/ does something very similar to (C) actually, although the `teleport-controls` string looks a little different to specify the player entity that should be moved (IMO that is actually better than having a hidden need for `tracked-controls` and moving anything it finds with that component, active or not). (A) breaks tracked controllers badly at the moment.
As you can see I'm using both teleport-controls (the ones forked by @machenmusik, which allows me to have the player start at a different location other than 0 0 0) and super-hands components.
of A-Frame.
Why not allow setting using global coordinates, which would be done by setting local to the appropriate computed global-to-local delta? yes, but if you want to move it to global coordinates, not being able to set using global coordinates will be a problem. I'm not sure we should assume that the player/camerarig is a direct descendant of scene, in the same way we shouldn't assume that camera and controller entities are a direct descendant of scene.  I agree that the most common case is that way right now, but I can see a outer world-offset entity, with a player entity inside that which contains camera and controllers... thinking about this a little more, position and scale are pretty easy, but rotation may not be.  Maybe read-only globals plus utils functions to set relative to a given entity?  And, the geometries aren't getting merged, possibly because of a wrong property check (in merging demo the both have buffer=false).  Nice.  I have pretty limited time this next few months, but do think this is super important for 3D web for all the reasons Don mentioned and we all already know :)
@ngokevin how do you suggest we do this?  There's very little in the component itself that's glTF specific, most of what's in the component I made is build tools and demo -- I would assume it's as easy as copy pasting the Collada component and changing a few lines to make glTF part of core?  The command line Collada to glTF converter works quite well, but it's fairly tricky to set up.  There is an online converter that works for testing, but doesn't build to multiple files so binary data (even when not in binary mode) is baked in, making it giant / slow to parse.
All things considered, I think the Collada to glTF converter is worth the headache of getting it running (just like most front-end developers are now used to the permission problems Node initially has when they are not used to a Linux system).
Right, I think part of the idea here is to make utils and helpers exposed non-private, so that nontrivial new component functionality can be developed without having to be in core in order to depend upon private APIs. To use a potentially flawed Windows analogy... do we see A-Frame core as Win32 API on which a variety of functionality and components can be developed?  Or as MFC where a framework and components are provided, and more can be created by following the paradigm? @ngokevin so sounds like aframe non-component is like win32 API (private APIs may be required) and aframe components are like MFC atop public win32 API.  if so, gets my vote at present  Hey,
<a-entity geometry="primitive: plane; height: 6.1; width: 8" material="src: #p-dr-mtl" class="paper" id="p-dr" position="0 10 0" rotation="-35 0 0" scale="0 0 0">
there is already code in 0.4.0 that will auto-enter for Carmel;
IMO not good to avoid page reload since scripts won't re-run etc. also see #2298 @caseyyee my current working pattern is to use experimental Chromium and Rift; since that sends vrdisplayactivate, all you need to do is lift the headset up far enough for it to trigger deactivate, then let it drop back down to reactivate and bam! you are back in VR @ngokevin the reload should be detected as a "subsequent navigation / refresh", I would think...  **Description:**
- Platform / Device: tried on safari & chrome on macOS and windows
Are there any updates to this issue? same here same @dmarcos i had aframe running as a thumbnail in a corner and when clicked it takes over the page. when it loads small like that the images are very compressed, if you just change the size the image compression becomes very visible. once it is large i destroyed the aframe and built it again so that the images appeared larger. if i had the ability to reload instead, the other state information like position of camera would not be lost on destroy and rebuild.  **Description:**
- Platform/Device: Oculus Rift + Oculus Touch
& http://www.pippistarace.it/aframe/helloworld2.html
this is a demo scene with the oculus touch enabled and the camera set to 0 0 0 http://www.pippistarace.it/aframe/helloworld1.html
AFRAME.registerComponent('update-test', {
AFRAME.registerComponent('receiver', {
AFRAME.registerComponent('update-test', {
this.data.arr[0] = '#FFF';
AFRAME.registerComponent('receiver', {
// Enter VR Mode and hide some DOMs
AFRAME.registerComponent('entering-vr',
// Exit VR Mode and restore visibility
AFRAME.registerComponent('exting-vr',
// On Clicking [X] Button in Mobile
I'm a d√©velopper working currently with Aframe library.
I have to handle zoom and fov with an Aframe camera.
My problem is when i use Aframe camera and when i set the zoom, the display aspect is strongly wrong.
You can test it, by pull Aframe v0.4.0 and by changing camera fov and zoom.
Aspect Ration should be Always set dynamicly:
- when embeded, because when you are in a embeded mode you can have a viewport that is not reflecting to the real viewport: This made default Aframe Behavior breaking ( Aspect Ratio will not display at the right value )   **Description:**
```javascript
**Changes:**
- Platform/Device: PC not sure whether it is currently possible to distinguish 3DOF from 6DOF in gamepad API, as I don't have Daydream?  also due to security concerns, gamepad API does not allow enumeration until controllers are used.  There may be a way to do something like this with tracked-controls utils function isControllerPresent working on a virtual gallery for my mom (shh it's a surprise...)
I am not trusting `gamepadconnected` to work (maybe it will consistently at some point)
and have an example using `AFRAME.utils.trackedControls.isControllerPresent(this.el.sceneEl, undefined, {})` which needed a scene reference to get at systems
Unlike normal entities, primitives do not have this.el.sceneEl
Sidebar, it is a nuisance that you can't use the same source between standalone and proposed core... which would make this sort of thing much easier if working components could literally be pulled into core > @machenmusik What does it mean working components?
so renaming in the primitive at least...
AFRAME.registerShader('offset-repeat', {
// the texture source (probably a video)
fragmentShader: [
Nothing stops someone from doing their own more direct ShaderMaterial usage with this merged... so for more advanced users, they can always go ahead and do as suggested in #2047, and if they are using values with supported types, they can use the convenience mappings.
AFRAME.registerShader('offset-repeat', {
// the texture source (probably a video)
AFRAME.utils.material.updateMap(this, data);
fragmentShader: [
AFRAME.registerShader('offset-repeat', {
// the texture source (probably a video)
fragmentShader: [
the benefit is being able to do many common custom shaders easily, so IMO it's worth it.
AFRAME.registerShader('myshader', {  // or registerMaterial to map to three.js API
81.53% (Diff 100%) ... hampered by, as I understand it, a general lack of tests at all in this area prior to this PR as well?  same thing I ran into with vive-controls earlier.  if there are some minimal criteria (like the semistandard checking) it would be good to add them earlier in the pipeline, it's not entirely reasonable to enforce different standards on external submissions Did some tests, code coverage looks good now.  OK to merge and open issue for remaining property types? @dmarcos let me know if anything else is needed here thanks!
@ngokevin Got it. Thanks.
TODO: update to aframe CDN URLs once published
may want to do #2192 first to avoid spurious conflicts, as it uses the hand animation names that are then updated as part of this one rebased but not yet double-checked.  still recommend new CDN URLs to avoid breaking npm builds that already pulled down old code... ran this last night looked ok on Touch... I am guessing this one may be waiting for point release tested working with latest experimental Chromium and Oculus Touch;
older experimental Chromium 56.0.2900.0, older SteamVR vrserver.exe 1481163074, Vive controllers
- The controls did work for me with aframe 0.3.2.
**edit**: I doubt that its about the model, as it works with aframe 0.3.2, which references the same model (?).
sorry for the late reply  implement https://github.com/aframevr/aframe/issues/2136 so... `tick` has a specific signature `function (time, delta)` which is why calling this `throttleTick` makes sense, it won't work generically for functions that don't have compatible signatures or calling patterns. if one of you would like to make a quick mod to this that does not use the time values passed by `tick` but generically calls `Date.now()` itself, that may make more sense as a generic throttle... > If you debounce the tick and later change the component you might end up with a strange behaviour and then remember / rediscover that tick was being debounced
Also, this could be useful for users of tween.js. I might borrow the code and include it in tween.js as a utility. @mikebolt thanks, agree - @ngokevin is there a standard way to do in aframe?
- `npm install aframe`
`AFRAME.utils.coordinates.stringify` will produces scientific notation for values near zero. If this ends up in a `y` component of the `to` for a `position` animation, the object will vanish with the console error:
The values in the error are the stringified position coordinates.
I saw when searching to see if this had been reported already that `<a-animation>` may be on a deprecation path, so this issue may not be worth addressing
`git clone git@github.com:aframevr/aframe.git`
Cloning into 'aframe'...
Permission denied (publickey).
`git clone git@github.com:aframevr/aframe.git`
Cloning into 'aframe'...
Permission denied (publickey).
.easing(AFRAME.TWEEN.Easing.Linear.None)
- Platform/Device: Windows 10, Nightly 53.0a1 (2016-12-12) (64-bit) I suspect the issue is related to the errors that appear in Firefox but not in Chromium. requestAnimationFrame isn't guaranteed to be called 60 times per second. It looks like some computationally expensive code (resizing a texture) had a higher priority than requestAnimationFrame. Try delaying the code by a second or two and see if that fixes the problem.
Currently on a mobile device I can only enter in the VR mode. I can't enter on the classic regular fullscreen mode, which is disturbing because I would like to hide the address bar like in desktop fullscreen option. Why don't we have both icons like in Google's VR script?
- Reproducible Code Snippet or Demo URL [highly encouraged]: https://aframe.io/examples/showcase/sky/
Event names for vive-controls had wrong description
//componentB
http://lab.immersiveweb.ch/aframe/
- Reproducible Code Snippet or Demo URL [highly encouraged]: http://lab.immersiveweb.ch/aframe/
@ngokevin Can you please post a step by step guide how to fix this problem? I can't quite follow your above answer. Thanks @donmccurdy  Thanks but why on npm is still the old 0.5 version?
```diff
<a-collada-model src="#tree1" position="1 0 -1" rotation="0 30 0"
AFRAME.registerShader('offset-repeat', {
// the texture source (probably a video)
AFRAME.utils.material.updateMap(this, data);
fragmentShader: [
Thanks @ngokevin!
> Server: imgix-fe
> X-Imgix-Request-ID: da63a9d66b2ab49a83e3fa2455b20426fd9911e8
> X-Content-Type-Options: nosniff
Thanks in advance. what happens is, when you request a resource from a third party, you have to mention the origin tag in the request. Then only that third party will send you response with Access-Control-Allow-Origin header. So to do this in aframe, you should add crossorigin=anonymous in your img item in your a-asset.
https://gist.github.com/codechikbhoka/3c0135b88ec1fd876377d091a19f92df url is not accessible.
When entering VR mode I get another error:
I wanted to play around with a-frame animations and things looked in stable chrome (54.0.2840.9), but when I switched to the webvr enabled chrome build from https://webvr.info/get-chrome/ my animations stopped working properly. They still did something, but no smooth animation. Best see for yourself, can be reproduced with the anime ui example as well: https://aframe.io/examples/showcase/anime-UI/. (Quite possible this is a webvr issue in chrome, I just can't say. /cc @toji) It stopped working in the latest chrome build for WebVR from 29th October 2016.
- Reproducible Code Snippet or Demo URL [highly encouraged]: http://jsbin.com/qujuzaz/edit?html,output
<a-sphere
></a-sphere>
```javascript
```javascript
```javascript
```javascript
Add this code:
```diff
- Misses          649        909   +260
Partials          0          0
@fernandojsg crossed comments...
**tracked-controls**
... should we consider calling this tracked-entities or similar, since they may not necessarily be controllers?
**hand-controls**, **vive-controls**, **oculus-touch-controls**
... add specific models and gamepad id filtering (e.g. vive = OpenVR Gamepad, oculus-touch = Touch naming)
(i will submit the refactor as pull request soon so we can transition this discussion) (Further discussion appears in #2132.)  Latest version of aframe v0.3.2 uses tween.js v15.0 which is more than a year old.
tween.js@15.0.0
‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ archy@1.0.0
‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚î¨ gulp-util@3.0.7
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚î¨ meow@3.7.0
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îÇ   ‚îú‚îÄ‚î¨ camelcase-keys@2.1.0
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îÇ   ‚îÇ ‚îî‚îÄ‚îÄ camelcase@2.1.1
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îÇ   ‚îú‚îÄ‚î¨ loud-rejection@1.6.0
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îÇ   ‚îÇ   ‚îÇ ‚îî‚îÄ‚îÄ strip-bom@2.0.0
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îÇ   ‚îú‚îÄ‚î¨ redent@1.0.0
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚î¨ fancy-log@1.2.0
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚î¨ gulplog@1.0.0
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚î¨ has-gulplog@0.1.0
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ sparkles@1.0.0
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ lodash._reescape@3.0.0
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ lodash._reevaluate@3.0.0
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚î¨ lodash.template@3.6.2
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ lodash._basecopy@3.0.1
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ lodash._basetostring@3.0.1
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ lodash._basevalues@3.0.0
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ lodash._isiterateecall@3.0.9
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚î¨ lodash.escape@3.2.0
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ lodash._root@3.0.1
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ lodash.restparam@3.6.1
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ lodash.templatesettings@3.1.1
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚î¨ multipipe@0.1.2
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚î¨ vinyl@0.5.3
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ lodash.assignwith@4.2.0
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ lodash.isempty@4.4.0
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ lodash.isplainobject@4.0.6
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ lodash.isstring@4.0.1
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ lodash.mapvalues@4.6.0
‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ tildify@1.2.0
‚îÇ ‚îÇ ‚îÇ   ‚îÇ ‚îú‚îÄ‚îÄ glob@4.5.3
‚îÇ ‚îÇ ‚îÇ   ‚îÇ     ‚îú‚îÄ‚î¨ glob@3.1.21
‚îÇ ‚îÇ ‚îÇ   ‚îÇ     ‚îú‚îÄ‚îÄ lodash@1.0.2
When I test VR mode at Android device(by google cardboard), It seems no stereo effect? things are shown seperately and my eyes can not identify they are stereo.
Code here(I uploaded codes' screen shot for easy reading):
@dmarcos
However I have tried other websites like the demo:  [https://shopifyvr.myshopify.com/pages/virtual-reality](url)
@ngokevin  I am using HUAWEI Mate 8, and here is my device information, thanks!
@ngokevin
Thanks, looking forward to the fixed version! :) FWIW, I am experiencing a similar issue with a Samsung Galaxy S7 Edge. A-Frame scenes rendered in VR mode using the Chrome browser on the S7 have a "double vision" effect, but other cardboard apps work fine, and even the ShopifyVR link above is OK when using Chrome. I was having this issue on Pixel XL. The problem is that the dpdb within Googles webVR polyfill that a-frame uses doesn't have your devices settings. We have to wait till Google updates that database.
- change the ua to the user agent string for your device
"bw": 3,
"ac": 1000
"ua": "HUAWEINXT-AL10"
"bw": 3,
"ac": 1000
// (which are meant for native platforms).
{ "ua": "Moto G (4)" }
"bw": 4,
"ac": 1000
@ngokevin I'm trying to move this forward with the maintainers of the WebVR Polyfill repo:
Unfortunately This component is only 2d and has not been updated for sometime : (
@fuleinist yes. Something of the kind.
> https://github.com/notifications/unsubscribe-auth/ABHB2mJmN0EdcixYc9vaezWZXfNhFVewks5q_aWVgaJpZM4K2RKj
https://github.com/takahirox/a-mmd
``` diff
Partials          0          0
Hi, I added Matrix4 property type #2069
- add `Matrix3`
- removed a `</a-mixin>` that shouldn't be there  **Description:**
npm ERR! aframe@0.4.0 test:docs: `node scripts/docs-link-check.js`
npm ERR!
npm ERR! Failed at the aframe@0.4.0 test:docs script 'node scripts/docs-link-check.js'.
npm ERR! This is most likely a problem with the aframe package,
npm ERR!     npm bugs aframe
npm ERR!
npm ERR!     npm owner ls aframe
npm ERR!     C:\Users\takahiro\Documents\aframe\npm-debug.log
Hack Prius,
Hack Life.
facebook.com/HackLifePrius
- Fixed a typo in a code example
- Adjusted the a-ocean component property from "height" to "depth" since "height" does not have any effect (only width and depth affect the X & Z axes; Y axis is not adjustable by the component).
2) Automatically puts the instance of this component on `AFRAME.systems` when it is instantiated (instead of the definition)
@ngokevin yeah but if foo and baz have ticks() on them it is not guaranteed that the foo-system's tick() will run after the child components, as is the case right now with systems
Addition of the Matrix4 property type for creation of Matrix4 objects to assist in the creation of quaternions.   not standard as suggested in the docs
- Broken link
A-frame API is quite explicit rather than implicit so I would make it an attribute of `<a-sky>` primitive. But given the `<a-sky>` primitive is just a sphere I don't know if something like this can be expressed by the primitive API. Does it make sense, @ngokevin?  **Description:**
![screenshot-iphone-se](https://cloud.githubusercontent.com/assets/1700302/19977502/1643ff78-a1f4-11e6-8b90-56dc2d902106.jpg)
- Reproducible Code Snippet or Demo URL [highly encouraged]: https://aframe.io/examples/showcase/sky/
Still showing the navigation bar in VR mode like this:
From this point I'm pretty unsure what to do, but if I can do anything to contribute to solve this problem.. I'm happy to help.
add link to support page on aframe.io under find out more:
OBJ-Models that have property "obj: url(assets/asset.obj)" (and mtls) get their sources trimmed. When iterating through the elements, you get something like this:
A-frame will throw an error:
aframe.js:62939 Uncaught (in promise) DOMException: Failed to execute 'querySelector' on 'Document': 'assets/BlackCW_Rand_LOD0.mtl' is not a valid selector.
It would be great to adapt aframe to work with node so it can be used on isomorphic apps
@ngokevin @impronunciable I have created a repo [https://github.com/ltfschoen/react-fluxible-test](https://github.com/ltfschoen/react-fluxible-test) that shows how to incorporate A-Frame React into a Fluxible app (i.e. uses isomorphic architecture with server-side rendering) #2484 should get you almost all the way there.  **Description:**
PROBLEMS:
@ngokevin is there anything I need to do here?
React)... but it'd be nice to get back on aframe.io
Renzo
-add browser badges for chrome, firefox, opera, ie, safari
Hi, I'm new to A-Frame.
https://github.com/ngokevin/aframe/blob/5af7916d8460d7f5ecc61fcdcbc9bf6d3afb6f0e/src/core/a-assets.js#L86
- When one clicks on the context the visual inspector script will be injected into the aframe scene
AFRAME.registerComponent('component', function( context ){
//  even custom functionality
- Or AFRAME.registerComponent can check if the second arg is a function, run that function and use it as its init object, extending existing code.
Anyway, I'm happy to articulate the issue and why I think this is an improvement. I first learned of writing JS without using this from Douglas Crockford in [this talk](https://www.youtube.com/watch?v=PSGEjv3Tqo0&t=6m) (timestamped link).
I'll be the first to admit it's "opinionated". But hey, what interesting person have you ever met that doesn't have an opinion?
AFRAME.registerComponent('component', {
In fact, let's go a step further:
AFRAME.registerComponent('component', {
mixer
Here's my fork: https://github.com/mflux/aframe
el,
object3D: el.object3D,
- I couldn't figure out how to initialize buildData for multi-variable schemas. It just doesn't work until I hit updateProperties (but that calls init() so I can't do that before my setup()).
AFRAME.registerComponentFn('test-component', function(){
Experiencing similar problems on Android (HTC 10). Attached screenshots show Aframe (left) compared to a native android application (right)
however performance takes a huge hit, and cardboard view is very stuttery.
Any tricks, workarounds, ideas as to what I might be doing wrong? Thanks aframe wizards!
What can I do to help push this along? @ngokevin Is this confirmed to be a WebVR polyfill bug?  Sounds as though there are multiple popular models not accommodated;
https://github.com/googlevr/webvr-polyfill/issues/129 Ah. I'm experiencing it on an iPhone 6. Didn't realize that it would be so device specific. I'll take a closer look. Thanks for pointing me in the right direction @machenmusik! There appear to be two avenues to fix
@ngokevin shall we wait a couple of days to see if they implement this, or do you want me to create a new npm package? If the latter, what should I call it (aframe-webvr-polyfill)?
My preference would be to just disable it and then keep the package up-to-date with any new devices as they are reported. I am wondering if this issue and [2117](https://github.com/aframevr/aframe/issues/2117) are related or not. I don't know the xdpi and ydpi values for the iPhone 6 or 7+, but the Android phone above (HTC 10) is not in the DPDB cache. So it is not clear if updating the DPDB cache will solve this issue as well, or only the stereo rendering issue in 2117. @ngokevin Yeah, iPhone 6 is affected. It's fine using Aframe v0.3.2 but not in 0.4. @ngokevin @ryanbetts See my recent post in issue [2117](https://github.com/aframevr/aframe/issues/2117#issuecomment-271859295). It seems that issue and this one are not related.
@thoragio
I've tried to use a custom aframe v0.4.0 with webvr-polyfill v0.9.15, but unfortunately all I get is a white screen when entering VR. The same app works with 0.3.2 though. @nullcode I ran into the exact same problem. I'm glad to hear the problem is reproducible; I thought I was going crazy.
![blurry-problem-aframe](https://cloud.githubusercontent.com/assets/14555156/23632272/76c80b7c-02c1-11e7-9701-24d01f0518c3.jpg)
![blurry-problem-native](https://cloud.githubusercontent.com/assets/14555156/23632284/87136e4a-02c1-11e7-892c-35ed829f2b02.jpg)
So, demux video and sound and position both in the same direction with Aframe? I guess it would work if both are in sync when the video and sound start playing. I will experiment with it, thanks.
@ngokevin Thanks for logging this. I remember how long it took for me to figure out that was the cause initially. It should save people some time.
my components, working fine in aframe 0.2.0 no longer work in 0.3.0 or 0.3.2
The `window.AFRAME` global runs counter to that pattern.
Is Aframe compatible with the PS4? The PS4 UX seems to be based on webgl for the most part from what I read but I can not load sky spheres with equirectangular photo's in the web browser. The web browser is based on webkit. The vr symbol appears in the lower right by the way.
**aframe 0.3.0**
https://aframe.io/examples/showcase/helloworld/
In the aframe.io examples, as the content is displayed in iframes, you need to add "allowvr" to the iframe attribute, otherwise you get the following error:
DOMException: Access to VR devices is not allowed in this context.
https://aframe.io/examples/showcase/spheres-and-fog/
Thanks for the fantastic product for VR/360!
I think this might be a typo
@ngokevin Thanks! Those are very helpful suggestions. It will be great to add these in the the A-Frame document.
- my implementation is hackey and the dependencies are complex
> VM14540 aframe.min.js:75 Uncaught TypeError: Cannot read property
@ngokevin can u copy your explaination from Stack Overflow to here. Here I can @ someone who may offer help.
I had the same problem (but I'm using Meteor + React + aframe 0.3.1).
Try to make setInterval or something.
@perak thanks,
After changing to the codes below, it won't give error for me. I will ask around see if a there is a clean solution.
src="https://upload.wikimedia.org/wikipedia/commons/b/be/Random_pyramids.jpg"
ngOnInit() {
@ngokevin thanks for reminding the `loaded` event. And also thanks the help from @alxhub and @DzmitryShylovich on Gitter.
src="https://upload.wikimedia.org/wikipedia/commons/b/be/Random_pyramids.jpg"
http://tbaloo.com/tumbvr
https://ngokevin.github.io/aframe-draw/
Is this an issue on my end? Or was there an update that caused an issue with these VR demos? I ran into the issue locally as well using AFrame version 0.3.1. I'm also using Chromium version 55.0.2869.0.
@ngokevin That worked like a charm. Thanks üéâ
AFRAME.registerComponent(‚Äòmy-geometry‚Äô, { // Called on component attach and data update.
BTW, not sure if anyone tried this component with raycaster as described [here](https://aframe.io/docs/0.3.0/components/cursor.html#configuring-the-cursor-through-the-raycaster-component), the object selector doesn't work.
Regarding the raycaster issue, I looked a little further at it, and this line looks suspicious
<!-- aframe.js -->
- Platform/Device:iPhone6plus ios 9.3.5 safari
Finally I found that safari with more than one tab would fail to full screen.
<a-sky src="puydesancy.jpg" rotation="0 -130 0"></a-sky>
Possibly related to:  #1933
I think that is because Chrome Beta supports the WebVR 1.0 spec and prod does not.
I think we need add some apis to do that.
- Platform/Device: Samsung Galaxy S7 / Cordova
After some research and attempts in aframe, found out this is related to webvr-polyfill. Also found that [someone raised the issue in June](https://github.com/borismus/webvr-polyfill/issues/114) and bumped it.
<script src="js/aframe.min.js"></script>
<a-sky color="#FFFFFF"></a-sky>
// sphere
var rho = Math.sqrt((x*x) + (y*y) + (z*z));
var phi = Math.atan2(y, x);
var theta = Math.acos(z / rho);
var newx = newRho * Math.sin(newTheta) * Math.cos(newPhi);
var newy = newRho * Math.sin(newTheta) * Math.sin(newPhi);
var newz = newRho * Math.cos(newTheta);
var data = JSON.stringify({"words2map":"hihihi"});
I've been teaching workshops/giving talks on A-Frame for 8 months now & I've consistently recommended the `animation` component over the built in for the reasons Kevin outlined at the top of this issue, in addition to being easier for newcomers to grok.
Just wanted to chime in that `<a-animation>` sounds like it does more harm than good being in core & it would be good to remove if it makes maintenance harder (seems like it does) _before 1.0_ (even if that's not on track for 0.8, as that release train is probably happening soon)  hi @darkwing, @cvan. How can a newbie work on this? Is this about creating two a-frame scenes with and without optimize-js and see the different in load-times?  Hotspot functionality in aframe panorama,can anybody guide me or give me some clues on how to make this possible
One more thing,does a-frame already comes with implementation for Yaw,Pitch & Roll or do I have to make it ?
[http://ensoimmersive.co.in/](url)
How do I add Hotspot functionality in aframe panorama,can anybody guide me or give me some clues on how to make this possible
Thanks http://ensoimmersive.co.in/ @ngokevin
@aframevr anything?
@ngokevin Technically, that's both. I need it to render stereoscopically on a device without VR capabilities, as desktop browsers identify themselves, and I want to later pass in custom accelerometer values to the framework. On a rPi.
@ngokevin Thanks, will look into it.
`<a-entity id="soundEntity" sound="src: #black; on: mouseenter" position="0 5.2 0.3" scale="0.2 0.2 0.2"></a-entity>`
Found a typo.
Found a typo.
> https://github.com/notifications/unsubscribe-auth/ABHB2vcI7NJOJPd_zoZHW0iri-7UaVUuks5qqFajgaJpZM4J8WPF
> https://github.com/notifications/unsubscribe-auth/ABHB2vcI7NJOJPd_zoZHW0iri-7UaVUuks5qqFajgaJpZM4J8WPF
@ngokevin  also noticed the video will not auto play in mobile iOS unless muted.
https://webkit.org/blog/6784/new-video-policies-for-ios/
https://webkit.org/blog/6784/new-video-policies-for-ios/
geometry="primitive: ring"
I know, it's fun (if confusing)...
The code is my argon-aframe stuff (github.com/argonjs/argon-aframe).  The offending code is in the "play" method of ar-scene.js.  Right now, the code in the repo is only using a callback on camera-set-active, which isn't getting called for the default camera ... all the time.  The weird thing is, it was getting called sometimes, but I discovered it not getting called in a more complex app I was building which starts out with an empty ar-scene and adds to it programmatically.
var cameraEls = self.querySelectorAll('[camera]');
for (i = 0; i < cameraEls.length; i++) {
arCameraEl = cameraEl;
if (arCameraEl == null) {
Huge Thanks @ngokevin the component worked! Best.
(In reference to [this discussion](https://aframevr.slack.com/archives/general/p1473594376000181) on Slack.)
`mouseenter` `mouseleave` have to be added using `addEventLister` ...weird!
Do the links below refer to the VOX format used in MagicalVoxel?
- [Voxlap Voxel Model File](http://fileinfo.com/extension/vox)
> read(fil,&ysiz,4);
> read(fil,&zsiz,4);
> read(fil,voxel,xsiz_ysiz_zsiz); //The 3-D array itself!
On Sun, Sep 4, 2016 at 8:24 PM, vrimaginar notifications@github.com wrote:
@ngokevin  I did manage to use mediaelement.js and add a youtube flat video into the scene, but not as  a videosphare.
According to the [documentation](https://aframe.io/docs/0.3.0/core/animations.html#easing) the **easing** attribute controls the pace of an animation. Yet if one uses **easing** and not **easin** in an Aframe scene the entire scene blocks.
- Reproducible Code Snippet or Demo URL [highly encouraged]: http://jsbin.com/xaqumi/edit?html,output
Try launching an aframe on the Vive with a very small browser window to reproduce
I understand it's a known issue while is there a walk around or a timeline for resolving this issue for aframe master version?
what can I do ? I am a  tiroÔºåand my English is poor,QAQ
in the  Skeleton  18 line   there  have a  extra  `</a-cursor>`
Found a few things in init that I thought could be shortened.
Spoofed URL -- good call!  Updated!
> https://github.com/notifications/unsubscribe-auth/ABHB2pJ-NaYrP_rtqg2CTrW0r9CNNVm5ks5qjgAKgaJpZM4JtfJI
- goto https://aframe.io/
- click to enter VR.
So I suspect that we need a special case for fixed-position headsets, like the GearVR, to use the 1.8.
if (AFRAME.utils.isGearVR()) {
Adds test for Inspector
a-videosphere is not working in mobile safari on iOS device.
@ngokevin added iphone-inline-video as well as muted on tag. still has the same problem.
Hi @ngokevin, Is this issue good as 'help wanted (easy)'?  Here is a lower resolution version that works on an iPhone 6S with iOS10 10 https://vatelier.net/MyDemo/videosphere-showcase/
Update Link href to `mixin` documentation page.
``` diff
- Misses          565        657    +92
Partials          0          0
Additionally, within Hand-Controls, the path for both the nonexistent TC and the present Vive-Controls is incorrect
``` diff
Misses          657        657
Partials          0          0
``` diff
Misses          657        657
Partials          0          0
Go here https://aframe.io/
``` diff
- Misses          655        657     +2
Partials          0          0
``` diff
Misses          655        655
Partials          0          0
``` diff
Misses          655        655
Partials          0          0
``` diff
Misses          655        655
Partials          0          0
- Displacement Maps
- Ambient Occlusion Maps
``` diff
Partials          0          0
``` diff
Misses          657        657
Partials          0          0
@cvan @ngokevin was right I am definitely interested in your that too
My English is so poor~Sorry
``` diff
Misses          655        655
Partials          0          0
but it never goes right!
direction: 'alternate',
to: 'black'
// Append animation.
``` diff
Misses          641        641
Partials          0          0
``` diff
Misses          641        641
Partials          0          0
``` diff
Misses          641        641
Partials          0          0
``` diff
Misses          641        641
Partials          0          0
``` diff
Partials          0          0
``` diff
Misses          637        637
Partials          0          0
``` diff
Misses          637        637
Partials          0          0
``` diff
Partials          0          0
``` diff
Partials          0          0
``` diff
- Misses          637        646     +9
Partials          0          0
``` diff
Misses          637        637
Partials          0          0
@ngokevin This issue interests me. Can I help?
@mkungla I understand your point. I agree, that would be a better way of doing it. Thanks for your feedback.
@ngokevin Great idea! Should we also trim all the `.md` files stuff like `#`?
``` diff
Misses          641        641
Partials          0          0
@mkungla - Yep, I'll do it today. Because it's such a small change I wasn't sure if it's worthy of a pull request or just a quick change. PR incoming!
@ngokevin I like it, flexibility is always welcome in my opinion.
Some of the current problems include:
- Remove assignment to `CustomEvent#target`
@ngokevin made a good point about using `NodeList.prototype.forEach`/`map` which probably wont fly on older Android/iOS.  Stick with the old I guess.
@mkungla I submitted a PR with Array.from last week but @dmarcos thought we should use `Array.prototype.slice` instead so we could accommodate older browsers.
@mkungla We could consider adding `querySelectorAll` to the `ANode` prototype which would return an array via `Array.prototype.slice.call(NodeList)` ; that way we're always working with an array when we query.
2. Hold your Phone in Portrait Mode & Switch to VR-Mode
3. Hold you Phone now in Landscape Mode --> you will see Blurry Textures
5. Hold your Phone in Landscape Mode & Switch to VR-Mode
Hi, I could not get the VideoSphere demo to work on Android or iOS devices. Is that a current limitation to the aframe.js library or is the demo code out of date?
- Platform/Device: iOS, Android
<script src="js/aframe.js"></script>
I guess the problem is with look-controls?
@ngokevin Do you have a link I could try? How do I test it?
[test example here](http://www.frederickdesimpel.be/test/webVR/Aframe/lighttarget/test2.html). try changing the target of spotlight between #redsphere and #whitesphere or null in DOM inspector. If you set it to null, you can also change rotation of spotlight.
Hold on.. it still doesn't behave as expected...
rebased and squached..
I might be wrong, but wouldn't it make more sense that the object3D is already present when the event is fired?
added event schemachanged
added child-attached example
It's the other way around.
This is the third or fourth usage of `A.p.s.call` -- should we consider a `ANode.prototype.query` method for querying children and returning an `Array` as a standard?
- Fix typo in component docstring ("HAndle" -> "Handle")
how can i Relative Rotation sky but button stop on that  ?
but the button will move with the sky !!
My first Pull Request for Aframe, or the whole of github for that matter...
document.querySelector('#gruppo_uno').addEventListener('sound-ended', function(){
Can 'a-sky' support any degree, not only 360?
This seemed structured weirdly so I made a more simple update.
My big issue is that in iOS Safari even if I write my own sound handlers I get complaints from some global component about the `poolSize` that I don't get on desktop. @ngokevin is there a default `poolSize` that gets set only on mobile?
Frankly I'm confused as to how Aframe is even aware I'm playing these audio files, as this warning occurs even when the `<audio>` are outside the `<a-scene>` and `<a-assets>` and triggered via JS.
On IOS and Mac OS, safari browser!! There is no 'navigator.getGamepads()' function! so this cause html could not run properly! In my html file, there is only a "a-sky" entity. very simple~
code in aframe.js:
- Platform/Device: iphone 6s and Mac book pro, safari
This is the first I've heard of budo being slow, I think as with most code it's just a matter of benchmarking to determine the culprit. Can you provide more details about what is slow? Maybe a test repo I can try on Windows?
npm install mattdesl/budo#feature/livereload-rework
https://github.com/mattdesl/budo/issues/194  Description:
Changes proposed:
@ngokevin
There are so many potential inputs and outputs for A-Frame now,
This may be beyond the scope of AFrame docs,
Is there any intention of implementing DDS support into aframe?
Gonna go the custom component route then, thanks.
@Pupix
AFRAME.registerComponent('texture', {
// Do whatever with this.texture here
``` @Pupix
er.....someone understand????? this bug not happen in iphone's safari!~
@ngokevin yeah pretty much!
// FAILED TESTS:
<!-- tween.js -->
@rafaeleyng #1629 _merged to master_
<a-entity sound="src: #river"></a-entity>
@rafaeleyng since aframe depends on threejs and browsers limitation of the WebAudio API then most of it's behavior comes from there. You can't really compare images and audio since one is resource and other is buffer! So if you re enter the room then you see new request since request is made to reconnect the buffer. At this point there isn't cross browser way how to switch between cached audio buffer for audio element after it is initialized so therefore audio buffer is reloaded which is not a blocker since buffer does not download entire resource (as with images). So if you have audio file with 1 hour of sound track then your audio is not downloaded entirely but based on browser buffered some seconds ahead which is expected when you user might visit the scene only for few minutes. Difference between using aframe asset management or using audio source directly on element is that asset management will make sure that audio stream is ready to play as soon as scene is rendered while specifying src  on element  will first render the scene and then attends to buffer the audio.
@ngokevin
Sure @ngokevin
Definitely! How's this @ngokevin ? Lowered the overall blur radius to 1/3 the size of the last example and kept about the same shadow density to maintain readability.
/*Text Shadow Values*/
- Do not let `Tree` to cache audio files
@dmarcos
@rafaeleyng hey I built an app very recently that did the exact same thing you are working on.  I know I ran into a simular issue though I can't remember exactly how I fixed it.  Do you have a repo I can look through your code to help you with the issue?
@rafaeleyng Cool I'm at work at the moment I looked around the code but nothing jumped out at me.  I'll try to clone it down and run later.  But you might figure out the issue before then üòÑ.
@rafaeleyng honestly I didn't like the solution either.  I was just on a deadline to get that walkthrough working by a certain day for the apartment complex that wanted it.  Because of that digging further into the why's behind this weren't an option.
I'll probably instead of cloning yours just come up with the minimum example to show it and start deep diving the aframe source.
@rafaeleyng no worries sorry we didn't get a more in depth solution to this. I know I had asked @ngokevin about this before but we never got to the bottom of it.  Maybe texture caching isn't working as expected.
the cone of a spot light seems to be a unit higher then it's origin :
http://www.frederickdesimpel.be/test/webVR/Aframe/spot-bug.jpg
not sure if it is the spotlight itself that is in the wrong place or the editor's cone visualisation.
Is this related to #1621?
@fernandojsg i don't seem to have it around anymore... should be easy to recreate, it was just a spotlight and a sphere to check it's position...
http://www.frederickdesimpel.be/test/webVR/Aframe/test11-spot-showbug-spotPos.html
the yellow line is from the light aframe element position, the white line is from the position of the light itself attached to the elements object3D. it is exactly one unit too high.
My Collada Model objects are displayed in different places depending on if i watch them in "normal" mode or in vr mode.
I'm currently trying to get an Aframe project running in a React Native Webview and running into errors reminiscent of the ones discussed here: https://github.com/borismus/webvr-boilerplate/issues/111
When using the last version (top of tree) of aframe on mobile, the non-VR mode doesn't allow the user to move his phone around in "magic window" mode, you have to use your finger and moving up/down is not possible.
http://codepen.io/thomasbalou/pen/rLwQrY
I'm guessing this is an intentional feature,
> I think TweenJS addresses this.
Not ideal.
``` diff
- Misses          641        655    +14
Partials          0          0
* eol=lf
dist/aframe-v0.2.0.min.js -diff binary minified
dist/aframe-v0.2.0.js.map -diff binary minified
dist/aframe.min.js -diff binary minified
.ackrc text
.jshintrc text
.nojekyll text
*.mtl -diff binary
@ngokevin
warning: CRLF will be replaced by LF in aframe.js.
@ngokevin ready to go.
EDIT: Maybe Daydream controllers would need to be separate components, since they're not 6dof.
The tricky part was that [Tojiro's VR controller demo](https://toji.github.io/webvr-samples/XX-vr-controllers.html) and Steam VR detected both controllers without issue.
I imported equirectangular photo correctly but its displaying a little wrong, i can't explain whats wrong exactly but you can see it on screenshot.
Here is aframe version :http://imgur.com/Tg50DSt
There's some pretty detrimental bugs related to the version of threeJS that prevent proper material decoding of collada.
See [Example Tag 0.2.0](https://github.com/mkungla/aframe/releases/tag/0.2.0) release archives for example what release archives would contain. I can create a pull request as soon it's confirmed that only `dist/*`,`README.md`, `LICENSE` should be included in release archives.
@HUKE1987 you'll probably want to convert it to another format, THREE.js support for `.fbx` is limited. You can do use a Blender to do this, or upload the model to Clara.io and export it as `.obj`, `.dae`, etc.
<script src="../_js/lib/vendor/aframe.min.js"></script>
<!-- Orange -->
<!-- Purple -->
<!-- Orange -->
<!-- Orange -->
<!-- Purple -->
<!-- Purple -->
<a-sky color="#AAB"></a-sky>
<script src="../_js/aframe.min.js"></script>
<!-- Rotation not set -->
<!-- Rotation set -->
Enables post scene rendering operations in aframe.
https://wizgrav.github.io/aframe-clubber/demo/
UPDATE: I have the suspicion that vrHMD.submitFrame(); in VREffect is the culprit here
@ngokevin the compositor is better implemented as a system. This is more in line with existing component sets like @donmccurdy physics. Besides being more logically correct as there can be only one compositor in the scene, It also aleviates the need for ordered execution for post processing.
Anyways, yes I'm super happy with this PR and I'll be following along to see where this goes. Thank you @wizgrav and @ngokevin!
I don't have push rights to wiz's fork of aframe so I can't push my rebased+modified branch to his `tock` branch myself unfortunately but I do have the code. @ngokevin @johnnyshankman I don't know why the null/undefined issue happens so I set the test against a generic false value, I don't expect any sideffects from that @dmarcos I'm not sure I understand. You mean keeping the tock infrastructure in but not actually calling it in render()? @dmarcos I understand why you want to keep something so core as simple and generic as possible, I'm thinking more from a convenience standpoint. The video recording is a good example
Let me know if I'm missing something obvious here--I'm relatively new to A-Frame.
@ngokevin thanks for the suggestion, and I think you're right about a delay-set component.
AFRAME.registerComponent('delay-set', {
value: {type: 'string'}
In VR mode, i see double. Can't seem to get it aligned. Ive tested with other VR sites and they work.
http://codepen.io/tinchoforever/pen/ggROwL Aframe 4
In Aframe 4, I'm only enable to move the camera using touch but no movement. The expected behavior should be
Hello @KevinGrandon @fernandojsg @almossawi @ngok in my understanding this is a major issue as none of the devices we tested worked.
in aframe `0.5.0` is an old version that causes a weird issue on some
by the aframe master). This second attempt fixed the problem.
@ngokevin Thanks for the response and code fix, however, I found it doesn't really solve the issues. I take 3 screenshots for your comparisons.
- **replace**: "has the effect of _unregistered_ the `THREE.Object3D`"
Is aframe Surpoort Half-Dome / 180-degree Video?
It's starting line 58500 in dist/aframe.js
- A-Frame Version: tot
<!-- aframe.js -->
Also, try [StackOverflow](https://stackoverflow.com/questions/tagged/aframe) for questions.  Both `animationstart` and `animationend` are essentially useless without a proxy component to dive into the event data. You simply cannot employ either of these events in a sane manner from the `begin` or `name` properties of the `<a-animation>` or `<a-event>` elements, respectfully.
@ngokevin FYI, this is what I'm using now:
prototype: Object.create(AFRAME.ANode.prototype, {
if (conditions) conditions = AFRAME.utils.styleParser.parse(conditions);
<a-entity collada-model="#untitled-scene">
emitEvents  @   aframe.js:57766
tick    @   aframe.js:57764
(anonymous function)    @   aframe.js:61484
value   @   aframe.js:61482
value   @   aframe.js:61507
The wording is mysterious to me but this does help the PR approval process somehow.
@gasolin @ngokevin I am not 100% sure of the coverage of the WebReflection polyfill at this point (it has been a while), but I can assure you that the WebComponentsJS polyfill strives to be as accurate as humanly possible, and is relied upon my millions of web pages.
Uncaught TypeError: scenes[i].initSystem is not a function                       aframe.js:57800
Yep, Custom Elements imported via JavaScript are the way to go!
Hmm. Travis CI seems to fail a lot.
What am i doing wrong?
A few geometries which were left out.
Because, for example, I'm supposing that you are relying on `attached/detachedCallback` in order to construct an equivalent behind-the-scenes scene graph in Three.js. I am doing the same thing (constructing a virtual scene graph from custom elements, but in my case the graph is not made with Three.js) over at http://infamous.io.
In your case, you are considering only WebGL. My case is more tricky: rendering to DOM (CSS 3D) is a required ability, and that DOM will be mixed with WebGL like what Famous was making (but has abandoned) over at http://famous.org.
@dmarcos
> AFRAME only uses the custom elements API
My custom elements also do not use Shadow DOM, but the concern I express here is a little different: What if users want to use their own shadow DOM then they transclude our custom elements?
<!-- This is "shadow DOM" -->
<content selector="a-sphere">
<!-- shadow DOM -->
<content selector="a-sphere">
@dmarcos Here's a better example. Suppose I want to make a layout component (using Custom Elements) that will accept AFrame elements and transclude them into the layout, where the layout's root element is an `<a-scene>`. Following is basic layout component (this better shows why one would use Shadow DOM as have above, in the context of a custom element component). Imagine that this simple component's goal is to use A-Frame in order to build a UI that has a header, footer, sidebar, and content area:
import 'aframe' // registers all the <a-*> elements
@dmarcos
@dmarcos @ngokevin Here's two jsfiddles that illustrate the problem.
In this second example, we are using ShadowDOM in a very simple way, and the example fails to work: https://jsfiddle.net/trusktr/1ecfha5h/1
Hey guys, the way I solve ShadowDOM in `infamous` is actually super easy. I am using MutationObserver to detect changes in children. Then, f.e., if a child is added to a node, and the parent also has a shadow root, then in my JavaScript scene graph I simply add the child to the parent as normal (just like you do) but then I also put something like a `isDistributed` flag to true on the child if it matches the selector (v0) or slot name (v1) in the shadow root.
When creating world transforms, you would do those based on the composed tree that you traverse.
@ngokevin
@ngokevin
AFRAME.registerComponent('manifest', {
<script id="images" type="text/x-nunjucks-template">
<script id="images" type="text/x-nunjucks-template">
@ngokevin
I'm running into this too, while working on lighttarget. parentEl not defined. Only on firefox. Seems to happen mainly with lights.
aframe isn't working in Internet Explorer 11 (Windows). Is this a known issue?
var evt = new CustomEvent(name, data);
function CustomEvent ( event, params ) {
window.CustomEvent = CustomEvent;
@ngokevin
I think A-Frame usage will grow beyond WebVR, alone. Given your React bindings, it may become a staple for THREE usage in that community. So support for IE 11, which is included alongside Edge in Windows 10, is probably warranted as it's not going anywhere anytime soon.
One more gotcha which is quite specific, but since this seems to be the top google result for "aframe ie11" I'll just throw it in here.
If we're nitpicking **eyeheight** would rather be 1.6 m ...
we will presumably still want the `vrdisplayactivate` and `vrdisplaydeactivate` enter/exit behaviors (assuming that browsers fire the events) @Silver-Seagull try:
Supporting the glTF Loader alongside the Collada Loader.
- Adding the glTFLoader
@ngokevin auto and loop are working, @dmarcos named the system gltf-animations -- gltf-model seemed confusing given it's the name of the component (3d model, data model), and there's no actual data associated with this system, more of a controller.
Converted to 3rd party component: https://github.com/xirvr/aframe-gltf
http://curious-electric.com/aframe/audiosprite/
> <https://github.com/notifications/unsubscribe-auth/AAmK8tFVZmn5ruzx3AfO5kZLfRkfUGIdks5sDp_JgaJpZM4Iec8O>
@ngokevin
(i don't have my own favicon set though, so in my case I don't mind A-Frame providing the icon)
Meta({name: 'theme-color', content: 'black'}),
on the head - and it seems to overwrite it. Using aframe 0.7.1
Meta({name: 'apple-mobile-web-app-status-bar-style', content: 'black'}),
Oh....I've some problems with this dae animation model....@ngokevin thank you for the sample... now the models works fine in my project! but is there any articles about AFrame's animations?? if I want use other format animation file, what can I do? like this: http://threejs.org/examples/#webgl_lights_hemisphere.
https://files.slack.com/files-pri/T0FAGUM6W-F1846MQ5U/animations-from-dae  <-- this link don't exist!
3. go to aframe.io
<a-mixin id="cube" geometry="primitive: box"></a-mixin>
geometry="primitive: ring; radiusOuter: 0.10;
dmarcos also pointed me to : https://aframe.io/faq/#Why-does-my-video-not-play-on-mobile
Following the discussions with @ngokevin @dmarcos @donmccurdy and @fernandojsg :
AFRAME.registerComponent('my-component', {
@ngokevin sorry for the mess with dist and such, I was having great pain with npm and setting up the build in general. I'll fix everything
@ngokevin I'm not sure a postproc effect can be described like a shader, it's more of a setup. For instance bloom commonly uses a separable gaussian blur so it would need at least two passes. Good bloom would also entail downsampling several times, blurring, and blending again on the way up. I think components make for a natural expression even if meant to be attached on the scene only. But I don't know I haven't yet looked over all of aframe's source and patterns so you'd know best
@ngokevin another thing that should be taken into account while brainstorming is that customisation logic ends up in the composer usually. Postproc steps that provide intermediate renderTargets like bloom and ssao tend to be straightforward and so could be cast in place as reusable components. Only the composer needs special treatment, both for doing the composition of all the rest and also to apply the simple effects like vignette aberations, ascii etc At least for production one shouldn't use extra passes for these. Well maybe a final fxaa step if antialiasing is desired but this is straighforward as well.
I would also like to mention something, and I know you're going to hate me @ngokevin , but it really needs to be said. It is inevitable that components will need to be extended. At some point, a component will need to access the results of computations performed on another component on another entity. A way to guarantee the order of execution will be needed. I'm sorry if I've missed something, I still study the source but I think there isn't something like that in currently.
@ngokevin  Rebased and squashed. Did also the minor changes needed for renderTarget support in @dmarcos  VREffect.js in vendor/
fragmentShader: '
varying vec2 vUv;
} // This comes from the gloom component itself
We could have a mechanism like the one I described as standard for post processing in aframe, ie have the compositor built in and child components defined with a registerEffect(). I like the idea that it could instead be implemented on top of the existing component infrastructure though. This would make it easily exchangeable if a better scheme comes up afterwards. I'm always in favor of simple and flexible cores
For post processing we could use tock() to tap on the post render side, allow systems to tap into it as well and define the compositor as a system to ensure it would run after all post component behaviors. I'd prefer this scheme than having to define numeric priorities, what do you think @ngokevin?
Following the discussions with @ngokevin @dmarcos @donmccurdy and @fernandojsg :
Try https://toji.github.io/webvr-samples/03-vr-presentation.html?polyfill=1 on desktop Chrome (stable): you will see "Enter VR" and clicking it will get you the split render you expect to see.
i got this error when i require aframe using node: referenceError window is not defined any help?
if aframe is not expected to work on node why the library exist in node package manager?
Ope, should have opened an issue I guess
Most Noticable changes:
https://aframe.io/docs/primitives/a-curvedimage.html
i think, this is not a limitation of iOS,i find a example that can play, but, Internal testing productsÔºåso i can't public sorry! I try to modify aframe texture, use THREE.Texture, end up in faliure! Can be modifiedÔºü thanksÔºÅ
@liuxiaoyue did you find a solution? Can you share it
I couldn't figure out yet how to build the required custom material to handle such a video format in a-frame, but I think the hard work has been done already. so how does one know when bgra fix is required?
```javascript
// fix black screen issue on safari
```javascript
fragmentShader: [
when in Safari.
Here's my custom shader code (based on the `flat` core shader):
```javascript
AFRAME.registerShader( 'video-shader', {
if ( IS_SAFARI ) {
fragmentShader: [
I suppose you could invert the Y scale of the playback surface (and then invert the face that the texture is rendered on), but in both the Three.js and VR View  examples, they've just flipped Y in the shader. Any progress on this, or a workable workaround? I have to put out a major project on Friday that was originally going to use an a-videosphere with HLS on iOS. I have the advantage of knowing that it won't switch to MP4 in this implementation. Any ideas? I believe there is a workaround described in a previous comment.  I don't think anyone has submitted a PR for the necessary core changes yet, so you may need to use a forked version in the interim. I've tried the shader listed above. It's not working for me. I've already patched the core. With my new patched core, If I use 'flat' shader on my videosphere, the video plays on iOS, but upside down and weirdly colored. So the core appears to be patched correctly. Now, the shader's job is to unflip it and color it correctly, if I understand. But if I use this shader, I get blank screen in both ios and desktop safari. So there must be some issue with the shader. @quickhand In the short term, you need to define `IS_SAFARI` and `IS_IOS` to be able to use my example shader code (they're constants that get defined elsewhere in my app):
```javascript
const IS_IOS = /iP(hone|ad|od)/i.test( navigator.userAgent ),
IS_SAFARI = /^((?!chrome|android).)*safari/i.test( navigator.userAgent );
```jsx
primitive="a-sphere"
Also, I think iPads and Android Tablets shouldn't be reported as mobile. Either that, or have the option to change away from VR display? Maybe click and hold the cardboard icon to show a little menu that flicks to thumbpad navigation on a scene?
<a-entity  random="property: geometry.primitive; oneOf: box circle sphere"></a-entity>
@ngokevin: Does this not work on rotation or position ? https://aframe.io/docs/guide/building-a-basic-scene.html#Interacting-with-the-Box
Martin
Yes same result. Is this expected behavior, inherent to WebGL? Or is it my config that need resetting?
primitive: 'plane',
Anyway this is sort of a broken example (`repeat.x` / `repeat.y` don't even work, it needs to be `"75 75"` as a string, but inverting the mappings might also open up more interesting possibilities down the road:
My project : http://vrdizifilmizle.com/vr2/
I've started doing some of the coding for AR mode (I just need to add button functionality).  What would be the best way to adapt this?
- Platform/Device: Lumenora, A/VR Platform
Would it be possible for aframe to call init() and update() the first time only after a canvas is created ?
Would it be possible for aframe to call components' init() and update() the first time only after a canvas is created ?
Interesting do you think this is related to #1334?
Oh cool. Can't find it but nbd, I want to try loading some of the 3 Dreams of Black examples. They might be an older format though, they show up but no animation for me.
@ngokevin I opted to add the functionality to the element to understand the component attribute rather than write more special cases into animation. If you would prefer a different approach please let me know. This is in reference to #1334
@ngokevin yea I wanted to see why the last refactor didn't pass the integration test even though it did local before I added another test case.  Not sure if this was due to github having issues still so wanted to push the doc refactor first and ensure tests were fine before adding another.
@dmarcos I applied the upstream changes here.
- check path (e.g. relative vs absolute)  @ngokevin
This seems to be one way to achieve this, and if you go to extremes you even have an artistic effect. :-)
https://jsfiddle.net/dirkk0/0fdzqcsk/
I've made a new example including these changes in a aframe.min.js dist (ran `npm run dist` on my branch) which shows it seems to work:
-  Reduce the heightSegments for equatorial projection distortion reduction.
small typo, although it tripped me up trying to read it
This is also a good opportunity to reduce the number of faces and vertices by reducing the number of height segments.  The lower the number of height segments the less distortion you get on an equatorial projected image as the src attribute.
-  Adds a conversion from rgb object to hex (maybe these belong in utils?)
The gif animator messed up feeling of smoothness lol but it ran smooth before turning to a gif xD
@dmarcos yea I just need to alter @ngokevin suggestions.  I'm digging into now.  Not sure if you guys seen the news but weather has been pretty crazy in Houston the last few days.  I'll be pushing an update up shortly.
@ngokevin alright I updated the demo to a little more fancy of a demo.  I also opened an issue because you can't use begin delays to stagger because they calculate the begin delay on a repeat meaning the "stagger" animation eventually gets out of sync.
@ngokevin adjusted to mixins, new file structure and stats attribute.
- Platform/Device: iOS and Android
- Platform/Device: iOS and Android
@cvan May I ask what's the setting to enable distortion?
@cvan Hi Chris, am I right in reading that the latest WebVR polyfill contains the code for lens distortion and device configuration for different cardboard headsets? Do you know when aframe will update to the latest version or which branch we can get a preview from? Thanks for the help!
The cardboard UI controls aren't working using the current master of aframe - tested using iOS webview on sim, device and then just a plain project ran in Safari. Pressing the back button does nothing, pressing the settings cog dims the screen for the duration you hold down. Sorry if this is more of a polyfill issue? Let me know if I can help out in anyway too
if (this.carboardUI_) { //Should be cardboard not carboard
Uncaught Error: Unexpected line: l 2 1
three.js r74 introduced intensity property on ambient light mrdoob/three.js#7621 . Add that to the light component.
@dmarcos Updated.
@dmarcos @ngokevin Finally fixed the messed up rebase, should be good to go
Causes following warning:
aframe.js:56776 Uncaught (in promise) DOMException: Failed to execute 'querySelector' on 'Document': 'models/mamiya/kens-rage-mamiya.mtl' is not a valid selector.
...but this doesn't seem to be the best solution since it's a bit inconsistent.
@MrTrustworthy we got it to work with relative paths: `/blueshoe.mtl`
@masom @ngokevin I'm not able to access the original code until monday, so I won't be able to test the other options you mentioned until then. I can follow up with an answer then if needed.
@ngokevin I'm having this problem because the blender file is fetching my computers directiories of the textures instead of fetching the ones from A-Frame assets. How do I fix this? I've read somewhere that I should use a relative path, what does that look like?
<img width="1557" alt="captura de ecra 2017-07-03 as 17 25 11" src="https://user-images.githubusercontent.com/19707794/27801209-b14c2e9e-6014-11e7-8733-c2ab92126826.png">
I can't see none of that! what?!?!
Fun find in the process though, Autodesk's free [FBX Review](http://www.autodesk.com/products/fbx/fbx-review) viewer displays `.obj` and `.mtl` files, and hopefully is a good sanity check on whether the files themselves are just nonstandard (which is sometimes also the problem with free models online..)
**Custom:**
## Demos:
- [Motion sickness-inducing physics demo](https://sandbox.donmccurdy.com/vr/playground/) with ramps and moving platforms, because hey why not.
- Added `AFRAME.registerComponent()` :white_check_mark:
General update ‚Äì Added an `AFRAME.registerComponent()` and a `controls` system. The abstraction and the systems API seem really nice (props there!). ~~My only issue is that the controls system doesn't actually have anything to do.. It categorizes controls just fine, but then the `controls` component already has a list of movement/rotation controls in its schema, so it doesn't really need to use the system. Maybe the system provides an active input controls, if any, to the controls component?~~ The system currently just supports validation.
Maybe still some API questions to resolve:
2. Use of "position" (e.g. `controls="positionEnabled: true"`) and "velocity" (e.g. `component.isVelocityActive()`) feels inconsistent. Not sure what names to use that would be both meaningful and consistent, though.
Ok, not sure what you mean about steps (like, simulated bipedal lurching?) - i assume that's to eliminate any misconceptions that WASD is acceptable for VR lol? Anyway, pushed `keyboard-controls` back up and removed it from the default set.
I just had this issue while learning how to develop for aframe (found the answer here, thanks!). I imagine this is also what many non-developers may be experiencing.
- Chrome and Firefox and safari all refuse to hide their url bars / go full screen
- Safari works great and hides the url bars
We also came across some weirdness implementing @renhyl 's code above as it would work to hide the scrollbars, but exiting VR was buggy and sometimes impossible. All in all it detracts from the user experience and we decided pinning was the least friction causing option.
@ngokevin good call, but THREE already handles play:
im in
There appear to be a bunch of uniforms and so forth missing that a typical shadertoy shader looks for  (e.g.,
uniform float     iTimeDelta;
The change in perspective in the Anime UI example made me curious. Changing the camera position to "1.75 1 1.2" and then back to default fixes it. Also the div that holds "exit VR" is duplicated many times. Weird.
and I use aframe in one of my htmls as follows:
Ahmed
Torus primitive was implemented, notice that `tube` attribute is not working yet, probably (not sure) because is not included in [geometry schema.
Changes proposed:
https://desolate-island-90618.herokuapp.com/#!/
I did `npm install aframevr/aframe`. It works: https://desolate-island-90618.herokuapp.com/#!/
@ngokevin, fair enough.
@ngokevin hmm, I get >30 FPS with Anime UI on my HTC One M8 using Chrome. However, I did notice instability (browser crashes) and stuttering with Firefox.
(Note that totem uses a modified a-frame version where the `setInitialValue` line was commented.)
Changes proposed:
To add a bit:
`<a-assets>`
`<a-assets>
<a-asset-item id="n-obj" src="nefertiti.obj"></a-asset-item>
On Fri, Mar 11, 2016 at 11:04 AM Dietrich Ayala autonome@gmail.com wrote:
Changes proposed:
AFRAME.registerComponent("somecomponent", {
The main use would be components loaded asynchronously (say, from a registry) or maybe components that are being generated dynamically via some dark voodoo magic.
- \* <a-hyperbolic-star></a-hyperbolic-star>
- \* <a-hyperbolic-grouping-thing><a-box></a-box></a-hyperbolic-grouping-thing>
Changes proposed:
@ngokevin Sure, I already did, the solution with both modifications is live at vrlab.dk, and my custom look controls look like this: https://github.com/RSpace/vr-lab/blob/master/src/js/utils/custom-look-controls.js
@ngokevin What does that mean? What should I do?
Changes proposed:
> disorienting when combined with the orientation given by the phone sensors.
> You quickly lose track of what's up or down and rotating the phone becomes
I think there is a typo in the Animations documentation for the fading cube example.
<a-entity id="fading-cube" geometry="primitive: box" material="opacity: 1">
@ngokevin and @dmarcos thanks for helping me clean up this mess!
- close tags
I tested Chrome 48.0.2564.95 on Android (Nexus 5x) and entering VR caused the app to go full screen, but no stereo.
@ngokevin Shall rebase soon.
![Orientation Modal](http://i.imgur.com/OoBjlXx.jpg)
@ngokevin
Not so easy, but that's why I opened this issue, to discuss how to deal with this.
@dmarcos You are right, it's more problematic with non-rectangular geometries.
@ngokevin personally I disagree, but that's totally ok :)
Had a lot to do recently and got distracted with other projects and haven't had this PR on my mind anymore. Will do some more fun stuff with aframe again in the future though!
@ngokevin
Is this a bug or `a-sky` can't be transparent?
@ngokevin , I don't see how your point is pertinent to the transparency issue. I am still experiencing this. Can you reopen this card?
I tried the @K4orta solution, didn't work.
![VR Modal](http://i.imgur.com/JKfjlus.gif)
Instead of `background` you might have `--material-texture`, etc.
<a-entity light="color: #AFA; intensity: 1.5" position="-1 1 0"></a-entity>
a-entity {
--light: color: #AFA, intensity: 1.5;
TLDR: it's totally doable from what I can tell! By the way, I saw @ngokevin's MSS, which is similar and useful!
![VR Modal](http://i.imgur.com/JKfjlus.gif)
Doing `npm install lolex chai sinon sinon-chai` after the regular `npm install` fixed it for me. Might have to be added to `package.json`.
@dmarcos Fedora 23.
Error: Cannot find module 'lolex'
at framework (E:\github\aframe\node_modules\karma-sinon-chai\index.js:26:40)
I noticed it was reported in https://github.com/kmees/karma-sinon-chai/issues/26 and the latest version has fixed the issue. So it is time to bump this dependency version?
In the meantime, doing a manual `npm install lolex chai sinon sinon-chai` worked for me to start `karma`/`npm test`.
@ngokevin From what I've seen, the v1.2.0 of karma-sinon-chai doesn't fix that issue since they use `peerDependencies` instead of `dependencies`. As @nylki said, we need to add them as more explicit dependencies.
@ngokevin `THREE.AudioListener` is already implemented for sound component can this be closed or did you mean something else?
ERROR in ./~/aframe/index.js
@ ./~/aframe/index.js 3:10-30
I just did `npm install aframe` and I get the following erros:
ERROR in ./~/aframe/index.js
@ ./~/aframe/index.js 3:10-30
@ngokevin Thanks. That dev version works fine.
@subsumo if you wanted to take a shot at this, a small component wrapping THREE.js's [Orbit Controls](https://github.com/mattdesl/three-orbit-controls) might be the way to go.
@ngokevin Yep, I'm trying to setup the test environment on my machine and writing some tests for that behaviour.
re: @ngokevin (https://github.com/aframevr/aframe/issues/1060#issuecomment-191054349)
I disagree with @dmarcos, I think pointerlock is suitable all the time, not just fullscreen, but I'm happy to make a seperate component for proper pointerlock + wasd + arrow keys (for the germans) and we can abandon this PR.
skype: bennolan
I just checked out 476f406 from cvan/aframe and it does not seem to fix the issue.
For those still seeing this error: Using the full absolute file path to the file `aframe-master.js` in your node_modules should work. For example:
- "aframe": "^0.5.0"
- "aframe-react": "^4.2.4"
<a-animation
sort of, but with [a few issues](https://github.com/aframevr/aframe/issues/975#issuecomment-189099197).
Hey @dmarcos  @ngokevin. I made changes according to your comments. @dmarcos the indentation in the line is correct (because of the Promise resolver function).
So many comments!
I'd be happy to include a test, but I am not sure how you are doing it, I have only had some moderate experience with _mocha_. Also I am not sure what should be tested here (testing if event is actually triggered?).
@ngokevin I added a small test and However I am not able to run the unit tests here (`Error: Cannot find module 'lolex'
npm WARN optional Skipping failed optional dependency /chokidar/fsevents:
npm WARN karma-sinon-chai@1.2.0 requires a peer of chai@^3.2.0 but none was installed.
npm WARN karma-sinon-chai@1.2.0 requires a peer of lolex@^1.4.0 but none was installed.
npm WARN karma-sinon-chai@1.2.0 requires a peer of sinon@^1.17.2 but none was installed.
@dmarcos passing now.
Thanks @ngokevin
I'm sorry, it's the latter: different scenes.
<title>multiplse pseudo scenes</title>
<script src="aframe.min.js"></script>
![Image of Yaktocat](http://i.giphy.com/3o6gb181K4CMOUoLQI.gif)
http://codepen.io/anon/pen/pyzjPL
Cool thanks heaps @ngokevin
For example, to get @ngokevin's shadow component working with .OBJ models:
Update, tried another site and this site works at full framerate so it may be something to do with the aframe example itself:
@ngokevin How is stereoscopic rendering possible now in A-Frame without a headset? There's [no longer `stereoRenderer`](https://github.com/aframevr/aframe/pull/1740) exposed from `a-scene`.
The https://github.com/oscarmarinmiro/aframe-stereo-component is about a different thing: how to render certain objects to show up only for one eye or the other. Update: found this hack https://github.com/aframevr/aframe/issues/1919
> Hacky way is to set `document.querySelector('a-scene').isMobile` to `true` and remove the orientation modal overlay.
Obviously, I don't have the VR hardware connected. This WebVR emulator Chrome extension helped (with `chrome://flags/#enable-webvr` disabled): https://chrome.google.com/webstore/detail/webvr-api-emulation/gbdnpaebafagioggnhkacnaaahpiefil/related
However, in https://aframe.io/docs/core/animation.html we can read:
@ngokevin this seems to be solved with 'sound.playSound()' and `play()` calls `playSound()` if there is active buffer `this.data.autoplay` is true
`<a-assets>
In JS:
Thanks @ngokevin
//Click X to show Y
//Hover Y to show Z
//Mouse leave Y to hide Z
@auxdesigner have you tried to determine if them target item was visible in the event listener?
^That's all a bit more complicated though. I mostly just want to preserve optional gamepad support in v0.2.0 at the moment. üò¨
AFRAME.registerComponent('navigation', {
// Rotation:
### Custom/extended case
To add a custom gamepad interface, I would define `isEnabled`, `getVelocity`, and `getRotation` and then decide how precedence should compare with other controllers:
**Cons**
will it ever be possible to combine regular html5 syntax with aframe as in this example":
https://aframe.io/examples/showcase/curved-mockups/
@cvan thanks for the help. My goal is to take an existing website, and break out certain aspects of it into aframe: example: having subreddits in vr that change vr environments based on their subreddit
http://codepen.io/masom/pen/YwBNvg
if (target3D) {
@ngokevin To test it, I set rotation, position, scale and visibility all as dependency. It helps but actually only postpones a reset to `0 0 0`,  it must come from somewhere else. Investigating further.
UPDATE: I think it _could_ have something to do with `raycaster`.
- `<a-entity geometry="primitive: box;‚Äù>` doesn‚Äôt work even though it creates same as `<a-cube>`
http://cl.meowyo.com/f77r
http://cl.meowyo.com/f7Rb
This issue might belong to #933
@cvan I agree Rust's is great. It seems to be working well for the Servo project.
Ah, that's an issue too, but different cause: shift key changes `KeyboardEvent::key` case, so it might be "a" on keydown and "A" on keyup, which similarly breaks everything. I'm running a fork of `wasd-controls` [here](https://github.com/donmccurdy/aframe-keyboard-controls) (for proxy-controls support), and am leaning towards using `KeyboardEvent::code` rather than `key`, since (1) it's case-insensitive, and (2) it has nice default behavior w/ Spacebar.
@dmarcos something like this?
@dmarcos Nice! +1
AFRAME.registerComponent('renderer', {
AFRAME.registerComponent('renderer', {
I might do a PR to change the behaviour or make it more configurable, but for now I also have had to comment out https://github.com/aframevr/aframe/blob/master/src/components/scene/screenshot.js#L65 and the following line, as those shaders results in WebGL shader compilation error. I don't get the compilation in the Codepen example I did, only in my own app.
@demarcos Same here, thanks about the hint! In my use case I would need to submit the image data to the server as well.
However, I still have the WebGL shader compilation error in my webpack-based build, so for now the screenshot component is still not useable for me. great job worked with
Maybe it is just a-videosphere, in that case?
@cvan what's the specific secret sauce for getting multiple a-scenes to work on a page? I've tried "embedded" but both of my scenes will not render (they each render if I include only one at a time). I am using v0.4.0. @dmarcos Thanks for the clarification :-) The embedded use case is my most common, and iframes are not a viable workaround (anyone who has worked with a client's CMS probably knows why).  I don't think I'm the only one with these kinds of requirements.
geometry="primitive: ring; radiusOuter: 0.016; radiusInner: 0.01"
Repro:
Very wide angle (fisheye) lenses produce circular images within a rectangular video or photo frame.
Wrapping around various elipsoids would allow alternate map projections.
The complex CSS-like syntax for some attributes is extremely strange.
Do I have to manually concatenate strings to update the `acceleration` value? Are there special setters?
I think of a-frame as great for beginners and this feels like complexity creep and diverges from the HTML metaphor in a way that isn't self-documenting.
@ngokevin I guess my concern is that for novices, "introducing" non-standard metaphors may be more confusing than it is useful. At some point it's more useful to just have people write script. Or maybe have a `<wasd-controls>` element with top-level attributes and a `target` attribute to connect it to an entity?
@ngokevin I was under the impression the goal of A-Frame was to be a markup-driven way for novices to experiment with VR. If I'm knowledgeable enough to know entity-component, why would I use custom elements? I probably know a programming language and markup-based authoring would only get in my way.
http://bl.ocks.org/enjalot/8be32e6f1f32920ba841
In tween.js, `override:true` might to be appended to the `props` argument to fix this.
In Safari in particular, canvas doesn't resize right.
At loading time on my website: www.sergioroja.com/test.html
aframe.js:58458 The key "shrink-to-fit" is not recognized and ignored.
VM45 aframe.js:51328 Invalid timestamps detected. Time step between successive gyroscope sensor samples is very small or not monotonic
<a-entity geometry="primitive: sphere;
npm ERR!
npm ERR! This is most likely a problem with the aframe package,
npm ERR!     mkdir -p build/ && npm run browserify -- --debug -o build/aframe.js
npm ERR!     npm owner ls aframe
npm ERR!     C:\Users\user-55\vr\aframe\npm-debug.log
npm ERR! aframe@0.1.1 dev: `npm run build && node ./scripts/budo`
npm ERR!
npm ERR! Failed at the aframe@0.1.1 dev script 'npm run build && node ./scripts/budo'.
npm ERR! This is most likely a problem with the aframe package,
npm ERR!     npm owner ls aframe
npm ERR!     C:\Users\user-55\vr\aframe\npm-debug.log
npm ERR! aframe@0.1.1 start: `npm run dev`
npm ERR!
npm ERR! Failed at the aframe@0.1.1 start script 'npm run dev'.
npm ERR! This is most likely a problem with the aframe package,
npm ERR!     npm owner ls aframe
npm ERR!     C:\Users\user-55\vr\aframe\npm-debug.log
I see your point, but from what I've seen in most examples and projects around, it's usually aframe taking over the page, and other content showing up seems to show up less frequently.
@RangerMauve true, sorry I conflated pointer lock with mousedrag.
I added quick pointerlock support, doesn't seem to break safari and works in chrome / ff.
This is a version I made from blob:
if (typeof AFRAME === 'undefined') {
AFRAME.registerComponent('no-click-look-controls', {
maxyaw: { default: PI_2 * 6 },
this.pitchObject = new THREE.Object3D();
this.yawObject = new THREE.Object3D();
this.yawObject.add(this.pitchObject);
this.dolly = new THREE.Object3D();
this.controls = new THREE.VRControls(this.dolly);
return deltaPosition;
var deltaY;
One alternative is to try [GPU picking](http://brianxu.github.io/GPUPicker/), which is MUCH faster. But it has a couple of problems:
5. What about morphing/animated geometries?
@dmarcos Yes, I do think that aframe needs to raycast fewer things, as [noted above](https://github.com/aframevr/aframe/issues/829#issue-126553429): in particular, photo spheres. Until this gets fixed in three.js (if ever), a photo or video sphere will match every single time and require searching through every single triangle on every frame.
Could it be that hidden objects are also included in the raycasts?
I also had strange behaviour when a hidden object was on top of a shown object, when the shown object was being clicked, nothing happened, but the hidden object did seem to pick up clicks.
https://github.com/aframevr/aframe/compare/dev...jerbob92:dev
I started working on this: https://github.com/xirvr/aframe
I'm having this error occur too using an iPhone 6 Plus. I'm not currently using Aframe but I'm using the WebVR polyfill so I feel like it's potentially related to that.
I would alter the code like this:
Would love to see this feature, @ngokevin .  AFAIR allowfullscreen was disabled in JSFiddle for fraud protection. @oskarkrawczyk - any thoughts?
Anyway, I digress. @ngokevin where would you expect to go to full screen? In an embedded bin or from the jsbin editor?
@ngokevin Ah, cheers for clarifying. I got a notification from twitter (on a dead account I have under my name), from @darkwing.
As a user, I agree that mixin is a better name for the same reasons.
@ngokevin  Is that issue still there I'm not able to reproduce and experience this issue!?
<body style="background-color: black">
For anyone looking for a quick workaround, see [this answer](https://stackoverflow.com/a/42003726/2501624). @adelespinasse I tried using sort objects once after seeing it in this thread and the results were very poor in VR. Render order would change as I turned my head, causing the order of objects to flicker back and forth. Have you had better results? @wmurphyrd It's worked for me so far, but I've only tried it with very simple toy scenes (like, 3 non-overlapping convex translucent objects). Did you have concave or overlapping objects or anything?
Having trouble with some of the parameters though ‚Äì shadows have been offset or weirdly scaled in my tests so far.
That's really odd. I've not seen that before. Actually, can you reproduce that in a fiddle or something so I can see how that's happening?
[Example Site](http://kliang3.github.io/)
localhost:aframe gavinfitzgerald$ npm run ghpages lolerz
ghpages -p gh-pages/ "lolerz"
localhost:aframe gavinfitzgerald$
https://github.com/7dir/aframe-svgfile-component  @ngokevin Have you all decided whether this will be a new physics implementation, or try to integrate cannonjs / oimojs / etc with A-Frame?
@donmccurdy I think that's being discussed [here](https://github.com/ngokevin/aframe-physics-components/issues/7)
@RangerMauve oh! Cool thanks I missed that.
vuutuapp.html:29 statusChangeCallback
@ngokevin
@ngokevin ECS?
I wonder how I overlooked all this time that custom elements would be the perfect communication mechanism between a rendering engine (Three.js, Famous, Babylon, etc) and a DOM manipulation library (React, Mithril, etc).
@ngokevin how can this be configured with a scene component?
Try to move the camera around:
@ngokevin this issue seems to be solved but issue have left open since commit message was not correctly formatted to auto close this.
Codepen:
I still think the issue is there, though:
Loading the same file in codepen from my server doesn't work (http://www.jon-ibe.be/aframe/tree1.dae)
http://www.jon-ibe.be/aframe/aframetest.html
http://codepen.io/anon/pen/OMbmyz?editors=110
So hence I'm "blaming" this on the security restrictions.
Apologies if this is missing the obvious, but I'm trying to add aframe as a project dependency based on the instructions listed in the README:
$ npm install aframe
require('aframe')
Again, apologies if this is barking up the wrong tree but I'm out of ideas.
Thanks for the pointer. I suppose I'm still wrestling with this: if someone adds Aframe to their project purely as a dependency, shouldn't Aframe install its own dependencies as well? I might be stretching here, but I think that's a reasonable expectation when adding a utility to a project.
Yes, the tip you provided worked. However, I believe my point still stands: Aframe should install dependencies necessary to its functioning as part of the install process.
1. Added my tweaked `aframe` as a local dependency
http://swimminglessonsformodernlife.com/aframe-core/examples/panoexplorer/
font: demo/fonts/Exo2Bold.fnt"
Sorry for the weird pull request before.
Apologies if this is horrifying and framework-ey, but any thoughts on using some sort of event-binding syntax?
https://aframe.io/docs/components/geometry.html
Objects randomly overlap with each other
Example : check out http://www.vuutu.xyz or if this is taking time for DNS replication, please check out http://www.justdeliver.us
You can check it out @ prototype : http://www.vuutu.xyz
Kapil
I'm afk now. No worries, I understand. Will do once I get back.
`watchGlob` added to `budo@7.1.0`, small example here:
- I made sure the `open` and `live` options being passed are booleans rather than string/number
@cemkod What happens when you run this?
I'm planning on making a psychedelic game and one of the things I want to do is apply trippy filters on the entire screen when certain things happen. It'd be nice if there was a way to specify a fragment shader that would be applied on the final buffer before rendering it to the screen. Maybe it'd make sense to attach it to a camera?
I've tried both mp4 and webm format, but at least on my Galaxy S6, it shows up black.
< meta
it's that light gray color, but we can change it to be black
content="black"
@ngokevin
aframe.js:52188 Object
@villalard me too.
@SonarSystems I am having the same issue as noted above in the thread.  Please excuse my simplistic answer but I think it's just that stereoscopic views and video textures is just too much for the browser to take at present.
@villalard I thought that but the wearevr link you shared works on my Android phone in Firefox. Hence why I thought maybe the video is to big or a wrong format.
Again, apologies for making general assumptions in a technical forum - my knowledge of what is going on in the background is very minimal.
@villalard Thanks for the response, your feedback is much appreciated. It's weird because the other link works.
This problem didn't solve before,Not going to study aframe.
<script src="aframe.min.js"></script>
<script src="aframe.min.js"></script>
@ngokevin Any update? :)
@ngokevin I checked out the `dev` branch from github. It's definetely not fixed there. ;)
@ngokevin ah, thanks for the hint! Totally oversaw to checkout aframe-core. Just read through the instructions with `npm link` etc. ~~Will try it out tommorow.~~
The structure of the project and the build process are new to me, please excuse me, if I am asking overly obvious things :)
Resized texture images to powers of ten.
- Should we move this issue to aframevr/aframe-core?
(budo changelog drags behind regularly)
https://aframevr.github.io/docs/guide/
npm ERR! 404 Not found : @mozvr/aframe-core
npm ERR! 404
npm ERR! 404 '@mozvr/aframe-core' is not in the npm registry.
npm ERR! 404
C:\Vr\github\aframe [master]>
`<a-entity geometry="primitive: torus" position="1.5 3 0"></a-entity>`
![Torus](http://imgur.com/lbYjR1J.png)
Auto-detection would be great in the case of objects. A stop gap might also be to document the valid options. Currently https://aframe.io/docs/primitives/a-model.html tells us that the default is collada but without looking at [the code](https://github.com/aframevr/aframe-core/pull/315/files#r42915419) we don't know that you need to specify `format="obj"`.
material="https://raw.githubusercontent.com/bitgridio/models/gh-pages/lullabot/Body.mtl"
material="src: https://raw.githubusercontent.com/bitgridio/models/gh-pages/lullabot/Body.mtl"
src="https://raw.githubusercontent.com/bitgridio/models/gh-pages/lullabot/Body.obj"
material="src: https://raw.githubusercontent.com/bitgridio/models/gh-pages/lullabot/Body.mtl"
