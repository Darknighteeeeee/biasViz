Sorry, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
## Asking Questions
```swift
If you continue to have issues, I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
We don't use GitHub as a support forum. For any usage questions that are not specific to the project itself, please ask on [Stack Overflow](https://stackoverflow.com) instead. By doing so, you'll be more likely to quickly solve your problem, and you'll allow anyone else with the same question to find the answer. This also allows maintainers to focus on improving the project for others.  Alamofire isn't doing anything here. What you're seeing is the debug printout of a Swift Dictionary, which is what you get when you print a `Result<Any>` from `responseJSON` when the JSON is a dictionary. The fact that the request was successful shows that the JSON came back properly.  @anishparajuli555 You've hit a rather prickly use case for us. Right now `validate()` is only intended for simple validation scenarios. As you've seen, it doesn't really work that well for validating something in the response data. In fact, that's a highly inefficient use of it, since the response data may then be decoded twice. At the moment I would suggest any validation you need to perform on the response data be done in a custom response serializer and not `validate`. In the future we'll be reevaluating `validate()`s capabilities and how it fits into Alamofire.  StackOverflow is the proper forum for this issue.  Thanks for the PR, but Alamofire is compatible with both Swift 3 and 4, so we don't need this setting. Also, in the future, please fill out the whole PR template. Thanks anyway!  Sorry, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
Alamofire.request(<#T##url: URLConvertible##URLConvertible#>, method: <#T##HTTPMethod#>, parameters: <#T##Parameters?#>, encoding: <#T##ParameterEncoding#>, headers: <#T##HTTPHeaders?#>) and all correct after  I add  realm pod
"Extra  argument ''method" Call" error is appeared
## Alamofire Environment
**Alamofire version:4.5
**Swift version:3.1
**Platform(s) running Alamofire:**
In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
We don't use GitHub as a support forum. For any usage questions that are not specific to the project itself, please ask on [Stack Overflow](https://stackoverflow.com) instead. By doing so, you'll be more likely to quickly solve your problem, and you'll allow anyone else with the same question to find the answer. This also allows maintainers to focus on improving the project for others.  Thanks for the PR! However, this is, in fact, functionally different, as it will return the same queue for each QoS level, not generate a new one like the original code. Since the intent here is to let the system manage what queues it gives us, this would fundamentally alter the behavior of this API. For that reason we won't be merging it. Cheers! :beers:  Swift 4 is supported by Alamofire 4.5.  Thanks for the PR! However, before we merge, it would be a good idea to make this encoding a little more elegant, as empty username or password fields aren't usually the best behavior in some scenarios. Can you look into how cURL handles various types of auth and how `URLCredential` conveys them and see if you can come up with a more general solution?  Sorry, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
First off, I'd suggest you read through the entire [Security](https://github.com/Alamofire/Alamofire#security) section of the README. That should walk you through everything you need to know to get this up and running. If you still have questions afterwards, then I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
In the future, I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
We don't use GitHub as a support forum. For any usage questions that are not specific to the project itself, please ask on [Stack Overflow](https://stackoverflow.com) instead. By doing so, you'll be more likely to quickly solve your problem, and you'll allow anyone else with the same question to find the answer. This also allows maintainers to focus on improving the project for others.  @Suksal If your server doesn't support download resumption, no `resumeData` will be saved. Also, not all failures can be resumed from, so your expectation is incorrect.  The Swift compiler still isn't the greatest when it comes to error diagnostics. I usually adopt a rule of "when it doubt, check the types", as type mismatches are the most common cause of bad diagnostics.  Make sure you're using the latest Xcode version with a clean environment, as this isn't an issue we see.  Thanks for the PR! However, we won't be merging it, as [RFC 7231, 6.3.2](https://tools.ietf.org/html/rfc7231#section-6.3.2) states that `Created` responses should contain the item(s) created, as simple best practice. We strive to support best practices where we can in Alamofire, so adding this code as an expected empty response isn't a good idea. Thanks though! :beers:  Thanks for taking the time to put this together @mayurdzk. We won't be merging this into the README though b/c we're planning on adding direct support for Xcode 9 much sooner. Therefore, we won't need separate CocoaPods instructions!
You need to encode the JSON as a body part to the multipart form data. I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire` to get help with this. We use our GitHub project for bug reports and feature requests.
## Asking Questions
In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
@burakgunduztr At the moment we're not supporting Alamofire 4 under Swift 4. You should be able to use Alamofire 4 built using Swift 3.2 in a Swift 4 project. However, if you're using CocoaPods to integrate Alamofire, it likely doesn't handle the distinction yet. There is now an `xcode9` branch up that builds Alamofire 4.5 in a hybrid mode for Swift 3 and 4. Give it a try.   @ParanoiaWan @KarlZeo Alamofire builds under Xcode 9 beta 1 just fine in Swift 3.2 mode. In addition, you can use the Alamofire framework built in 3.2 mode in an app that builds using Swift 4, according to Apple, so a Swift 4 port isn't strictly necessary at the moment. If you really want to build Alamofire using Swift 4, the required source changes are very minor. We'll be announcing our future plans soon!
@Vinzius Thanks! üçª   A brief investigation indicates that this crash may be caused by a `nil` value for the `Data` passed into the delegate method. Then, when it tries to bridge the `NSData?` to `Data`, it crashes because of the `nil` value. Just speculation right now. @blixt Do you happen to know what requests are causing this? Or is it all requests for your app? Perhaps you're getting nil data back from the server somehow? No, this is a bridging issue from the Objective-C code of `URLSession` and Swift. As you can see, it's apparently trying to bridge an `NSData?` to `Data`, which will never work if the value is `nil`. Either they have an underlying bug that's returning `nil` when it shouldn't, or they need to update the bridging of this API. Please file a bug with Apple (and post the Radar number) and / or Swift (and post the SR link) so we can get them to look at it. In the meantime we'll see if there's anything we can do to prevent this. No, as you can see in the crash log, it's due to bridging from Objective-C to Swift with an unexpected `nil` value. I spoke with a `URLSession` engineer at WWDC and he said it was likely an underlying bug where `URLSession` was returning `nil` unexpectedly.
I'm... surprised that works. I thought I had tried it before but got a compiler error. Now if only there was a way to disable that warning...  Sorry, there's not a lot we can do to debug your CI setup.  We use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
We don't use GitHub as a support forum. For any usage questions that are not specific to the project itself, please ask on [Stack Overflow](https://stackoverflow.com) instead. By doing so, you'll be more likely to quickly solve your problem, and you'll allow anyone else with the same question to find the answer. This also allows maintainers to focus on improving the project for others.  That's Swift 2 code, so please update. Double check your closure types as well.
In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
We do not have any examples that use the stream APIs. I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. You may also have some luck googling around on Stack Overflow directly.
I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests. I'd also suggest you add more detail to the question you ask. Right now you haven't posted much more than it used to work, and now it doesn't. It's pretty unlikely that anyone will want to, or be able to help you troubleshoot such little information.
## Asking Questions
We don't use GitHub as a support forum. For any usage questions that are not specific to the project itself, please ask on [Stack Overflow](https://stackoverflow.com) instead. By doing so, you'll be more likely to quickly solve your problem, and you'll allow anyone else with the same question to find the answer. This also allows maintainers to focus on improving the project for others.  Hi @howaisi,
Most likely the issue is that you've misspelled `parameter`. It should be `parameters` instead. In the future, I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
## Asking Questions
In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
## Asking Questions
In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
## Asking Questions
Your URL string needs to conform to RFC 2396, otherwise Apple will not instantiate it. If you provided that URL directly, then you need to percent escape the query string values when it includes unicode characters. In the future, I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
We don't use GitHub as a support forum. For any usage questions that are not specific to the project itself, please ask on [Stack Overflow](https://stackoverflow.com) instead. By doing so, you'll be more likely to quickly solve your problem, and you'll allow anyone else with the same question to find the answer. This also allows maintainers to focus on improving the project for others.  For now you'd be limited to `ServerTrustPolicy.customEvaluation((_ serverTrust: SecTrust, _ host: String) -> Bool)` case, as you'd be able to use the TrustKit APIs in that closure. We hope to redesign these APIs for Alamofire 5, both to increase their capabilities and abstract them away enough to work on Linux.
In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
Sorry, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
## Asking Questions
## Asking Questions
Thanks again! üçª  Sorry, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
## Asking Questions
In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
Cheers. üçª  Sorry, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
Thanks for putting this change together...much appreciated! This will be part of the AF 4.5 release shortly.
Thanks again!  Hi @fanglichun,
In the future, please open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
We don't use GitHub as a support forum. For any usage questions that are not specific to the project itself, please ask on [Stack Overflow](https://stackoverflow.com) instead. By doing so, you'll be more likely to quickly solve your problem, and you'll allow anyone else with the same question to find the answer. This also allows maintainers to focus on improving the project for others.  Hi @rajeshsonu,
In the future, I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
We use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
Thanks again!   Thanks for putting this together @dusek...much appreciated! üçª  #2025 has been merged. Apparently `httpbin.org` made this change on their side.  It's likely you're blocking the main queue in some way, but there's no way to know without some code to looks at. If you can post the code that causes this issue, we can take a look. A sample project would be even better.  Alamofire fully supports IPv6, just like the underlying frameworks. When this comes up it's usually something along the lines of 1) a reachability check performed before requests failing, which is an antipattern and should be removed, 2) misconfiguration of the reachability API (make sure to use just your domain name, no scheme), or 3) the API endpoints you're talking to not supporting IPv6 themselves. Also, AFAIK, there are no changes in this regard for iOS 10.3.
In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
We don't use GitHub as a support forum. For any usage questions that are not specific to the project itself, please ask on [Stack Overflow](https://stackoverflow.com) instead. By doing so, you'll be more likely to quickly solve your problem, and you'll allow anyone else with the same question to find the answer. This also allows maintainers to focus on improving the project for others.  Thanks for the report! We'll take a look! A PR would be great! Closing this issue out in favor of #2060. Please direct all further comments to #2060. üçª  Sorry, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
## Asking Questions
Sorry, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
We don't use GitHub as a support forum. For any usage questions that are not specific to the project itself, please ask on [Stack Overflow](https://stackoverflow.com) instead. By doing so, you'll be more likely to quickly solve your problem, and you'll allow anyone else with the same question to find the answer. This also allows maintainers to focus on improving the project for others.  In my view this is redundant, as JSON is, by definition, already UTF-8. Using it with any other encoding is non-standard and not supported by Alamofire or the underlying `JSONSerialization` API it uses for JSON. @cnoon, what do you think? Thanks for putting this together @2h4u!
We use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
## Asking Questions
We don't use GitHub as a support forum. For any usage questions that are not specific to the project itself, please ask on [Stack Overflow](https://stackoverflow.com) instead. By doing so, you'll be more likely to quickly solve your problem, and you'll allow anyone else with the same question to find the answer. This also allows maintainers to focus on improving the project for others.  @ryanzl @LaurentiuUngur Can you both please post the code that causes this leak? Better yet, please post sample projects which replicate these leaks so we can investigate. @Afsarunnisa Those `_NativeDictionaryStorageImpl` leaks are from the underlying Swift libraries themselves, and are fixed in Xcode 8.3 / Swift 3.1.
@ryanzl @LaurentiuUngur If you could retest using Xcode 8.3, we can see if any of the leaks were underlying issues or false positives fixed in the new version. If they do appear, please upload a project that replicates the leaks you see and we'll look into it. Thanks for confirming @ryanzl...I'm going to go ahead and close this issue out for now. Please feel free to add additional info if you continue to see issues on Xcode 8.3 and we'll happily re-open and investigate further.
We use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
## Asking Questions
We don't use GitHub as a support forum. For any usage questions that are not specific to the project itself, please ask on [Stack Overflow](https://stackoverflow.com) instead. By doing so, you'll be more likely to quickly solve your problem, and you'll allow anyone else with the same question to find the answer. This also allows maintainers to focus on improving the project for others. Mostly likely you need to follow our documentation regarding how to customize the headers sent in the request. Neither of the methods implements in the original post would work how you'd expect. Besides which, the easiest way to see what could be wrong is to use a proxy tool like Charles Proxy to intercept your requests and see exactly what they look like.  Sorry, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
We don't use GitHub as a support forum. For any usage questions that are not specific to the project itself, please ask on [Stack Overflow](https://stackoverflow.com) instead. By doing so, you'll be more likely to quickly solve your problem, and you'll allow anyone else with the same question to find the answer. This also allows maintainers to focus on improving the project for others.  Thanks for the PR! Good catch! Cheers! :beers:  Looks like this was taken care of by #2031. Thanks anyway! Cheers! üçª   Sorry, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
## Asking Questions
We use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
## Asking Questions
We use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
## Asking Questions
We use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
As for your tests, I suggest using [`XCTest`'s asynchronous capabilities](https://developer.apple.com/library/content/documentation/DeveloperTools/Conceptual/testing_with_xcode/chapters/04-writing_tests.html) to properly test it, rather than using manual group management. `XCTest`'s asynchronous testing works fine with Alamofire, as that's what we use to write our own tests.
The `Timeline` behavior is intentional, as performing work in the completion handler is considered part of serialization process. We'll be reevaluating these APIs for Alamofire 5, so we may be able to change something then.  There is no direct conversion for such a setting. It depends on what you're actually trying to do. I suggest you evaluate your requirements and go through [our parameter encoding documentation](https://github.com/Alamofire/Alamofire#parameter-encoding) and see where your requirements can be met. You may need a custom parameter encoding, depending on your particular situation.
In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
We use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
## Asking Questions
## Asking Questions
## Asking Questions
We don't use GitHub as a support forum. For any usage questions that are not specific to the project itself, please ask on [Stack Overflow](https://stackoverflow.com) instead. By doing so, you'll be more likely to quickly solve your problem, and you'll allow anyone else with the same question to find the answer. This also allows maintainers to focus on improving the project for others.  @davidseek You need to setup your `URLSessionConfiguration` by creating a new instance. Modifying values on the current configuration doesn't have any effect, as per Apple's documentation. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
## Asking Questions
Otherwise, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
We don't use GitHub as a support forum. For any usage questions that are not specific to the project itself, please ask on [Stack Overflow](https://stackoverflow.com) instead. By doing so, you'll be more likely to quickly solve your problem, and you'll allow anyone else with the same question to find the answer. This also allows maintainers to focus on improving the project for others.  Yes, this is a known false positive. If the declaration of the `NSLock` is moved to the top of the `SessionManager` file, I've heard that "fixes" the leak. I also believe this false positive is fixed in Xcode 8.3 / Swift 3.1, which will hopefully be released soon. But you can take a look at that in the meantime. We've already filed a radar for this issue @xmollv and it was closed out as a duplicate.  Aside from the occasional warning against casting optional parameters to `Any`, it works just fine to pass optional values in `Parameters`. However, you're right, it should likely be an actual optional value there. However, such a change wouldn't be backward compatible with current use and so will have to wait until Alamofire 5. I've added it to our backlog for that work. Thanks.  Thanks for the PR! Looks good! Cheers! üçª   Thanks for the PR! While this could just be a change to `var`, preserving `let` semantics is better. Cheers! üçª   How big of a file are you downloading? Is it happening only on certain devices or all of them? What versions of iOS, Alamofire, and Swift are you using? I've been able to successfully test large file downloads using a background `SessionManager`. Your issue may stem from your `responseData` usage, as doing so reads the entire downloaded file into memory, which may cause a failure to read it from disk. Using `response` instead, and checking if the `DefaultDownloadResponse`'s error is `nil` will let you take action when the download completes without attempting the read the file into memory.
3. Checking for reachability before making a request is an anti pattern and Apple specifically says not to do it.  Thanks for the PR! Looks good! Cheers! üçª   Thanks for the PR! A nice little change. Cheers! üçª   You can create a custom `ParamterEncoding` that's similar to `URLEncoding` but encodes parameters using whatever method you want. Our documentation [outlines how to proceed](https://github.com/Alamofire/Alamofire#custom-encoding).  Thanks for the report! You're saying that, even if the cert has been installed and trusted on device that SSL connections won't work? I hope that's a bug, otherwise tools like Charles won't work without ATS workarounds. @rsaeks Thanks for keeping on top of this. I'm closing now that the issue seems to have been resolved. Please let us know if anything changes.  If you haven't noticed yet, Xcode's Swift support breaks a lot, leading to issues with syntax highlighting and autocompletion. I suggest you clear your projects Derived Data and start clean.
Also, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
The only thing I can see in your code sample here that seems a bit odd is that you're calling `resume` on your `task` which is technically the `request` vended by the session manager. Did you purposefully set `startRequestsImmediately` to `false` on your session manager? If yes, then the `resume` call is necessary, if not, then you should remove it. I don't think this is part of your problem, but I noticed it and thought I'd point it out for you.
Best of luck! üçª  Good catch here @pbartolome...thanks for putting this together! üçª  Answered on Stack Overflow.  Other than suggesting you create a custom singleton instance of `SessionManager`, as outlined in our docs, rather than modifying the default, there isn't a lot of Alamofire here. Perhaps you'd have better luck asking this question on  [Stack Overflow](https://stackoverflow.com) and tagging `alamofire`.
## Asking Questions
Now as for directly streaming the data from multiple body parts from various locations (file, in-memory, input stream, etc.) one could create a subclassed `InputStream` that reads data on-the-fly from the `MultipartFormData` object. This is the approach that was used in AFNetworking. This approach is a very hacked together solution that barely works in AFNetworking. When we went to try to build a similar type of approach in Swift, `NSInputStream` couldn't even be subclassed as it through compiler errors. I believe that issue has since been resolved, but the complexity around the low level bridging required is something that we decided to avoid at the time and couldn't even implement if we wanted. After Mattt and I had a very long conversation about it, we both decided it was best to try to use an in-memory solution for small payloads and move to an on-disk solution for larger ones.
If you have actual examples of inaccurate documentation, feel free to open a new issue pointing it out specifically.  Sorry, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
I think a different question to answer here is how are you authenticating against Kerberos? I don't see any auth logic in your code sample. Possibly one approach would be rather than waiting for the request to issue a challenge, you could require the user to enter their credentials before issuing the request at all. Anyways, trying to think outside the box a bit.
In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
We don't use GitHub as a support forum. For any usage questions that are not specific to the project itself, please ask on [Stack Overflow](https://stackoverflow.com) instead. By doing so, you'll be more likely to quickly solve your problem, and you'll allow anyone else with the same question to find the answer. This also allows maintainers to focus on improving the project for others.  @adasoft-dev Well, first of all, you're not even trying to encode your parameters correctly, so it's not surprising your Alamofire request doesn't work. I suggest you review our various `ParameterEncoding` types to see if any would work for you. Second, the various parameters types supported by Alamofire by default are there because they're most common, not as an exhaustive list of possible types. If you need to move beyond them, generating your own request, like you've done, and using Alamofire to issue is directly support. Also, generating requests using the router pattern, or creating your own parameter encoding are both outlined in our documentation.  Hi @vietstone,
Thanks again! üçª  Sorry, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
## Asking Questions
Alamofire.download.  I suspect its this manager class that you have created that is causing the extra complexity, instead of saving time.  Error messages like this usually mean that there's a type mismatch in the function being called, whether in parameter types or attributes like `@escaping`.
In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
We don't use GitHub as a support forum. For any usage questions that are not specific to the project itself, please ask on [Stack Overflow](https://stackoverflow.com) instead. By doing so, you'll be more likely to quickly solve your problem, and you'll allow anyone else with the same question to find the answer. This also allows maintainers to focus on improving the project for others.  [Removed due to resolution in Swift] Hi @AliTariqPL - it was down to the way the api was taking the url query parameters for me.  The easiest way is to print out the request url before its called and run it through a browser/ Rest client to surface the problem.
## Asking Questions
Also, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
We'll look into enhancements for `RequestRetrier` for the future.  Yes, you should not have the scheme on the string you're checking for reachability.  I've seen leaks like this before, they're usually a false positive or something from the underlying Swift standard library, so there's a not a lot we can do about it. It will likely be fixed in a future version of the tools.  This is a false positive. Every `SessionManager` will appear to leak it's `NSLock`, and just the lock. Moving the variable declaration to the top of the class fixes it.  Sorry, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
## Asking Questions
We don't use GitHub as a support forum. For any usage questions that are not specific to the project itself, please ask on [Stack Overflow](https://stackoverflow.com) instead. By doing so, you'll be more likely to quickly solve your problem, and you'll allow anyone else with the same question to find the answer. This also allows maintainers to focus on improving the project for others.  Can you post the leaks output or the lines it points to as responsible? While a demo project would be appreciated, being able to examine the leaks you've seen would be helpful in the meantime. The lock leaks are a false positive. As for the background leaks, I'm not sure what's happening there, but it looks like you're leaking the world almost. If you can get a test project to us that would greatly help with our investigation. @unusuallyreticent Thanks for the investigation, it helped narrow this down quite a bit. It turns out that, when the `taskDidComplete` closure is set, AF isn't calling it's own `TaskDelegate`, which means we lose all of the machinery in there that takes care of task completion. So not only would it leak but any `response` handlers attached would never be called. I've put up a tentative fix on the `bug/1938` branch, pull it down with CocoaPods and see if it works for you. I still need to add some tests but it should fix the issues you're seeing. Hey everyone,
4. Nothing. No port of Alamofire to Linux until the Swift team can provide a useful dependency that comes with the language or default Swift installs.
I'll leave this issue open for now, to track the progress, but it doesn't look like this work will happen until Alamofire 5 this summer.  Most likely this is a false positive or underlying Swift issue, but in the case that it isn't it appears to be triggered in your code, not Alamofire's. Alamofire only shows up in the call stack because the leaking code was called during response serialization. Perhaps letting Swift manage the intermediary array in your `initArrayFrom(data:)` method would help?
```swift
```swift
Alamofire.request("https://httpbin.org/headers", headers: headers).responseJSON { response in
If you continue to have issues, I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
```swift
## Asking Questions
Also, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
If you continue to have issues, I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
I'm not really surprised they respond differently, as background sessions are pretty different.
```swift
let configuration = URLSessionConfiguration.background(withIdentifier: "com.jonshier.AlamofireTest.ShareUpload")
If you MUST use background session downloads and you need to tell the user more abruptly when connectivity is lost, you could use the `NetworkReachabilityManager` to cancel the background request or you could shorten the `timeout`. I think I'd recommend shortening the timeout for now and seeing if that can get you where you need to be. But keep in mind that in other parts of the world (especially China) there can be significant connectivity lag that could trigger false / positive failures if you shorten it too much.
Unfortunately there's not a lot we can do here, as background sessions are largely a black box. They have a variety of different behavior that isn't documented. I suggest you rethink how you're making requests and consider how you want to be using background sessions, as they're really only designed for downloads or uploads you need to continue even if the app is suspended in the background.  Sorry, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
We don't use GitHub as a support forum. For any usage questions that are not specific to the project itself, please ask on [Stack Overflow](https://stackoverflow.com) instead. By doing so, you'll be more likely to quickly solve your problem, and you'll allow anyone else with the same question to find the answer. This also allows maintainers to focus on improving the project for others.  Thanks @fulldecent...that was definitely wrong. I had to tweak your changes a bit and pushed them up into `master` in f3e250ab while keeping your attribution. This should go out shortly as part of the Alamofire 4.3.0 release.
```swift
let configuration = URLSessionConfiguration.background(withIdentifier: "com.jonshier.AlamofireTest.ShareUpload")
Cheers. üçª @nickvelloff Do you have any documentation you can point us to regarding the lifetimes and environment of extensions? I'm not sure what you're talking about here. Using a singleton (or any long lived instance) just ensures that the `SessionManager` doesn't cancel the requests until much later. It's still `deinit`d when the extension is exited. But yes, Alamofire would need some fundamental behavioral changes for background sessions to support this sort of use properly. Not the least of which is not cancelling background tasks when the `SessionManager` is `deinit`'d. We'll take a look at this more in the future.  I'm closing this. If someone in the community wants to help out @TannenBiff, then feel free to continue the conversation through this issue.  Hi @Bouke!
```swift
```swift
```swift
Also, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
We don't use GitHub as a support forum. For any usage questions that are not specific to the project itself, please ask on [Stack Overflow](https://stackoverflow.com) instead. By doing so, you'll be more likely to quickly solve your problem, and you'll allow anyone else with the same question to find the answer. This also allows maintainers to focus on improving the project for others.  Hi @faisalrasbihan,
If you continue to have issues, then I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
If you have further questions, then I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
I'd follow @sahandnayebaziz's advice here and open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
I'm going to leave this open for a few days for you to get us more info. What do you mean by you created a `URLSessionDownloadTask` and then you use `moveItem` and everything is working fine? Does that mean you created an example that doesn't use Alamofire and there are no memory constraint issues like you're seeing in Alamofire? @jshier would you be able to investigate this issue to see what's going on? @suniljakhar I've created a test project using Xcode 8.2.1, Alamofire 4.3, and an iPhone 4S running iOS 9.3.5 (only other iOS device I have) and I can't reproduce your crash. I was able to successfully download a 1.4GB file on the device and move it to my documents folder. Please retest using the latest versions of Alamofire and Xcode. If you still get a crash, please post the crash log. @cnoon Only other thing I can think of is an iOS 10 issue, do you have an older iOS 10 compatible device to test with? I'm in the process of acquiring one but it'll be a week. Hmmm...I might @jshier. Could you post your sample project here so I have it just incase? We could also just try the sample project on a newer device running iOS 10 and monitor the memory usage. It shouldn't have to crash for us to be able to detect a memory spike. Here's my test project, though it has a lot of different test bits, and my original download file was local, since the sites I found that do simple test file downloads were pretty slow.
If that doesn't fix things up, then I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
We don't use GitHub as a support forum. For any usage questions that are not specific to the project itself, please ask on [Stack Overflow](https://stackoverflow.com) instead. By doing so, you'll be more likely to quickly solve your problem, and you'll allow anyone else with the same question to find the answer. This also allows maintainers to focus on improving the project for others.  Error 3840 is `JSONSerialization`'s way of telling you that it didn't receive valid JSON. Most commonly this is caused by the server returning an HTML error page of some kind.
Also, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
We don't use GitHub as a support forum. For any usage questions that are not specific to the project itself, please ask on [Stack Overflow](https://stackoverflow.com) instead. By doing so, you'll be more likely to quickly solve your problem, and you'll allow anyone else with the same question to find the answer. This also allows maintainers to focus on improving the project for others.  Alamofire isn't that big of a library and should only take a few seconds to build. However, the cost of supporting prebuilt binaries isn't that big, assuming we can get our TravisCI setup to do it automatically. That refactor likely won't be easy, as we don't have anything like it at the moment. Luckily Carthage does have some documentation for it.
Once Apple starts shipping Swift with the OS, we will look to re-open this issue and get it implemented. But until then, let's hold off.
Cheers. üçª  Sorry, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
## Asking Questions
## Asking Questions
Can you run through the exact steps I should follow in order to add these custom error codes in for these common error codes like 404, and 403.  It feels like something that should be quite basic to add in - and a common use case.  Ignore what I said above.  I think I have cracked it.  I also think I might be in love with Custom Serializers..  Even though I haven't fully got to grips with them - I really see the promise now..  Very painful getting to this point- but it was completely worth it.   These don't seem to have anything directly related to Alamofire. I suggest you report these crashes to Apple and see what they say. Also, asking a question on StackOverflow will get more eyes on these issues than you'd get here. I'm closing this, but please let us know if you learn anything more about this apparent increase in crashes on iOS 10.2.  @Dschee I appreciate your work on this. However, I'm not sure this scenario is common enough to need top level APIs dedicated to it. Once Alamofire usage has reached this level of complexity (covering an entire JSONAPI setup), users should really be adopting a variation of the `Router` pattern. This can fairly easily cover the scenarios you require by using multiple encoders. Ultimately, it seems like there are few options here:
Thanks again. üçª  Unfortunately, at no point in the request process do we have a chance to change the headers added by the `URLSessionConfiguration`. Additionally, changing the `URLSessionConfiguration`'s `httpAdditionalHeaders` on a per request basis is a bad idea for many reasons, not least of which is the difficulty of keeping such a thing thread safe. As we suggest in our README and Apple does in their documentation, you should set `httpAdditionalHeaders` at the time you create the `URLSessionConfiguration`. If you need headers that aren't always in requests I suggest you do so at the time you create your `URLRequest` or using a `RequestAdapter`.  Thanks, we'll take a look @Dschee. However, you can already accomplish this by using the `URLEncoding` `ParameterEncoding` on the `URLRequest` and then passing that `URLRequest` into `request()` as you're doing, where the body will be `JSON` encoded. So really this is just a slightly more convenient version of that. Perhaps a more general solution would be to create a `ParameterEncoding` that can take sets of encodings and parameters and applies them to a request all at once? Hi @Dschee,
With that said, feel free to use this all over in your own projects. There's nothing wrong with doing what you are doing, it could just lead to misuse and confusion among the AF community.
However, we've seen this before, as some servers don't like `bodyData` in `GET` requests. Make sure you're using the correct parameters encoding for `GET` requests on your server.  @reshadf Agreed, we should add SPM directions to our `README`. However, I wouldn't suggest using it if you're developing for Apple platforms unless you're prepared for the integration burden it presents. @reshadf @indrajitsinh @AndrewSB
However, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
## Asking Questions
However, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
## Asking Questions
## Asking Questions
## Asking Questions
## Asking Questions
## Asking Questions
## Asking Questions
We don't use GitHub as a support forum. For any usage questions that are not specific to the project itself, please ask on [Stack Overflow](https://stackoverflow.com) instead. By doing so, you'll be more likely to quickly solve your problem, and you'll allow anyone else with the same question to find the answer. This also allows maintainers to focus on improving the project for others.  Right now the best way to accomplish that is to put such error handling inside your response serializer. That way you can share code between your normal response handling and the special error handling. We're hoping to revisit the `validate` vs. `response` functions in the future, but for now this should work. Attaching the response body to the error is unlikely to happen, as the data could very large, even if we refactor the `validate` vs. `response` handling. I suggest you look into customizing your response serializer. This error is used for any response code outside the valid range, which could be customized in ways we can't anticipate, including use in a backend system that includes large responses, intentionally or not. There is no single standard practice here so we must be conservative when offering default behaviors.
Like I said, customizing the response handler is appropriate place to put this logic for now. Our response handling is [well documented](https://github.com/Alamofire/Alamofire#response-handling), even for [custom cases](https://github.com/Alamofire/Alamofire#custom-response-serialization).  Hi @sonysum,
I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
Is there any chance you could post a sample app? I can't really help you investigate further without one. Could either of you answer my questions above? There's not anything we can do without some more information. @subhajit1609 I've tested your scenario with the `ServerTrustPolicy` and it worked fine. It's possible your issues stems from the fact that your policy URL includes the scheme, which it shouldn't. Remote that and it should work correctly.
@adrianodiasx93 I've tested your scenario and I was receiving the `-999` error when I was trying to pin a certificate that wasn't in the proper format. If you've downloaded a certificate as a `.pem`, you need to convert it to `DER` format before being able to pin against it. Once I did that I was able to run request from my app and today extension using the same setup.
```swift
do {
throw AFError.parameterEncodingFailed(reason: .jsonEncodingFailed(error: error))
Am I missing something?  This is most likely due to some issue you have in your logic @sergiocg90. Many of us have apps shipped on AF 3.5.1 and aren't seeing this issue. Any chance you could post some sample code for us to better understand how you're making requests? The top of your crash stack, which contains `assertionFailed` and `StaticString` almost alway indicates the forced unwrapping of a nil value. In your code there are a variety of locations that could be causing that, so I suggest you audit your code for implicitly unwrapped optionals and make it a bit safer. Symbolicating your crash stack properly would probably help you find it as well. In any event, if can narrow the crash down to something caused by Alamofire and can create a sample project that replicates the issue, feel free to file a new issue with the sample project. Until then, there isn't enough here to narrow down a cause, but there's enough in the code you posted for me to say that it likely isn't caused by Alamofire itself.  Sounds like some local setup issue and not something directly related to Alamofire. I'm going to close this issue out for now, but feel free to continue to discuss here.  Thanks @zhongwuzw for putting this together. I made a small tweak and pushed it up into `master` in 05c9bcdc. It will go out in the 4.3.0 release most likely. Thanks again! üçª  Hi @black-lotus,
If you continue to have issues, then I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
It works fine when things are setup correctly. If you're having trouble with autocomplete, I'd suggest you take your question to [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. Someone should be able to help you get to the bottom of your issue. Most likely you need to clean your project and possibly delete DerivedData. We use our GitHub project for bug reports and feature requests.
## Asking Questions
I've just created an `Alamofire/Alamofire` chatroom with public permissions and I've just invited you to it. I'm going to add the badge to the README as well. We'll see if it ends up getting some use or not. Thanks for the suggestion!
```swift
@cnoon Any input here? My main concerns with `dematerialize` vs. `unwrap` are 1) translation between other `Result` types in Swift and ours, namely antitypical/Result, which already use `dematerialize`, and 2) supporting the symmetrical operation of `materialize`, which I'm not sure works well if it's just `wrap`. But that's fine.
```swift
```swift
```swift
Thanks again! üçª  Hi @jakjothi,
If that doesn't help, then I'd suggest you take your question to [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
```swift
## Asking Questions
We don't use GitHub as a support forum. For any usage questions that are not specific to the project itself, please ask on [Stack Overflow](https://stackoverflow.com) instead. By doing so, you'll be more likely to quickly solve your problem, and you'll allow anyone else with the same question to find the answer. This also allows maintainers to focus on improving the project for others.  Hi @WataruSuzuki,
Thanks! üçª Hi @WataruSuzuki,
If you continue to have issue, then I'd suggest you take your question to [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. There someone can help you investigate further. We use our GitHub project for bug reports and feature requests.
## Asking Questions
```swift
Otherwise, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
I'm going to close this issue out for now, but if you would be so kind as to post your findings back here if you make any headway I'd greatly appreciate it. Then we may be able to use some of your findings if we decide to implement this directly into Alamofire in the future.
Cheers. üçª  Could you provide some more detail here @AndrewSB? What exactly would you like to discuss? What exactly is holding you up from the Moya perspective?  Sorry, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
## Asking Questions
Thanks again! üçª  Sorry, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
Hi @noear,
Alamofire.request(urlString).response { response in
I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
Hi @soxjke,
## Other Approaches
Alamofire 4 supports Swift 3 and has for months.
Hi @samirae,
I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
Hi @llliang,
I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
This PR reverts back to deployment targets of iOS 8.0 and macOS 10.10 due to Apple dropping Swift 2.3 support post Xcode 8.2. We still need to update some of the documentation to support this change, but all the test suites are passing on all supported platforms. Great catch @jjulian! Fixed in a352f1fb.
@Khalian I just realized that, if you're running on the latest OSes, the `URLSessionTaskMetrics` contained one each response will have the information you're looking for. See our [Migration Guide](https://github.com/Alamofire/Alamofire/blob/master/Documentation/Alamofire%204.0%20Migration%20Guide.md#task-metrics) for more info.
Sorry, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
Sorry, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
We use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
Otherwise, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
We use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
Thanks for helping @eimantas. Cheers! üçª
Hi @DrAma999,
However, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
Please note that we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
@CompassCanJV You shouldn't need to point to a specific tag, `pod 'Alamofire'` should work just fine.
In general, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
Hi @kakilan,
@dipsvaishnav By your errors it's clear you're either trying to build Alamofire using Xcode 7 or Xcode 8 using Swift 2.3. Update your Xcode or switch your project to the appropriate version.
@preraksola Please review our [Security](https://github.com/Alamofire/Alamofire#security) documentation, as it should have the info you need to allow self signed certificates.
Sorry, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
Hi @michallaskowski, we're looking to tag AF 4.1.0 on Monday at the latest.
Can you point to any sort of standard the defines the behavior we should see with this?
Hi @ricardopereira,
Alamofire.upload(
do {
In the future, I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
We use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
Sorry, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
This looks @jshier! üçª
## Asking Questions
@nikkibeats Makes sure you're using the `*.xcworkspace` file created by CocoaPods and not your `*.xcodeproj`.
If that doesn't work, I'm sorry but we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
Thanks @ILI4S...much appreciated! üçª
Sorry, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
//JSON raiz
log(error.localizedDescription)
Code Type:           ARM-64 (Native)
Role:                Foreground
Exception Subtype: KERN_INVALID_ADDRESS at 0x000000059480bec8
2   Alamofire                       0x00000001003aca84 specialized DataRequest.(response<A where ...> (queue : DispatchQueue?, responseSerializer : A, completionHandler : (DataResponse<A.SerializedObject>) -> ()) -> Self).(closure #1).(closure #1) (ResponseSerialization.swift:0)
I am getting EXC_BAD_ACCESS(code=1, address=...) in ResponseSerialization.swift (line 159)
``` ruby
else
Hi @Tindi
Thanks for the report! I can see the same leaks you are. However, they appear to be in the underlying Swift libraries and not strictly from Alamofire's code, so I don't think there's much we can do about it. But I'll look into it further.
These are also leaks that aren't detected by the Instrument's Leaks template, so I'm not entirely sure they're real.
I've been able to detect @hammyhamza's leaks using the Leaks instrument now (strange). However, I don't see anything like what @windyit08's screen shot shows. @windyit08, can you open a new issue with those leaks, if you can trace them to Alamofire's code? When you do, please state what OS, version of Alamofire, and version of Xcode you're using.
Sorry, we use our GitHub project for bug reports and feature requests. In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`.
## Asking Questions
**responseSerializationFailed(Alamofire.AFError.ResponseSerializationFailureReason.inputDataNilOrZeroLength)**
Alamofire.request(AppConstants.musicFileURL + musicFilename, method: .head, parameters: nil, encoding: JSONEncoding.default, headers:headers)
//print FAILURE: responseSerializationFailed(Alamofire.AFError.ResponseSerializationFailureReason.inputDataNilOrZeroLength)
@honbolau The Swift Package Manager is a bit of a moving target right now, especially if you're using development versions instead of the one included with Xcode. We're going to need a lot more information to properly diagnose an issue here. Like @skyline75489 said, check #1544 for up to date directions.
However, like @skyline75489 said, these types of questions are best suited for [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
@Mapamatician It seems like you have an issue with your local setup, as Alamofire does not produce timeout errors itself, those are from the underlying networking library. But like @skyline75489 said, these types of questions are best suited for [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
## Asking Questions
@yogesh2209  Like @thebluepotato said, these types of questions are best suited for [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
do {
## Asking Questions
@danipralea I'm mostly interested in what the request difference was that made your requests not work. That is, what was different between the requests returned by `.authenticate()` and you manual header addition.
Hi @danipralea,
Hi @taflanidi, thank you for taking the time to put this together and to state your reasoning. While we understand your point of view, we don't agree that Alamofire should be falling back to other types of parameter encoding when the specified one doesn't necessarily make sense.
@taflanidi you can create your own custom JSON encoding type that behaves exactly as you would like. This is why we modified the AF4 design to be more flexible when it comes to parameter encoding. While we completely understand your reasoning here, we simply disagree.
Hi @najmul-csebuet,
In the future, you should open questions like this on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
@AleyRobotics @pixelfreak @adrimarti I'm sorry, but I can't reproduce this issue at all. Our tests pass on a variety of simulator types with each optimization level. We're going to need to see the calling code that leads to this crash to be able to reproduce it. @pixelfreak You mentioned "using the same parameters", can we get a code sample with those parameters that causes this issue for you?
## Problem
We could instead actually expose an `AFError.adaptError` that people are required to throw to get this behavior, but that seems a bit odd and easy to misuse. Instead, I think people are going to want to throw all types of errors from the adapter and we should just wrap them up internally to figure out whether or not we should call the retrier. Once we make that decision, we extract the underlying error and continue on.
Thanks @hardikdevios! üçª
In the future, I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire` for this type of question. We use our GitHub project for bug reports and feature requests.
## Asking Questions
Hi @Goule,
I'd suggest you open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
In the future, these types of questions are best suited for [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
These are all AWESOME points and you can do "exactly" what you proposed without any changes to Alamofire. It's already all setup to handle this, you just need to implement it. In your `RequestAdapter`, just check if the `expires_in` parameter has actually expired. If it has, throw an `Error`. It can be some custom error you create just for this case such as `CustomError.expiredAccessToken` or something like that.
Yep, you're certainly correct @tholo...it's going to take some creativity to make that work. Let me see what I can come up with.
The reason the `204` status call works is that the `responseJSON` handler has logic to handle a 204 or 205 gracefully without failing. They are special HTTP status codes that do not return data so we have special logic in Alamofire to handle them in the default response handlers.
Alamofire.request("http://httpbin.org/status/200").response { response in
Hi @Footjy,
Hi @badeleux,
## Problem
### Senario 3 (valid cached response)
@vishal-algoworks Make sure you transition your main project to Swift 3 before using CocoaPods 1.1.0 to install pods, as CocoaPods uses your project's Swift version setting to set the Swift version for all of your pods. Without that transition your project will trigger Xcode's update warning every time you open the project.
Hi @omidkh68,
In the future, for questions like this, you should instead open a question on [Stack Overflow](https://stackoverflow.com) and tag `alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
Hi @umeshjavastar,
You're validating that the response status code is 200...299 and it's 400. That's why you're getting an unacceptable status code error. Instead of opening an issue for this on our GitHub project, you should instead open a question on [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
Hi @gsujathap,
These types of questions should be opened as a question on [Stack Overflow](https://stackoverflow.com) with an `alamofire` tag. We use our GitHub project for bug reports and feature requests.
## Asking Questions
Hi @yuchenglin,
You need to remove the `public` ACL declaration and add the `@escaping` to the `completion` closure. In the future, I'd suggest you open a question like this on [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
Hi @leizard,
## Asking Questions
Hi @kalvish21,
do {
I'm going to close this issue out for now. If you post more info here that leads us to believe this could be an Alamofire error, we'll happily re-open and investigate further.
## Asking Questions
Hi @Zfr21,
Please read through the [AF 4 Migration Guide](https://github.com/Alamofire/Alamofire/blob/master/Documentation/Alamofire%204.0%20Migration%20Guide.md). It has all the info you need to get up and running.
## Asking Questions
Hi @emrekilic,
Thanks @hardikdevios! üçª
Hi @kavoskhajavi,
This type of question is best suited for [Stack Overflow](https://stackoverflow.com). We use our GitHub project for bug reports and feature requests.
## Asking Questions
Alamofire 4.0.0+ is released on Swift 3. The `swift3` branch has been deleted.
What is the empty JSON you would expect to send @ilandbt...let's start there. What would you like to send up to the server. By empty do you mean nothing? I'm assuming not, but have to ask. I would "assume" you're trying to send an empty dictionary `{}`. Is that correct?
do {
do {
Hi @iosdevben,
## Asking Questions
## Asking Questions
## Asking Questions
Hi @puhgeh,
Thanks for reporting back @rudian. In the future, please take questions like these to [Stack Overflow](https://stackoverflow.com).
Otherwise, these types questions are best suited for [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
I agree with @jshier, you should use `JSONSerialization` @it99ts. If you continue to have issues, please open a question on [Stack Overflow](https://stackoverflow.com).
## Asking Questions
## CocoaPods
- `gem install cocoapods --pre`
- `pod 'Alamofire', '~> 3.5'`
## Asking Questions
Hi @zhangfogao,
## Asking Questions
Hi @Bigboocheng,
## Asking Questions
Thanks @bakemecookies! üçª
Thanks @abunur! üçª
## Asking Questions
Alamofire.request(urlString, parameters: ["foo": "bar"], headers: headers).responseJSON { response in
I would strongly recommend you take the time to read our [AF 4 migration guide](https://github.com/Alamofire/Alamofire/blob/master/Documentation/Alamofire%204.0%20Migration%20Guide.md). We spent a tremendous amount of time detailing all the changes to make the transition much easier for you.
Thanks @YeralYamil! üçª
Thanks @thebluepotato. @Joanlove526 make sure you're using AF 4 and the latest version of CocoaPods or Carthage. Also make sure to wipe your DerivedData folder.
## Asking Questions
Thanks @thebluepotato. üçª
Alamofire.request(apiURL + "users", headers: headers)
## Asking Questions
Thanks for helping out @thebluepotato! üçª
Hi @raugustinas,
Alamofire.request(urlString, method: .post, parameters: parameters).responseJSON { response in
``` ruby
pod, 'Alamofire', '~> 4.0'
Thank you @ikesyo! üçª
For anyone still having issues, please refer to @ikesyo's solution.
Wipe your DerivedData folder @amirpervaiz086. If you continue to have questions then you should move your question to Stack Overflow.
This type of question is best suited for [Stack Overflow](https://stackoverflow.com). We use our GitHub project for bug reports and feature requests.
## Asking Questions
Thanks @leinadoknilik! üçª
We will not be adding dependencies to Alamofire @pawel-sekara. Please see #1167 for more information.
Otherwise, these types of questions are best suited for [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
@duanyicanyuan Be sure to clear your derived data after doing an update, it seems like maybe you have some build products in there that haven't been rebuilt.
Otherwise, these types of questions are best suited for [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
Alamofire 3.5.0 supports iOS 8 - 10 and is compatible with Swift 2.2 and 2.3, as well as Xcode 7.3 and 8.0.
Thank you for reporting this issue @amosavian. I've added a test in acc7361c that verifies the behavior works correctly in the official Xcode 8 release on iOS 10 and iOS 9. Looks like the issue has been resolved in the underlying URLSession logic.
Thanks for letting me know @amosavian. I'm going to re-open and see if I can reproduce the behavior in a sample app since background session configurations no longer work in the simulator in Xcode 8.
Hi @amosavian,
@amosavian Are you able to share the official workaround?
## Alamofire 4
Alamofire 3.5 an 4.0 both support tvOS 9, yes.
Otherwise, these types of questions are best suited for [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
@romk1n You can see issue #1367 for our full reasoning behind dropping iOS 8 support.
However, since this is entirely an Xcode and CocoaPods integration issue I'm closing this issue out. If you have further issues, these types of questions are best suited for [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
You need to update the Swift syntax of your app to match the Swift 3 and Xcode 8 requirement of Alamofire 4.0. Once that is done, and you do a `pod update` using CocoaPods 1.1.0, it will work just fine.
Otherwise, these types of questions are best suited for [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
.Package(url: "/Users/cnoon/Desktop/Alamofire", "4.0.2")
import Alamofire
SDKROOT = macosx
These types of questions are best suited for [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
Alamofire 4 requires Swift 3, which has renamed `NSTimeInterval` to `TimeInterval`. You need to use Xcode 8 to properly compile this project. Please see our README and Migration Guide for more info.
@xiaopn166 The answer to your question was right there in the CocoaPods output: `Specs satisfying the Alamofire (~> 4.0) dependency were found, but they required a higher minimum deployment target.` Alamofire 4.0 has higher OS requirements than 3.5, so make sure your deployment target meets the minimums specified in our README.
@amolgupta That workaround should not be required if you update to CocoaPods 1.1.0.
@cnoon Perhaps this is related to #1553?
Hi @Tulleb,
Alamofire.request(url).responseData { response in
@lawgimenez We have quite a few tests and apps using this behavior, so it's unlikely that this is an Alamofire issue. Mostly likely it's an issue with your underlying app code. However, if you can narrow down a cause and create a reproducible test case, feel free to open a new issue so we can investigate further.
These types of questions are best suited for [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
Alamofire.upload(
multipartFormData.append(imageData, withName: "unicorn")
Alamofire.upload(
Alamofire.upload(
@Canmmy If you are integrating Alamofire through CocoaPods, make sure you update to CocoaPods `1.1.0` and run `pod update`. Also, remember that you can only use Alamofire `3.5` and Swift 2.3 on iOS 8.
@ka05 Please don't use 3.4.2. The last supported version for iOS 9 and Xcode 7 is 3.5.x.
These types of questions are best suited for [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
Absolutely @chunlea...that was completely my fault. We'll have this fixed shortly.
Hi @chunlea,
Thank you so much for figuring out this was the core issue! I had actually been having this happen to me several times while working on AF4 and somehow I never realized it was actually running the test suite on OS X that was the root problem.
Hi @Urkman,
Alamofire.upload(
Thanks @a2!
@kthotav You can run `pod cache clean --all` to make sure you'll pull the appropriate Alamofire source. You can also run `rm -rf Pods` from your project directory to make sure CocoaPods properly reinstalls everything. After that your project should build fine.
Thanks @thebluepotato. üçª
AF 4 is now available!
If you're writing a new project and are using Swift 3, use Alamofire 4.0.0, otherwise use 3.5.
@Gargo...many of us are now using Alamofire 4 with CocoaPods 1.1.0-rc.1 with the Xcode 8 GM. Our documentation did not match up with the official release for a couple days which certainly caused some people some issues. We're sorry for that. It wasn't our intention to cause confusion. However, that branch was not yet released, so to expect all the documentation to be exactly right is not really realistic.
The Code of Conduct governs how we behave in public or in private
whenever the project will be judged by our actions.
Our community is open, and any responsibility can be carried
- **Be empathetic**: We work together to resolve conflict,
and do our best to act in an empathic fashion.
we can create a comfortable environment for everyone to share their ideas.
- **Be collaborative**: We prefer to work transparently
@WERUreo, we're updating the documentation now. Please stop commenting on various issues about it. We're fully aware that the documentation does not "exactly" reflect the current state of the unreleased `master` branch.
We're actively updating the documentation now @WERUreo. Please understand that Alamofire 4.0.0 is not released. If you are looking at unreleased branches, you cannot expect all the documentation and everything to be perfectly up-to-date.
Alamofire 3.5.0 supports Swift 2.3. If you're trying to build a project using Swift 3, you need to use the HEAD of `master` right now.
## Asking Questions
Thanks @thebluepotato. üçª
## Asking Questions
Hi @steveatinfincia,
## Options
It will be removed once we officially release Alamofire 4.0.0 @CedricEugeni. We're working tirelessly to wrap up everything to make AF 4 as awesome as possible! We're almost 100% code complete and just need to update the docs.
## Asking Questions
Looks like you're all squared away @adamn. üëçüèº
@cyurtbil Alamofire works fine with the `use_frameworks!` flag, as that's the only way to build Swift pods in the first place.
However, these types of questions are best suited for [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
Alamofire 3.5.0 only supports Swift 2.2 and 2.3. We are working on a 4.0 release which will support Swift 3. In the meantime, for Swift 3, use the `master` branch.
Interesting...thanks for reporting @thebluepotato!
Cool, thanks for reporting @thebluepotato...we'll certainly dig into it.
Thank you for opening this issue and providing the failing test @thebluepotato! Much appreciated!
After much investigation, there was nothing we could do that would allow us to keep both variant APIs without having to specify the type on the `progress` closure parameter. Because of this, I decided to remove the `Int64` variants for both upload and download progress. These changes have been pushed in `master` in commit 7925a0a7.
## Asking Questions
Alamofire.download(urlString, to: { _, _ in fileURL }, withMethod: .get)
do {
Since the default validation methods supported in AF are the same between data and download requests, I decided to DRY things up by pulling the validation logic out into a `fileprivate` set of extensions on `Request`. This is very similar to how the response serialization logic was DRY'd up as well.
Thank you for the feature request @tobiasoleary!
Alamofire.request(urlString)
There were several reasons why the `Request` class could greatly benefit from being split up.
Alamofire.upload(data, to: urlString, withMethod: .post)
Like @tobiasoleary said, these types of questions are best suited for [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
This PR adds a couple powerful protocols, `RequestAdapter` and `RequestRetrier`, that open up all sorts of possibilities including:
private var accessToken: String
// MARK: - Private - Refresh Tokens
accessToken: "abcd1234",
refreshToken: "ef56789a"
## Internal Modifications
Overall I think these are two very powerful protocols that will open up all sorts of possibilities for the Alamofire community. I'd love to see custom `RequestRetrier` implementations for linear and exponential back-off policies for things like background sync operations. Can't wait to see what everyone comes up with!
$ carthage build --platform iOS
## Asking Questions
Hi @iAviatorJose,
This type of question is best suited for [Stack Overflow](https://stackoverflow.com) with an `alamofire` tag. We use our GitHub project for bug reports and feature requests.
## Asking Questions
@iamjono Thanks for the report. It looks like they've fixed several issues they had with the switch from escaping to non-escaping as the default. We'll be sure to issue a new build when those changes make it into a shipping Xcode. Unfortunately we don't support building Alamofire against development toolchains. Cheers!
## Asking Questions
@RahulKatariya Alamofire 4 adopts Swift 3's new `Error` based error handling. What were once `NSError`s in the `NSURLErrorDomain` can now be cast to `URLError`, which has specific codes that cover what you want. I'd suggest that route rather than casting to an `NSError`.
Thanks @trichner...you'll need to pass a `name` @pangpingfei even if it's just some made up name that the server ignores. It's part of the spec.
These types of questions are best suited for [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
@Noobish1, please see #1367 for more info on iOS 8 support. @leebros we won't be merging the `swift3` branch into `master` until the Xcode 8 GM is released.
Thanks @MainasuK. üçª
@yuweipei If you're having trouble with AlamofireImage, please open an issue on that repository. Thanks!
## History Lesson
Hi @srinadh588,
"baz": "qux"
Alamofire.request(.POST, "https://httpbin.org/post", parameters: parameters, encoding: .JSON)
## Asking Questions
## Asking Questions
Hi @Shunzi007,
## Asking Questions
let delegate = Alamofire.SessionManager.shared.delegate
return "Alamofire"
Hi @shahdhiren,
You absolutely can, but this type of question is best suited for [Stack Overflow](https://stackoverflow.com) with an `alamofire` tag. We use our GitHub project for bug reports and feature requests.
## Asking Questions
Hi @chaocharleswang,
These types of questions are best suited for Stack Overflow with an `alamofire` tag. We use our GitHub project to bug reports and feature requests.
## Asking Questions
Hi @martinkaplan,
## Asking Questions
Please see #1367 for a full description of the Alamofire 4.0.0 and 3.5.0 releases.
These types of questions are best suited for [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
These types of questions are best suited for [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
@patricks Using the `ParameterEncoding` `.Custom` should allow you to accomplish this. If that doesn't have the flexibility you require, writing your own method of request serialization isn't that hard, it just requires you to operate outside of the methods provided for you by Alamofire. Take a look at the different `ParameterEncoding` method and you should be able to create your own pretty easily and integrate it into your request creation. Our parameter encoding documentation starts [here](https://github.com/Alamofire/Alamofire#parameter-encoding).
@mengheangrat Error 3840 is a JSON encoding error, which means there's something wrong with a response you expected as JSON.
However, these types of questions are best suited for [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
Hi @JourneyWind,
Gzip compression is automatically handled by iOS when downloading data from the server if you supply the `gzip` encoding in the [Accept-Encoding](https://github.com/Alamofire/Alamofire/blob/master/Source/Manager.swift#L50) header.
@cnoon Any ideas here? I'm not sure about the behavior of `NSURLSession` here.
I'm going to close this issue out @ahmad-atef. If you end up getting us some more info, we could investigate further if needed.
These types of questions are best suited for [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
These types of questions are best suited for [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
@mojidabckuu A good question. It comes down to the fact that a multipart request can be very large and the encoding of this data can take more time than should be spent on the calling queue, so it's offloaded to a background queue. At the same time, Alamofire's `Request` type has no notion of an asynchronous `encoding` state, so there's now way for it to represent it's state before it's request is properly encoded. These two facts lead to the current implementation.
Hi @zkh90644,
## Asking Questions
Hi @duraiganesh0,
## Asking Questions
Hi @granoeste,
## Asking Questions
Hi @arnaudlamy,
## Asking Questions
Hi @kumold,
## Asking Questions
1. You can continue to use Alamofire 3.x with Swift 2.3 until you're ready to drop iOS 8.x support. (this is our recommendation)
Alamofire is already segmented across three versions of Swift and 2-3 major versions of 4 different platforms spread over 3 different libraries. This is a tremendous amount of logic to support as well as keep the test suites up and running day-to-day while we try to iterate on Alamofire 4. With our small team, we need to draw the line eventually. There are always trade offs, and we've tried to make the best decisions for the community.
iOS 10 will be released one week from today. Additionally, anyone running iOS 8 can upgrade to iOS 9 for free, which they should be doing anyway, due to the rather severe security issues patched in 9.3.5. Finally, you can continue using Alamofire with the upcoming 3.5.0 release which will support iOS 8 - 10 by use of Swift 2.3.
Looks like you've got a code signing issue. The occurrence of Alamofire in your error is merely because it's the first in the alphabetical list of dependencies which failed signing. There is a lot of help on this issue to be found elsewhere online, especially on StackOverflow. Good luck!
Hi @vishnu-mee,
## Asking Questions
Hi @thaoth58,
## Asking Questions
let isEqual: Bool
Hi @dahuangfengda, without any sample code to go on here, we can't reproduce the leak you're seeing. I'm going to close this issue out for now since there's not enough information to investigate. If you end up posting a sample project that can reproduce the leak, we'll gladly re-open and investigate.
Hmmm...good question @gordinmitya.
Awesome @gordinmitya! Glad we got to the bottom of it. üçª
Hi @ebbnormal,
Hi @vishnu-mee,
## Asking Questions
Hi @girishghoda,
Hi @renjithr,
## Asking Questions
While I completely agree the whitespace should be cleaned up, I don't agree with some of the formatting changes in this PR. Because of this, I've added a `Cleanup Whitespace` aggregate target to Alamofire that will remove all the extra tabs and spaces at the end of any line. I added the target in 7789baaa and ran it in c5fe5da0. I'll be adding this new target to both AFI and AFNAI as well to keep things tidy moving forward.
Thanks again @marius-serban! üçª
## Migration Notes
## Radars
The following radars were filed as a result of this migration and are currently being tracked by the ASF team.
@dipang90 You likely need to update your version of Xcode 8 to the latest beta.
Continue using Swift 2.3, as Alamofire 3 will continue supporting the current versions, just with no new features.
We haven‚Äôt updated AFNAI to beta 6 yet @jmbeneUF.
@jmbeneUF AFNAI has been updated for beta 6. Make sure you integrate it using the `swift3` branch.
AF 4 is coming!!! üéâüéâüéâ
@mychaelgo `Method` has been renamed to `HTTPMethod`, to disambiguate it from the type you're seeing.
Hi @kumangdeal,
In the future, I'd encourage you to use Stack Overflow for these types of questions. We use our GitHub project for bug reports and feature requests.
## Asking Questions
The following changes were made aligned with the issues in #1312:
2. Moved to the Enum type.
# Unknown's
I think its important we do this for the AF 3.x branch so people can easily transition to swift 2.3 if they choose, with the same version of Alamofire.
You can pull the CocoaPod from the `swift2.3` branch.
@Lukaz32 Solution for what?
Yes, no more Swift 2.3 branch. The Alamofire 3.5.0 release supports Swift 2.3 and is what you should be using from now on @tal-sh.
Hi @rafsouzap,
If your server won't accept the `%2B` percent escaped variant, then you can override it by placing that parameter in the URL and not passing it as a parameter. Something like this:
Hi @CiniCraft,
Hi @CelpanDmitrii,
Hi @girishghoda,
## Asking Questions
Thanks for reporting this @mrubin. We already have some tests put together around this use case, but not for MultipartFormData requests. I'll add one and see if I can get to the bottom of this.
## Asking Questions
do {
Alamofire.upload(.POST, URLString, headers: ["ContentSize": data.length], data: data)
Hi @kovallux,
Hopefully this helps give you some ideas on how this could work. I'm going to close this issue out for now. If you end up providing some more info that leads us to believe there's an issue with Alamofire, we'll happily re-open this issue and continue to investigate further.
## Asking Questions
Hi @marxcheckito,
These types of questions are best suited for Stack Overflow. We use our GitHub project or bug reports and feature requests.
## Asking Questions
Thanks for reporting back @marxcheckito. üçª
Hi @borek2,
Alamofire.request(.DELETE, "https://httpbin.org/status/204")
If I were you, I'd follow the Eskimo's advice if you're using `NSURLProtocol`s in your code. I'd also encourage you to consider removing the `NSURLProtocol` implementation altogether. They are fairly clunky these days when integrated with `NSURLSession`. If you're not using `NSURLProtocol`, then you'll need to continue to investigate what's happening. There's nothing here that points to any issue in Alamofire itself, but rather the underlying Foundation and CFNetwork implementations.
If anyone finds any repro case or has any idea on what scenario could lead to this type of crash, please post it here and we'll investigate further.
Thanks @huy-le! üçª
**Thai**
Hi @bgerstle,
One of the apps I work on is localized in 20 languages. All I did was drop some log messages into our `AppDelegate` printing out the `operatingSystemVersionString` values and ran it in the different languages posted above as an experiment.
struct APIManager {
Thanks for putting this together @lferro9000!
Hi @satyamub,
## Asking Questions
Hi @chashmeetsingh,
Hi @lalitkumarchoudhary,
Alamofire.upload(
Hopefully that helps. In the future, I'd encourage you to ask this type of question on Stack Overflow. We use our GitHub project for bug reports and feature requests.
## Asking Questions
Hi @gerdogdu,
This is the intended behavior @romk1n. The `.URL` encoding will encode parameters in the URL for certain HTTP methods such as GET and DELETE, and in the HTTP body for other methods such as POST and PUT.
## Asking Questions
Hi @startupthekid,
Thanks for the suggestion. This issue has already been discussed at great length in #1167, #1072 and #764 among others. You can easily resolve the issue by namespacing with `Alamofire` in your method declaration.
Thanks for providing that info @nubbel. üçª
@startupthekid thanks for providing all your info. I will answer each of your questions in turn, but please respect the opinion of the ASF. We always try to do what's best for the community, not just those using Result and Alamofire together.
> 3) Anittypical's result is objectively better
Hmmm...not sure on this one @duanyicanyuan. We'll have to investigate. Does anyone in the community have experience using the Reachability APIs on a VPN?
Great question @onmyway133! We'll have to do some investigation here and get back to you.
In the future, I'd encourage you to use Stack Overflow for these types of questions. We use our GitHub project for bug reports and feature requests.
## Asking Questions
If the default collection formatting does not meet your needs, you should instead use the `.Custom` parameter encoding type to create your own. We've opened up the APIs in `ParameterEncoding` to make it as easy as possible to roll your own solution.
Hi @laddiexu,
## Asking Questions
While I completely get why @0xced was trying to lock down the ability to create errors with the Alamofire domain that don't use custom AF error codes, it's not really possible to guarantee this no matter how much we lock down the public APIs. Anyone could still create an `NSError` with the AF domain if they wanted, it would just be a bit more complicated to do so.
What types of errors a client should throw is their decision. IMO we should make it as easy for those clients to create errors as we can. It's their decision as to whether they should use the AF domain or their own. Either way, this isn't something that we can (or should) try to enforce. Because of this, I've opened up the new `error` APIs to allow clients to create errors by default under the AF domain, and easily customize with their own if they choose.
I also get that it's not AF's job to provide convenience APIs for creating `NSError`s. I agree that it's not the job of AF to do this, but it is certainly convenient to allow this. Since we need to do this inside AF quite often, I don't see the harm in exposing this to the public as well. My main point is that we cannot stop people from doing this, so why not provide them the APIs to make error construction easier?
So while developers could still creates errors in the Alamofire domain, we don't need to make it easy for them. Also, removing this public functionality will hopefully encourage developers to create their own error types, as I believe is best practice.
Your URL is invalid. It should probably be something like `"https://abc.com/api/v1/search"`. In the future, you should open a question on Stack Overflow instead of GitHub for this type of question. We use our GitHub project for bug reports and Feature Requests.
## Asking Questions
I think this is a great improvement @raphaeloliveira...thanks for putting this together! I rebased your change and pushed in master as dae3ed1b while keeping your attribution.
Hi @grizzly,
Alamofire.request(.GET, URLString, parameters: ["foo": "bar"])
## Asking Questions
I suggest installing that pod using this syntax `pod 'Alamofire', '~> 3.2.1'`.
Hi @jamaalalleyne,
These [tests](https://github.com/Alamofire/Alamofire/blob/master/Tests/URLProtocolTests.swift) demonstrate how you could use an `NSURLProtocol` with Alamofire if you wanted @Yannmm.
Hi @smoi,
## Asking Questions
There is definitely an opportunity here for some more robust handling @saiimons. Let's rope in some of the other team members for some ideas.
## Asking Questions
## Asking Questions
They were deprecated in #1166 to stop encouraging users to create their own errors with the Alamofire domain. The code the @rafalkitta posted will work, but we'd encourage you to use your own custom domain to have a clear separation between the custom errors you're creating and the ones that Alamofire creates.
Hi @scobbe,
Hi @sosng,
Hi @totomo,
Hi @haoxins,
Your concerns here are perfectly valid @racer1988. The problem is that Apple isn't clear on whether apps supporting iOS 8 are going to be held to these same rules. If you check out #1086, you'll see that the reachability APIs don't work correctly on iOS 8 with IPv6. Therefore, I rolled back to the IPv4 APIs for iOS 8. I can certainly undo that change, but that will break reachability for anyone running on iOS 8.
I'm going to leave this issue open for now. Maybe the community can help us decide on what the best solution is here.
That's exactly what we do now @racer1988 in the [NetworkReachabilityManager](https://github.com/Alamofire/Alamofire/blob/master/Source/NetworkReachabilityManager.swift#L123-L145).
Unfortunately, it's just a running theory right now @AnthonyMDev...we don't have a definitive answer yet. I tend to agree with @dgatwood, but I'd much rather be certain.
@hellmund Yes you should definitely not be using reachability has a pre-flight check.
@hellmund You should also confirm that your backend is accessible through a pure IPv6 network, as we see that a lot, as many backends still require an IPv6to4 bridge for connectivity. Otherwise, recommended best practice is to allow requests to fail and then check reachability to determine your next steps.
Hi @raginggoat,
These types of questions are best suited for Stack Overflow instead of GitHub. We use our GitHub project for bug reports and feature requests. If you tag `alamofire` on your question, I'm sure the community will be able to help you out.
## Asking Questions
Hi @janglesdev,
## Asking Questions
Given the amount of variability between `bash` and `tcsh` quote escaping (amazing how painful this is), there's no one solution that solves this problem correctly. I just spent 2 hours trying to work out a solution to no avail.
Hi @khanshakeeb,
Can you share your request code? It will help us narrow down where in the process you'd have to customize your encoding to get the behavior you want.
Hi @dtorreci4ejg,
## Asking Questions
Alamofire.request(.GET, urlString, headers: headers)
Hi @enricopiovesan,
import Alamofire
Alamofire.request(.GET, urlString, headers: headers)
var name: String
var color: String
import Alamofire
Alamofire.request(.GET, urlString, headers: headers)
var name: String
var color: String
Hi @crash-wu,
## Asking Questions
Hi @kakilan,
Hi @keisyrzk,
Hi @Quintasan, your comments are a bit confusing. Could you please put names to the libraries you are mentioning? Are you saying that you were previously NOT using Alamofire, and things were always working? And now you are using Alamofire and they don't work?
@Quintasan I think Christian's point was that merely providing a link to a library doesn't really help us understand your requirements. I think there was also some confusion about whether you were having issues with the request or response.
Alamofire 3.3 requires Xcode 7.3. Update and it will build fine.
Hi @edopelawi,
Thanks for reporting @jerarts!
Thanks @Mycose! üçª
You just need to add the `Alamofire` prefix to the `Method` type. That will resolve the issue. The following compiles:
method: Alamofire.Method,
In the future, I'd encourage you to ask these types of questions on Stack Overflow. We use our GitHub project for bug reports and feature requests.
## Asking Questions
Hi @shenjiayu!
## Asking Questions
Hi @marckaraujo,
## Asking Questions
At this point, I don't see an issue in Alamofire. All the behavior you've reported is not working seems to be working correctly from what I can tell. Because of this, I'm going to close this issue out for now. If you do still continue to have issues, then please provide a failing test or sample project for us and attach it to this issue. Then we'll gladly re-open the issue and continue to help you investigate further.
First make sure you're running the latest version of Carthage and Xcode 7.3. Also make sure you're `xcodebuild` is updated to 7.3. Then you need to clean the project, wipe derived data and possibly the Xcode cache. If you're still seeing issues, reboot. After all this, you will see that Alamofire 3.3.0 and 3.3.1 do compile successfully with Xcode 7.3.
cc @taquitos, @AnthonyMDev, @jshier, @kcharwood, @kylef
:+1: On this, though an actual example of improper `subdelegates` usage might be a good idea, if it can be such an issue.
## Asking Questions
@itchingpixels All Swift frameworks are automatically namespaced. You can disambiguate by using `Alamofire.Result` or `Result.Result` already. Now, if you aren't using your dependencies as frameworks, there's not much we can do to help you, as frameworks are Swift best practice for independent dependencies.
@itchingpixels, we won't make the `Result` type more difficult to work with in any way for users that aren't using a second `Result` type that conflicts. You MUST understand that point of view. You're suggestions are attempting to make your use case easier without considering the effect it would have on the community. For those not familiar with the `antitypical/Result` library, the Alamofire design would seem very odd.
Hi @vimask,
If you do end up finding any Alamofire specific issue, please provide more info and I'll be happy to re-open and investigate further.
## Asking Questions
Hi @lucatorella,
## Asking Questions
As you have all clearly pointed out, this is certainly worth investigating further to see if there's a better way we can bubble this back to the user. AFN has been working on a solution for when cert or public key pinning evaluation fails, but I'm still a bit weary of such a change. IMO, if we're going to give custom errors for cert or public key pinning failures, we should certainly do the same for other authorization challenge types.
For anyone that feels strongly, I'd encourage them to first ramp up on the efforts from AFN, just so that you have all the proper context. Then, let's discuss the possible options here in this issue.
*** Fetching Alamofire
*** Checking out Alamofire at "3.3.0"
*** xcodebuild output can be found in /var/folders/s7/qpm0b2pn3d56rjlpl7g3_4fh0000gn/T/carthage-xcodebuild.QdM6Sa.log
*** Building scheme "Alamofire watchOS" in Alamofire.xcworkspace
*** Building scheme "Alamofire OSX" in Alamofire.xcworkspace
*** Building scheme "Alamofire iOS" in Alamofire.xcworkspace
*** Building scheme "Alamofire tvOS" in Alamofire.xcworkspace
cnoon:~/Desktop/CarthageTester$
Hi @veena-experion,
## Asking Questions
Thanks @esokullu!
Hi @balazsgerlei,
Hi @taquitos, my apologies for not getting back to you sooner.
public class CustomSessionDelegate: Manager.SessionDelegate {
session: NSURLSession,
The `misuse` I was referring to @AnthonyMDev was around the `subdelegates` and making sure they're still created and deallocated appropriately. I really hesitate to make them public. I just opened #1172 which should address all the concerns in this issue.
Thanks @ludoded! üçª
Hi @LuoLee,
Alamofire 3.2.1 does not support Swift 2.2. Please use the `swift_2.2` branch until we release 3.3.0.
Hi @gitunhub,
## Asking Questions
Alamofire 3.2.1 is not Xcode 7.3 compatible. For now, you'll need to use the `swift_2.2` branch. We're aiming to have out a release today that resolves this issue.
Alamofire 3.4.0 builds against Xcode 7.3.
Thanks @florentmorin!
@borut-t You may be able to use the value of the "Content-Length" header fields of the response to get the data length before decompression.
Hi @krezzoid,
Ah ic. In this case I think you'll want to create a custom response serializer that takes in the queue you want to run the serialization on and does it that way. For example, just execute something like `responseData` on the `TaskDelegate` queue, then process the data into your Realm model object on your provided queue. That should allow you to do what it is you're trying to accomplish.
Hi @Windsooon,
let request = Alamofire.request(.POST, URLString, parameters:parameters, encoding: .URL)
## Asking Questions
Hi @BculeMB,
## Asking Questions
Yep, definitely a typo. Great catch @topchul! And thanks for putting together the PR to fix it. üçª
Thanks @vsouza. We currently aren't closely supporting SPM since it's still in beta. If anyone out there with more experience with SPM would be willing to help get Alamofire ready, it would be greatly appreciated!
Hi @wgywgy,
In the future, these types of questions are best suited for Stack Overflow @wgywgy. We use our GitHub project for feature requests and bug reports.
## Asking Questions
@tiagoaap If the user kills your app there is no way to take any action, much less save resume data. At best you could manually write the download data to disk periodically during the download, but that's a lot of work for a user who doesn't care if your app completes the download.   Hmmmm...nothing obvious jumps out. I'd recommend trying to print out the `cURL` command to see if that leads you in the right direction.
let request = Alamofire.request(.POST.rainForest.URL, ...)
## Asking Questions
## Asking Questions
Hmmmm...doesn't seem possible @shlowdy. The type on `userAgent` is `String`, not `String?`. Also, I haven't seen the optional arguments in the `User-Agent` header before.
> Why not allow an NSURLSessionDelegate instead of a SessionDelegate to be passed to the Manager initializer. What is special about Alamofire's SessionDelegate that would take much work to reproduce in an own delegate and everyone needs?
Hi @KingOfBrian,
With that said, I would LOVE to be able to move my OAuth2 wrapper library out into the OSS community. Unfortunately, it requires you to move away from method chaining and into higher level, more powerful, but less flexible APIs. I haven't created an OAuth2 library yet under the Alamofire org b/c it's going to be very tricky to get right and will take a significant amount of time to build. However, that doesn't mean I'm not going to. It's certainly on my roadmap to build, but I haven't had enough time to start putting it together yet. For now, I'd recommend reading through the Stack Overflow answer and trying to roll your own using the approach and sample code documented in that thread.
// Add the bearer token and retry
let authorizedRequest = Alamofire.request(authorizedHTTPRequest)
let request: Alamofire.Request
let needsAuthentication: Bool
## Asking Questions
Hi @JoachimK,
Looks like you've already [roped in the Eskimo](https://forums.developer.apple.com/thread/39454) for help here. I doubt this is directly related to an issue with Alamofire, so I'd encourage you to continue debugging with Quinn and report any issues directly related to Alamofire back to this ticket.
Cool...thanks for getting back to us @fancy42!
## Asking Questions
Ha! Good catch @theovoss...thanks for the change!
Okay @kchromik, I've switched over to using IPv4 on iOS 8.x in ef756b00. Would you be able to test against the latest changes on `master` to see if they resolve your problems?
The `#available` check does provide a runtime check as well @KingOfBrian. The availability checks provide both compile time checks for API usage as well as runtime logic branching behavior.
Hi @Sahilberi, these types of questions are best suited for Stack Overflow. We use our GitHub project for bug reports and feature requests.
## Asking Questions
1) You need to use Alamofire to make your requests.
Hi @KhaledAld,
## Asking Questions
You cannot change this easily @nahouto. The NSURLSession is going to choose the chunk size for you automatically. Here's a decent [thread](http://stackoverflow.com/questions/20131900/ios-how-to-increase-chunk-size-for-nsurlsession-upload-task) explaining why.
## Asking Questions
else
extension Alamofire.Result {
func ifSuccess(@noescape success: Closure) -> Result {
func onSuccess(@noescape success: SuccessClosure) -> Result {
Hi @dalu93!
## Asking Questions
Hi @jasminpethani,
## Asking Questions
Hi @acecilia, Alamofire does not support iOS 7 and hasn't for some time. If you need to support iOS 7, then you'll need to maintain your own Alamofire fork.
## Asking Questions
Hi @DenHeadless,
If you don't call this logic twice, it won't print out twice. I realize you don't think you are, but you must be. We have 100s of tests around this logic and have never had anyone report this behavior before. Please debug further and if you do end up feeling strongly that there truly is an issue in Alamofire, please submit a sample project to demonstrate the behavior and I'll happily re-open and investigate.
Hi @citrusbits,
## Asking Questions
https://github.com/Alamofire/Alamofire#security
## Asking Questions
*** Fetching Alamofire
*** Checking out Alamofire at "3.2.0"
*** xcodebuild output can be found in /var/folders/s7/qpm0b2pn3d56rjlpl7g3_4fh0000gn/T/carthage-xcodebuild.NXtvLt.log
*** Building scheme "Alamofire OSX" in Alamofire.xcworkspace
*** Building scheme "Alamofire tvOS" in Alamofire.xcworkspace
*** Building scheme "Alamofire iOS" in Alamofire.xcworkspace
*** Building scheme "Alamofire watchOS" in Alamofire.xcworkspace
*** Fetching Alamofire
*** Checking out Alamofire at "59ef4f5da3fdba44649026603c6512fd6c5dabd0"
*** xcodebuild output can be found in /var/folders/s7/qpm0b2pn3d56rjlpl7g3_4fh0000gn/T/carthage-xcodebuild.4pVzap.log
*** Building scheme "Alamofire OSX" in Alamofire.xcworkspace
*** Building scheme "Alamofire tvOS" in Alamofire.xcworkspace
*** Building scheme "Alamofire watchOS" in Alamofire.xcworkspace
*** Building scheme "Alamofire iOS" in Alamofire.xcworkspace
Okay @pheuberger, I managed to dig into this a bit more. The behavior you are seeing is intended. The reason has to do with the fact that all the parameters bridge over to Objective-C. The parameter encoding logic for URL encoding relies on the `CustomStringConvertible` protocol to covert the `AnyObject` to a string representation. In the case of an `NSNumber`, this will always default to `0` or `1` in the case of a `Bool`.
These changes started with me experimenting with the ideas in #1029, then became something pretty awesome!
Thanks @alimoeeny! It was definitely fun to put together.
@alimoeeny I do logging in my custom `.responseObject` extension, taking the closure that comes in, adding my logging call, and passing the result the actual serializer. I imagine you could do the same, especially if you have a custom response closure already.
Hi Ronak,
I don't understand your reasoning here @ronak2121. First off, I don't understand what you mean by multiplexing in #1. As for #2, I don't understand what that accomplishes. Additionally, recreating requests is only easy if you have them completely abstracted and all callbacks are done using a delegate pattern, not closures.
Alamofire does not support web sockets. However, it does support `NSURLSessionStreamTask` which could be used to implement web sockets. There are currently no plans to add support for this.
## Asking Questions
## Asking Questions
Thanks @oflannabhra!
Hi @katunch,
*** Fetching Alamofire
*** Checking out Alamofire at "3.1.5"
*** xcodebuild output can be found in /var/folders/s7/qpm0b2pn3d56rjlpl7g3_4fh0000gn/T/carthage-xcodebuild.kj6RLc.log
*** Building scheme "Alamofire OSX" in Alamofire.xcworkspace
*** Building scheme "Alamofire iOS" in Alamofire.xcworkspace
*** Building scheme "Alamofire tvOS" in Alamofire.xcworkspace
*** Building scheme "Alamofire watchOS" in Alamofire.xcworkspace
What you need to do is update your installation of Carthage and try again. All you need to do to do that is the following:
cnoon:~$ brew upgrade carthage
Excellent @mmizutani üëçüèº
Hi @terenzeyuen,
## Asking Questions
> ## Advanced Usage
> > Alamofire is built on `NSURLSession` and the Foundation URL Loading System. To make the most of this framework, it is recommended that you be familiar with the concepts and capabilities of the underlying networking stack.
Hi @dinya007, thank you for your willingness to contribute! I think at this time that we'd rather not add this particular change since we'd rather direct everyone to leverage the `ParameterEncoding` types, but please keep the ideas coming!
Hi @adamjweaver, the reason that it is no longer being called is that we no longer call the `.Custom` closure in the event that there are no parameters being passed in. This was changed in the `3.1.4` release. However, due to several issues being opened on this topic, we're debating as to whether reverse the logic. Please hold tight for now while we figure this out. For now, you'll need to stay on the 3.1.3 release unless you can find another workaround.
Hi @viri, my apologies for not getting back to you sooner. I'm glad you found a workaround. As for your authentication issue, I'm not quite sure what the problem was. You didn't post enough code for me to be sure you weren't making the request wrong. My best guess is that your credentials created by calling the authenticate were failing when the challenge occurred which was triggering the error. However, without some more code to investigate, I can only speculate.
Hi @alimoeeny, thanks for the awesome idea! I started playing around with different ways to make something like this to work and it turned into PR #1054! If you could check that out, I'd certainly appreciate it.
JSONEncodedRequest.setValue("application/vnd.api+json", forHTTPHeaderField: "Content-Type")
Alamofire.request(request)
## Asking Questions
## Asking Questions
## Asking Questions
I believe you're technically correct, which is the best kind of correct, but such a change in vocabulary would have a rather wide ranging impact on this project, given that the term isn't just used in documentation but the names of classes and functions, both currently and historically (and shared with the AFNetworking library). Having both terms, some in documentation and others in code would likely be more confusing than clarifying. So this is unlikely to change, but we'll keep it in mind for the future.
## Asking Questions
## Asking Questions
## Asking Questions
The line `queue ?? dispatch_get_main_queue()` uses Swift's nil coalescing operator, [as described in Swift's documentation](https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/BasicOperators.html), to use the main queue if none is provided. We also have many tests around this feature and in fact the library wouldn't even function if the completion handler was never called. So it's likely this is an issue with your code, in which case you'll likely have better luck finding a solution using StackOverflow and tagging Alamofire, as recommended by our Contributing document. If you do think you've found a bug in the library, feel free to open another issue with code that shows the bug.
## Asking Questions
## Asking Questions
Also, these types of questions are generally better suited for Stack Overflow. Cheers. üçª
@Chatatata I think that "NS'ish" class you mention belongs in Foundation, and should be implemented there and not inside Alamofire. In particularly over at https://github.com/apple/swift-corelibs-foundation/blob/master/Foundation/NSURLSession.swift and https://github.com/apple/swift-corelibs-foundation/blob/master/Foundation/NSURLProtocol.swift.
Alamofire also uses libdispatch which is not yet available on Linux [from swift.org](https://swift.org/core-libraries/#libdispatch):
## Asking Questions
Hi @Hokila,
## Asking Questions
Alamofire.upload(
## Asking Questions
As for your issue, have you considered not using the Alamofire shared instance of the `Manager`? That is really only intended for simple use cases and for demonstration purposes. In general, I would expect production ready apps to configure a custom `Manager` with all the bells and whistles (customized URL session configuration, custom URL cache, etc.). Would it be possible in Moya to create a custom `Manager` instance that takes a configuration flag as to whether `startRequestsImmediately` should be set to `true` or `false`?
configuration.HTTPAdditionalHeaders = Alamofire.Manager.defaultHTTPHeaders
let manager = Alamofire.Manager(configuration: configuration)
Hi @tokorom,
If you can verify that everything is configured as expected, then I would suggest filing an issue with the Carthage project. They would certainly be better equipped to help you troubleshoot. If you do in fact find an actual issue with our project settings for the framework, please provide more info and I'll be happy to re-open this issue and continue to investigate.
Hi @dickwu,
My guess at this point is that you're getting bit by ATS. Here's a few tips:
We have fairly detailed instructions in our [README](https://github.com/Alamofire/Alamofire#cocoapods) that should help you iron out your issue. Another useful tip is to make sure your CocoaPods installation is up-to-date and that your Xcode Command Line Tools is set properly. Beyond that, I would encourage you to open a question on Stack Overflow to get further assistance. We use our GitHub project for bug reports and feature requests.
We have many tests and thousands of users that are not experiencing this problem. Most likely this is an issue with the way you are forming your response or with your server. In general, these types of questions are best suited for Stack Overflow. We use the GitHub project for bug reports and feature requests.
## Asking Questions
Hi @rjong,
## Asking Questions
I respectfully disagree. If you are using the `.Custom` parameter encoding without parameters, you are misusing the API. There are many other ways to assemble an `NSURLRequest` to create your requests. The top level APIs already allow you to specify the HTTP Method, URL, parameters, parameter encoding and headers.
Hi @yarneo,
## Asking Questions
On a side note, the Alamofire names are mangled because of Swift, not because of Alamofire itself.
Alamofire.request(.GET, "https://httpbin.org/get")
These types of questions are better suited for Stack Overflow with an `alamofire` tag. We generally use GitHub for bug reports and feature requests.
## Asking Questions
Thanks for putting this together @AnthonyMDev...much appreciated! I also pushed b0c6a9bf to fix up a failing custom parameter encoding test case. Normally I wouldn't modify a test like this so a change that did break the test suite could move though. However, when looking at the failing test, it wasn't really a good test. Therefore, I updated it.
Hi @jedlewison, thanks for putting this together! Unfortunately, we won't be merging these changes in. The project was definitely configured this way by design. We want to support Carthage as well as always have the project compile the test code with any code changes. It helps ensure we never introduce compiler issues in the test suite when fixing bugs or developing new features. I understand that this introduces a slight overhead when using Carthage to compile Alamofire, but IMO I'd always error on the side of stability here rather than Carthage performance.
Oh man that's a bummer. Makes more sense now why you were trying to do what you were doing. I think both your approach and the custom response serializer approach are valid approaches to solving the problem for your use case. But I don't think it's something that should live outside your very specific use case.
Hi @abinop,
These types of questions are better suited for Stack Overflow. If you could open a question there with an `alamofire` tag and post a link back to this issue, that would be preferred. We use GitHub for bug reports and feature requests.
Apologies @abinop...I just [replied](http://stackoverflow.com/a/34193782/1342462) to your question. Cheers. üçª
Okay, let me clear up some things here. @Neku, the `data` is available in the `response` object. Therefore, it is always available, if it was returned from the server, as `response.data`.
@tomekh7, you can absolutely use `responseJSON` with SwiftyJSON. You can initialize a `JSON` object from `NSData` or from an `AnyObject` that has already been parsed by `NSJSONSerialization`.
Customization on this level can be accomplished by creating your own custom response handler, as outlined in our documentation [here](https://github.com/alamofire/alamofire#response-serialization-1). Specifically, if you want to, say, log all errors and only handle valid responses:
Alamofire.request(.GET, "https://httpbin.org/get")
Alamofire is limited to the HTTP/2 support offered by the underlying iOS system frameworks, specifically `NSURLSession`. Unfortunately, at this time `NSURLSession` offers no exposed support for either `PUSH_PROMISE` or the HTTP/2 stream functionality. Only iOS 9, watchOS 2, tvOS (9), and OS X 10.11 offer any support for HTTP/2, and this functionality is implemented as an invisible layer for existing `NSURLSession` and CFNetworking clients.
The Swift compiler has a tough time with the misuse of generic classes. You can fix the issue by adding the generic parameter conformance:
func bar(response: Alamofire.Response<AnyObject, NSError>) {
The app doesn't crash, you're merely hitting the breakpoint you have set. It's rather common for those of Apple's frameworks that use C++ underneath to use exceptions in ways that Objective-C and Swift don't and so you may hit those exceptions with that breakpoint. That's why I usually run with the exception breakpoint set only for the language I care about. For Swift you can set the Swift error breakpoint in Xcode 7.1 and higher.
We are simply RFC 3986 - [Section 2.1](https://tools.ietf.org/html/rfc3986#section-2.1) and [Section 3.4](https://tools.ietf.org/html/rfc3986#section-3.4). The `+` character should be encoded as `%2B` as demonstrated in our ParameterEncoding [tests](https://github.com/Alamofire/Alamofire/blob/master/Tests/ParameterEncodingTests.swift#L281-L290).
I'm going to close this issue out @CapeFurSeal. If you end up finding an actual bug in the logic, please provide some additional information and we'll be happy to re-open. Cheers. üçª
Not sure off the top of my head since you are using `.JSON` parameter encoding. As I mentioned before, these types of questions are best suited for Stack Overflow. If you open a question there and post the link, we may be able to continue to help out there.
Hi @cesar-oyarzun-m,
## Asking Questions
Alamofire does not support multi-platform frameworks to allow it to work seamlessly with CocoaPods AND Carthage with the same Xcode project. If you are attempting to make a new podspec that attempts to create a multi-platform framework and are having issues, please open an issue with the CocoaPods project. You'll receive much better assistance there.
Hi @kohdesmond,
Glad you figured it out @kohdesmond. Could you elaborate on why ATS was putting you in an endless redirect scenario? Your explanation could possibly help someone else out there that finds this thread. üëçüèº
Hi @lorenzoferrante,
## Asking Questions
let request = Alamofire.request(.GET, "URLString")
Hi @aryaxt,
From what I can see here, it looks like the Swift standard library is leaking the structure it uses to check the OS version when we use `if #available` in `encode`. Can you post the project you used to reduce this issue? It would allow us to replicate it more easily and confirm my suspicions.
- https://github.com/cnoon/AlamofireLeakage
Questions like this are best suited for Stack Overflow with an `alamofire` tag. We use GitHub for bug reports and feature requests. If you do end up submitting a question on Stack Overflow, please post the link back to this thread and I'm sure someone will be able to help you out.
## Asking Questions
## Asking Questions
- Sub-Delimiters: "!", "$", "&", "'", "(", ")", "*", "+", ",", ";", "="
//  hundred Chinense characters causes various malloc error crashes. To avoid this issue until iOS 8 is no
let destination = Alamofire.Request.suggestedDownloadDestination(
Alamofire.download(.GET, "http://www.adobe.com/devnet/acrobat/pdfs/pdf_open_parameters.pdf", destination: destination)
The file isn't moved into the temp location @chlebta, that's where the data is written while the download is in progress. Once completed, it will attempt to move the new file to the location provided in the `destination` closure. You need to make sure your folder structure is in place before attempting to move the temp file to it's final location.
## Asking Questions
I just created a new Swift project and added Alamofire 3.1.1 using CocoaPods 0.39.0 and Xcode 7.1. Everything works properly. I'm going to close out. In the future, I'd encourage you to take these types of questions to Stack Overflow.
Hi @EslamAbo,
We use Stack Overflow for general usage questions and GitHub for bugs and feature requests. If you could open an issue on Stack Overflow with an `alamofire` tag, that would be preferred.
## Asking Questions
Second,if you take a look at the [download documentation](https://github.com/Alamofire/Alamofire/blob/master/README.md#downloading) you'll see that the destination closure has a different signature than what you're attempting. Specifically it take two parameters and requires you to return an `NSURL`. Once you meet those requirements you should build just fine.
In the future, please open a question on Stack Overflow and tag `alamofire`. We use GitHub for bug reports and feature requests.
## Asking Questions
In the future, questions like this are better suited for Stack Overflow with an `alamofire` tag. We use GitHub for bugs and feature requests. üçª
## Asking Questions
## Asking Questions
Hi @omkar0001,
Hi @omkar0001,
## Asking Questions
Need more info here @istvanelekes.
Thanks @ikesyo!
Hi @vigyanhoon,
let manager: Alamofire.Manager = {
configuration.HTTPAdditionalHeaders = Alamofire.Manager.defaultHTTPHeaders
return Alamofire.Manager(
var error: NSError?
From what I can tell, your server must not be using a valid cipher suite, because the request automatically errors out without the `NSExceptionRequiresForwardSecrecy` flag set to `NO`. Additionally, it appears that the `NSExceptionAllowsInsecureHTTPLoads` is a flag to override the entire challenge callback system. If you don't set it to `YES`, your challenge will NEVER be called.
Hi @tejasverixo, make sure you're `defaultManager` instance is not being released. Other than that, please file a question on Stack Overflow. We use our GitHub project for bug reports and feature requests.  There's a `tvOS` branch up at the moment. We'll be cutting a 3.1.0 release with full `tvOS` support most likely this evening.
Hi @dashugege,
cc @kylef to see if there's any magic he knows of to workaround this problem.
$ gem install cocoapods -v 1.0.0.beta.1
Thanks @ay8s.
Hi @bkawakami,
Github is for reporting issues and new feature requests. Questions like these belong on [Stack Overflow](https://stackoverflow.com) with an `Alamofire` tag.
Thanks @cristeahub!
Hi @kalyansriram,
Github is for reporting issues and new feature requests. Questions like these belong on [Stack Overflow](https://stackoverflow.com) with an `Alamofire` tag.
Alamofire.request(.GET, "https://httpbin.org/")
Alamofire.request(.GET, URLString, parameters: ["foo": "bar"])
typealias MTLError = NSError
Hi @a6475593,
Alamofire.request(.GET, Constants.Path.rootUrl + "/api/users", parameters: ["username" : usernameString, "limit":3] , headers: ["tb-token" : userToken!])
Hi @lukeg01,
Thanks @mkral!
@felipeflorencio This is because Alamofire depends on iOS 8.0 (this is required to integrate Swift frameworks). You will either need to find other ways to integrate Alamofire (without CocoaPods), or drop support for iOS 7.
- `Alamofire (= 1.3.1)` required by `Podfile`
Specs satisfying the `Alamofire (= 1.3.1)` dependency were found, but they required a higher minimum deployment target.
@AAverin You can `debugPrint` the `Request` you made to get a `curl` command output, which will let you see the URL, parameters, and headers that were part of the request. Any response logging will have to be written custom by you.
In Alamofire 2.0, we made the unfortunate decision to switch the `TaskDelegate` error to an `ErrorType` rather than an NSError. This forced all users to have to cast the error in the response serializers to an `NSError` even if they didn't implement custom `Validation` closures. Not a great tradeoff considering we have thousands (maybe hundreds of thousands) of people using the response serializers and only hundreds creating custom Validation closures.
Good call @seigel! Fixed in afc8cdb3.
*** Fetching Alamofire
*** Checking out Alamofire at "3.0.0-beta.3"
*** xcodebuild output can be found in /var/folders/s7/qpm0b2pn3d56rjlpl7g3_4fh0000gn/T/carthage-xcodebuild.eI0AZs.log
*** Building scheme "Alamofire iOS" in Alamofire.xcworkspace
cnoon:~/Desktop/CarthageTester$
github "Alamofire/Alamofire" "master"
I'm not really sure. This is way outside our general usage. I'm not sure if you can compile a Swift 2.0 framework or app against the 10.10 SDK in Xcode 7. I'd encourage you to take this question to Stack Overflow since this is much more of a Swift and Xcode question than an Alamofire question.
@dms90 There is no official version 3.0 for CocoaPods yet, you'll have to use `pod 'Alamofire', '~> 3.0.0-beta.3'`.
Thanks @neugartf!
Hi @idrisyildiz7,
What version of Alamofire are you using?
#### Alamofire 2.x
Alamofire.request(.GET, "http://httpbin.org/get")
#### Alamofire 3.x
Hi @thiphariel,
## Asking Questions
@ballerabdude I would suggest you drop down to the Alamofire 2.0.2 branch where we have all the sample code updated in the README and a migration guide put together. The Alamofire 3.0.0-beta.1 is a pre-release. I don't anticipate we'll cut the official 3.0 release here for at least another week, maybe two.
Thank you for creating that sample project @nonec. After digging into this some more, it appears that it's not an Alamofire bug, but an Apple bug. The following logic reproduces the same issue whether you are using Alamofire or `NSURLSession`:
@IBAction func buttonTapped() {
// NSURLSession Approach
// Alamofire Approach
Alamofire.request(.GET, testURLString)
Alamofire.request(.GET, "https://httpbin.org/get")
- What version of Alamofire you are using
Does anyone else in the community that works on OS X regularly have any idea what @Aghassi could be running into?
Thanks for filing this issue @eburi. I'll need to put some tests together to figure out exactly why the headers are being dropped. Are you overriding any of the session delegate closures?
Okay @eburi, you're going to have to take this one up with Apple.
"Custom-Header": "foobar",
Alamofire.request(.GET, URLString, headers: headers)
I don't understand what you mean by `serialize the result anymore`.
cc @kylef and @kcharwood
I don't understand why the second initializer doesn't do exactly what you need @dgdosen.
session: NSURLSession,
You could also use something like [Mockingjay](https://github.com/kylef/Mockingjay) as that instead registers a custom NSURLProtocol to the `NSURLSession` that Alamofire would use.
Hi @troya2, thanks for opening this issue. While Mockingjay and OHHTTPStubs certainly have their place and are good solutions in most cases, I don't think that relying on an `NSURLProtocol` should be the only way to perform this type of customization.
cc @kcharwood and @kylef
cc @kcharwood and @kylef
Locking down the NSError internal type allows us to support some powerful features and more consistent APIs:
@eburi which version of Alamofire are you using? Alamofire 2.0.1 contains a fix that should solve this issue for you.
When making a data request, you receive progress callbacks on the download data, not on the upload data. You should be using `Alamofire.upload` instead. Check out the documentation on [NSURLSessionUploadTask](https://developer.apple.com/library/prerelease/ios/documentation/Foundation/Reference/NSURLSessionUploadTask_class/index.html) for more info.
github "Alamofire/AlamofireImage" ~> 1.0
### Carthage Version
$ carthage version
$ carthage build --platform iOS
Since everything is working as expected, I'm going to close this issue out. If you continue to have issues after all the info I've just posted, I would encourage you to consider opening an issue with the Carthage project or on Stack Overflow to help you continue further. If you do end up finding an issue in the Alamofire project itself, then I'll be happy to re-open this issue.
``` ruby
pod 'Alamofire', '~> 2.0'
Hi @tobiasolofssonevry,
## Asking Questions
@PurviJani Posting on old issues is not a good way to get support. These types of questions are best suited for [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
Thanks @Baza207! üçª
I ended up resetting the merge and just cherry picking your change in 2d8466cd. In the future, if you could rebase before you push up your PR, that would be greatly appreciated.
## Asking Questions
Hi @cczufish,
## Asking Questions
Thanks for your PR @bscarano...much appreciated!
I cannot speak for Apple @kevinbelter but it is certainly a design flaw with the error handling system which is why we use the alternative concept of a `Result` type in Alamofire.
Also, could you let us know how you installed Alamofire into your project.
Not actually a duplicate, this is for Carthage not CocoaPods. #759 fixes this.
``` odgl
github "Alamofire/Alamofire" ~> 2.0
I'm currently working with the ASF to figure out how to proceed here. I'll update the issue once we decide what we're going to do. Thanks again for bringing this to our attention.
@tosbaha the docs state:
Interesting. The only thing that strikes me as surprising is the `encodingMemoryCompletion` being modified to such a large value. Could you put some timings around how long the encoding takes and how long the upload takes just to have more info to go on? Could you then drop the `encodingMemoryThreshold` to zero and run the same timings?
Thanks @paulyoung.
cc @kcharwood and @kylef
Sorry dude üòï
Hi @genu1,
Hi @tryadelion,
## Asking Questions
Thanks for your PR @cheolhee!
## Asking Questions
Hi @blixt,
### Embrace Chaining
Hi @blixt,
Hi @blixt,
I appreciate all your feedback in this thread. I think it is very useful and well thought out. As a takeaway, I would challenge you with a couple things. 1) Try to work with Alamofire rather than working against it. It's not designed to be perfectly convenient for every use case. It's designed to be convenient for the common cases, yet give you the flexibility to control what you need. Layer the convenience levels around it in your own APIs to abstract the Alamofire complexities. 2) Open a pull request with your ideas and suggestions on how we can make improvements. We are in no means locked into any way of doing things. We take the submitted PRs very seriously and love it when new ideas and designs come in from the community.
Would you be willing to help me debug this issue @mubashirjavaid? It may take a bit of time to figure out the issue. I may need you to try some different branches to try out some different approaches. Also, would you be able to provide me with enough sample code that I could debug the problem myself. I'd be happy to work with you in a non-public facing way such as through Slack or email.
Okay...got to the bottom of the issue. Thank you so much @mubashirjavaid for helping me debug the problem. I wouldn't have been able to figure out what the root cause was without your help! üçª
@sai-prasanna, the only suggestion I have would be to look at the diff between what you submitted and what I actually committed. That will help you find the differences in phrasing, code structure, etc. Otherwise, just keep the PRs coming...best way to learn is to practice! üëçüèº
Alamofire.request(.GET, "https://api.someplace.com/", parameters: nil, encoding: .JSON, headers: headers)
Thanks @ikesyo.
Hi @hengchengfei,
## Asking Questions
## Asking Questions
Thank you for your PR @mackuba. Unfortunately I ended up merging the changes in #707 that fixed the iOS Example as well. Thanks again.
## Asking Questions
It is unfortunate that you need to replicate some of the logic, but that's certainly a better alternative for the community when you consider the 100s of use cases that are not common behavior. We're trying to keep Alamofire simple to use for the common cases, yet flexible enough that power users can customize everything that they need.
With that said, we did not spend enough time considering the power user that is creating their own response serializers. I think it is a great idea to wrap up Alamofire errors and then your own custom errors into your own custom enum to make it easier for yourself at the app level. For anyone that is willing to go to those lengths, the Result type was restricting you from doing that in a Swift-like manner. Because of this, I've updated the Result type to now take an ErrorType in the Failure case in e489c5fe.
Hi @AndriyGo,
## Asking Questions
Thanks for all the info @thebluepotato. I've updated the README with slight changes to your example code in eabd1734.
Hi @mudithsilva,
## Asking Questions
Is the intention to be able to subclass the `ServerTrustPolicyManager` and override this method to be able to support things like wildcarded domain names? If that's the case, do we also need to open up the `policies` dictionary so you can access it?
In this case, I would consider continuing to work the problem and think of outside the box solutions. What about the possibility of typealiasing the `Result` from `antitypical` in your project and using that instead? I'm sure there are other options as well.
- Which branch, tag or commit are you build Alamofire on?
- How did you build Alamofire?
``` ruby
pod 'Alamofire', '2.0.0-beta.1'
Bitcode is enabled in both Debug and Release configurations for the watchOS target in the `swift-2.0` branch. I just built Alamofire on all three OS's using Carthage without any issues.
github "Alamofire/Alamofire" "swift-2.0"
### Carthage Version
cnoon:~/Desktop/CarthageChecker$ xcodebuild -version
### `carthage update` output
*** Fetching Alamofire
*** xcodebuild output can be found in /var/folders/s7/qpm0b2pn3d56rjlpl7g3_4fh0000gn/T/carthage-xcodebuild.zLOTLA.log
*** Building scheme "Alamofire OSX" in Alamofire.xcworkspace
*** Building scheme "Alamofire watchOS" in Alamofire.xcworkspace
*** Building scheme "Alamofire iOS" in Alamofire.xcworkspace
If you continue to experience issues, I would suggest opening an issue with the Carthage project.
It appears that you MUST have an iPhone + watch simulator set up in Xcode before you can use Carthage to compile the Alamofire watchOS framework. Not entirely sure why, but at least know we know how to solve the problem.
Thank you for your PR @yanke-guo. Could you provide me a good description of why you feel this change should be made? At the moment I don't feel this is a good change to make for the project.
Okay @yanke-guo, I'm going to close this out.
Thanks @ikesyo.
Alamofire.upload(
Okay everyone, this Issue is your chance to help us shape the future of Alamofire! üî•üî•üî•
There are no short term plans to implement this feature directly in Alamofire core @bvankuik.
Hi @codecowboy,
Thank you for your PR @mackuba.
It works fine for me. I've migrated the example over to use all HTTPS calls which should play nice with ATS. Could you possibly provide more info and open a new PR if necessary? Could you check against the Alamofire 2.0.0-beta.1 release?
Alamofire.request(.GET, "https://httpbin.org/get")
Alamofire.request(.GET, "https://httpbin.org/get")
## Asking Questions
Thank you for your input @calvintwr. We chose to use underscores to emphasize meaning and show intent just as @cristeahub mentioned. Since this is a VERY common pattern demonstrated all over the Swift language, we feel it is also a good pattern to use in the documentation in particular areas. If you are unfamiliar with the pattern, then I suggest you read up on Swift closures and usage patterns to get a better feel for what we're trying to demonstrate. Again, thanks for the feedback.
Hi @calvintwr, thanks for the feedback. I definitely see your point, but respectfully disagree. We're not catering the documentation to users that are not familiar with Swift. I'd also discourage users from attempting to use Alamofire before getting familiar with all the ins and outs of the Swift language.
Hi @Elmundo,
## Asking Questions
github "Alamofire/Alamofire" "fix/enabling_testability"
### Carthage Output
cnoon:~/Desktop/CarthageChecker$ xcodebuild -version
*** Fetching Alamofire
*** Checking out Alamofire at "61d6ddf9c91da83a062cbe29dc6b7f6a0a5d8789"
*** xcodebuild output can be found in /var/folders/s7/qpm0b2pn3d56rjlpl7g3_4fh0000gn/T/carthage-xcodebuild.7T1Gz9.log
*** Building scheme "Alamofire iOS" in Alamofire.xcworkspace
*** Building scheme "Alamofire OSX" in Alamofire.xcworkspace
*** Building scheme "Alamofire watchOS" in Alamofire.xcworkspace
cnoon:~/Desktop/CarthageChecker$
Hi @henriquesobral,
let manager = Alamofire.Manager()
Hi @henriquesobral, if you could get back to me by the end of the weekend I would appreciate it. Otherwise I'm going to close this issue out.
I'm going to close this issue out. @henriquesobral if you end up finding the root issue is actually a problem with Alamofire, please comment on this issue and I'll re-open it.
## Asking Questions
@abinop You should check if the result is a success, and then use the successful value or handle the failure.
Alamofire.request(.GET, URLString, parameters: ["foo": "bar"])
Thanks @jankase...much appreciated!
// Switching on cases
// Leveraging `BooleanType`
This is interesting approach @jankase.
## Asking Questions
Hi @dromerobarria,
You most likely need to use a background session configuration when setting up your `Manager` instance. Instead of creating a support issue in Github, please open a question on [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. The Alamofire community is very helpful and supportive. Stack Overflow is the best place to get your question answered quickly and correctly.
## Asking Questions
Hi @4np, this is the Swift compiler giving you a VERY misleading error. The issue is actually in your `download` declaration. You are missing the `destination` parameter. We brought all the global `Alamofire` methods inline with the `Manager` methods which will cause these issues in certain places.
Alamofire.request(.GET, URLString, parameters: ["foo": "bar"])
### New Style
Alamofire.request(.GET, URLString, parameters: ["foo": "bar"])
Alamofire.request(.GET, URLString, parameters: ["foo": "bar"])
## Validation Errors
Previously, if response validation failed, you simply received an `NSError` with a `com.alamofire.error` domain with a `-1` error code. This made it quite difficult to figure out whether content type or status code validation actually failed.
public static let Domain = "com.alamofire.error"
cc @kylef and @kcharwood
### Carthage Version
cnoon:~/Desktop/QuickTest$ carthage version
github "Alamofire/Alamofire" == 1.3.0
### Carthage Update
*** Fetching Alamofire
*** Checking out Alamofire at "1.3.0"
*** Building scheme "Alamofire iOS" in Alamofire.xcworkspace
*** Building scheme "Alamofire OSX" in Alamofire.xcworkspace
Everything builds exactly as expected. For further assistance, please open a question on [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. The Alamofire community is very helpful and supportive. Stack Overflow is the best place to get your question answered quickly and correctly.
## Asking Questions
### Carthage Version
cnoon:~/Desktop/QuickTest$ carthage version
github "Alamofire/Alamofire" "swift-2.0"
### Carthage Update
*** Fetching Alamofire
*** Checking out Alamofire at "5f2c29751b35069ec1452046e24dfba506cbc603"
*** xcodebuild output can be found in /var/folders/s7/qpm0b2pn3d56rjlpl7g3_4fh0000gn/T/carthage-xcodebuild.BUFS51.log
*** Building scheme "Alamofire iOS" in Alamofire.xcworkspace
*** Building scheme "Alamofire OSX" in Alamofire.xcworkspace
Everything builds exactly as expected. For further assistance, please open a question on [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. The Alamofire community is very helpful and supportive. Stack Overflow is the best place to get your question answered quickly and correctly.
## Asking Questions
## Asking Questions
@jonauz you need to use the `.URLEncodedInURL` to encode the parameters in the `URL` for a `POST`.
Now that is an awesome catch! Thanks for letting us know @unusuallyreticent. I just pushed 5f2c2975 to fix this issue. Thanks again for letting us know!
Thank you for reporting @jeeftor. We're aware of the issue and are tracking it in #610 (thanks @ikesyo). Please redirect all further comments to that ticket. I'm going to close this out as a duplicate.
Thanks @ikesyo!
## Asking Questions
Hi @Kam21,
## Asking Questions
Sweet...thanks @fewspider!
## Asking Questions
@BilalReffas please don't randomly post questions in already filed issues. You can either reach out to us on Twitter @AlamofireSF or open a new issue.
## Asking Questions
## Reproduction Attempts
I tried every http://httpbin.org trick in the book to recreate the issue they are seeing in #510, but was unsuccessful. I cannot trick the `NSHTTPURLResponse` into be so confused that it cannot guess what the `MIMEType` is. It always comes back valid. I would really like to have a test around this change, but just can't seem to get httpbin to do my bidding. If someone could provide a test, that would be amazing!
cc @kylef and @kcharwood
Thank you @allaire...much appreciated!
@Jirka1111, please take your question to Stack Overflow. I'm almost certain you just have an issue with the way you're formatting your request. This [thread](http://stackoverflow.com/questions/25986129/cocoa-error-3840-invalid-value-around-character-0-afnetworking) may help shed some light.
1. When uploading `MultipartFormData` where appending body parts would fail, the encoding would succeed and the upload would take place without the failed body parts.
## Problem
Alamofire.upload(
If `rainbowImageURL` is not a valid URL, appending the body part will actually return an error, but the encoding succeeds and only the unicorn image is uploaded to the server. This is very problematic and needs a better solution.
cc @kylef and @kcharwood
You'll have to roll your own @Samback for the next week or so if you absolutely have to have it now, or you'll need to use AFNetworking. There are some posts on Stack Overflow explaining how to put together a quick and dirty approach to generating the boundaries manually. Otherwise, I'd recommend you just hang on a bit longer.
## Problem
cc @kylef and @kcharwood
cc @kylef and @kcharwood
## Asking Questions
- Variadic Initializer and/or Chaining Optionals
- Multiple Enumerations and Chained Headers
There are a couple of changes here.
cc @kylef and @kcharwood
@muzammil-hussain you should take Rob's advice in that thread and switch over to JSON. If that cannot be done in your case, you should implement a `.Custom` parameter encoding. Collections with URL encoding are not supported in an RFC spec and thus is not an encouraged practice. Finally, AFNetworking is simply another slightly modified version of the URL parameter encoding and is not a more accurate version of URL encoding even it is works with your server.
Thanks for the suggestion @msanders! Would you be willing to take a stab at implementing this? Or anyone else that's a big Carthage fan?
We want to support Carthage as much as possible while still ensuring the integrity of our releases. By not deploying prebuilt frameworks, we guarantee that an Alamofire release will continue to work even when the next version of Xcode and/or Swift drops.
## Asking Questions
## Asking Questions
Here's a list of the custom types of things you can do with the new `ServerTrustPolicy` enumeration:
## Tests Tests and More Tests
## Sidenotes
cc @kylef, @kcharwood
I definitely thought about the use case of using a custom `ServerTrustPolicy` with the `Alamofire.Manager.sharedInstance`. The reason I chose not to support it is that you are always fighting a potential race condition. By opening up the ability to modify the `serverTrustPolicyManager` instance on the `session`, people could change this out while `Request`s are running which causing various threading issues.
I'll continue to think on this some more, but I'm definitely in the camp of not supporting this for now.
Hi @crewshin,
- `CustomEvaluation`: Uses the associated closure to evaluate the validity of the server trust thus giving you complete control over the validation process. Use with caution.
"insecure.expired-apis.com": .DisableEvaluation
- `insecure.expired-apis.com` will never evaluate the certificate chain and will always allow the TLS handshake to succeed.
``` ruby
If you need to override the default behavior for URL encoding, then you need to use the `.Custom` case of the `ParameterEncoding` enumeration. There is no RFC spec that defines how collections should be encoded. Therefore, Alamofire provides a reasonable default, and also allows you to provide any other custom behavior you could need.
Is there any chance someone in the community that is doing a bunch of work with watchOS could help us figure out @jaybuangan's issue?
cc @kylef, @tobiasoleary, @skywinder, @jhersh
You should move your issue to Stack Overflow and tag `Alamofire` and `CocoaPods`. You will receive much better assistance from the community. Additionally, we don't use the GitHub project for support.
## Asking Questions
## Asking Questions
## Asking Questions
Hi @Ufosek, thank you for reporting your issue.
## Asking Questions
Thanks for helping out @sikhapol! üçª
Thanks for chiming in @polysyn, it is much appreciated.
@njuri, please feel free to comment on this issue if that doesn't solve your problem. If there proves to be an issue with Alamofire, I'll be happy to re-open, but for now I'm going to close this out.
## Asking Questions
multipartFormData:
let error = multipartFormData.appendBodyPart(fileURL: fileUrls[0], name: "unicorn")
Thank you for the suggestion @sugarwyc.
Thanks @ikesyo.
I just created a new project in Xcode 7 beta 2 (7A121l) with CocoaPods 0.38.beta.2. I am not seeing the `Convert to Latest Swift Syntax` issue. @johndpope if you could provide some additional information or a sample project, then we can continue to debug this further. However, I'm going to close this issue out since I can't repro the issue with a clean project.
The `-1001` is a timeout error which is a bit different than the AFN issue you linked. Either way, the issue you are seeing is not directly related to Alamofire with what you have provided. I would encourage you to seek additional support on Stack Overflow.
## Asking Questions
## Asking Questions
Thank you for documenting @dcunited001...much appreciated. Hopefully it helps someone else out that runs into the same issue. üëçüèº
## MultipartFormData
Alamofire.upload(
cc @kylef and @kcharwood
A second approach in AFNetworking is to subclass `NSInputStream` and provide a dynamic upload stream rather than encoding it prior to the upload. While this is more convenient, it is extremely error prone. Additionally, subclassing `NSInputStream` is a very difficult and quite finicky. It's backed by an opaque type that needs to have certain methods overridden when toll-free bridging. It's just not a very robust or maintainable solution.
@ivangodfather you can either append them as query parameters to an `NSURLRequest` or you can add them as multipart form data values using the following method:
That's not how to go about this @ivangodfather.
Alamofire.upload(URLRequest,
// todo
Hi @jessecurry, thank you for your feedback.
let manager = Alamofire.Manager.sharedInstance
To start @alienxp03, let me give a bit of background. Alamofire was not designed to be a Swift port of AFNetworking. It was designed to be a new Swift approach to networking in general. Things like method chaining, powerful enumerations and generics were not possible when AFNetworking was built. Therefore, we can create MANY new design patterns making Alamofire much easier to use. Please do not expect Alamofire to work exactly as AFNetworking. The two are VERY different libraries.
Now, to your last point that the validation error that is returned is not super helpful. I agree that it could be better, but it is still enough for you to know that you didn't pass validation. You can then check the status code to see why it failed validation if you like. In the Alamofire 2.0 release, we are going to be reworking all the error handling logic to accommodate the Swift 2.0 changes as well as make cases like this a bit easier to diagnose.
## Asking Questions
Thank you for your PR @marcelofabri.
## Asking Questions
## Asking Questions
Looks like I missed the playground in the conversion. Thanks @terhechte!
## Asking Questions
Thanks @3a4oT. We've already cut a `swift-2.0` branch which will not be officially released until Xcode 7 hits GM.
## Asking Questions
Hi @sai-prasanna, thankfully there is not a bug here. Unfortunately you are just misusing the API. Here's the signature of the global method you are calling:
- https://twitter.com/AlamofireSF/status/624734484609368064
Thank you for that very detailed write up @ibru. It is very much appreciated.
I would like to take the same approach as AFN on this one. If anyone finds any possible workaround for Alamofire for this issue, we'd be happy to adopt the fix. Until then, it may be wise to avoid using `debugPrintln(request)` on consumer facing builds. If you see this crash in your debug builds, at least now you'll know the root cause of where the issue truly lies.
Duly noted. We've had some very interesting discussions / debates on AFNetworking around the usage of the Reachability APIs and how useful they truly are. I'll huddle the TC at WWDC and we'll see if this is something we want to get onto the roadmap.
Sorry about that @allaire, I should have been a bit more specific. Could you post the debug output for the original `Alamofire.Request`?
## Asking Questions
Hey @allaire, @MartinRogalla and @Mistobaan!
## Asking Questions
cc @kcharwood, @kylef, @mattt
I managed to re-enable our Travis-CI builds for Alamofire. This is really my first trial with Travis-CI so I'd appreciate it if others could look this over for me. Here's a list of changes that I made.
- Added a `gem install cocoapods` to make sure we're linting with the latest version
- Added a Carthage Compatible tag to the top of the README
cc @kcharwood, @kylef, @mattt
cc @kcharwood, @kylef, @mattt
My approach here was to simply get tests around the expected NSURLCache behavior on both platforms, and make sure we stay green here moving forwards. Does that sound reasonable?
cc @kcharwood, @kylef, @mattt
let nonLegalCharacters = " \"#%<>[]\\^`{}|"
The changes I mentioned earlier are a big step in that direction. Adding an `Authorization` header should take place when the `NSURLRequest` is being constructed. Now if you start thinking about how this would work in Alamofire, it gets a bit interesting. In AFNetworking, you have the concept of a `RequestSerializer`. In Alamofire, this does not exist. You need to add the header at the time of creation, which makes things much easier to understand. This may however make things slightly less convenient, but potentially saves people from their own mistakes.
@allaire, your approach is correct. You want to use the `URLRequestConvertible` to attach the header for now. In the 1.3.0 release, you will have a second option that will allow you to pass a `headers` dictionary into the `request`, `download` and `upload` global methods.
Since some people need explicit control over these behaviors, we have opened up the ability to override the default Alamofire behavior. That's why I posted the response that I did to show you the basics in how to go about customizing that behavior. What you need to figure out is why the auth challenge is passing through cURL and failing in the iOS evaluation.
Thank you for your excellent discussion here @joshuatbrown and @tobiasoleary! It is much appreciated and allows others using Alamofire to learn from you. üëçüèª
## Asking Questions
> # Asking Questions
## Asking Questions
Thanks for the PR, @mustafaibrahim989, but this implementation is incompatible with our project design goals. Specifically, it creates a strong dependency on UIKit, making Alamofire incompatible with OS X. It also has tight coupling to a shared singleton instance and isn't thread-safe. We are looking into ways to incorporate this kind of functionality in the future.
## Asking Questions
let request = Alamofire.request(.POST, "http://httpbin.org/post", parameters: parameters, encoding: .JSON)
## Asking Questions
## Asking Questions
I created a `URLProtocolTestCase` to replicate this behavior in b92f4e05. This at least let's us track this behavior on all our tested platforms. I'm sure we'll end up adding more tests in the future here. If you can think of any other useful test cases here or would be willing to write some others, I would be much obliged.
With all that said, I think it is probably wise to no longer recommend using an `NSURLProtocol` with Alamofire for anything other than for mocking out test responses. I think it could be very useful here and this is something that we're interested in documenting in a future release.
Not sure what you're referring to @btelintelo. There is no issue that is back. That check is needed and there is no iOS check needed since we're dropping support for iOS 7 in Alamofire 2.0.
I broke the project up into multiple Swift files separated into `Core` and `Features` groups. I was very careful to split each major change into a separate commit so we didn't lose any of the critical ACL changes that were required.
I'm going to merge this in @subicura, but passing in `nil` at the moment is causing deadlocks. Please see #350 and #424 for more info. There is also additional documentation in the tests.
![alamofirepods](https://cloud.githubusercontent.com/assets/169110/7456333/83e2ce82-f238-11e4-9d35-1175dbcefcba.png)
## Asking Questions
## Asking Questions
## Asking Questions
> ## Asking Questions
`"http://www.domain.de/service.php?id=123&email=abcd@t√ºr.de"` is not a valid URL, as it needs to percent-encode the non-ASCII characters. This could be documented better.
Why not pass `["id": "123", "email": "abcd@t√ºr.de"]` as `parameters`? Alamofire will automatically escape that for you.
We don't use Github as a support forum. Please open a question on [StackOverflow](http://stackoverflow.com) and tag `Alamofire`.
> ## Asking Questions
~ ‚ÆÄ pod search alamofire
-> Alamofire (1.2.0)
pod 'Alamofire', '~> 1.2.0'
- Source:   https://github.com/Alamofire/Alamofire.git
-> RACAlamofire (0.0.6)
ReactiveCocoa extensions for Alamofire
pod 'RACAlamofire', '~> 0.0.6'
- Homepage: https://github.com/ararog/Alamofire-RACExtensions
- Source:   https://github.com/ararog/Alamofire-RACExtensions.git
-> TKAlamofire (1.1.4)
pod 'TKAlamofire', '~> 1.1.4'
- Homepage: https://github.com/nicolastinkl/TKAlamofire
- Source:   https://github.com/nicolastinkl/TKAlamofire.git
Hi @aemreunal, apologies for not getting back to you sooner. At the moment, there is no direct support in Alamofire for trusting self-signed certificates or for SSL pinning. Support for this feature is already being discussed and is slated for the 1.3.0 release. We are taking security very seriously and it is at the top of our priority list. Please see #366 for more information.
## Asking Questions
This is not a support forum. In the future, please ask usage questions on Stack Overflow using the "Alamofire" tag.
Thanks, @siemensikkema.
@tobiasoleary, to your original question, yes, it would be nice to have a more verbose error system. We should have some better error handling logic around validation and anywhere else we can possibly throw an error. Since this will be a fairly large breaking change, we've slated this for the 2.0.0 release. We would also like to incorporate the new error handling logic from Swift 2.0 to make this process as simple as possible to use.
For any further questions, please try asking for help on Stack Overflow with the "Alamofire" tag.
If you continue to experience problems and think that this might be an issue with CocoaPods, please open an issue with them. Otherwise, please ask a question on Stack Overflow with the "Alamofire" tag.
@atulsha That is not a valid solution to this problem. Using an older, unsupported version of Alamofire is not a good idea. Alamofire 3.3 requires Xcode 7.3. @deck2osuab Try a cleaning your build environment after updating Alamofire and Xcode to the latest versions.
Maybe you're missing an `import Alamofire` statement?
If you have any further issues, please try asking on Stack Overflow with the "Alamofire" tag.
Hi @alivingston, my apologies for not getting back to you sooner.
Thanks, @pitiphong-p.
Thanks for your PR, @inamiy, but I agree with @cnoon.
This is a CocoaPods or Carthage issue, and has nothing really to do with Alamofire. If you're annoyed by CI output, short of a real fix, you can always use `sed` or the like to filter out undesired warnings.
Thanks, @mthole.
Multiple parameter encodings isn't really a common convention for web applications, so it's not something I'd be interested to build any more specific support for. That said, `ParameterEncoding`, with it's `Custom` case and associated closure value can be used to compose a request without reimplementing either JSON body or URL query string encoding. The solution you described should work just fine.
@mxl Why not? It's encoded in the URL for HTTP methods that do not support am message body, or in the body as `application/x-www-form-**urlencoded**` (emphasis added) for HTTP methods that designate a message body. That's just HTTP.
@mxl Way too complicated for my tastes. The way it works now is flexible enough to handle any use case (including the one described by this issue), without exposing unnecessary API surface area.
@mxl It's not a common case. And there is not going to be a one-size-fits-all solution; it's always going to be as hacky as the web service you're developing against.
> By the way who puts url-encoded parameters in request body?
@mxl URL form encoding of parameters is a required feature for web services that do not support JSON encoding. Not everything an app might connect to is shiny and new.
@mxl That's the thing‚ÄîAlamofire does support modern web services out of the box. That's what it was designed to do, and what it does. I'm not particularly interested in discussing this feature any further at this time.
@Dschee An interesting point. However, this may be achievable right now by writing a custom `ParameterEncoding` that can take the additional `include`, `sort`, or `filter` parameters in a static function. e.g. `JSONAPI.include(_:sort:filter:)` that can then be passed in Alamofire's `request` functions or used to encode `URLRequest`s directly. However, concrete proposals or even PRs would help us further consider this request.
Personally, I don't like `JSON API` from an API design perspective, but I can see the usefulness of the functionality you described.   Core Data and NSCoding are orthogonal, and integration with either is left as an exercise to the user.
I cherry-picked the specific change for escaped characters with 9075691ca5e2e53c7fcb6b286a19abee874e97d3. Thanks again, @slizeray!
@slizeray That doesn't exactly inspire confidence. If it comes down to a question of usability concerns versus incorrect server-side handling, I'll err on the side of safety.
@slizeray I wasn't aware of this specific difference in behavior previously, but knowing this now, I'm more comfortable keeping consistent default encoding behavior between Alamofire and AFNetworking. I understand how this might be inconvenient, which is why Alamofire offers two different ways to easily override this. First, you could use the `Custom` parameter encoding, supplying your own function to do the parameter escaping. Alternatively, you could bypass all of the URL encoding completely by passing a value of type conforming to `URLRequestConvertible` (`NSURLRequest` or a custom type) directly into `request`, `upload` and `download`.
We removed the playground in the latest versions of Alamofire. Caused more problems than it was worth.
Thanks, @jspahrsummers.
@staticdreams If you're expecting a JSON response (3840 is the error returned by `NSJSONSerialization`), you have to use UTF-8, as that's the only encoding supported by JSON. I'm not sure why you're suddenly seeing the error, but I would confirm that the string content of the response can be successfully decoded into a UTF-8 string.
Hi @briv, thank you for all your work you've put in here! We have SSL/TLS Key/Certificate pinning slated for our 1.3.0 release. We're starting to discuss this now and will keep you posted. Thanks again for all your hard work here! üëçüèª
Thanks, @tkrajacic.
@indragiek Yessir. 36499d8f3d5e5ecf9c612a301c819c10baa402c2 is on xcode-6.3 as well now.
Thanks, @tkrajacic.
Thanks, @tkrajacic.
Thanks so much for this, @yasuoza. I really appreciate it.
Thanks, @astrabot.
Sure. Thanks, @mrahmiao.
Maybe try `import Alamofire`?
Alamofire is specifically not designed to be compatible with Objective-C. It is up to the API consumer to provide the appropriate bridging accommodations to integrate it within an application.
For apps using Objective-C, try AFNetworking instead.
If this is an issue with Alamofire, please submit a PR with a failing test that demonstrates the issue. With that, I would be more than happy to work towards a solution.
Looks good. Thanks so much for this, @astrabot.
There is no standardized representation of boolean values in URL-encoding, either on the client or server. Convert them to strings ahead of time.
Thanks, @slash7.
> Since there is no published specification for how to encode collection types, the convention of appending [] to the key for array values (`foo[]=1&foo[]=2`), and appending the key surrounded by square brackets for nested dictionary values (`foo[bar]=baz`).
Thanks for your contribution, @puls.
As for `--compressed`, this also feels unexpected. The point of the `curl` command output is to debug the request going out, rather than emulate the response. Any additional processing or logic should be left up to the end user, who can append additional flags or pipe / output as appropriate.
You're building for the wrong architecture.
Thanks, @nsarno.
Now to really answer this question, we need to understand what's going on. Here's the order of operations that govern this behavior:
Hi @ziogaschr, thanks for your feedback. In the future, please comment directly on the issues you are referring to. That way we keep the conversations going in the correct location.
> CocoaPods projects must also have what‚Äôs known as a podspec file, which includes metadata about the project and specifies how it should be built. **Because Carthage uses xcodebuild to build dependencies, instead of integrating them into a single workspace, it doesn‚Äôt have a similar specification file.**
As far as I can tell, there are no additional steps necessary for Alamofire to be compatible with Carthage. If there is a specific change that needs to be made to the project workspace in order to support it, I'd be happy to review that pull request.
Thanks for your suggestion, @cosminstirbu. This seems like something that would be better served by a separate `NSURLProtocol` subclass, which could intercept all networking traffic, regardless of framework. This isn't the route AFNetworking took, but it's probably what I'd recommend going forward.
Alamofire builds against the iOS 7 SDK, but distribution through dynamic frameworks requires iOS 8.
Information is only valuable if people know how to use it. An overwhelming amount of anecdotal evidence tells me that an error like the one used by AFNetworking is not something that people know how to interpret.
@mrackwitz Thanks for all of your great work in bringing Swift support to CocoaPods. I couldn't be more excited to be able to take advantage of this.
AFNetworking already processes response data on a background queue (using the main queue would be inappropriate). Occasions which would necessitate a custom queue are going to be relatively rare, and usually entail some other nontrivial accommodations. In those situations, I'm comfortable relying on the existing mechanism for specifying a custom response serialization handler.
@TheWalkingDead1024, if you are having an issue in AFNetworking, then please open a new issue in that project.
After much debugging, I was able to track this issue down to only occurring in Alamofire on iOS 8.1 and 8.2 using the iPhone 4S and iPhone 5 simulators. It is 100% reproducible, but is crashing in different ways depending on the size of the Chinese string that is passed in. It's always some form of a `malloc` error. The following sample code will reproduce the issue in the iOS Example app.
import Alamofire
-> Bool
for _ in 0..<count { value += repeatedString }
CocoaPods doesn't support Swift yet, as stated in the README. When it is, Alamofire will certainly add support for it.
Thanks, @powerje.
> I'm not sure why this occurs, but it's probably not Alamofire.
This is a consequence of the implicit conversion when storing `lon` in `parameters`:
This is an issue with the Swift compiler, not anything specifically to do with Alamofire. Please try asking on the Apple Developer Forum or Stack Overflow.
Alamofire.request(.GET, "\(self.url)/cities")
"Content-Encoding" = gzip;
Server = "nginx/1.1.19";
@adamwaite but I don't think .authenticate is working because I don't see auth headers being passed to the endpoint at all
@joshuatbrown Yeah, nothing like that in Swift. Even if such a macro did exist, that wouldn't work, since Only the top-level type declarations would be wrapped. All of the extensions would need to be left as they are.
Exposing the initializer for `Alamofire.Request` is a no-go. Objects initialized in this fashion are not connected to an owning manager, which is necessary for actually getting requests to work. It'd be irresponsible to expose an incomplete interface for the sake of dependency injection.
For general questions like this, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/alamofire) instead. GitHub Issues are for reporting bugs and discussing features.
Thanks, @johngibb!
@nvh Me? I'm on Yosemite 10.10 (14A386a), Xcode: 6.1 Base SDK iOS 8.1 (Deployment target iOS 8.0)
Thanks, @parto.
The difference here is that the initialized `manager` is not owned, and is deallocated shortly after it goes out of scope. As a result, any pending tasks are cancelled.
Alamofire is built on the Foundation URL Loading System, and can therefore be integrated with custom `NSURLProtocol`s.
Thanks, @kaphacius. Fixes #146.
What are the exact parameters that cause this behavior?
Hi @albincr, it depends on your service. Most likely you'll want to upload the data as [MultipartFormData](https://github.com/Alamofire/Alamofire#uploading-multipartformdata). You may also need to pass the parameters in the [query string](https://github.com/Alamofire/Alamofire#manual-parameter-encoding-of-an-nsurlrequest) and supply the image data for the [upload](https://github.com/Alamofire/Alamofire#uploading-a-file).
You probably have some conflict. You could try `Alamofire.Method.POST`. Otherwise please take your questions to Stack Overflow.
## Asking Questions
I'd be happy to take another look if anyone could show this behavior in the wild (again, lacking any firm specification).
It's `Alamofire`, not `AlamoFire`.
Thanks, @nduplessis!
Alamofire can be compiled against a minimum deployment target of iOS 7. How it is distributed within a project is an entirely separate concern.
Thanks, @orta!
da237ff adds two tests specifically for `progress`, which both pass.
As noted in the README, just use the AFNetworking UIKit extensions. There's really no benefit in rewriting all of that in Alamofire.
Thanks, @iUtvikler.
@ingouackaz
That you're getting an "Unrecognized selector" exception is troubling. You're using Alamofire in Swift, right?
Alamofire.request(.GET, "https://httpbin.org/basic-auth/\(user)/\(password)")
in AFNetworking for objective-c, there was this convenient flag I could set.
What's its equivalent in Alamofire for swift?
`Alamofire.Manager.sharedInstance.session.configuration.HTTPAdditionalHeaders`
Hi @mathiasi,
Thanks for the PR, @Mikoj. I ended up adding a slightly modified version of [GitHub's Swift `.gitignore` file](https://github.com/github/gitignore/blob/master/Swift.gitignore) in ae1e1148ba41f1b20b922f3a49edd1e7bb01a93c
Thanks, @johngibb.
As @yanke-guo points out, `NSNull` is the appropriate value to pass here.
Everything needs to bridge back to Objective-C to use `NSJSONSerialization` @rlaferla. Hopefully Swift 3 will give us some better options.
@PurviJani Posting on old, unrelated issues is not a good way to get support. These types of questions are best suited for [Stack Overflow](https://stackoverflow.com) and tag `Alamofire`. We use our GitHub project for bug reports and feature requests.
## Asking Questions
In the mean time, doing what you suggest would be very complicated, requiring us to build our own non-generic optional protocol (for casting), along with functionality to extract values or `NSNull` and dynamically rebuild `parameters` values, which are arbitrarily sized. So it would be terrible for performance, requiring `O(n)` time and `O(n)` memory (as we'd have to copy the value passed in). It would also be slowed down by the fact that we'd have to do `is` checks on every value in parameters, both to check for optionality as well as to see if it's a collection type. So, given that it will be fixed rather soon, I'd say we won't be adding that functionality.
Thanks, @JJSaccolo!
https://github.com/Alamofire/Alamofire#crud--authorization
That said, I could see a library providing an extension on `Alamofire.Request` that provides a `responseXSSProtectedJSON` method, or the like.
@jjochen Beta 6 is a minimum requirement for Alamofire.
That's a fundamentally unsafe operation, since `NSJSONSerialization +JSONObjectWithData:...` returns `AnyObject?`.
Thanks, @troypayne. A `.gitignore` file following GitHub's Swift template was added with ae1e1148ba41f1b20b922f3a49edd1e7bb01a93c.
(FWIW, `xcuserdata`, like `.DS_Store` and other common noise, is something a lot of people like to put in their user-level `.gitignore`)
Well said, @justinmakaila.
Has anyone been able to run Alamofire.swift on a device running iOS 7?
@angelcasado thanks! That did the trick
Responding to specific changes:
@tonglil You can encode the string as `NSData` and set as the `HTTPBody` or an `NSURLRequest`, which you then pass into `Alamofire.Manager.request`.
Thanks, @hpique!
let manager = Alamofire.Manager.sharedInstance // or create a new one
Cheers, @romanroibu. Thanks for the PR.
One additional benefit of the approach used by Alamofire is that it allows for multiple `response` calls, for any situation that might want to handle responses differently:
@Dschee That's just not how I use GitHub Issues. I give you all assurances that I know what I'm doing.
"request": "verification_api",
"Mobile_type":"ios",
else
"request": "verification_api",
"Mobile_type":"ios",
## Alamofire Environment
**Alamofire version:** 4.5.0
**Platform(s) running Alamofire:** iOS
"SomeAPIKey": "SomeAPIValue"
Alamofire.request("http://backend.com:8080/user", method: .get, parameters: parameters, encoding: JSONEncoding.default, headers: headers).responseJSON { (response:DataResponse) in
"birth_year" = 19BBY;
"birth_year": "19BBY",
## Alamofire Environment
**Alamofire version: 4.5.9**
**Swift version: 4.0**
https://github.com/dannymout/AFIssue
do {
let reason:AFError.ResponseValidationFailureReason = .unacceptableStatusCode(code: 401)
let reason:AFError.ResponseValidationFailureReason = .unacceptableStatusCode(code: response.statusCode)
And using the custom Validation as
`Alamofire.request(url, method: .get, parameters: parameters)
## Alamofire Environment
**Alamofire version:** 4.5.0
```swift
do {
print(error.localizedDescription)
Alamofire.request(url, method: .post, parameters: parameters, encoding: URLEncoding.httpBody,headers: headers).responseJSON
Alamofire.request(url, method: .get, headers: headers).responseJSON
what is wrong with Alamofire here?
## Alamofire Environment
Alamofire version:4.5.0
Actually, I don't know if this is a real standard yet, but it is widely used in REST services built with Microsoft ASP.NET WebAPI 2.
private lazy var backgroundManager: Alamofire.SessionManager = {
return Alamofire.SessionManager(configuration: URLSessionConfiguration.background(withIdentifier: bundleIdentifier))
Alamofire.request("http://www.aps.anl.gov/Accelerator_Systems_Division/Accelerator_Operations_Physics/sddsStatus/mainStatus.sdds.gz").responseData { response in
print(error.localizedDescription)
## Alamofire Environment
**Alamofire version:** 4.5
**Swift version:** 3.1
**Platform(s) running Alamofire:** iPhone
## Alamofire Environment
**Alamofire version: 4.4**
**Swift version: 3.0**
Alamofire crashes if log is enabled and request use client authentication through .pfx certificate. Log cant fetch user and password fields and crash by force unwrapping.
Alamofire.upload(fileURL!, to: "http://localhost:3000/upload")
Alamofire.upload(multipartFormData: { (multipartFormData) in
Alamofire.upload(multipartFormData: { (multipartFormData) in
```swift
do {
throw AFError.parameterEncodingFailed(reason: .jsonEncodingFailed(error: error))
let request = Alamofire.request(urlRequest)
sink.sendInterrupted()
Note that this issue arised because we don't have support for `Encodable` objects as part of the request when only specifying `parameters` and `parameterEncoding` in [this issue](https://github.com/Moya/Moya/issues/1135) for the Moya project, which includes Alamofire as its dependency. Although I've laid out to them, how we can solve this without changing Alamofire, there's kind of an agreement that it would be great to hear if and how Alamofire plans to support the `Encodable` and/or `Decodable` protocol types. I would love to see this in an addition to the existing, very flexible Alamofire-ObjectMapper. @jshier Thanks for splitting this up. Looking forward to both of them being implemented!  While checking for memory leaks in an iOS application, i found that when I use the `NetworkReachabilityManager` to check for online/offline status and i go offline there is a memory leak found by instruments/leaks tool.
i've pushed the sample project to this repo : https://github.com/ranlor/alamofire-testapp
c. non-deterministic behavior
This are the errors:
> Unexpected CFBundleExecutable Key - The bundle at '/Payload/APP_NAME.app/Target Support Files/Alamofire/Info.plist' does not contain a bundle executable. If this bundle intentionally does not contain an executable, consider removing the CFBundleExecutable key from its Info.plist and using a CFBundlePackageType of BNDL. If this bundle is part of a third-party framework, consider contacting the developer of the framework for an update to address this issue.
> Unexpected CFBundleExecutable Key - The bundle at '/Payload/APP_NAME.app/Target Support Files/AlamofireImage/Info.plist' does not contain a bundle executable. If this bundle intentionally does not contain an executable, consider removing the CFBundleExecutable key from its Info.plist and using a CFBundlePackageType of BNDL. If this bundle is part of a third-party framework, consider contacting the developer of the framework for an update to address this issue.
CocoaPods: __1.2.1__
var afManager: SessionManager!
self.configureAlamoFireSSLPinning()
func configureAlamoFireSSLPinning() {
self.afManager = SessionManager(
```swift
> <https://stackoverflow.com> and tag alamofire. We use our GitHub project
```swift
```swift
```swift
without modifying the code in Alamofire.
Could you please help me how can I do this.how can I extend the existing the URLEncoding or  inject my URLEncoding into alamofire.  Hi,
`responseSerializationFailed(Alamofire.AFError.ResponseSerializationFailureReason.inputDataNilOrZeroLength)`
let parameters: Parameters = ["pageno": pageno]
if error._code == NSURLErrorTimedOut {
The API Response (**status**) is Boolean value and indicates if the response has data or not (empty) and as shown i'm handling the response only if its **TRUE** , but as i mentioned before its not useful because the error closure always throw
`responseSerializationFailed(Alamofire.AFError.ResponseSerializationFailureReason.inputDataNilOrZeroLength)` error if the response is empty .
downLoadRequest = Alamofire.download(resumingWith: cancelData, to: destionation)
`pod 'Alamofire', '~> 4.4'`
import Alamofire
Alamofire.request(fullURL, method: .post, parameters: postData).responseJSON { response in
> Alamofire.request("https://httpbin.org/post", method: .post, parameters: parameters)
> Alamofire.request("https://httpbin.org/post", method: .post, parameters: parameters, encoding: URLEncoding.default)
```swift
Alamofire.request("", method: .post, parameters: Data()!) // just demo. Extra argument 'method' in call.
"*.abc.co":
`fastlane` is best used in combination with `bundler`
### Install Bundler
```zsh
```zsh
```zsh
$ bundle exec fastlane macos test
```zsh
bsarrazin/Alamofire
[11:29:10]: --- Step: carthage ---
[11:29:15]: ‚ñ∏ *** Building scheme "Alamofire macOS" in Alamofire.xcworkspace
[11:29:25]: ‚ñ∏ *** Building scheme "Alamofire watchOS" in Alamofire.xcworkspace
[11:29:47]: ‚ñ∏ *** Building scheme "Alamofire tvOS" in Alamofire.xcworkspace
[11:30:11]: ‚ñ∏ *** Building scheme "Alamofire iOS" in Alamofire.xcworkspace
[11:30:37]: --- Step: carthage ---
[11:30:38]: ‚ñ∏ *** Found Carthage/Build/Mac/Alamofire.framework
[11:30:38]: ‚ñ∏ *** Found Carthage/Build/Mac/Alamofire.framework.dSYM
[11:30:38]: ‚ñ∏ *** Found Carthage/Build/iOS/Alamofire.framework
[11:30:38]: ‚ñ∏ *** Found Carthage/Build/iOS/Alamofire.framework.dSYM
[11:30:38]: ‚ñ∏ *** Found Carthage/Build/watchOS/Alamofire.framework
[11:30:38]: ‚ñ∏ *** Found Carthage/Build/watchOS/Alamofire.framework.dSYM
[11:30:38]: ‚ñ∏ *** Found Carthage/Build/tvOS/Alamofire.framework
[11:30:38]: ‚ñ∏ *** Found Carthage/Build/tvOS/Alamofire.framework.dSYM
[11:30:38]: ‚ñ∏ *** Found Carthage/Build/Mac/D1ADB48A-32B8-3189-BF12-B51F0A537C58.bcsymbolmap
[11:30:38]: ‚ñ∏ *** Found Carthage/Build/iOS/D43455C0-526B-3015-B00B-DB19F2070079.bcsymbolmap
[11:30:38]: ‚ñ∏ *** Found Carthage/Build/iOS/86A6EE77-D28E-364B-AD78-E7397AA881EA.bcsymbolmap
[11:30:38]: ‚ñ∏ *** Found Carthage/Build/iOS/EFDFDB25-2A98-3EB6-ABEB-B908B4CE154A.bcsymbolmap
[11:30:38]: ‚ñ∏ *** Found Carthage/Build/iOS/0778389A-9014-322D-B9FD-09B19AE4C757.bcsymbolmap
[11:30:38]: ‚ñ∏ *** Found Carthage/Build/watchOS/ADB2E81C-0755-362A-9E32-12414B3E38A6.bcsymbolmap
[11:30:38]: ‚ñ∏ *** Found Carthage/Build/watchOS/5E925473-C762-3E62-A713-4522B9E0CB2A.bcsymbolmap
[11:30:38]: ‚ñ∏ *** Found Carthage/Build/tvOS/444F697A-5784-3978-9119-2C516D80173C.bcsymbolmap
[11:30:38]: ‚ñ∏ *** Found Carthage/Build/tvOS/C711CD96-E7B0-3CF0-961E-38FF9C08E094.bcsymbolmap
[11:30:40]: ‚ñ∏ *** Created build/Alamofire.framework.zip
[11:30:40]: Will also upload assets ["build/Alamofire.framework.zip"].
[11:30:41]: Uploading Alamofire.framework.zip
[11:30:48]: Successfully uploaded Alamofire.framework.zip.
| 5    | carthage                            | 86          |
| 6    | carthage                            | 2           |
```zsh
$ bundle exec fastlane archive github_api_token:xxx github_release_title:5.5.5 github_release_tag:5.5.5 archive_repository_path:"bsarrazin/Alamofire"
[11:37:15]: --- Step: carthage ---
[11:37:19]: ‚ñ∏ *** Building scheme "Alamofire macOS" in Alamofire.xcworkspace
[11:37:30]: ‚ñ∏ *** Building scheme "Alamofire iOS" in Alamofire.xcworkspace
[11:37:56]: ‚ñ∏ *** Building scheme "Alamofire watchOS" in Alamofire.xcworkspace
[11:38:18]: ‚ñ∏ *** Building scheme "Alamofire tvOS" in Alamofire.xcworkspace
[11:38:42]: --- Step: carthage ---
[11:38:42]: ‚ñ∏ *** Found Carthage/Build/Mac/Alamofire.framework
[11:38:42]: ‚ñ∏ *** Found Carthage/Build/Mac/Alamofire.framework.dSYM
[11:38:42]: ‚ñ∏ *** Found Carthage/Build/iOS/Alamofire.framework
[11:38:42]: ‚ñ∏ *** Found Carthage/Build/iOS/Alamofire.framework.dSYM
[11:38:42]: ‚ñ∏ *** Found Carthage/Build/watchOS/Alamofire.framework
[11:38:42]: ‚ñ∏ *** Found Carthage/Build/watchOS/Alamofire.framework.dSYM
[11:38:42]: ‚ñ∏ *** Found Carthage/Build/tvOS/Alamofire.framework
[11:38:42]: ‚ñ∏ *** Found Carthage/Build/tvOS/Alamofire.framework.dSYM
[11:38:42]: ‚ñ∏ *** Found Carthage/Build/iOS/D43455C0-526B-3015-B00B-DB19F2070079.bcsymbolmap
[11:38:42]: ‚ñ∏ *** Found Carthage/Build/Mac/D1ADB48A-32B8-3189-BF12-B51F0A537C58.bcsymbolmap
[11:38:42]: ‚ñ∏ *** Found Carthage/Build/iOS/86A6EE77-D28E-364B-AD78-E7397AA881EA.bcsymbolmap
[11:38:42]: ‚ñ∏ *** Found Carthage/Build/iOS/EFDFDB25-2A98-3EB6-ABEB-B908B4CE154A.bcsymbolmap
[11:38:42]: ‚ñ∏ *** Found Carthage/Build/iOS/0778389A-9014-322D-B9FD-09B19AE4C757.bcsymbolmap
[11:38:42]: ‚ñ∏ *** Found Carthage/Build/watchOS/ADB2E81C-0755-362A-9E32-12414B3E38A6.bcsymbolmap
[11:38:42]: ‚ñ∏ *** Found Carthage/Build/watchOS/5E925473-C762-3E62-A713-4522B9E0CB2A.bcsymbolmap
[11:38:42]: ‚ñ∏ *** Found Carthage/Build/tvOS/444F697A-5784-3978-9119-2C516D80173C.bcsymbolmap
[11:38:42]: ‚ñ∏ *** Found Carthage/Build/tvOS/C711CD96-E7B0-3CF0-961E-38FF9C08E094.bcsymbolmap
[11:38:45]: ‚ñ∏ *** Created build/Alamofire.framework.zip
[11:38:45]: Will also upload assets ["build/Alamofire.framework.zip"].
[11:38:45]: Uploading Alamofire.framework.zip
[11:38:53]: Successfully uploaded Alamofire.framework.zip.
| 2    | carthage                            | 87          |
| 3    | carthage                            | 2           |
step2: select targets  Alamofire
I can`t speak English
func UpdateMulipartApi(){
Alamofire.upload(multipartFormData: {
in /Users/.../Library/Developer/Xcode/DerivedData/###-bcrzoulrsfdubrbahknmpsvtakka/Build/Products/Debug/###.app/Contents/MacOS/../Frameworks/Alamofire.framework/Versions/A/Alamofire
Cocoapods configuration:
platform :osx, '10.11'
target 'TranslateEverywhere' do
pod 'MASShortcut'
pod 'Alamofire',        '~> 4.0'
pod 'SwiftyJSON'
pod 'RxCocoa',          '~> 3.0'
pod 'RxAlamofire',      '~> 3.0'
```swift
```swift
```swift
Due to the crash being `EXC_BREAKPOINT` I'm assuming it's a failing assertion somewhere and may actually be happening in the Swift/Obj-C compatibility layer before the actual delegate code is even called. But I'm not sure how to debug this and was hoping someone on here has an idea why this would happen.
swift 3
Alamofire 4.4.0
SwiftyJSON 3.1.4
AlamofireSwiftyJSON.swift
```swift
let manager = Alamofire.SessionManager.default
I think it is not a good way to do it because if people work in teams these weird checks on exact "under-water" codes will make code very unreadable. Also not suit for Alamofire‚Äôs structure.
It worked fine on my local iPhone 7 test but it seems to fail on CI. Can you re-test it please?  Swift & Objective-C beginners can not know the validity of execution results.
(Proxy Connection) NO
I tried to change!!!
but!
Alamofire.download(downloadUrl, method: .get, parameters: nil, encoding: JSONEncoding.default, headers: headers, to: destination)
if self.catalogueBooks.count == self.eGazelCount {
Mickael.  I use this when I need to allow invalid certificates and it works perfectly:
// Create custom manager
configuration.httpAdditionalHeaders = Alamofire.SessionManager.defaultHTTPHeaders
let manager = Alamofire.SessionManager(
```swift
```  I am using AF and using it's delegate to catch the authentication chanllenge returned by my server.
let sessionManager = Alamofire.SessionManager.default
let delegate: Alamofire.SessionDelegate = sessionManager.delegate
-(BOOL)handleChallenge:(NSURLAuthenticationChallenge *)challenge
let manager = Alamofire.SessionManager.default
P.S - I have imported Alamofire in the class mentioned in the screenshot
target 'PhotoTagger' do
pod 'Alamofire'
All other pods are working fine, except Alamofire.
Also after writing class name by hand or copy pasting, some of the methods that are being auto completed does not have the same signature of the actual method of the Alamofire class
‚ñø failure : AFError
ÂΩìÁÑ∂‰ºöÂá∫ÈîôÔºå‰∏≠ÊñáÈúÄË¶ÅËΩ¨‰πâ  I am not sure if my issue belongs to "feature request" or not. I asked it at [stackoverflow]( http://stackoverflow.com/questions/43795943/how-to-reduce-boilerplate-in-responsejson-just-like-i-use-urlrequestconvertible) and did not get any answer so far.
So is there any way to reduce these boilerplate codes in responseJSON?  Hello, My web API needs client certificate while requesting from my IOS app (Ex. cert prompt on safari browser).  The certificate was pushed by MDM app(A) on my device and it is available under (Settings/General/Device Management/Digital Workspace/certificate) and the same certificate i want to use to make WebAPI request in My App (B) on the same device.
`AFError` converted in the `NSError` contains a `localizedDescription`, but the `userInfo` is empty.
```swift
let error = AFError.parameterEncodingFailed(reason: .missingURL)
If `AFError` to adapt to the `CustomNSError`, the `userInfo` will contain the `localizedDescription `.
```swift
let error = AFError.parameterEncodingFailed(reason: .missingURL)
Thank you.  i wants to send my acces token in alamofire how i do this  ok thanks  This has been mentioned before but it seems this couldn't be replicated at the time,
Moya_Logger: [18/04/2017 12:17:56] Request Body: deviceId=111&deviceType=2&email=poonam%40gmail.com&password=0192023a7bbd73250516f069df18b500&versionName=1.0
dyld: Symbol not found:
# Alamofire:4.2.0
use cocoapods install
pod 'SVProgressHUD'
pod 'Alamofire','~>4.2.0'
pod 'CocoaAsyncSocket'
Alamofire.upload(multipartFormData: { mulitFormData -> Void in
code:
Ideally, Alamofire should generate the same `Accept-Language` as Safari.
```swift
Please help! If you have any ideas, or even Swift examples, that would be much appreciated.
- [`XCTAssertEqual failed: ("nil") is not equal to ("Optional("foobar")")`](https://github.com/Alamofire/Alamofire/blob/master/Tests/URLProtocolTests.swift#L166)
Cc: u84six <sea11side@yahoo.com>; Author <author@noreply.github.com>
Asking Questions
let parameters: Parameters = ["email": credentials["email"]!, "senha": credentials["password"]!, "solicitacao": solicitation.solicitationID!, "executores": executors]
Alamofire.request("", method: .post, parameters: parameters).validate().responseJSON { response in
print("aceitado")
Alamofire seems to doesn't work with the last version of Xcode.
let headers: HTTPHeaders = ["Authorizationaaa": "123456"]
Alamofire.request(smsUrl, method: .post, parameters: smsParams, headers: headers).responseJSON { (response) in
ËØ∑Ê±ÇÊó∂ËÆæÁΩÆÂ§¥‰ø°ÊÅØÔºåËÆæÁΩÆ‰∏çËøõÂéª  I use multipartFormData.append(URL, withName: "file") to upload a video to server but i've got that error msg : multipartEncodingFailed(Alamofire.AFError.MultipartEncodingFailureReason.bodyPartFileNotReachableWithError(file:///var/mobile/Media/DCIM/100APPLE/IMG_0939.mp4, Error Domain=NSCocoaErrorDomain Code=257 "The file ‚ÄúIMG_0939.mp4‚Äù couldn‚Äôt be opened because you don‚Äôt have permission to view it." UserInfo={NSURL=file:///var/mobile/Media/DCIM/100APPLE/IMG_0939.mp4, NSFilePath=/var/mobile/Media/DCIM/100APPLE/IMG_0939.mp4, NSUnderlyingError=0x174450d10 {Error Domain=NSPOSIXErrorDomain Code=1 "Operation not permitted"}}))
I have open that  Privacy - Photo Library Usage Description  but i got this error and I don't have any idea ,Please help me,Thanks  a lot!
here code:
Alamofire.request(url, method: .post, parameters: parameters, encoding: JSONEncoding.default)
here code:
Alamofire.request(url, method: .post, parameters: parameters, encoding: JSONEncoding.default, headers: headers)
```swift
let request = Alamofire.request(urlString, parameters: ["foo": "bar"], headers: headers)
swift3.0 @jshier   i just added a sample request like @Afsarunnisa ,and it do appear memory leak in xocde8.2.1/swift3.0
public extension Alamofire.DataRequest {
throw PaginationError.notSupported
let alamoFireManager = Alamofire.SessionManager(configuration: configuration)
```bash
and I'm trying to do the same with AF.
```swift
Alamofire.SessionManager.default.session.configuration.httpAdditionalHeaders = [:]
I don't really understand what's happening. I've read a few posts that mention that there might be some headers that are set by AF that are unexpected by S3 but I'm not sure. I'm hitting the same issue. Cant find anything on stack overflow relating to this. Has a thread been started? Yup. after a few hours at it I managed to figure out what it was. Namely, I needed to pass in a blank content-type for S3 to stop complaining.
Alamofire.request(httpServerPath + "/api/check/coupon/GOLDYEAR2017").responseJSON { ... }
however it throws
Alamofire.request(apiurl, method: .post, parameters: parameters, encoding: encoding, headers: headers).responseJSON { response in
looke like "data" is a hot keyword  ?
Alamofire.request(url, method: method, parameters: nil, headers: headers).responseJSON(queue: queue) { response in
i tried to with cocoapods but i get this when install
> - Add Alamofire as a git [submodule](http://git-scm.com/docs/git-submodule) by running the following command:
>   ```bash
> $ git submodule add https://github.com/Alamofire/Alamofire.git
"https://test.com/sources/common_7eceaf80.zip\n\n\t\t\t\t"   this urlString will found nil while unwrapping an Optional value   How can I upload MultipartFormData with POST and with extra parameter? For example "year"=28  or something like that
Thanks!  ```swift
let request = Alamofire.request("https://www.google.com")
import Alamofire
In AFNetworking, I can set the request serializer encoding like following:
self.requestSerializer = AFHTTPRequestSerializer()
Here is Alamofire session manager code
let manager = Alamofire.SessionManager.default
Alamofire 4.4.0, installed via CocoaPods.
responseSerializationFailed(Alamofire.AFError.ResponseSerializationFailureReason.inputDataNilOrZeroLength)
this is my code:
Alamofire.request(URL_USER_REGISTER, method: .post, parameters: parameters).responseJSON
```swift
protocol AlamofireResponse {
extension DefaultDataResponse: AlamofireResponse {}
extension DefaultDownloadResponse: AlamofireResponse {}
extension DataResponse: AlamofireResponse {}
extension DownloadResponse: AlamofireResponse {}
Side note: `XResponse` and `DefaultXResponse` are not related? Why? I'm asking this here but it affects multiple issues: how can we track Alamofire's progress if you close all tickets, even if you accept them (for consideration)?  Alamofire can currently download data into memory (as `Data`) or into files. This can be undesirable overhead, for instance if we want to unzip, decrypt, or perform any other operation "on the fly".
However, I still consider the inconsistent behaviour of Alamofire an issue. `update` [already uses](https://github.com/Alamofire/Alamofire/blob/25d8fdd8a36f510a2bc4fe98289f367ec385d337/Source/SessionManager.swift#L692) `self.queue.sync` a few lines above. How is that not prone to deadlocks as you describe? I see. The issue is that the completion handler may make another request, which may use `self.queue.sync` and promptly deadlock. Got it, thanks! what if the main queue needs to wait for the result in order to proceed? For example, I have a command line app, all it does is some kind of rest API calls, every time you run the command, you have to be sure about the outcome of the calls in order to properly quit the program. Also, IMHO, for a general purpose library like Alamofire, due to "best practice", users shouldn't use it in certain way is not an enough excuse for not providing the flexibility. Swift is a general purpose language, waiting for a async operation in main thread is not always a mistake. In some cases, that's the purpose. I agree. I guess we'd have to look into how XCTest expectations work, because when using them, all Alamofire opertions work as expected while the main thread waits. (I guess the trick is to take the main thread out of the main DispatchQueue and attach it at the end?)  Swift compiler Error **Cannot convert value of type 'URLSessionConfiguration' to expected argument type 'URLSession'** in **self.session = URLSession(configuration, didReceiveChallenge: delegate, completionHandler: nil)** line of code  I'm trying to use my Proxy for an API request that needs a specified IP.
import Alamofire
var requestManager = Alamofire.SessionManager.default
proxyConfiguration[kCFNetworkProxiesHTTPProxy] = "http://xxx@eu-west-static-01.quotaguard.com" as AnyObject?
let cfg = Alamofire.SessionManager.default.session.configuration
Alamo.request(items/list,
Alamo.request(items/list?cursor=cgD0xMADdd,
I added LICENSE link.  `URL.appendPathComponent` is mutating; the example is set up to use the generating version `URL.appendingPathComponent`.  I am using Alamofire to download files into my iOS app and it works fine for smaller files (~1GB or less) but when I try to download anything larger it fails. It completes the entire download, gets to 100% and then throws the error:
> FAILURE: responseSerializationFailed(Alamofire.AFError.ResponseSerializationFailureReason.inputFileReadFailed(file:///...))
var alamoFireManager : Alamofire.SessionManager!
self.alamoFireManager = Alamofire.SessionManager(configuration: configuration)
}    The string extension defined in `Tests/String+AlamofireTests.swift` is redundant since the
```swift
password: String,
```swift
- AlamofireImage with caching is working like a charm with call backs to UIImageViews upon data received
pod "Koloda"
pod 'Alamofire'
pod 'AlamofireImage'
pod 'Alamofire-Synchronous'
pod 'Crashlytics'
I'm having this issue where Alamofire is using an incorrect authorization header when sending a request to my server.
let sessionManager = Alamofire.SessionManager.default
~~~swift
/// - throws: An `AFError` if encoding encounters an error.
throw bodyPartError
```swift
throw bodyPartError
override var hasBytesAvailable: Bool {
Alamofire.upload(<#T##data: Data##Data#>, to: <#T##URLConvertible#>)
Alamofire.upload(postData, fullURL).responseJSON { response in
Less anger and entitlement would help a long way, too. Sorry to sound upset, my earlier question was closed with a very cryptic response.
That said, I find the documentation of Alamofire quite good.  For exampleÔºöhttp://192.168.1.12:8013/api/materialSort?sort=[102, 98, 94, 96, 95, 97]
![screen shot 2017-02-22 at 3 28 16 pm](https://cloud.githubusercontent.com/assets/20050977/23237767/afd56dae-f913-11e6-9481-c230a15f7ab8.png)
Bug is not valid. Closing.   Hi,
This issue probably is not related to the Alamofire.
Exception Type:  SIGSEGV
Exception Codes: SEGV_ACCERR at 0x68
let manager = Alamofire.SessionManager.default
let request: Alamofire.Request = manager.request(httpRequest as! URLRequestConvertible)
if resultError._code == NSURLErrorTimedOut {
Alamofire.SessionManager.default.session.invalidateAndCancel()
Should I add cases to handle the Kerberos authentication timeout, here?
@cnoon Kerberos authentication is done at the iOS level. When application calls endpoints that are defined in the SSO profile, iOS asks for the user to enter the password for the profile.
Problem boils down to: **It's something odd to do with the challenge being answered after the request has already timed out!**
Do I need to deal with `Alamofire.SessionManager.default.delegate.sessionDidReceiveChallenge` and
`Alamofire.SessionManager.default.delegate.taskDidReceiveChallenge` somehow?  Why is a response that has a status code of 429 (throttling limit reached) getting categorized as a success?
let manager = Alamofire.SessionManager.default
//429 code response getting called in here
//429 code response should be called here
**Alamofire.download(urlRequest: URLRequestConvertible, to: DownloadRequest.DownloadFileDestination?)**
Request with Alamofire:
"Subject": "hallo"
Alamofire.request(url, method:.post, parameters:parameters, headers:headers).responseJSON { response in
let postString = "{\"Subject\":\"pete\"}"
Alamofire.upload(multipartFormData: { multipartFormData in
"baz": "qux"
`Alamofire.request(kTokenValidationURL, method: .post, parameters: parameters, encoding: JSONEncoding.default)`
request = Alamofire.download(url, to: destination)
do {
}`   ```objc
//target: Alamofire.swift line 97
`Alamofire.upload(<#T##data: Data##Data#>, to: <#T##URLConvertible#>)`
```swift
Alamofire.upload(postData, fullURL).responseJSON { response in
`            Alamofire.upload(postData!, to: fullURL, headers:nil).responseJSON { response in
// Alamofire 3
Alamofire.upload(.POST, urlString, data: data).response { request, response, data, error in
// Alamofire 4
Alamofire.upload(data, to: urlString).response { response in // method defaults to `.post`
3. add pod 'Alamofire', '~> 4.3' to the Podfile
complete code is attached here
"DocCont":[{
Alamofire.request(url, method: .post, parameters: param, encoding: JSONEncoding.default, headers: nil).responseJSON { response in
```obj-c
```swift
import Alamofire
self.testAlamofireEscaping()
func testAlamofireEscaping() {
```swift
self.testAlamofireEscaping()
func testAlamofireEscaping() {
I think that there MUST be `@escaping` in closure parameters.
Thank you I have a similar issue related to the request retrier. Some errors that needs retrying will have a 200 response code. Therefor we need to parse these in a custom response serializer.
Suddenly it stops working (not entering the closure =( ) Use `request.delegate.data`  I having a strange issue, not sure if it is my fault or a real issue. Using the NetworkReachabilityManager, after each update a notReachable-flag gets fired about 0.01 - 0.04s later.
Am I doing something wrong?
```swift
import Alamofire
switch status {
let type = connectionType.hashValue == 0 ? "WLAN" : "WWAN"
break*/
Logs, switched between 3g and wlan:
2017-02-03 15:03:06.237435 app[752:117893] Network Status Changed: reachable(Alamofire.NetworkReachabilityManager.ConnectionType.ethernetOrWiFi)
2017-02-03 15:03:19.688307 app[752:117893] Network Status Changed: reachable(Alamofire.NetworkReachabilityManager.ConnectionType.wwan)
2017-02-03 15:03:24.618858 app[752:117893] Network Status Changed: reachable(Alamofire.NetworkReachabilityManager.ConnectionType.wwan)
2017-02-03 15:03:32.554985 app[752:117893] Network Status Changed: reachable(Alamofire.NetworkReachabilityManager.ConnectionType.ethernetOrWiFi)
`Alamofire.request("serviceAdress").responseJSON { response in
struct AlamofireRequestRouter: URLRequestConvertible {
private let method: HTTPMethod
encoding: ParameterEncoding = URLEncoding.default,
https://developer.apple.com/reference/foundation/urlrequest  Alamofire.request(.POST, parameters: Parameters, encoding: .JSON, headers: requestHeader).responseJSON { response in
Error: Extra argument 'parameters' in call.
Which Alamofire version are you using ?
Alamofire.request(url, method: .post, parameters: parameters, encoding: JSONEncoding.default, headers: headers).responseJSON { response in }
```  Excuse the last post - accidentally hit something...
for rec in unreachable {
// Determine whether an error has occurred
@unusuallyreticent
Here is the same test project with the SessionDelegate file modification in urlSession-didCompleteWithError, and the repositioned NSLock() just to make Instruments-leaks show pretty green lights.  @chamira, the NSLock() property has to be first - before any other property. Look what I did to SessionDelegate in the test project. I only moved this single property to the top. You have moved retrier, sessionManager and requests as well. Leave them were they were. It's a really silly issue. Laughable really. @jshier - thanks. I'll try it out. And, sorry if I seemed a bit rude occasionally. It was unintentional - late nights, three projects on the go, too much coffee :-(
class APIManager {
https://github.com/IBM-Swift/Kitura-Request
```swift
Alamofire.request("MY_URL", method: .post, encoding: JSONEncoding.default)
Alamofire treats all requests as successful. Take a look at [Response Validation](https://github.com/Alamofire/Alamofire#response-validation) to see if you are able to get what you want or else clarify a bit more in your question with examples. @sagarpatkar for example, the login endpoint can return something like this when the credentials are valid:
"user_id": "@cheeky_monkey:someserver.org",
"access_token": "abc123",
```swift
Alamofire.request("LOGIN_URL", method: .post, encoding: JSONEncoding.default)
// Alamofire error
```swift
Alamofire.request("MY_URL?access_token=\(token)&param2=\(param2)", method: .post ...)
Alamofire.download("https://downloadme.com/download.pdf", to: destination)
I have make a json request with alamofire and inside my json there are some characters like `u00b` etc. Which is greek language.
Although when i print the dictionary i cant see the correct string like "Œ±Œ≤Œ≥" but their unicode characters.
Alamofire.request(baseurl, method: .get, parameters: ["action": "categories", "subaction": "getproducts", "category_id": "11", "limit": "0,30"]).responseJSON { (responseData) -> Void in
return Api.alamofireManagerInstance!
public static func backgroundDownloadManager() -> Alamofire.SessionManager {
let manager = Alamofire.SessionManager(configuration: configuration)
PODS:
- Alamofire (4.3.0)
- AlamofireImage (3.2.0):
- Alamofire (~> 4.1)
- Crashlytics (3.8.3):
- Fuzi (1.0.1)
- RxAlamofire (3.0.3):
- RxAlamofire/Core (= 3.0.3)
- RxAlamofire/Core (3.0.3):
- Alamofire (~> 4.0)
- RxSwift (3.1.0)
- Alamofire (~> 4.3.0)
- SwiftyJSON (3.1.4)
- Timberjack (0.0.2)
let configuration = URLSessionConfiguration.background(withIdentifier: "abc.background")
Alamofire.request("http://192.168.12.250:5000/v1/getprofile",
Sample Code #2:
Alamofire.request("http://192.168.12.250:5000/v1/getprofile", headers: headers4)
}    Alamofire (4.2.0)
``` Swift
First off - I know this is completely out of line but I'm hoping someone out of the kindness of their heart will help me out here as I would do the same for anyone else. If someone is willing to help me here then I can promise you that I will not forget about this in the future - so please keep that in mind.
do {
wrapperRequest.request.authorization(...)  < response is of type Alamofire.Request
class FooBarServiceClient: Client {
```swift
import Alamofire
protocol SOAPDecodable {
let b: Int
```swift
struct FooBarServiceClient {
```swift
```swift
do {
```swift
client FooBarServiceClient {
Host: apimapflakes.azurewebsites.net
let url = "http://apimapflakes.azurewebsites.net/api/fileobjectId=587991afeb536e1180e662f5&fileType=3"
Alamofire.upload(multipartFormData: { multipartFormData in
Alamofire.request(URLString, method: .get, parameters: params, encoding: URLEncoding(destination: .httpBody)).validate().responseJSON { (response) in
Exception Type:  SIGABRT
Application Specific Information:
Last Exception Backtrace:
12  Alamofire                            0x00000001006d9ecc Alamofire.Request.DataTaskDelegate.URLSession (__ObjC.NSURLSession, dataTask : __ObjC.NSURLSessionDataTask, didReceiveData : __ObjC.NSData) -> () (Request.swift:413)
14  Alamofire                            0x00000001006bbcdc @objc Alamofire.Manager.SessionDelegate.URLSession (__ObjC.NSURLSession, dataTask : __ObjC.NSURLSessionDataTask, didReceiveData : __ObjC.NSData) -> () (Manager.swift:0)
the print that i use which is "access token to be used: asdhb37" is only called once
Alamofire.request(url).downloadProgress { progress in
print("upload link is",dummArr.ansVideoLnk)
let URLL = try! URLRequest(url: dummArr.ansVideoLnk, method: .post, headers: header)
Alamofire.upload(
with: URLL,
} Perhaps if something was wrong with Alamofire, you'd receive a response with a different error code and more information rather than the 500 you are receiving now.
Alamofire Version - 4.2
```javascript
OR
```Javascript
`Optional(["timesheets": [["estimate_service_id": Optional(1932), "task_id": Optional(1578), "staff_id": Optional(842), "description": Optional(), "work_date": Optional(2017-01-09), "docket_id": Optional(81), "duration": Optional(1800)]]])`
`Alamofire.JSONEncoding.default.encode(mutableURLRequest, with: params)`
pod 'Alamofire', '~> 4.2.0'
‚ñø failure : AFError
If it changes anything for you, we just merged https://github.com/Carthage/Carthage/pull/1755 which should go a long way to addressing issues with incompatible Swift versions. In short, the new behavior is:
* If the framework has Swift in it, and
Alamofire.upload(multipartFormData: { multipartFormData in
- Use the `$(inherited)` flag, or
- Use the `$(inherited)` flag, or
- Use the `$(inherited)` flag, or
- Use the `$(inherited)` flag, or
platform :ios, '10'
# Comment this line if you're not using Swift and don't want to use dynamic frameworks
pod 'Alamofire'
This may be related with some issue with cocoapods that isn't yet picking the correct values for that entry (not adding on install the $(inherited) entry.
I've an issue on this guard
3. Edit Podfile to add "pod 'Alamofire', '~> 4.0'"
If you hit "Later", you will get a new dialog stating that "Xcode 8 will not be able to build the target 'Alamofire'".
I am using the latest AF4 and for the case where the user puts in an incorrect username / password combo-  AF is returning an error which is fairly unfriendly which states:
Response status code was unacceptable: 401
- how do I get AF to return the message that says that the user's creds are "Unauthorized"
I didn't realise that people used 401 for different errors - always learning new things with AF.
eg Dedodable is returning as unknown, despite the fact I have AF added in already
Thanks! i'm not use Alamofire SDK(i use AFNetworking3.1),and i still got lots of this seem crashs!
Got this crash while using Alamofire 4.4.0.
0	CFNetwork
2	CFNetwork
3	CFNetwork
```swift
let queryUrl = QueryURL(url: urlString, parameters: ["lorem": "ipsum"])
Alamofire.request(queryUrl, method: .post, parameters: bodyParameters, encoding: JSONEncoding.default).response // ...
````swift
encoding: ParameterEncoding = URLEncoding.default,
```swift
encoding: ParameterEncoding = URLEncoding.default,
Alamofire.request(url, method: .get, parameters: params, encoding: JSONEncoding.default)
//         success(brandTags)
Alamofire.request(url, method: .get, parameters: params)
//         success(brandTags)
and for error code 422 means
422 Unprocessable Entity
semantically erroneous, XML instructions.  I was wondering what the purpose of `URLParameterEncoding.default` is. It isn't a singleton allowing for sharing a single instance of a `URLParameterEncoding`. Likewise, initializing a `URLParameterEncoding` with default options seems to be better served by just calling the initializer with no parameters. This pattern also applies to `JSONEncoding` and `PropertyListEncoding`. Thanks for the response, @jshier!
```swift
Alamofire.request(fullPath, method: httpMethod(for: action), parameters: parameters, encoding: JSONEncoding.default, headers: headers).responseJSON { dataResponse in
// some code
"Content-Encoding" = gzip;
Alamofire is included under Embedded Binaries as well as Linked Frameworks and Libraries in the General Tab:
Is there anything else required for Alamofire?
Alamofire.request("https://api.lolsummoners.headlezz.net/v2/champions/en/0",headers:headers)
import Alamofire
Build fails with Module 'Alamofire' has no member named 'request''
```swift
Now the use cases exposed by @cnoon are *not* straightforward: injecting headers, modifying server data, etc. That looks pretty advanced to me.
Alamofire.request(URLConvertible, method: HTTPMethod, parameters: Parameters?, encoding: ParameterEncoding, headers: HTTPHeaders?) Update on #Error 1:
it will show/allow you to add these many params, "String URL Convertible", method: <Alamofire.HTTPUrlMethod>, parameters: parameters, encoding:URLEncoding.default, headers: header
`Alamofire.request("http://host/api/deals/?keywod=ÌïúÍ∏Ä", method: .get,  encoding: JSONEncoding.default).responseJSON `
Showing an error as extra parameters <Alamofire.HTTPUrlMethod> in request.
it will show/allow you to add these many params, "String URL Convertible", method: <Alamofire.HTTPUrlMethod>, parameters: parameters, encoding:URLEncoding.default, headers: header
Alamofire v4.2.0
<key>NSExceptionDomains</key>
<key>the_api_ip</key>
<key>NSTemporaryExceptionRequiresForwardSecrecy</key>
var manager: Alamofire.SessionManager = {
"the_api_ip": .pinCertificates(
// Create custom manager
configuration.httpAdditionalHeaders = Alamofire.SessionManager.defaultHTTPHeaders
let manager = Alamofire.SessionManager(
I am using `Alamofire 4.2`
manager=Alamofire.SessionManager(serverTrustPolicyManager:ServerTrustPolicyManager(policies:policies))
let manager = Alamofire.Manager(configuration: configuration)
let xMethod = Alamofire.Method(rawValue: method)
[MIBundle _validateWithError:]: 44: Bundle at path /private/var/........../Frameworks/Alamofire.framework did not have a CFBundleIdentifier in its Info.plist
But after i have updated the new version of alamofire which is 4 it's getting an error
pod 'Alamofire', '~> 4.0'
I tried adding:
["foo": "baz"]
Alamofire.request("http://api/endpoint",
memories[][foo] bar
memories[][foo] baz
uid	12DE3BEB-C088F467E5F1-D1AF-44C8-AD01
memories[0][foo] bar
memories[1][foo] baz
uid	12DE3BEB-C088F467E5F1-D1AF-44C8-AD01
```  Other pods works fine, but Alamofire's  not.How to fix it?    Hello,
```swift
```swift
```swift
```swift
```swift
Yet since Swift has no standard `Result` type, an app that includes Alamofire may also include other libraries that define their own `Result` type. Is it a good idea to bless the `Result` type of Alamofire? That's an open question:
> let result: Alamofire.Result<Data> = ...
> ```swit
```swift
@jshier, @cnoon: The intent behind this PR is not to turn Alamofire into a functional programming flagship, but instead to enhance Alamofire with a tiny set of functional idioms that blend well into regular imperative Swift code.
```swift
> > @@ -100,3 +100,82 @@ extension Result: CustomDebugStringConvertible {
I have a lot of strong thoughts about `Result` types and biased unwrapping but I'm coming very late into this discussion and I'm unsure what exactly you're trying to decide.
```swift
```swift
platform :osx, '10.10'
PODS:
- Alamofire (4.1.0)
EXTERNAL SOURCES:
Alamofire:
Zip:
Alamofire:
Zip:
Alamofire: e266cf991b933498df791e645e0d8ac294492153
PromiseKit: ae9e7f97ee758e23f7b9c5e80380a2e78d6338c5
ReachabilitySwift: f5b9bb30a0777fac8f09ce8b067e32faeb29bb64
COCOAPODS: 1.0.1
# Platform: mac
@jakjothi
@keithkade  We are using Alamofire (version 4.2.0 ) for downloading contents from server. We have app settings which specifies the cache limit for the downloaded contents.For checking the content size we start the download and in progress closure we are pausing the request to check the size of the content.If the content size is greater than cache limit then we are cancelling the request else we are resuming the request.
let request:DownloadRequest = Alamofire.download(URLString,
pod 'Alamofire', '~> 4.2.0'
let returnSessionManager = Alamofire.SessionManager(
var request = alamofireManager.request(site, method: .get, parameters: parameters, encoding: JSONEncoding.default)
manager = Alamofire.SessionManager(serverTrustPolicyManager: ServerTrustPolicyManager(policies: serverTrustPolicy))
"Authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiY29udGFjdElkIjoiMDAzbTAwMDAwMFd5WFpnQUFOIiwiZXhwIjoxNTExOTc2NjczLCJpc3MiOiJsb2NhbGhvc3Q6ODA4MCJ9.BLQFBanzFNWH0yhSKRjXORV3dE14bP9asoKATdDzV58",
let configuration = URLSessionConfiguration.background(withIdentifier: "http://healthyagingmobileapp-dev.emory.edu/upload_s3")
manager = Alamofire.SessionManager(configuration: configuration, serverTrustPolicyManager : ServerTrustPolicyManager(policies: serverTrustPolicy))
Alamofire.request(urlString, method: .post, parameters: parameters, encoding: JSONEncoding.default)
let uanme = req.queryParameters.first?.key
if uanme == "admin" && psd == "admin" {
VERBOSE: listen(listenSocket:) HTTPServer.swift line 144 - Accepted connection from: 127.0.0.1:61293
https://github.com/WataruSuzuki/RevocationAlamofire
Thank you!  I try send a post request with custom headers as:
Alamofire.request( url, method: .POST, parameters: [], encoding: JSONEncoding.default, headers: ["Auth":"XXXX"] )
Thanks Its not a problem for me. I send custom headers via Get and it works. My server implementation is proprietary restful.   The case I am talking about is that the server is online. the base url does exists. but, the file itself doesn't. the alamofire download doesn't detect an error! it downloads the error page itself. I am expecting an image no error is there.
Alamofire.download(URL(string: fileUrl as String)!, to: destination).response { response in
})  ```swift
When I try Alamofire.request(Router.someCase), it does not work. I tested all my routers, and JSON encoding with routers work fine with POST requests. I don't know if anyone else is having this problem.
```swift
postMedia
postMedia statusCode
Backtrace:
in 'int Hooks::handleRequest(request_rec*)' (Hooks.cpp:561)` I figured out my problem. In my Router, I had my GET requests using JSONEncoding:
To fix it, I changed it to URLEncoding:
`urlRequest = try URLEncoding.default.encode(urlRequest, with: parameters)` @jshier I am running an Express server using Elastic Beanstalk with Node.js. However, in development I am testing under localhost on Mac OS X. @willc0de4food I designed my server so that it does not parse the URL for parameters, but only looks for JSON in the HTTP body. I am intentionally trying to encode JSON in the body of the GET HTTP request. @jshier Update: Definitely is not a server problem. My logs show that no GET requests with embedded JSON even hit the server. I tried another pattern for embedding JSON to no avail
```swift
Hope to get feedback soon. @willc0de4food that works!
Alamofire.request(url, method: .get, parameters: parameters, encoding: JSONEncoding(), headers: headers)
Alamofire.request(url, method: .get, parameters: parameters, encoding: URLEncoding(), headers: headers)
```swift
Alamofire.download("https://static.preapp.co/medias/2016/11/10/3194-a7d7afbf22.jpg")
I haven't tested the integration for a couple weeks now, but assuming nothing has changed, `swift package build` doesn't successfully pull down & build alamofire  I got an error: A server with the specified hostname could not be found.
Help me, please!
```swift
//status code 204 with no body is here
Alamofire.request(url, method: .post, parameters: nil, encoding: JSONEncoding.default, headers: headers).responseJSON { response in
switch statusCode {
switch statusCode {
//I have to handle status code 204 here
Please see for yourself: http://cocoadocs.org/docsets/Alamofire/4.2.0/
Pulic Class Item {
["Item": ["Name" : "Amir"]]
request = Alamofire
\"Content-Type\" = png;\n
import Alamofire
Alamofire.upload(
- `Alamofire (~> 4)` required by `Podfile`
Any solutions ?  Current default variable in SessionManager access is set to open which made me think that i [could override its behaviour](http://stackoverflow.com/q/40725354/999817), while some @robertmryan at [stackoverflow](http://stackoverflow.com/a/40747649/999817) was quick to point out, that default implementation of class shouldnt be overriden. I do think that part of Alamofire helper methods revolve around the default property. Therefore i think it would be appropriate to be able to override this property in either a subclass or an extension to set TrustPolicy objects, custom delegates, or even just a custom configuration object.
It seems to me that when a user requires a specific behaviour from alamofire, the user is then responsible for its outcome and for not breaking the framework.
At least for me and for the type of work i tend to do, i feel that it is important to be able to override the:
/usr/local/bin/carthage copy-frameworks
$(SRCROOT)/Carthage/Build/iOS/Alamofire.framework
(Was using Parse before and everything was fine, but could not build as soon as I added Alamofire)
$(SRCROOT)/Carthage/build/iOS
Carthage is on the latest version
ld: framework not found Alamofire
address.sin_family = sa_family_t(AF_INET)
not work if i don't define the "to: destination" and give me exception:
```swift
```  ```swift
Alamofire.upload(data as Data, with: request as URLRequest).responseString{
```swift
> status :reachable(Alamofire.NetworkReachabilityManager.ConnectionType.ethernetOrWiFi)
> statuslala :reachable(Alamofire.NetworkReachabilityManager.ConnectionType.ethernetOrWiFi)
> statuslala :notReachable
> statuslala :reachable(Alamofire.NetworkReachabilityManager.ConnectionType.ethernetOrWiFi)
> statuslala :notReachable
super.awakeFromNib()
print("statuslala :\(status)")
alamofire is compiled. (ok)
Ambiguous use of 'Task'
Request.swift
Ambiguous use of 'Task'
Alamofire.download(someUrl, to: destination)
I am writing a client via Alamofire.
- Alamofire 4.0.1
pod deintegrate
Uninstalling cocoapods
Reinstalling cocoapods
pod 'Alamofire', '~> 4.0'
`let sessionManager = Alamofire.SessionManager.default
Alamofire.upload(multipartFormData: {
multipartFormData.append("\(HGYGjihf746fg743g)".data(using: String.Encoding.utf8, allowLossyConversion: false)!, withName :"auth_token")
multipartFormData.append("\(0)".data(using: String.Encoding.utf8, allowLossyConversion: false)!, withName :"os")
NSLog((encodingError as NSError).localizedDescription)
[Result]: FAILURE: responseValidationFailed(Alamofire.AFError.ResponseValidationFailureReason.unacceptableStatusCode(500))
```swift
case ParseError
```swift
```swift
```swift
this is my code:
I was setting up a project, instead of using cocoapods i tried carthage for the first time. Everything went perfect and then developers thing happened :)
and carthage version 0.18.1: Redundant Redundancy
*** Fetching Alamofire
*** Checking out Alamofire at "4.0.1"
*** xcodebuild output can be found in /var/folders/v1/4631b9hn10g6yppr2c6k8jjr0000gn/T/carthage-xcodebuild.MRfbSY.log
*** Building scheme "Alamofire macOS" in Alamofire.xcworkspace
/Users/developerclan/Desktop/Shahriyar(Work)/API document/GarbageProd/Carthage/Checkouts/Alamofire/Source/TaskDelegate.swift:218:70: error: use of undeclared type 'CachedURLResponse'
/Users/developerclan/Desktop/Shahriyar(Work)/API document/GarbageProd/Carthage/Checkouts/Alamofire/Source/TaskDelegate.swift:273:45: error: use of undeclared type 'CachedURLResponse'
/Users/developerclan/Desktop/Shahriyar(Work)/API document/GarbageProd/Carthage/Checkouts/Alamofire/Source/TaskDelegate.swift:274:39: error: use of undeclared type 'CachedURLResponse'
/Users/developerclan/Desktop/Shahriyar(Work)/API document/GarbageProd/Carthage/Checkouts/Alamofire/Source/SessionDelegate.swift:89:75: error: use of undeclared type 'CachedURLResponse'
/Users/developerclan/Desktop/Shahriyar(Work)/API document/GarbageProd/Carthage/Checkouts/Alamofire/Source/SessionDelegate.swift:93:89: error: use of undeclared type 'CachedURLResponse'
/Users/developerclan/Desktop/Shahriyar(Work)/API document/GarbageProd/Carthage/Checkouts/Alamofire/Source/SessionDelegate.swift:532:45: error: use of undeclared type 'CachedURLResponse'
/Users/developerclan/Desktop/Shahriyar(Work)/API document/GarbageProd/Carthage/Checkouts/Alamofire/Source/SessionDelegate.swift:533:39: error: use of undeclared type 'CachedURLResponse'
/Users/developerclan/Desktop/Shahriyar(Work)/API document/GarbageProd/Carthage/Checkouts/Alamofire/Source/TaskDelegate.swift:276:29: error: use of undeclared type 'CachedURLResponse'
A shell task (/usr/bin/xcrun xcodebuild -workspace "/Users/developerclan/Desktop/Shahriyar(Work)/API document/GarbageProd/Carthage/Checkouts/Alamofire/Alamofire.xcworkspace" -scheme "Alamofire macOS" -configuration Release ONLY_ACTIVE_ARCH=NO CODE_SIGNING_REQUIRED=NO CODE_SIGN_IDENTITY= CARTHAGE=YES clean build) failed with exit code 65:
@eimantas Here's the screenshot of my Cartfile
What command are you using for building through Carthage?
@eimantas i 've tried carthage update, and carthage update --platform iOS. both commands results the same
@eimantas yes, i've installed xcode 8.1 and tried, but again failed. I've 7.3, 8.0 and, 8.1 xcode versions installed in my system and default is 8.1, yesterday i installed carthage on a system successfully and working, that contains only xcode 8.0. This looks not logical but could this be the reason?
Please!
@cnoon awesome. Thank you!
`Alamofire.request(url, method: .get, parameters: data, encoding: .URL, headers: headers).responseJSON...` shows error "Extra argument 'method' in call".
`Alamofire.upload(
// ... code ...
// ... code ...
Alamofire.upload(
@rudedogg  thank you for your response. I am not sure if it's what I want because `multipart/form-data` is not identical to `multipart/mixed`.
Alamofire 4.0
Alamofire.request(urlRequest)
https://github.com/wongzigii/AlamofireMemoryLeak
After I update Alamofire my project not work
http://stackoverflow.com/questions/40442675/alamofire-not-working-well-with-swift-3?noredirect=1#40442675 I have had some weird issues with this type of stuff. One time it took me cleaning the build folder and restarting Xcode a few times to resolve.
4. `pod deintegrate`
```swift
ErrorReportmultipartEncodingFailed(Alamofire.AFError.MultipartEncodingFailureReason.bodyPartURLInvalid(assets-library://asset/asset.mp4?id=1CEBF789-632D-4634-839E-5707D18CEBE9&ext=mp4))  ![screen shot 2016-11-04 at 9 58 43 am](https://cloud.githubusercontent.com/assets/8614189/19994535/604f5654-a275-11e6-8844-138f6fedd475.png)
ÊàëÊÉ≥ËØ∑Êïô‰∏™ÈóÆÈ¢ò,‰∏∫‰ªÄ‰πàÊñ∞ÁâàÊú¨ÁöÑalamofireÊîØÊåÅ‰∫Üxcode8‰ΩÜÊòØ‰∏∫‰ªÄ‰πà‰∏çÊîØÊåÅios8‰∫ÜÂë¢,Â∞±ËøûËãπÊûúÂÆòÊñπÈÉΩËøòÊîØÊåÅios8Âë¢,ËÄå‰∏îËøòÊúâÂ•ΩÂ§ß‰∏ÄÈÉ®ÂàÜÁî®Êà∑ËøòÂú®‰ΩøÁî®ios8ÁöÑÁ≥ªÁªü,Â¶ÇÊûú,ÊàëÈúÄË¶ÅÊîØÊåÅios8-ios10ÁöÑÁ≥ªÁªüÁöÑÁî®Êà∑,Êúâ‰ªÄ‰πàÂäûÊ≥ïÂèØ‰ª•ÂÆûÁé∞Âë¢?ÊàñËÄÖÊäõÂºÉalamofire‰ΩøÁî®AFN???  In my application, the URL to which the Alamofire will make the requests is provided by the user. SO as a developer I don't know what he'll be using. The URL would be accessed over:
2. HTTPS (Certificate issued by a certified CA)
3. HTTPS (self-signed certificate)
let requestManager = { ()->Alamofire.SessionManager in
let manager=Alamofire.SessionManager(configuration: configuration)
I originally built this without Alamofire and had the timing/logic problem and thought Alamofire might make this easier but after switching to Alamofire I find myself stuck at the same point.  Building the framework with Carthage on Swift 3.0.1 produces following warnings:
/Carthage/Checkouts/Alamofire/Source/Request.swift:474:47: warning: expression implicitly coerced from 'URLSessionTask?' to Any See https://github.com/Alamofire/Alamofire/issues/1732, fixed in https://github.com/Alamofire/Alamofire/pull/1735 . üëç
github "Alamofire/Alamofire"
and check what version of Swift you are using!
But @Erulezz  and @DanBurkhardt
[Aliyun HttpDns](https://help.aliyun.com/document_detail/30143.html?spm=5176.doc30102.6.147.o5RLgH)
**Swift version:** 2.2
bad access
Here is the underlying exception sent :
We finally resolved the issue with our team, it was due to Crittercism SDK.
let configuration = CrittercismConfig()
Crittercism.enable(withAppID: "appIDxxxxx", andConfig: configuration)
how can I make a soap request
FG
Ok i'll start with a little background, I'm a hobbyist programer so bear with me...
It's an OS X app (10.12) which polls a number of apis (JSON in this case & XML for others) reasonably frequently (4 times a second).  The app was running without any crashes using Swift 2 and the problems started when I upgraded to Swift 3.  The app crashes at random intervals (maybe after a few hours maybe after a few minutes) and as you can see from the screenshot above it looks like it is coming from line 282 in TaskDelegate.swift.  It's not really possible to create a sample project as it has to login to a number of personal accounts.  There isn't any output in the console except for 'lldb' so i'm not sure i can provide much more information than this.
"agr1b" : "true"
Alamofire.request("https://api.XXX.com/YYY/ZZZ/AAA/BBB", method: HTTPMethod.post, parameters : parameters, encoding: JSONEncoding.default, headers: headers)
I haven't been able to replicate the problem again, so i suspect it's something outside of Alamofire.  Feel free to close this issue.
With carthage I have these errors:
/Carthage/Checkouts/Alamofire/Source/Request.swift:474:47: warning: expression implicitly coerced from 'URLSessionTask?' to Any
/Carthage/Checkouts/Alamofire/Source/Request.swift:474:47: warning: expression implicitly coerced from 'URLSessionTask?' to Any
/Carthage/Checkouts/Alamofire/Source/Request.swift:474:47: warning: expression implicitly coerced from 'URLSessionTask?' to Any
/Carthage/Checkouts/Alamofire/Source/Request.swift:474:47: warning: expression implicitly coerced from 'URLSessionTask?' to Any
github "Alamofire/Alamofire" == 4.0.1
I receive the same Carthage warning
@BilalReffas
//Class variable
var alamoManager: SessionManager?
alamoManager = Alamofire.SessionManager(configuration: configuration)
self.alamoManager.upload(
@yadavanand it's not working for me
Alamofire.upload(multipartFormData: {
@BilalReffas OK. Perhaps something to do with the parameter encoding you can add as a variable to the normal Alamofire.request methods? Have you tried JSONenconding your parameter values inside the for loop (as a first line, so before the .append?) Just a hunch as I didn't need to do this myself.
Also... just to be sure. You are saying `<String>Array`, but I'm guessing you mean `Array<String>` or in another notation `[String]`, right? So, your parameter declaration would be something like this:
``` Swift
[!] Unable to find a specification for `Alamofire (~> 4.0)`
platform :ios, ‚Äô10.0‚Äô
target 'ekko' do
pod 'Alamofire', '~> 4.0'
[!] Unable to find a specification for `Alamofire (~> 4.0)`
[!] Unable to find a specification for `Alamofire (~> 4.0)`
I have run pod update and have also run 'pod repo update --verbose' I get no errors from the update, but I can pod install does not find Alamofile ???
- `ExpSwift (from `../`)` required by `Podfile`
- `ExpSwift (from `../`)` required by `Podfile`
s.dependency 'Alamofire','4.0.0'
Added  Alamofire to my Podfile:
target ‚Äòweatherkaka‚Äô do
pod 'Alamofire', '~> 4.0'
Also I've been able to detect @hamzaansari09 leaks using the Leaks instrument in my project.
let task = getAlamofireManager().request(.GET, url, headers:getHeaders())
/* Initialize the Alamofire manager */
private static func getAlamofireManager() -> Manager {
let manager = Alamofire.Manager.sharedInstance
"Content-Encoding" = gzip;
Pragma = "no-cache";
"Content-Encoding" = gzip;
Pragma = "no-cache";
I don't think its a "me" issue, because I got RXSwift to work, and then all I did was add Alamofire.
/Users/Joe/Projects/Mine/Apollo/Packages/Alamofire-4.0.0/Source/SessionDelegate.swift:117:61: note: add @available attribute to enclosing class
/Users/Joe/Projects/Mine/Apollo/Packages/Alamofire-4.0.0/Source/SessionDelegate.swift:120:70: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/Joe/Projects/Mine/Apollo/Packages/Alamofire-4.0.0/Source/SessionDelegate.swift:120:70: note: add @available attribute to enclosing class
spoke too soon, this dupes #1544
"$KB": "ITIL",
"field": "manu_short",
"$password": "pwd",
Any ideas on how to get around this?
[coÃÅpia de Podfile.txt](https://github.com/Alamofire/Alamofire/files/537652/copia.de.Podfile.txt)
MacBook-Air:NewApp usergarciax$ ls
NewApp          NewApp.xcodeproj
MacBook-Air:NewApp usergarciax$ cd NewApp
MacBook-Air:NewApp usergarciax$ pod init
MacBook-Air:NewApp usergarciax$ cd ..
MacBook-Air:NewApp usergarciax$ ls
NewApp          NewApp.xcodeproj
MacBook-Air:NewApp usergarciax$ pod init
MacBook-Air:NewApp usergarciax$ pod install
[!] Error installing Alamofire
fatal: Remote branch swift3 not found in upstream origin
Alamofire.download(urlString, to: destination).response { response in
Alamofire.download(urlString, to: destination).response { response in
On Tue, Oct 18, 2016 at 11:46 AM, honbo notifications@github.com wrote:
Ekrem TA≈ûKIRAN
Cloning https://github.com/Alamofire/Alamofire.git
Compile Swift Module 'Alamofire' (17 sources)
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:111:50: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:114:51: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:117:61: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:120:70: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:111:50: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:114:51: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:117:61: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:120:70: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:111:50: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:114:51: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:117:61: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:120:70: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:111:50: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:114:51: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:117:61: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:120:70: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:111:50: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:114:51: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:117:61: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:120:70: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:111:50: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:114:51: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:117:61: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:120:70: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/Request.swift:590:51: error: 'streamTask(withHostName:port:)' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/Request.swift:592:51: error: 'streamTask(with:)' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/Request.swift:592:51: note: add @available attribute to enclosing instance method
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:111:50: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:114:51: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:117:61: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/liuhongbao/Downloads/PerfectTemplate/Packages/Alamofire-4.0.1/Source/SessionDelegate.swift:120:70: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
Hi - I am finding that lots of servers are respecting the order parameters that are added with json encoding.  This means that alamofire is breaking and causing issues that are difficult and time consuming to debug ( especially for us newbies to AF)
let request:Request = Alamofire.upload(.POST, myUrl!,
>     Alamofire.request("http://[mysite].dev/register.php", method: .post, parameters: parameters).responseJSON { response in
Alamofire.request(.POST, parameters: Parameters, encoding: .JSON, headers: requestHeader).responseJSON { response in
Error: Extra argument 'parameters' in call.
**Hint** : write something like `Alamofire.request("my.request.com", method: .post, parameters: parameters, encoding: JSONEncoding.defaut, headers: requestHeader).responseJSON { response in`
I'm making a request using Alamofire using the following code.
Alamofire.request("http://localhost:3000/user", headers: headers).authenticate(user: "test@test.com", password: "testtedfnajksdst").validate().responseJSON { response in
Alamofire.request(endpoint, method: .post, parameters: GFCIdentifiers().toJSON(), encoding: JSONEncoding.default)
- .0 : "deviceUdid"
I'm guessing it's caused either by `channelId` being `nil`, or by `deviceUdid` being a Swift Optional. In case of first, that should just be serialized as a [JSON null](https://en.wikipedia.org/wiki/JSON#Data_types.2C_syntax_and_example), in case of the second, the value should properly be unwrapped and set to either the unwrapped value, or JSON null.
It's a tricky one, and a matter of core design philosophy.
let request = Alamofire.request(router)
The question is, why `AFNetworking`, the predecessor of the `Alamofire`, [do care](https://github.com/AFNetworking/AFNetworking/blob/master/AFNetworking/AFURLRequestSerialization.m#L1240) about its users, but your library cannot afford it? Should we fall back to the more reliable transport?
> Alamofire's serializers are intended to be simple ... for users to switch serialization type based on request
It happened that your library inherited most of the `AFNetworking` users, which is a half of the iOS developers out there, but it looks like you refuse to accept any responsibility for your bad design choices, which is really-really sad.
Request.swift
Alamofire.request("someHttpsURL", method: .post, parameters: params, encoding: JSONEncoding.default, headers: headers).responseJSON
let manager = Alamofire.SessionManager(configuration: configuration)
The error follows:
open class API_Manager : Alamofire.SessionManager {
let manager = Alamofire.SessionManager(configuration: configuration)
Also please provide some code how your calling?
I'm trying to make to call to Medium (https://www.medium.com/@username?format=json), but Medium adds "])}while(1);</x>" to avoid JSON Hijacking...
So the .responseJSON make error : Alamofire.AFError Code=4 "JSON could not be serialized because of error..."
Alamofire.request("http://httpbin.org/status/200").responseJSON { response in
Alamofire Version: I am using head of master.
> ‚ñø FAILURE: responseSerializationFailed(Alamofire.AFError.ResponseSerializationFailureReason.inputDataNilOrZeroLength)
>   ‚ñø failure : AFError
>     - responseSerializationFailed : Alamofire.AFError.ResponseSerializationFailureReason.inputDataNilOrZeroLength
Occurs in the 'Alamofire.swift' file
Use of unresolved identifier 'AFError' also occurs in ParameterEncoding.swift.
Manual or Cocoapods?
Cocoapods, and I am using Xcode 8.
Hi Team Alamofire,
I have added Alamofire using cocoa pods - pod 'Alamofire', '~> 4.0'
Please make sure few things
2. Make sure you are running **CocoaPods 1.1.0+**
`pod 'Alamofire', '~> 4.0'` // Support from **iOS 9**
OR
`pod 'Alamofire', '~> 3.5'` // Support rom **iOS 8**
This was the output: [!] Unable to find a specification for `Alamofire (~> 4.0.0)`
1. gem install cocoapods --pre // just to make sure you are updated
2. pod repo update --verbose //May take time if you are not using `pod update`
it was working in Alamofire 3 :(
`Alamofire.request(getUrl("category"),method: .get, parameters:params, headers:
`responseValidationFailed(Alamofire.AFError.ResponseValidationFailureReason.unacceptableStatusCode(400))`
Update following to for Alamofire :
thanq
`Alamofire.HTTPMethod(rawValue: method)
Alamofire.request(requestURL)
Alamofire.upload(
"token": AFWrapperClass.User_Token,
Alamofire.upload(multipartFormData: { (multipartFormData) in
@rudedogg For me:
Strange bug. `Alamofire.upload(
request = Alamofire.request(imageURL, method: .get).validate(contentType: ["image/*"]).response(completionHandler: { (request: URLRequest?, response: HTTPURLResponse?, data: NSData?, error: NSError?) -> Void in
``` Swift
// Do whatever here
This fixes the problem where Xcode pops a warning that it needs to convert the project source into Swift 3, since it isn't sure that the code's been converted already.
`Alamofire.Manager.sharedInstance.session.configuration.timeoutIntervalForRequest = 300`
`Alamofire.SessionManager.default.session.configuration.timeoutIntervalForRequest = 300
I'm currently trying to upload video using a multipartform.
Alamofire.upload(
Will it work for all kinds of requests, including Alamofire.upload() requests?
**pod 'Alamofire',
[!] Error installing Alamofire
fatal: Remote branch swift3 not found in upstream origin
**pod 'Alamofire', '~> 4.0'**
- `Alamofire (~> 4.0)` required by `Podfile`
Specs satisfying the `Alamofire (~> 4.0)` dependency were found, but they required a higher minimum deployment target.
I installed Alamofire  using Cocoapods and have the same error.
pod 'Alamofire', '~> 4.0'
kolisko$ pod --version
Alamofire 3.5.0
@adrimarti, is changing the Optimization level the solution for @kakilan's problem? I am experiencing the same issue and changed it to whole optimization level and I am still getting crashes at the same point as @kakilan
Is there a way to leave the empty json in the body?
Can you give us your brief function code how you are calling and adding perams.?
``` Swift
var method: Alamofire.HTTPMethod {
APIManager.addHeraders(urlRequest: &urlRequest)
**Custom Encoding Struct**
``` Swift
self.downloadRequest = Alamofire.download(resumeData: cancelledData,
The following two line shows error "no such memeber fo progress" and " no such member of response"
@jdleung, could you help me out? What is this key you are referring to?
Alamofire is installed using the recommended Carthage method.
cd /Users/Ben/Projects/Apps/Workspace2/Carthage/Checkouts/Alamofire
Alamofire 3.5
using alamofire4 cant request data in post method
Alamofire.request(urlString, method: .post, parameters: parameters, encoding: JSONEncoding.default).responseJSON { response in
<key>NSExceptionDomains</key>
@phanisai4u
`encoding: URLEncoding.httpBody`
I'm curious why the minimum deployment target was upgraded to 9.0? After upgrading to Swift 3, I use `pod 'Alamofire', '~> 4.0.0'`, which only support iOS 9.0 or later. But my project still wants to support 8.x.
Alamofire.request(specificURL, method: .get, parameters: param, encoding: URLEncoding.default, headers: nil).responseJSON { (response: DataResponse<Any>) in
Alamofire.request(specificURL, method: .get, parameters: param, encoding: URLEncoding.default, headers: nil).responseJSON { (response: DataResponse<Any>) in
print(convertedHex) //this will print what you want :)
return myString
can use swiftyjson also
pod 'Alamofire', '~> 3.5'
I just used that, and enabled 'Use Legacy Swift Version' (set it to yes), but now when I try to run my project I get 275 errors?
Alamofire 4.0.1 with Swift 3.0
Alamofire.request("https://httpbin.org/get")
does anyone know why this is happening?
# Comment this line if you're not using Swift and don't want to use dynamic frameworks
pod 'Alamofire', '~> 4.0'
Alamofire.upload(mutableURLRequest, data: data)...
what's wrong with blow   imgae.   when I bulid program
### I have installed the latest Alomofire by cocoaPods.
> If I click the convert button , there will be thousands of mistakes with Alomofire.
Alamofire.upload(
}//switch
Alamofire.upload(multipartFormData:{ multipartFormData in
print("en eroor :", encodingError)
Using Alamofire (4.4.0)
let delegate = Alamofire.SessionManager.shared.delegate
let aReq = Alamofire.request(myRequest)
There is a noticably weird bug I have found in Alamofire.
Can anyone using Alamofire find a fix to this?
var alamoManager: SessionManager = Alamofire.SessionManager(configuration: configuration)
Alamofire.request(url, method: .get, parameters: parameters, encoding: JSONEncoding.default).responseObject { (response: DataResponse<MyCustomResponse>) in
Works with no issues, BUT (where alamoManager is a SessionManager):
Previously I use Alamofire like this
But somehow after I update I show me extra argument in call.
Alamofire.request(url: URLConvertible method: HTTPMethod, parameters: Parameters?, encoding: ParameterEncoding, headers: HTTPHeaders?)
> `Alamofire.request("https://httpbin.org/post", method: .post, parameters: parameters, encoding: JSONEncoding(options: []))
Alamofire
`Alamofire.request(myUrl, method: .post, parameters: [
Alamofire
> Alamofire.request(myUrl, method: .post, parameters: [ "check_login": 2, "ios_userlogin":user, "ios_userpassword":password ]).responseJSON { response in ...}
Why not support iOS9 Alamofire
„ÄÇsorry Alamofire4.0.0 in iOS8
I user AL 4.0
Any thought on why is this happening? I am using Alamofire 2.0
"CocoaPods 1.1.0+ is required to build Alamofire 4.0.0+."
`Alamofire.request(.GET, apiURL + "users", headers: headers).responseObject { (response: Result<User, NSError>) in
/Alamofire/Source/SessionDelegate.swift:120:70: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
@mthole
@muzammilpeer Check the logic in your app. The headers we were using were stored locally using Keychain-Swift, and apparently they were removed after installing iOS 10. I am not getting any more errors now after logging in again.
Ater pod update I have this:
[!] /usr/local/bin/git clone https://github.com/Alamofire/Alamofire.git /var/folders/cx/y7x6j6cj2h588krpgxb36jsh0000gn/T/d20160920-4474-1eylyse --template= --single-branch --depth 1 --branch swift3
Cloning into '/var/folders/cx/y7x6j6cj2h588krpgxb36jsh0000gn/T/d20160920-4474-1eylyse'...
fatal: Remote branch swift3 not found in upstream origin
from pod:
pod 'Alamofire',
@hemanthpeela09 Looks like you should run `pod repo update` for fetching new podspecs. :branch => 'master' worked for me :branch => 'master' worked for me  i updated xcode to 8 and its force me to do covert code in to current syntax with this message.
but after this i have lot of issues, so if someone know how to resolve these please tell me
Alamofire.upload(multipartFormData: { multipartFormData in
Have you any solution to do it with Alamofire 4.0 ?
"token": "F3pObDt2G832hfAaBhZDHekNHUhT62URXPApKkfPQBb9enSy",
Alamofire.upload(multipartFormData: { (multipartFormData) in
"email":"abc@gmail.com" as AnyObject
multipartFormData.append(value.data(using: "email".Encoding.utf8)!, withName: "abc@gmail.com")
but it's not working!!! Please help me.
Alamofire.upload(multipartFormData: { (multipartFormData) in
*Purvi Jani*
Phone: +919998009783 | Skype: purvi.pardypanda
LinkedIn <http://linkedin.com/company/pardy-panda-studios> | Facebook
<http://facebook.com/pardypandastudios> | Twitter
<http://twitter.com/pardypanda> | Youtube <http://youtube.com/pardypanda>
>     Alamofire.upload(multipartFormData: { (multipartFormData) in
Similar issue here. I want Swift 3.0, but then I have to drop macOS 10.10 support. It's really a hard decision.
I am currently investigating alternatives
pod 'Alamofire', '~> 4.0.0'
![erro alamofire](https://cloud.githubusercontent.com/assets/15039214/18648186/e1aa0618-7e8f-11e6-9c34-731476ba1722.jpg)
CocoaPods 1.1.0+ is required to build Alamofire 4.0.0+.
This is a bigger problem than updating cocoapods, since I'm using carthage (which is resolving to 4.0.0) and I'm receiving the same exact error.
Alamofire.upload(fileData, to: uploadUrl, method: .put)
This will give the infamous error:
Alamofire.upload(fileData, to: uploadUrl, method: .put)
hi mengheangrat
Daniel
Thanks you @leinadoknilik
https://github.com/antitypical/Result
Alamofire.request(.GET, requestUrl).response { response in
Alamofire version: 3.4.1
I have the same problemÔºåif I use swift3.0-Alamofire4.0,iOS8.0 is not support,but I need support iOS8.0;
let request = Alamofire.request(urlString)
the **request** is a Request (Alamofire) and i'm getting the same error:
Not speaking for @duanyicanyuan, but its Swift >= 3.0 requirement is a pretty big one if you have larger codebase...
@iliubave I need to support iOS8, but Alamofire 4.0 does not support
and cannot use Alamofire 4.0 since it required iOS 9.0
Stick with AFNetworking and Objective C was the best decision I have ever made. no hassle with updates
@waseefakhtar,  my project is also updated to Swift 3.0 but I need support iOS 8.0, so I cannot use Alamofire 4.0 and 3.0? I must use AFNetworking?
@jshier , thank you, I already update to Swift 3.0, so the Alamofire 3.5.0 is not meet the requirements...
I have the same problemÔºåif  I use swift3.0-Alamofire4.0,iOS8.0 is not support,but I
need support iOS8.0;
I have the same problemÔºåif I use swift3.0-Alamofire4.0,iOS8.0 is not support,but I
need support iOS8.0;
I have the same problemÔºåif I use swift3.0-Alamofire4.0,iOS8.0 is not support,but I
need support iOS8.0;
iOS URLSessionDownloadTask.cancel(byProducingResumeData:) gives unusable resume data. To rectify these data you can add my tricky method to your project:
@amosavian  I use oc ,so i don't familiar with swift.So i can't understand a part of code. Can you use oc for writing Solution again ,or tell me how to solve this by oc in detail? thank you very much!
Hi @amosavian
@neducatio-content
Quinn the Eskimo, the support guy of Apple team is aware of this issue and emailed me an official workaround which is principally improved version of mine, and solves the same issue. But he said they are working to fix the bug.
@amosavian thanks for your help!
@waseefakhtar workaround: just add to your Podfile
var endPoint = Router.addImageToSweebi(id: id)
I find a way to avoid this problem in Alamofire. In UploadRequest I have replaced uploadProgress with this one:
Suggested change:
*** Checking out Alamofire at "4.0.0"
*** xcodebuild output can be found in /var/folders/ls/6t_b5mqx5s187hq2dtts6ys00000gn/T/carthage-xcodebuild.ORghi2.log
*** Building scheme "Alamofire watchOS" in Alamofire.xcworkspace
/Users/liborzapletal/Documents/Aplikace/PNG/PNG/Carthage/Checkouts/Alamofire/Source/NetworkReachabilityManager.swift:36:1: error: expressions are not allowed at the top level
/Users/liborzapletal/Documents/Aplikace/PNG/PNG/Carthage/Checkouts/Alamofire/Source/NetworkReachabilityManager.swift:74:5: error: expected declaration
/Users/liborzapletal/Documents/Aplikace/PNG/PNG/Carthage/Checkouts/Alamofire/Source/NetworkReachabilityManager.swift:77:5: error: expected declaration
/Users/liborzapletal/Documents/Aplikace/PNG/PNG/Carthage/Checkouts/Alamofire/Source/NetworkReachabilityManager.swift:77:9: error: consecutive declarations on a line must be separated by ';'
/Users/liborzapletal/Documents/Aplikace/PNG/PNG/Carthage/Checkouts/Alamofire/Source/NetworkReachabilityManager.swift:80:5: error: expected declaration
/Users/liborzapletal/Documents/Aplikace/PNG/PNG/Carthage/Checkouts/Alamofire/Source/NetworkReachabilityManager.swift:80:9: error: consecutive declarations on a line must be separated by ';'
/Users/liborzapletal/Documents/Aplikace/PNG/PNG/Carthage/Checkouts/Alamofire/Source/NetworkReachabilityManager.swift:83:5: error: expected declaration
/Users/liborzapletal/Documents/Aplikace/PNG/PNG/Carthage/Checkouts/Alamofire/Source/NetworkReachabilityManager.swift:89:5: error: expected declaration
/Users/liborzapletal/Documents/Aplikace/PNG/PNG/Carthage/Checkouts/Alamofire/Source/NetworkReachabilityManager.swift:92:5: error: expected declaration
Today I migrate to Xcode 8.0 and Swift 3.0 with your new release Alamofire 4.0
`pod 'Alamofire', '~> 4.0'`
It looks like you guys didn't update Alamofire correct to the new version. You have to update your cocoapods first to a version that uses 1.1.0.+.
sudo gem install cocoapods --pre
I have already tryed this way. So in my case, I have the last version version of cocoapods. This solution does not fix my issue.
`COCOAPODS: 1.1.0.rc.2`
PODS:
- Alamofire (4.0.0)
- Crashlytics (3.7.3):
- PKHUD (3.2.1)
- SwiftyJSON (2.3.2)
- Alamofire (~> 4.0)
- Crashlytics (~> 3.7.2)
EXTERNAL SOURCES:
PKHUD:
SwiftyJSON:
:git: https://github.com/acegreen/SwiftyJSON.git
PKHUD:
SwiftyJSON:
:git: https://github.com/acegreen/SwiftyJSON.git
Alamofire: fef59f00388f267e52d9b432aa5d93dc97190f14
Crashlytics: 76f6beaff70acf226139582c09c78461597c2b98
PKHUD: 001c11518f125a273ddf026bcc64918423744ea2
SwiftyJSON: 04ccea08915aa0109039157c7974cf0298da292a
COCOAPODS: 1.1.0.rc.2
pod 'Alamofire', '~> 4.0'
Cloning https://github.com/Alamofire/Alamofire.git
Compile Swift Module 'Alamofire' (17 sources)
/Users/skyline/Projects/Github/swift-playground/Packages/Alamofire-4.0.0/Source/SessionDelegate.swift:111:50: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
/Users/skyline/Projects/Github/swift-playground/Packages/Alamofire-4.0.0/Source/SessionDelegate.swift:114:51: error: 'URLSessionStreamTask' is only available on OS X 10.11 or newer
@cnoon When I tried generating the xcodeproj following those steps I got a Swift compiler error: "Illegal Instruction: 4".
The reason why they target IOS 9 is supporting URLSessionStreamTask. I created a fork https://github.com/tonyli508/AlamofireDomain which disabled URLSessionStreamTask, and will pull the latest changes from time to time.
if status == errSecSuccess {
if status == errSecSuccess {
Here is my call with alamofire
I did test the same code on a single class and it works, so my only guess is something related to Alamofire or cocoapods I'm using alamofire version 3.1.5
thanks I will, I think you're right is something maybe with cocoapods
It was needed to specify the Swift version to validate against in a .swift-version file.
Alamofire.Manager.sharedInstance.session.configuration.HTTPCookieStorage?.setCookies
# Question: cocoapods version is 1.1.0+ Ôºåbut I can't install Alamofire.  How to solve it?
macMBP:DailyNews cdmac$ pod --version
- `Alamofire (~> 4.0)` required by `Podfile`
Specs satisfying the `Alamofire (~> 4.0)` dependency were found, but they required a higher minimum deployment target.
@jshier I am getting the same error as @amolgupta
I have the same problem of @codymoorhouse and @amolgupta , my target is 9.0
- Use the`$(inherited)` flag, or
- Use the`$(inherited)` flag, or
- Use the`$(inherited)` flag, or
- Use the`$(inherited)` flag, or
@dusek Yes, it resolved my issue. Thanks
I tried @Lasithih similar fix but I used iOS 9.0 (was iOS 8) and it worked! Thanks!
@ stephen-talari
pod 'Alamofire', '~> 3.0'
_ = Alamofire.download(stringURL)
> responseSerializationFailed(Alamofire.AFError.ResponseSerializationFailureReason.inputFileReadFailed(file:///private/var/mobile/Containers/Data/Application/50400F41-47FD-4276-8903-F48D942D064A/tmp/CFNetworkDownload_D1Aqkh.tmp))
let parameters: Parameters = ["username ": "Henry","password":"xxxx","key"="ewq2356"]
[Alamofire] download : https://0.s3.envato.com/files/47374385/akedodee_avatar.jpg
[Alamofire] download : https://preview-tf.s3.envato.com/files/200537021/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/200537021/Thumbnail.png
[Alamofire] failure : https://0.s3.envato.com/files/47374385/akedodee_avatar.jpg
[Alamofire] download : https://preview-tf.s3.envato.com/files/126954540/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/198807153/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/128581452/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/148293837/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/130631924/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/128056772/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/68729806/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/134305582/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/135205962/Thumbnail.png
[Alamofire] success : https://preview-tf.s3.envato.com/files/126954540/Thumbnail.png
[Alamofire] success : https://preview-tf.s3.envato.com/files/128581452/Thumbnail.png
[Alamofire] success : https://preview-tf.s3.envato.com/files/130631924/Thumbnail.png
[Alamofire] success : https://preview-tf.s3.envato.com/files/68729806/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/198807153/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/134305582/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/148293837/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/126954540/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/198807153/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/128581452/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/148293837/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/130631924/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/128056772/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/68729806/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/134305582/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/135205962/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/135205962/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/126954540/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/198807153/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/128056772/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/128581452/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/148293837/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/130631924/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/128056772/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/68729806/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/134305582/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/135205962/Thumbnail.png
@Tulleb Here's 7 hrs later results
[Alamofire] download : https://0.s3.envato.com/files/47374385/akedodee_avatar.jpg
[Alamofire] download : https://preview-tf.s3.envato.com/files/202311201/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/202311201/Thumbnail.png
[Alamofire] failure : https://0.s3.envato.com/files/47374385/akedodee_avatar.jpg
[Alamofire] download : https://preview-tf.s3.envato.com/files/126954540/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/198807153/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/128581452/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/148293837/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/130631924/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/128056772/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/68729806/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/134305582/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/135205962/Thumbnail.png
[Alamofire] success : https://preview-tf.s3.envato.com/files/198807153/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/130631924/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/148293837/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/126954540/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/198807153/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/128581452/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/148293837/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/130631924/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/128056772/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/68729806/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/134305582/Thumbnail.png
[Alamofire] download : https://preview-tf.s3.envato.com/files/135205962/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/128056772/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/68729806/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/135205962/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/126954540/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/198807153/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/128581452/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/148293837/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/126954540/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/130631924/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/134305582/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/68729806/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/128056772/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/134305582/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/128581452/Thumbnail.png
[Alamofire] failure : https://preview-tf.s3.envato.com/files/135205962/Thumbnail.png
@Tulleb FYI In my case simple load with `URLSession` is working just fine tho üç∞
fulfill(image)
reject(error as! NSError)
Alamofire.request(url).responseData { response in
I've found a strangeness: with something requests you can have a forbidden access (403) but data is valid:
‚ñø Optional<Data>
Alamofire.download(url, to :destination)
print("forbidden")
Just migrated to
sessionManager = Alamofire.SessionManager()
var defaultHeaders: HTTPHeaders = Alamofire.SessionManager.default.session.configuration.httpAdditionalHeaders as! HTTPHeaders? ?? [:]
sessionManager = Alamofire.SessionManager(configuration: configuration)
If you had crash, that could be origin of the pb
`var defaultHeaders = Alamofire.SessionManager.default.session.configuration.httpAdditionalHeaders ?? [:]`
Alamofire:4.0.0
Cocoapods:1.1.0.rc.2
_~/Pods/Alamofire/Source/AFError.swift:255:78: Definition conflicts with previous value_
_~/Pods/Alamofire/Source/ParameterEncoding.swift:248:32: Editor placeholder in source file_
@hengchengfei can you please let me know how you got this fixed?
make sure you running xcode 8 , check version of swift in terminal using 'xcrun swift -version' should be on Apple Swift Version 3.0 for Alamofire 4.0 to build .
<img width="824" alt="screen shot 2016-09-18 at 11 25 48 am" src="https://cloud.githubusercontent.com/assets/3182964/18612676/ab321074-7d92-11e6-99ce-7d502f7cb20b.png">
I have to convert my project from XCode 7 to 8. But and i have following in my pod file:     pod 'Alamofire', '~> 4.0'
pod 'Alamofire', '~> 4.0'
Amir
@amirpervaiz086  update your cocoapods
1. `sudo gem install cocoapods --pre`
ERROR:  While executing gem ... (Errno::EPERM)
@mengheangrat my current pod version is 1.0.1
Hi @mengheangrat. I successfully upgraded to 1.1.0.rc.2 but when I run pod install it says this:
Unknown option: -C
@amirpervaiz086 sudo gem install -n /usr/local/bin cocoapods --pre this worked for me.
@cnrblm yes it worked for me too.
@mengheangrat Still getting error when I run "Pod install"
/Library/Ruby/Gems/2.0.0/gems/cocoapods-1.1.0.rc.2/bin/pod:55:in`<top (required)>'
target 'mkhPush' do
pod 'Alamofire', '~> 3.3'
you can read [SwiftÂºÄÂèë‰ΩøÁî®CocoapodsÂºïÂÖ•Á¨¨‰∏âÊñπÂ∫ìÂºÇÂ∏∏Â§ÑÁêÜÊñπÊ≥ï](http://www.jianshu.com/p/23f13be525a0) I just do Edit->Convert->Current Swift Syntax and error has gone. I did't make any changes in code or Xcode.
> For those of you that would like to use Alamofire on iOS 8 or macOS 10.9, please use the latest tagged 3.x release which supports both Swift 2.2 and 2.3.
@yn288163 For Swift 3, you can use this https://github.com/onmyway133/Alamofire/tree/fix/ios_8. I removed the stream delegate
Target IOS 8, you can try this, https://github.com/tonyli508/AlamofireDomain
Embedded Framework
Add Alamofire as a git submodule by running the following command:
Select the Alamofire.xcodeproj in the Project Navigator and verify the deployment target matches that of your application target.
It does not matter which Products folder you choose from, but it does matter whether you choose the top or bottom Alamofire.framework.
You can verify which one you selected by inspecting the build log for your project. The build target for Alamofire will be listed as either Alamofire iOS, Alamofire macOS, Alamofire tvOS or Alamofire watchOS.
Alamofire.upload(
multipartFormData.append(data: imageData!, withName: "unicorn")
Alamofire.upload(multipartFormData: { multipartFormData in
multipartFormData.append(data: imageData!, withName: "unicorn")
"token": "F3pObDt2G832hfAaBhZDHekNHUhT62URXPApKkfPQBb9enSy",
Alamofire.upload(multipartFormData: { (multipartFormData) in
> Alamofiire will not be code signed because its settings don't specify a development team.
what am i doing wrong here?
var alamoFireManager : Alamofire.Manager?
No type named 'Manager' in module 'Alamofire'
@jshier i'm having both error.
var error: NSError?
self.alamofireManager = Alamofire.Manager(session: session, delegate: self)!
@cnoon üëç
Alamofire.upload(multipartFormData: { (multipartFormData) in
// handle multipart data
gem install cocoapods --pre
`Alamofire.request("https://httpbin.org/post", method: .post, parameters: [], encoding: JSONEncoding.default)`
`Alamofire.request("https://servername.org/post", method: .post, parameters: [:], encoding: JSONEncoding.default)`
@thebluepotato  Thanks for clarifying when to use Stackoverflow and when to use GitHub.
`Alamofire.request("http://\(ipAddr)/YamahaRemoteControl/ctrl", method: .post, parameters: [:], encoding: .custom({
mutableRequest.httpBody = "<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Input><Input_Sel>\(input)</Input_Sel></Input></Main_Zone></YAMAHA_AV>".data(using: String.Encoding.utf8, allowLossyConversion: false)
@otherbuns Any time one argument is of the wrong type, the Swift interpreter here believes that you're wrongly using `request(urlRequest:URLRequestConvertible)` and therefore believes there's an extra `method:` argument.
@thebluepotato Thank you for clarifying about Swift's non helpful response.
Alamofire.request("https://yourServiceURL.com", method: .post, parameters: parameters, encoding: JSONEncoding.default, headers: nil).responseJSON { (response:DataResponse<Any>) in
In case of Get
Alamofire.request("https://yourGetURL.com", method: .get, parameters: ["":""], encoding: URLEncoding.default, headers: nil).responseJSON { (response:DataResponse<Any>) in
request = customAlamofireManager.request(
let jsonAryEncodedRequest = try? jsonArrayencoding.encode(urlRequest, with: nil)
pod 'Alamofire', '~> 4.0'
@RebeccaB89 & @loryhuz : Could you please run `sudo gem update cocoapods --pre` to get 1.1.0.rc1 and try again? Cocoapods 1.0.0 doesn't handle Swift 3.0 correctly, i.e. it doesn't tell Xcode that the Pods are already written in Swift 3.0.
@thebluepotato  yes, I already did run 'pod repo update'. Same issues.
Hi @thebluepotato,
Affected places:
- `Alamofire (~> 4.0)` required by `Podfile`
None of your spec sources contain a spec satisfying the dependency: `Alamofire (~> 4.0)`.
@thebluepotato Thank you for the explanations.
and after trying to test the app with Xcode 8 GM version, i got the swift convert tool option, with the Alamofire checkbox marked.
the conflicting name is not related to Alamofire, but still i can't find a solution to make it work.
- `Alamofire (~> 4.0)` required by `Podfile`
None of your spec sources contain a spec satisfying the dependency: `Alamofire (~> 4.0)`.
@jshier ok, cocoapods don't work, will carthage and manual ways work?
$ sudo gem which cocoapods
pod 'Alamofire', '~> 3.5'
target 'MyExtension' do
pod 'Alamofire',
pod 'Alamofire',
pod 'SwiftyJSON',
pod 'Alamofire',
pod 'Alamofire',
pod 'Alamofire', '~> 3.4'
Alamofire.download(songLink.string!, to: destination)
‰∏ªÈ¢ò:Re: [Alamofire/Alamofire] Swift3.0 Xcode8 gm download file to custompath issue (#1493)
This has broken AlamofireImage
@cnoon @tremblay I just noticed the same issue, strangely enough the Carthage dependency compiles and the app crashes at runtime with a `dyld: lazy symbol binding failed: Symbol not found` error. I would have expected that Carthage would have failed to build AlamofireImage. Any idea why?
import Alamofire
Hmm that's weird because I have workspace created by Cocoapods with Alamofire taken from the `master` branch included in the Pods project, a playground in my main project and the exact same code as you and it's running fine...
Oh I see! I have never used Carthage but could it be linked to #1485 in some way? If not, I'm sorry you'll have to wait for someone who knows Carthage to come by (but it might not be related to Carthage at all for all I know).
01:43:43 ~/dev/smallr:[master !x+] $ rm -rf Carthage/
*** Fetching Alamofire
*** Checking out Alamofire at "4.0.0-beta.2"
*** xcodebuild output can be found in /var/folders/vf/3rsfnspx2z995zyfst389tm80000gp/T/carthage-xcodebuild.7tWrvU.log
*** Building scheme "Alamofire tvOS" in Alamofire.xcworkspace
/Users/adamn1/dev/smallr/Carthage/Checkouts/Alamofire/Source/SessionDelegate.swift:198:15: warning: instance method 'urlSession(_:didReceive:completionHandler:)' nearly matches optional requirement 'urlSession(_:didReceive:completionHandler:)' of protocol 'URLSessionDelegate'
/Users/adamn1/dev/smallr/Carthage/Checkouts/Alamofire/Source/Validation.swift:54:44: error: closure use of non-escaping parameter 'validation' may allow it to escape
/Users/adamn1/dev/smallr/Carthage/Checkouts/Alamofire/Source/SessionManager.swift:353:24: error: closure use of non-escaping parameter 'destination' may allow it to escape
/Users/adamn1/dev/smallr/Carthage/Checkouts/Alamofire/Source/TaskDelegate.swift:199:10: warning: instance method 'urlSession(_:dataTask:didReceive:completionHandler:)' nearly matches optional requirement 'urlSession(_:dataTask:didReceive:completionHandler:)' of protocol 'URLSessionDataDelegate'
/Users/adamn1/dev/smallr/Carthage/Checkouts/Alamofire/Source/TaskDelegate.swift:251:10: warning: instance method 'urlSession(_:dataTask:willCacheResponse:completionHandler:)' nearly matches optional requirement 'urlSession(_:dataTask:willCacheResponse:completionHandler:)' of protocol 'URLSessionDataDelegate'
A shell task (/usr/bin/xcrun xcodebuild -workspace /Users/adamn1/dev/smallr/Carthage/Checkouts/Alamofire/Alamofire.xcworkspace -scheme "Alamofire tvOS" -configuration Release -sdk appletvos ONLY_ACTIVE_ARCH=NO BITCODE_GENERATION_MODE=bitcode CODE_SIGNING_REQUIRED=NO CODE_SIGN_IDENTITY= CARTHAGE=YES clean build) failed with exit code 65:
`github "Alamofire/Alamofire" "master"`
In Simulator everything is fine.
Alamofire.request(url, method: .get, parameters: nil, encoding: JSONEncoding(), headers: headers)
So it looks like my issue might more related to AlamofireObjectMapper. A coworker of mine is looking into this issue right now and I'll post an update here if it turns out to be an Alamofire issue.
@cyurtbil
@ikesyo
Thanks @ikesyo, I solved this problem.
We are upgrading our code to Swift 2.3 (Road to Swift 3.0 ...) but we are facing problems with Almofire . The compiler gives us these errors :
if status == errSecSuccess {
The issues are:
if status == errSecSuccess {
/Users/andre/Documents/**App/Carthage/Checkouts/Alamofire/Source/SessionDelegate.swift:198:15: warning: instance method 'urlSession(_:didReceive:completionHandler:)' nearly matches optional requirement 'urlSession(_:didReceive:completionHandler:)' of protocol 'URLSessionDelegate'
/Users/andre/Documents/**App/Carthage/Checkouts/Alamofire/Source/SessionManager.swift:353:24: error: closure use of non-escaping parameter 'destination' may allow it to escape
/Users/andre/Documents/**App/Carthage/Checkouts/Alamofire/Source/Validation.swift:54:44: error: closure use of non-escaping parameter 'validation' may allow it to escape
/Users/andre/Documents/**App/Carthage/Build/iOS/Alamofire.framework/Alamofire compiled with older version of Swift language (2.0) than previous files (3.0) for architecture x86_64
Tobi
pod 'Alamofire',
pod 'Alamofire',
1. Add Alamofire (branch `swift3`) to your project
https://github.com/CocoaPods/Specs/tree/master/Specs/Alamofire
pod 'Amamofire'
Alamofire.download(url)
Alamofire.download(url)
Alamofire.download(url, to: destination)
This is my code.
Alamofire.request(.POST, "http://tiku.zhan.com/ielts/speaking/recall/fetch", parameters: ["publishTime": 0 ,"cityCode":"000"])
Optional(<NSMutableURLRequest: 0x7fbca9db3410> { URL: http://tiku.zhan.com/ielts/speaking/recall/fetch })
Optional(<NSHTTPURLResponse: 0x7fbca9db5390> { URL: http://tiku.zhan.com/ielts/speaking/recall/fetch } { status code: 406, headers {
``` Swift
I am using Alamofire with carthage in my latest project, and the build time is slow, because the framework needs to be created both for iOS, macOS, tvOS, and watchOS. This could be improved if Alamofire would have a multi-platform single scheme Xcode project.
- `Alamofire (~> 3.4)` required by `Podfile`
None of your spec sources contain a spec satisfying the dependency: `Alamofire (~> 3.4)`.
alamofireManager = Manager(configuration: configuration)
// CHEKCK VIDEO UPLOAD RESPOSE - PENDING
Branch: swift3
Also a similar error:
Cocopods:/cocoapods-1.0.1
Almofire version : Alamofire 3.4.2 (was 3.4.1)
In your Podfile to get the Swift 3 version for Alamofire (4.0.0-beta.2). That should give you much better results
Environment: Xcode 8 beta 6 / Swift 3 beta 6 / Carthage / Alamofire `swift3` branch
Ok, I did an NSError cast üëçüèª.
Content-Type: multipart/form-data; boundary=AaB03x
--AaB03x
--AaB03x
--AaB03x--
Instead of
Noah
Alamofire.request(.GET, imgURLString).response {
`Ambiguous reference to member 'request(_:withMethod:parameters:encoding:headers:)'`
Can it be fixed in Alamofire?
None of your spec sources contain a spec satisfying the dependency: `Alamofire (= 4.0.0-beta.1)`.
Then `pod update` or `pod update Alamofire`. It's works well.
The Alamofire.Manager class has been renamed SessionManager @edwardvalentini
- Targets a correct version of Alamofire to satisfy the Cocoapods dependency resolver.
I moved over to Carthage as a work-around for the time being:
github "Alamofire/Alamofire" "swift3"
github "Alamofire/AlamofireImage" "swift3"
I have the same issue here and I'm so lazy to move all my project to Carthage üòÖ It would be great resolve that dependency. Thanks!
@danielgalasko this works for me:
@bizhara For me, the issue is that I'm also using `AlamofireImage` at branch `swift3` which requires 4.0.0-beta.1 `Alamofire`. And that will conflict with `418b0fc`.
``` ruby
pod 'Alamofire',
pod 'AlamofireImage',
[!] Error installing AlamofireImage
pod 'Alamofire',
``` ruby
pod 'Alamofire', '~> 4.0.0'
pod 'AlamofireImage', '~> 3.0.0'
- `Alamofire (~> 4.0.0)` required by `Podfile`
None of your spec sources contain a spec satisfying the dependency: `Alamofire (~> 4.0.0)`.
var manager = Alamofire.Manager(configuration: configuration)
Is there something wrong?
> ‚Ä¶/AlamofireImage/Source/UIImage+AlamofireImage.swift:109:55: error: value of optional type 'CGImage?' not unwrapped; did you mean to use '!' or '?'?CGDataProviderCopyData(CGImageGetDataProvider(CGImage))
> ‚Ä¶/Pods/AlamofireImage/Source/UIImage+AlamofireImage.swift:118:45: error: value of optional type 'CGImage?' not unwrapped; did you mean to use '!' or '?'? let alphaInfo = CGImageGetAlphaInfo(CGImage)
[!] Error installing Alamofire
[!] /usr/bin/git clone git@github.com:Alamofire/Alamofire.git /var/folders/nr/y4b16yzd3fz755xgzwr82t6h0000gn/T/d20161001-3415-hm57ut --template= --single-branch --depth 1 --branch swift2.3
Permission denied (publickey).
RoutingKey = SJC11P01PAS01;
Server = "nginx/1.8.0";
RoutingKey = SJC11P01PAS01;
Server = "nginx/1.8.0";
Agreed I'm also seeing it on XCode 7.3.1 and Swift 2.2.  I think it's happening because it overrides the NSError with this new object that contains the domain, code and UserInfo.  Instead it should probably leave the original object intact.  See this line: https://github.com/Alamofire/Alamofire/blob/1fc8fb2bedb6045741f39d6c82e9cba6fdf36050/Source/Validation.swift#L86
@tobiasoleary I print the `response` in the body of this issue. And you can see that the useful message in response is gone. And that's why we have this issue here.
Alamofire.request(SRFRouter.CompleteAssignment(completeAssignmentURLPath:completeAssignmentURLPath, musicNotation: musicNotation))
@tobiasoleary Thanks, I'm doing something similar with the chaining since I'm using .responseObject with ObjectMapper.  I just think it's unfortunate to have to do .validate().responseString.responseJSON.  Ideally, you should just have to use .responseJSON and if it's not a 2xx response, it'll trigger .Failure.  In addition, it's very strange to have a non-2xx response actually bubble up in .Success.  I will try to upgrade to 3.0 if it solves the issue, we're on Swift 2.2 so I'll have to see if it's even possible for me.
I just checked, I'm using pod 'Alamofire', '~> 3.4.1'.  Still see this issue. @tobiasoleary
@tobiasoleary
@tobiasoleary  No, it doesn't. And that's why this issue was created in the first place.
Thanks @cnoon somehow I missed "data" by itself in the response..still new to debugging in Xcode I guess.  I still think it's sort of strange for the API to change responseData / responseDataString and instead have you look at "data" for what you were originally returning from the backend.  I was initially just paying attention to statusCode, json, msg, responseData & responseDataString.  Perhaps I can help contribute to the docs to ensure no one else gets confused, clearly it's quite a few of us.  üëç
Gaurav.
Guys I've got your point. But why is it behaving like this, so weird. There are other 4 people in this thread who were confused by it. `debugPrint` gave me the illusion that `response.result.value` contained message from server.
var emial : String?
func hackSociety() -> Alamofire.Request {
var request: Alamofire.Request! = nil
> Module 'Alamofire' has no member named 'Manager'
try replace `Alamofire.Manager` with `SessionManager`
Hello dear Alamofire developers, I have a problem now that after server returns "401 Authorization Required" your library calling  same request second time, receive the same error and only after that stopping and make callback with error.
@cnoon Hi, sorry for late answer. I didn't use .authenticate method, only in parameters I add login and password and if they true I receive Code 200 from server if not server returns Error 401 Authorization Required and after that Alamofire (or core iOS api) again doing the same request and again receive 401, but where is the sense if server return 401 it must stop.
This line `Alamofire.request(link, withMethod: .POST, parameters: parameter, encoding: .json).responseJSON` keep getting this below error
> Expression type 'Request' is ambiguous without more context
Alamofire.request(link, withMethod: .POST, parameters: parameter, encoding: .json).responseJSON{
Alamofire.request(.POST, UrlManager.someUrl, parameters: parameters, encoding: .JSON, headers: headers).responseJSON { response in
Here is my code:
Some parts feel quite _hacky_.
https://github.com/elm4ward/Alamofire/commit/7f74c6dcdc249c7d9cf2f742441c91ad9f2f8981
You need to open a command line and go to the root of your project. Then do "pod install" so that cocoa pods installs all the specified pods mentioned in your podfile
Yes, I've used cocoapods to install 8 out of 10 times.
I have to connect to a strange webservice were i have to attach parameter to the url and as json body. How can I accomplish this in alamofire?
@maniyarpayal  I escaped from client side and Unescaped from client side, so it solved my error.
pod 'Alamofire', '~> 4.0'
i install Alamofire from cocoapod
`pod 'Alamofire', '3.3.1'`
i want to pass custom header in Alamofire.
"TokenId":"bwymina009aEMyCknQHi87B2r0RNhffnrj8sXayGt1OSWsRmj2+daw==",
3   Alamofire                            0x0000000100603b6c Alamofire.Request.DownloadTaskDelegate.URLSession (__ObjC.NSURLSession, downloadTask : __ObjC.NSURLSessionDownloadTask, didFinishDownloadingToURL : __ObjC.NSURL) -> () (Download.swift:192)
5   Alamofire                            0x000000010060a4b4 @objc Alamofire.Manager.SessionDelegate.URLSession (__ObjC.NSURLSession, downloadTask : __ObjC.NSURLSessionDownloadTask, didFinishDownloadingToURL : __ObjC.NSURL) -> () (Manager.swift:0)
params: ["name" : "moses"],
let dict = ["name" : "fjf"]
Alamofire.upload(
but i get this error: Error Domain=NSURLErrorDomain Code=-1000 "The file URL does not point to a file URL
Kshysius,
Alamofire.upload(.POST, updateCriteria, file: resourceUrl)
So I add an String extension in the file to make the framework stronger, and run the demo,the Problem solved .I'm sorry I cant read all files at once ,so maybe It's not the best position to code,but I wish it will help you .Thanks
i used alamofire for the other requests where is sets the content type as follows
Etag = "W/\"b3-vhys+vZ9h+PEYCvzLEflJw\"";
Etag = "W/\"6ed-VP4lf3zxrU/ssT2vFK37nw\"";
"User-Agent": "007"
"User-Agent": "007"
Alamofire.request(.GET, "http://headers.jsontest.com/", encoding: .JSON, headers: headers)
Is this the right approach?
Vary: Accept, Cookie
let answer = Alamofire.request(.POST, url, parameters: parameters, headers: headers, encoding: encoding)
print(error.localizedDescription)
Vary = "Accept, Cookie";
L‚Äôop√©ration n‚Äôa pas pu s‚Äôachever. Response status code was unacceptable: 400
``` ruby
https://github.com/Homely/Alamofire/tree/ios8
@cnoon Why can't we prefix the classes / methods using iOS9+ API with #available() check?
I believe https://github.com/Homely/Alamofire/commit/a0608c2db96c7d98d066f8fd72c5f19b89339fc2
CodeSign /Users/Shared/Jenkins/Home/jobs/********/workspace/build/Alamofire.framework
Could you please help!!
`Alamofire.request(.GET, urlString).response() {
do {
My JSON response a string that contains Unicode Character: "\u0110\u0103ng k√≠ th√†nh c√¥ng vui l√≤ng v√†o mail \u0111\u1ec3 x√°c nh\u1eadn."  so that it can't be decoded
//  ParameterEncoding.swift
//  Copyright ¬© 2016 Swift Yah. All rights reserved.
import Alamofire
switch (lhs, rhs) {
do {
BTW, when running objective-c sample project of AFNetworking, no leaks at all.
But I've tried to use AFNetworking in my swift project through bridging header, leaks on every network request.
``` Swift
Alamofire does not use parameter names for the parameters of the closure. Xcode offers a very good autocompletion if those are specified and they don't have to be typed each type the method is called.
``` Swift
SecPKCS12Import(data, [kSecImportExportPassphrase as String : "qwer1234ASDF"], &importResult)
``` Swift
Undefined symbols for architecture arm64:
target 'PhotoTagger' do
pod 'Alamofire'
All other pods are working fine, except Alamofire.
Also after writing class name by hand or copy pasting, some of the methods that are being auto completed does not have the same signature of the actual method of the Alamofire class
- `Alamofire (~> 3.4)` required by `Podfile`
None of your spec sources contain a spec satisfying the dependency: `Alamofire (~> 3.4)`.
pod 'Alamofire', '~> 3.4'
`Alamofire.request(.POST,requestString, parameters:["existDeviceId":GlobalVariable.roomNumber,"newDeviceId":roomNumber, "key" : GlobalVariable.uniqueKey])
"User-Agent": "CustomAgent"
let cred = NSURLCredential(user: "AnthonyTest1", password: "‚Ç¨‚Ç¨‚Ç¨", persistence: .None)
var request = Alamofire.request(.GET, "http://httpbin.org/basic-auth/user/passwd")
I'm not sure if this is a bug in `NSURLSession` or in `Alamofire`
``` Swift
Subclasses could override
This is my code:
Alamofire.Manager.sharedInstance.session.configuration.timeoutIntervalForRequest = 30
Alamofire.Manager.sharedInstance.session.configuration.timeoutIntervalForResource = 30
"baz": "qui"
`Alamofire.Manager.sharedInstance.session.configuration.timeoutIntervalForRequest = 30
Alamofire.Manager.sharedInstance.session.configuration.timeoutIntervalForResource = 30`
Omer
["t": "aa",
"t3_2" = EHU123;
Possible duplicate of #1309 .
I am trying to upgrade a tvOS project to XCode 8 and Swift 3 to start integrating the latest APIs. My project depends on Alamofire and AlamofireImage. I switched to the swift3 branch on both those dependencies. Then I ran pod install and I opened my workspace in XCode, and I ignored the conversion wizard since my own code has already been migrated to Swift 3. Now when I try to build my project, I'm getting the following compiler error on the 'import Alamofire' statement:
install compatibility with cocoapods? @kcharwood
pod 'Alamofire',
`github "Alamofire/Alamofire" "swift3"`
pod 'Alamofire',
sudo gem install cocoapods --pre
Though I will point out, if you still go ahead and do a convert it'll then start failing again, so just make sure you never convert the alamofire pod :)
Worked for me after installing the `--pre` version of cocoapods.
@Grmiade yes, I was trying today to update and after losing some hours I decided to keep with Swift 2.2 and xc 7.3 until everything is ok.. =/
Hi @vladgon
I use Xcode beta 3, cocoapods-1.1.0.beta.1.
I install cocoapods. Then install ‚Äîpre version by:
`sudo gem install cocoapods --pre`
pod 'Alamofire',
Of course, I try many scenarios like uninstall cocoapods and repeat the process. Sometimes, Xcode appears a pop-up to request converting to Swift 3 but I cancel it.
Well there you go :)  Alamofire has been updated for Beta 4 already.  If you're using the Beta Xcode versions, you pretty much have to upgrade every other Monday when they release a new version.
I've noticed that when using the swift3 branch with Carthage I cannot use target 8.4 anymore. I must select deployment target 9.0+. Is that a bug/am I doing anything wrong? As far as I know, Alamofire was iOS 8+ compatible...
`sudo gem install cocoapods --pre`
target 'MyAlamo' do
pod 'Alamofire',
than
@thebluepotato  yes i red that but i didn't know if to delete my post or not probably good was to delete it. Sorry
This is the error:
MacOS version : b√™ta 10.12 (16A294a)
target 'Sharqona Afif' do
# Comment this line if you're not using Swift and don't want to use dynamic frameworks
So, I am able to build my project in Swift 3 Xcode beta 6 and sudo gem install cocoapods --pre, using this branch in my podfile.
Alamofire.request(.GET, "https://httpbin.org/get") throws a Swift compiler error:
@thebluepotato that did it! Thanks!
same like @chieudai14kytu
@chieudai14kytu your welcome ;)
@lowki93
have the same issue as @chieudai14kytu. After removing it into a trash get an error
@fprosper If I'm not mistaken, the change isn't that Method is an OpaquePointer but that according to Swift 3.0 API guidelines, enum cases are to be written in lowerCamelCase (just like you did in your own enum I see).
@thebluepotato you are right!
Thank you @thebluepotato, just noted, thanks!
@thebluepotato but i get error :
Type 'Method' (aka 'OpaquePointer') has no member 'get'
fatal: Remote branch swift3 not found in upstream origin
hi @cnoon , thanks for replying.
let directoryURL = tempDirectoryURL.URLByAppendingPathComponent("com.alamofire.manager/multipart.form.data")!
What release of Alamofire supports Swift 2.3? Can I install it via CocoaPods? Thanks.
and set this under the Alamofire build settings:
I've tried a few more times and managed to solve the issues with Alamofire, but now I'm getting `Found an unexpected Mach-O header code: 0x72613c21` =/
It seems like the 2.3 branch doesn't exist anymore Is that true?
> Yes, no more Swift 2.3 branch. The Alamofire 3.5.0 release supports Swift 2.3 and is what you should be using from now on @tal-sh (https://github.com/tal-sh).
> Reply to this email directly, view it on GitHub (https://github.com/Alamofire/Alamofire/issues/1312#issuecomment-246175938), or mute the thread (https://github.com/notifications/unsubscribe-auth/AALNMR2ji-_bMffq0fsvyZOPIYy9KCO4ks5qo-j8gaJpZM4I04mr).
- `Alamofire (~> 3.5.0)` required by `Podfile`
None of your spec sources contain a spec satisfying the dependency: `Alamofire (~> 3.5.0)`.
Alamofire (~> 3.5.0) required by Podfile
@SunilProgramobil @FezMatech
Genrally,
~/.cocoapods
@Chakery
Alamofire.request(
@avaidyam I think it's very import that the tests do compile for Swift 3, as some frameworks are changing whether they are value or reference type. The tests will be needed to confirm this has no unexpected side results!
Is there a release date for Alamofire for swift 3?
log.CRITICAL("IT's STILL BROKEN!!!")
and not
-H "Content-Type: multipart/form-data; boundary=alamofire.boundary.ac7f77e2ea014347" \
Looking at [the code](https://github.com/Alamofire/Alamofire/blob/f443cd8a76024224ef57cd9aaf8d04480627e036/Source/Request.swift#L531), I'm guessing that perhaps by using `NSObject` as the dictionary key instead of something like `String`, we are putting different `NSObject`s in there (one from `session.configuration.HTTPAdditionalHeaders` and one from `request.allHTTPHeaderFields`), and the request-specific ones aren't overwriting the session-specific ones, as is the intention.
I'm new to Alamofire, so something like this might be already possible.
Alamofire.upload(method, path, headers: headers, multipartFormData: { multipartFormData in
Alamofire.request(.GET, "http://wmccpinetop.axiscam.net/mjpg/video.mjpg")
`Alamofire.request(.POST, "https://...", parameters: parameters, encoding: .JSON, headers: nil)
We also have the same issue, and are also using nginx. Though the really strange part of this, is that it only occurs on iPhones running iOS 9.3 and up (9.3.1 and 9.3.2). We've tested it on iPod's running iOS 9.3 and iPads running iOS 9.3 and on those devices everything is working perfectly fine.
**Alamofire.request(.GET, requestUrlString, encoding: .JSON).responseJSON { response in } .**
The following code was used (very basic usage of Alamofire)
alamofireManager.request(request)
handleAlamofireResponse(response)
and in the wild I am randomly getting random network crashes
looks similar to AFNetworking one:
I don't use NSURLProtocol. Just AFNetworking. Very rare - happens in 1%-3% of the devices and could never reproduce it :(
I will try to see if i can reproduce but it is random and in the wild :D
The reason we believe this is related to AFN is the fact that in all instances of this crash I see the following thread as well, always in this state:
AFNetworking
Adding more information to the issue.
and in the wild I am randomly getting random network crashes too.
I have integrated the Alamofire using cocoa pods. I have no idea of what I am doing wrong on the integration. Please do the needful on this issue.
Alamofire provide resumable upload?
Okey Thank You @huy-le
Could you show a code example of a MultipartFormData upload where you Resume an upload after a connection timeout and the upload is halfway done and the resume and keep on from where it was? Could you please give example? @huy-le  @cnoon I would love to know how you tested this. I [mentioned](https://github.com/Alamofire/Alamofire/issues/1269#issuecomment-224777738) that I tried a few things, but couldn't get the `operatingSystemVersionString` value to change.  Thanks for providing a fix we can all benefit from!
> https://github.com/notifications/unsubscribe/AAbHOTHWyBvox391AH3niBFc3B7zQjaeks5qMq-3gaJpZM4IuS5b
// var alamoFireManager : Alamofire.Manager?
var alamoFireManager = Alamofire.Manager.sharedInstance
alamoFireManager = Alamofire.Manager(configuration: configuration)
Alamofire.request(.GET, request, headers: headers)
@cnoon Oh i am really sorry about that. let me take another path.
> WARNING ITMS-90080: "The executable 'Payload/MyApp.app/Frameworks/Alamofire.framework' is not a Position Independent Executable. Please ensure that your build settings are configured to create PIE executables. For more information refer to Technical Q&A QA1788 - Building a Position Independent Executable in the iOS Developer Library."
> Non-PIE Binary - The executable 'Payload/Property.app/Frameworks/Alamofire.framework' is not a Position Independent Executable. Please ensure that your build settings are configured to create PIE executables. For more information, refer to Technical Q&A QA1788 - Building a Position Independent Executable
> Non-PIE Binary - The executable 'Alamofire.framework' is not a Position Independent Executable. Please ensure that your build settings are configured to create PIE executables. For more information, refer to Technical Q&A QA1788 - Building a Position Independent Executable
Got same issue. All my cocoapods  got this warning.
github "Alamofire/Alamofire" ~> 2.0
*** Building scheme "Alamofire iOS" in Alamofire.xcworkspace
Details:  Unable to read diagnostics from file "/Users/Joe/Library/Developer/Xcode/DerivedData/Alamofire-ajabxbvtiltrbmdcuvcrervytkwn/Build/Intermediates/Alamofire.build/Release-iphoneos/Alamofire iOS Tests.build/Objects-normal/armv7/ManagerTests.dia" (Invalid File): Invalid diagnostics signature
CreateUniversalBinary /Users/Joe/Library/Developer/Xcode/DerivedData/Alamofire-ajabxbvtiltrbmdcuvcrervytkwn/Build/Products/Release-iphoneos/Alamofire\ iOS\ Tests.xctest/Alamofire\ iOS\ Tests normal armv7\ arm64
fatal error: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/lipo: can't open input file: /Users/Joe/Library/Developer/Xcode/DerivedData/Alamofire-ajabxbvtiltrbmdcuvcrervytkwn/Build/Intermediates/Alamofire.build/Release-iphoneos/Alamofire iOS Tests.build/Objects-normal/armv7/Alamofire iOS Tests (No such file or directory)
Details:  Unable to read diagnostics from file "/Users/Joe/Library/Developer/Xcode/DerivedData/Alamofire-ajabxbvtiltrbmdcuvcrervytkwn/Build/Intermediates/Alamofire.build/Release-iphoneos/Alamofire iOS Tests.build/Objects-normal/armv7/ManagerTests.dia" (Invalid File): Invalid diagnostics signature
github "Alamofire/Alamofire" == 2.0.2
Is there any reason why you're not using cocoapods?
You can find it (and the reasoning behind it) [here](https://github.com/gmarm/AlamofireURLRequestConfigurable). It's easy to integrate via CocoaPods and comes with a small example project.
You can find it [here](https://github.com/gmarm/AlamofireURLRequestConfigurable).
Alamofire.upload(
We dowload files with ALamofire with file names including non-unicode charachters and Alamofire saves the file with wrong charachters. How could we fix that Alamofire downloads and save the file name correctly?
Gurkan
Nehlo
id = NehloTestUser1464098899306;
password =                 (
wear21zero
@Dershowitz011 ,as you see from the document, the return value is id, which may be NSDictionary,NSArray,NSNumber,NSString. In your case, you will get a NSNumber, if you want to get the scalar int, you can use -[NSNumber intValue] to obtain it.
import Alamofire
the return value can't be qualified. It can be qualified as `Alamofire.Result` but not the other way around (`Result.Result` is another error complaining about generic type constraints). There are a bunch of libraries that use Result, ReactiveCocoa and SugarRecord are the ones that come to mind.
2) There have been multiple issues opened about this.
3) Anittypical's result is objectively better.
@startupthekid While I'm completely on your side with this, there is indeed a workaround that you could use in the meantime:
import Alamofire
Then the two types can be differentiated by the module namespace: `Result` (this is `Result.Result`) and `Alamofire.Result`.
Thanks @nubbel, didn't know you could do that!
When using the link "VPN network.Alamofire monitoring network, the network status to: NotReachable.But the current network is available.
switch status {
case .Unknown:
What do these mean?
But the second one, what is "resource" ?
A test that will fail in order to investigate #1122
> It's their decision as to whether they should use the AF domain or their own.
> I personally use my own currently, but I could think of scenarios where it would make sense to use the AF domain.
If I were creating a custom response serializer for a library that was meant to be an extension for Alamofire, I feel that it would be appropriate.
Indeed, we can not, NSError having an `Int` code is unfortunate, but it was designed decades ago.
Its worth mentioning that `AlamofireImage` now has deprecated method warnings for `errorWithCode(_:failureReason:)`.
How to add url parameters to alamofire so i can limit my search results?
let parameters = ["term":"abc", "limit":3]
Alamofire.request(.GET,'abc.com/api/v1/search',parameters:parameters)
``` Swift
let username: String
let name: String
let username: String
let name: String
Howdy, I had a long flight recently and decided it would be a good time to contribute a bit to the project.  I've begun updating code to Swift 3.0 (based on the 2016-05-09 snapshot).  Do you want to open up a 3.0 branch and have me open up a PR to it?
The following is how I'm installing Alamofire with cocoapods
/Users/XXX/Projects/MY_APP/MY_APP/Pods/Alamofire/Source/Manager.swift:742:18: Expected pattern
/Users/XXX/Projects/MY_APP/MY_APP/Pods/Alamofire/Source/Manager.swift:742:18: Expected ':' after 'case'
/Users/XXX/Projects/MY_APP/MY_APP/Pods/Alamofire/Source/Manager.swift:742:18: Expected expression
/Users/XXX/Projects/MY_APP/MY_APP/Pods/Alamofire/Source/Manager.swift:744:18: Expected pattern
/Users/XXX/Projects/MY_APP/MY_APP/Pods/Alamofire/Source/Manager.swift:744:18: Expected ':' after 'case'
/Users/XXX/Projects/MY_APP/MY_APP/Pods/Alamofire/Source/Manager.swift:744:18: Expected expression
/Users/XXX/Projects/MY_APP/MY_APP/Pods/Alamofire/Source/Manager.swift:746:18: Expected pattern
/Users/XXX/Projects/MY_APP/MY_APP/Pods/Alamofire/Source/Manager.swift:746:18: Expected ':' after 'case'
/Users/XXX/Projects/MY_APP/MY_APP/Pods/Alamofire/Source/Manager.swift:746:18: Expected expression
/Users/XXX/Projects/MY_APP/MY_APP/Pods/Alamofire/Source/Manager.swift:748:18: Expected pattern
/Users/XXX/Projects/MY_APP/MY_APP/Pods/Alamofire/Source/Manager.swift:748:18: Expected expression
/Users/XXX/Projects/MY_APP/MY_APP/Pods/Alamofire/Source/Request.swift:505:17: Expected expression in list of expressions
/Users/XXX/Projects/MY_APP/MY_APP/Pods/Alamofire/Source/Request.swift:504:51: Expected ',' separator
/Users/XXX/Projects/MY_APP/MY_APP/Pods/Alamofire/Source/Request.swift:505:17: Expected ')' in expression list
/Users/XXX/Projects/MY_APP/MY_APP/Pods/Alamofire/Source/Request.swift:505:25: Expected identifier in protocol declaration
/Users/XXX/Projects/MY_APP/MY_APP/Pods/Alamofire/Source/ResponseSerialization.swift:34:5: Expected declaration
/Users/XXX/Projects/MY_APP/MY_APP/Pods/Alamofire/Source/Manager.swift:737:28: Reference to property 'sessionDidFinishEventsForBackgroundURLSession' in closure requires explicit 'self.' to make capture semantics explicit
- `Alamofire (~> 3.2.1)` required by `Podfile`
- `Alamofire (~> 3.2.1)` required by `Podfile`
None of your spec sources contain a spec satisfying the dependency: `Alamofire (~> 3.2.1)`.
jamaal
**Note well - the remainder of this statement refers to Swagger and its use of Alamofire. I am just trying to shed some light on what I am doing**
Also, I am using a Swift code swagger client which has Alamofire as a dependency. So I am using the swagger generated client to make the necessary requests(with the dates)
Jamaal
@cnoonÔºåit turns out that if you use a custom `NSURLSessionConfiguration` (rather than `sharedSession()`), you are gonna have to do the following to make your NSURLProtocol make difference:
// use custom sessionConfiguration to initialize your NSURLSession / Alamofire.Manager
It's like it is using a different kind of method that requires a queue.
Thank you for wonderful cocoapod!
‚ö†Ô∏è  project/Pods/Alamofire/Source/ParameterEncoding.swift:240:12: unnecessary check for 'iOS'; minimum deployment target ensures guard will always be true
‚ö†Ô∏è  project/Pods/Alamofire/Source/ParameterEncoding.swift:240:12: unnecessary check for 'iOS'; minimum deployment target ensures guard will always be true
‚ö†Ô∏è  project/Pods/Alamofire/Source/ParameterEncoding.swift:240:12: unnecessary check for 'iOS'; minimum deployment target ensures guard will always be true
‚ö†Ô∏è  project/Pods/Alamofire/Source/ParameterEncoding.swift:240:12: unnecessary check for 'iOS'; minimum deployment target ensures guard will always be true
‚ö†Ô∏è  project/Pods/Alamofire/Source/ParameterEncoding.swift:240:12: unnecessary check for 'iOS'; minimum deployment target ensures guard will always be true
‚ö†Ô∏è  project/Pods/Alamofire/Source/ParameterEncoding.swift:240:12: unnecessary check for 'iOS'; minimum deployment target ensures guard will always be true
‚ö†Ô∏è  project/Pods/Alamofire/Source/ParameterEncoding.swift:240:12: unnecessary check for 'iOS'; minimum deployment target ensures guard will always be true
‚ö†Ô∏è  project/Pods/Alamofire/Source/ParameterEncoding.swift:240:12: unnecessary check for 'iOS'; minimum deployment target ensures guard will always be true
‚ö†Ô∏è  project/Pods/Alamofire/Source/ParameterEncoding.swift:240:12: unnecessary check for 'iOS'; minimum deployment target ensures guard will always be true
‚ö†Ô∏è  project/Pods/Alamofire/Source/ParameterEncoding.swift:240:12: unnecessary check for 'iOS'; minimum deployment target ensures guard will always be true
‚ö†Ô∏è  project/Pods/Alamofire/Source/ParameterEncoding.swift:240:12: unnecessary check for 'iOS'; minimum deployment target ensures guard will always be true
‚ö†Ô∏è  project/Pods/Alamofire/Source/ParameterEncoding.swift:240:12: unnecessary check for 'iOS'; minimum deployment target ensures guard will always be true
‚ö†Ô∏è  project/Pods/Alamofire/Source/ParameterEncoding.swift:240:12: unnecessary check for 'iOS'; minimum deployment target ensures guard will always be true
‚ö†Ô∏è  project/Pods/Alamofire/Source/ParameterEncoding.swift:240:12: unnecessary check for 'iOS'; minimum deployment target ensures guard will always be true
‚ö†Ô∏è  project/Pods/Alamofire/Source/ParameterEncoding.swift:240:12: unnecessary check for 'iOS'; minimum deployment target ensures guard will always be true
‚ö†Ô∏è  project/Pods/Alamofire/Source/ParameterEncoding.swift:240:12: unnecessary check for 'iOS'; minimum deployment target ensures guard will always be true
‚ö†Ô∏è  project/Pods/Alamofire/Source/ParameterEncoding.swift:240:12: unnecessary check for 'iOS'; minimum deployment target ensures guard will always be true
Would it be possible to have a version of Alamofire for iOS9? Or would it be possible to start version 4.0 with minimum requirements of iOS9?
Could you help me how to set timeout with Alamofire?
+1 that the the two functions @rafalkitta mentioned should be public..?
name: "Alamofire",
error: NoSources("/Users/agaikwad/git/swift-crash-course/Packages/Alamofire-3.4.0/Tests/Resources")
Here is my code:
Alamofire.request(.GET, "https://www.github.com").responseJSON { (response) in
and this is the screenshoot of instrument
![](https://raw.githubusercontent.com/sosng/AlamofireMemoryLeakSample/master/screenshoot.png)
you can see more in my [repo](https://github.com/sosng/AlamofireMemoryLeakSample)
Is alamofire fully supporting IPv6?
`AF_INET`
AF_INET
AF_INET6
PF_INET
PF_INET6
@cnoon @dgatwood Thanks :D
AND LOL! üò´
``` objc
zeroAddress.sin_family = AF_INET;
And also I guess the original IPv6 support change was kind of like a miscomprehension of apple's guideline.
> And also I guess the original IPv6 support change was kind of like a miscomprehension of apple's guideline.
@kcharwood it was likely some network disturbance that confused apple. We got our application approved afterward with close to nothing changes in a networking code.
I know this issue is marked closed but we faced the same issue when we are submitting an update to our app. We have Alamofire 3.4 running and iOS version is 8.0+ . our app got accepted once but now the update submission keeps getting rejected  from Apple. Our servers can handle both IPv6 and IPv4 but unfortunately we don't have an IPv6 network to test out our app with.
@niennonno After our reject we asked a review to the App Review Submission Community.
@hellmund can you help as to how to remove this check?
One shot script to download + patch alamofire run from inside docker container...
wget https://gist.githubusercontent.com/johndpope/e590169f7a0aaf08e52ba25a75bcd8d1/raw/5f1a3743e61224f7ae7963d4c61d79a5233c531f/cloneAlamofire.sh
chmod +x cloneAlamofire.sh
https://github.com/dmcyk/SwiftyCurl
Suggestion: we should move this discussion to #1935   I have import the Alamofire, but the code completion doesn't work.
modified:   Source/Alamofire.swift
> pod 'Alamofire'
Hi @SantoDE
`Alamofire.Manager.sharedInstance.startRequestsImmediately = true`
Alamofire.request(.GET, "https://gyminyapp.azurewebsites.net/api/User").authenticate(user: emailTextField.text!, password: passwordTextField.text!)
son in
I'm currently using the [Oatmeal Framework](https://github.com/OatmealCode/Oatmeal), and part of it is making network requests with the Networking component. Now, under the hood, the framework uses Alamofire to make its requests, but it ensures we only run one request at a time (I'm not sure exactly why, I'll inquire about this with the creator). Now, the code for doing that is the following:
if let networking : Networking = ~Oats()
else
if let events : Events = ~Oats()
else
manager = Alamofire.Manager(configuration: config, serverTrustPolicyManager: currentRoute.sslPolicy)
After a little bit of frustration, we discovered that Alamofire requires validation before defining the response handler.  While the documentation page mentions it, this seems to severely undercut the importance of validation; Alamofire is next to useless if it returns a success code from an http 400 code.  Being users of AFNetworking 2.x.x, this caught us off guard.
Thanks @cnoon!  It looks good.  I certainly hope it'll help future devs that give Alamofire a go will have a much more enjoyable time learning it, rather than being temporarily frustrated by it.
![alamofire copy](https://cloud.githubusercontent.com/assets/12180894/14840267/4ae0851a-0c50-11e6-9b07-78322360f16d.png)
Pragma = "no-cache";
print(error.localizedDescription)
I know this code is kinda convoluted, but it got built out to isolate the error.
Xcode 7.3 | Swift 2.2, Alamofire 3.3.0 installed using Carthage.
Alamofire.request(.GET, url, headers: header, encoding .JSON).responseJSON
response in (code)
Alamofire.request(.POST, url, parameters: dic, encoding: .JSON, headers: nil).responseJSON(options: .MutableLeaves) { (response) in
Alamofire version 3.3.0
In Alamofire.swift the following line causes a crash:
Errormessage:
fatal error: unexpectedly found nil while unwrapping an Optional value
let url = "http://abc.company.de/rest/mobile/something/suche/Fris√∂r"
where the url parameter contains a special character like √∂ or √§ or √º like above.
Alamofire.request(.POST, "https://httpbin.org/post", parameters: parameters, encoding: .JSON,).progress {  (bytesWritten, totalBytesWritten, totalBytesExpectedToWrite)  in }.
Alamofire.request(
Alamofire.Manager.sharedInstance.session.configuration.HTTPCookieStorage?.setCookies(cookies, forURL: response.response!.URL!, mainDocumentURL: nil)
Alamofire.request(.GET, postsEndpoint, encoding: .JSON, parameters: nil, headers: headers)
> Are the headers missing when using curl @keisyrzk
> https://github.com/keisyrzk? That's the only thing we can really
Facing the exact same issue. @keisyrzk did you ever find a solution?
<img width="372" alt="alamofire issue" src="https://cloud.githubusercontent.com/assets/9319430/14571176/2d781fe6-031e-11e6-8e04-365c91b921f0.png">
return Request(request: "mock")
Fails with `'Method' is ambiguous for type lookup in this context`, but if I try to add the module to `Method` like `Alamofire.Method`, then the function is "different" and the compiler won't let be use the `override` keyword.
@raulriera  renaming function will solve this issue.
Hi, @sairamkotha but "Method" is from the iOS standard library in runtime.h. As mentioned in the description, I can't rename the function or add Alamofire.Method to it because otherwise it won't be overriding it
Alamofire.request(.GET, filePath)
`Alamofire.upload(.POST, request, file: fileURL)`
Alamofire.request works fine on the project.
Alamofire.upload(
multipartFormData:
Alamofire.upload(
http://ashishkakkad.com/2016/03/how-to-create-a-wrapper-for-alamofire-and-swiftyjson-swift-ios/
*Purvi Jani*
Phone: +919998009783 | Skype: purvi.pardypanda
LinkedIn <http://linkedin.com/company/pardy-panda-studios> | Facebook
<http://facebook.com/pardypandastudios> | Twitter
<http://twitter.com/pardypanda> | Youtube <http://youtube.com/pardypanda>
Alamofire.upload(multipartFormData: { (multipartFormData) in
*Purvi Jani*
Phone: +919998009783 | Skype: purvi.pardypanda
LinkedIn <http://linkedin.com/company/pardy-panda-studios> | Facebook
<http://facebook.com/pardypandastudios> | Twitter
<http://twitter.com/pardypanda> | Youtube <http://youtube.com/pardypanda>
> http://ashishkakkad.com/2016/03/how-to-create-a-wrapper-
> for-alamofire-and-swiftyjson-swift-ios/
> *Purvi Jani*
> LinkedIn <http://linkedin.com/company/pardy-panda-studios> | Facebook
> <http://facebook.com/pardypandastudios> | Twitter
session: NSURLSession,
import Alamofire
import Alamofire
// Router Cases
// MARK: Route from cases
return ("/api1",nil)
return ("/api2",nil)
return ("/api10/",nil)
Alamofire
import Alamofire
**\* Building scheme "Alamofire iOS" in Alamofire.xcworkspace
**\* Building scheme "Alamofire OSX" in Alamofire.xcworkspace
CompileSwift normal x86_64 /Carthage/Checkouts/Alamofire/Tests/MultipartFormDataTests.swift
I have installed Alamofire with CocoaPods. The app has any problem if running on Simulator but it makes  this error when I test the app on the iPad device:
.Failure(someError)
I ran into this issue since I am still running Yosemite with Swift 2.1.1 and Xcode 7.2.1.  I just thought others might want to know...
I don't understand how to use Alomafire with background sessions and session delegates and I can't find any documentation on the subject.
import Alamofire
All that would take is to move its definition inside the Alamofire class:
extension Alamofire {
This is my code:
let manager = Alamofire.Manager.sharedInstance
let params = ["user_id":"1331","user_name":"Tho MNB-NEXT 30","lat":"10.776103","lon":"106.689743","comment":"123","danger_level":"1"]
Alamofire.upload(.POST, URL, multipartFormData: {
s there a way to make a request by alamofire in the forground, not the background. I need data from the request, before the code goes on.
I completely removed the `ProxyURLProtocol` class and the line `configuration.protocolClasses = [ProxyURLProtocol.self]` in the `setUp` method, and the test is still passing. So I'm a bit confused, since I was expecting the test to fail without the custom URL protocol.
I wholeheartedly agree with @tieleman.  There's a big difference between "The request was canceled" and "Your credentials were incorrect"
@cnoon: If it's not a bug report or a feature request, than at least it's a request for better documentation of this (somewhat unexpected) behaviour. üëæ
Thanks for reopening. I have reviewed the two linked AFN issues, and while there are some similarities, I do believe that they cater to a different class of problems (cert or key pinning failures). These are typical examples of errors that occur early at the secure transport level, while the issue with 401's (and other HTTP status codes) resides at the application level after the server has attempted to process the request.
@cnoon @nickkhod
"Content-Encoding" = gzip;
Etag = "\"flask-1444909447.0-129511-4246673535\"";
Server = "nginx/1.4.6 (Ubuntu)";
‚ñø Optional<Int64>
@cnoon @nickkhod Any help?
Alamofire.request(.GET, URL, parameters: parameters, encoding: .JSON, headers: headers).validate().responseJSON { response in
# I am trying to update Alamofire for carthage but it is failing repeatedly. Please help
> <Project DIrectory>Carthage/Checkouts/Alamofire/Source/Request.swift:487:17: error: expected expression in list of expressions
> <Project DIrectory>Carthage/Checkouts/Alamofire/Source/Request.swift:486:51: error: expected ',' separator
> <Project DIrectory>Carthage/Checkouts/Alamofire/Source/Request.swift:487:17: error: expected ')' in expression list
> <Project DIrectory>Carthage/Checkouts/Alamofire/Source/Request.swift:487:25: error: expected identifier in protocol declaration
> <Project DIrectory>Carthage/Checkouts/Alamofire/Source/Request.swift:487:17: error: expected expression in list of expressions
> <Project DIrectory>Carthage/Checkouts/Alamofire/Source/Request.swift:486:51: error: expected ',' separator
> <Project DIrectory>Carthage/Checkouts/Alamofire/Source/Request.swift:487:17: error: expected ')' in expression list
> <Project DIrectory>Carthage/Checkouts/Alamofire/Source/Request.swift:487:25: error: expected identifier in protocol declaration
> <Project DIrectory>Carthage/Checkouts/Alamofire/Source/Request.swift:487:17: error: expected expression in list of expressions
> <Project DIrectory>Carthage/Checkouts/Alamofire/Source/Request.swift:486:51: error: expected ',' separator
> <Project DIrectory>Carthage/Checkouts/Alamofire/Source/Request.swift:487:17: error: expected ')' in expression list
> <Project DIrectory>Carthage/Checkouts/Alamofire/Source/Request.swift:487:25: error: expected identifier in protocol declaration
> <Project DIrectory>Carthage/Checkouts/Alamofire/Source/Request.swift:487:17: error: expected expression in list of expressions
> <Project DIrectory>Carthage/Checkouts/Alamofire/Source/Request.swift:486:51: error: expected ',' separator
> <Project DIrectory>Carthage/Checkouts/Alamofire/Source/Request.swift:487:17: error: expected ')' in expression list
> <Project DIrectory>Carthage/Checkouts/Alamofire/Source/Request.swift:487:25: error: expected identifier in protocol declaration
> <Project DIrectory>Carthage/Checkouts/Alamofire/Source/Request.swift:484:55: error: missing argument for parameter 'protocol' in call
pod 'Alamofire', '~> 3.3'
pod 'Alamofire' , '2.0.2'
Ok thanks, I'm working on something limited to my narrow usage of sse, but I'll share it when it's ready if you wish.
My issue is alamofire.request does not contain .responseObject object
Alamofire.request(.POST, baseURL, parameters: emptyString , encoding: .JSON, headers: nil).responseObject { (response: Mapper?, error: ErrorType?) -> Void in
Help me please!
Thanks you @esokullu  :+1:
`github "Alamofire/Alamofire" ~> 3.0`
After I ran carthage update, I met this:
CompileSwift normal armv7k /Users/linsw/Desktop/MongoDBPlayground/Carthage/Checkouts/Alamofire/Source/ParameterEncoding.swift
extension Alamofire.Manager {
dispatch_semaphore_signal(semaphore)
Thank you @Alexander-Ignition !!
@Alexander-Ignition Aside from some syntax upgrades (`DispatchSemaphore` is a thing now), this does not always work for me. If the Alamofire [request uses the main thread, we get a deadlock](http://stackoverflow.com/q/42644111/539599). While there is a workaround for XCTest, what to do about Swift scripts?
```swift
```  MacBook-Pro:Diary nader$ pod install
Installing Alamofire (3.3.0)
Installing Dodo (2.0.13)
Installing RealmSwift (0.98.6)
MacBook-Pro:Diary nader$ pod update
Update all pods
Using Alamofire (3.3.0)
Using Dodo (2.0.13)
Using Realm (0.98.6)
Using RealmSwift (0.98.6)
Using SwiftyJSON (2.3.2)
Generally, I feel like this is an advanced use case, and anyone who needs to do this should be taking the responsibility to not misuse the subclass and dealing with any bugs that come of it. I think that there is a balance between making things simple for most users and protecting them from bugs and allowing the flexibility for advanced users to customize. This proposal seems to keep that balance intact to me.
pod 'Alamofire', '~> 3.2.1'
var image: String
github "Alamofire/Alamofire" ~> 3.2
We are still using Xcode 7.2 / Swift 2.1. Today I made a `carthage bootstrap` and it downloaded Alamofire 3.3, which of course breaks the compilation.
Edit: I could fix it with `github "Alamofire/Alamofire" == 3.2.1` of course. But I bet I'm not the only one that will run into this problem.
``` Swift
[Screenshot](http://images.illuzor.com/uploads/xcode-7.3.png)
Is it alamofire bug? Maybe my mistake or problem of project configuration?
Even simple code causes this problem:
`Alamofire.request(.POST, "", parameters: ["test":"test"], headers: ["test":"test"])`
ios target - 8.4
Alamofire.upload (.POST,
i have updated the alamofire to 3.3.0, converted code to latest syntax, running xcode 7.3 and still facing the issue on my another project. I always face this issue once a while ,can u resolve this . Thanks
for Alamofire.
In Alamofire 3.4.0 , but I didn't have this issue with 3.3.1
[There was one catch](https://github.com/nickskull/Alamofire/blob/680c1fad020fe0eeb541a99d9415774fa374a00d/Source/Manager.swift#L680) however for OS X version, where I had to take a switch `case` out of the switch and make it an `if`.
@nickskull  I am getting warning for Alamofire/Source/ParameterEncoding.swift  247:29: 'init(start:end:)' is deprecated: it will be removed in Swift 3.  Use the '..<' operator.
session: NSURLSession,
task: NSURLSessionTask,
didReceiveChallenge challenge: NSURLAuthenticationChallenge,
@tosbaha That is fixed in my commit.
``` objc
@jshier @borut-t @florentmorin
"Content-Encoding" = gzip;
Etag = "\"flask-1444909447.0-129511-4246673535\"";
Server = "nginx/1.4.6 (Ubuntu)";
‚ñø Optional<Int64>
The problem it that in case when value is `Bool?`, it gets converted to `__NSCFBoolean`, which transforms to `"0"` or `"1"`. How to make this convert to `"false"` and `"true"`?
//value was some other type of AnyObject, throw exception or alternate conditions...
Oh, that's sad and looks a lot like a workaround.
I used Alamofire to make requests.
You can reproduce the problem with this repository : https://github.com/arn00s/AlamofireMemory
So the question: can I use AFNetworking (on the ObjC side) and Alamofire (on the Swift side) in the same app or will I get in in trouble? I'm worried about stuff like queues, locks, handler etc...
Also, for future; questions like this are probably more well suited for Stack Overflow...
let downloadManager = Alamofire.Manager(
Hi @cnoon and @matthiaslau,
That seems to be quite an edge case we got ourselves into here...
but when I use Alamofire
Alamofire.request(.POST, "http://127.0.0.1:8000/api/users/", parameters: ["email": emailField.text!, "user_name": usernameField.text!, "password": passwordField.text!], encoding: .URL )
Vary = "Accept, Cookie";
Optional(<7b226465 7461696c 223a2243 53524620 4661696c 65643a20 43535246 20746f6b 656e206d 69737369 6e67206f 7220696e 636f7272 6563742e 227d>)
I am rejecting a promise with the custom error below:
`reject(NSError(domain: "somedomain", code: 123, userInfo: [:]))`
Alamofire.request(.GET, getImageURL(imageID)).responseData {response in
fulfill(image)
//reject(NSError(domain: "somedomain", code: 123, userInfo: [:]))
//reject(NSError(domain: "somedomain", code: 123, userInfo: nil))
https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/Streams/Articles/WritingOutputStreams.html#//apple_ref/doc/uid/20002274-BAJCABBC
The Polling code can be found in:
I think this must be typo.
@cnonn Thx.~~
`rm -rf Packages/Alamofire-3.3.0/Tests/*`
thanks @vsouza I'll attempt that, for now just sticking to cocoapods on the project until SPM is stable and Swift3...
https://github.com/wgywgy/AlamofireDownloadDemo/tree/master
Can you Give me a Exmaple? Thank you.
Alamofire.download(resumeData: cancelledData, destination: self.destination)
sorry to use this closed thread to ask you something but last time I have tried to use the stackoverflow with the _Alamofire_ tag and no one answered me üòû
Thanks  I'm trying to post to a service that only takes XML format as the body of the post.
"<Protocol>ZigBee</Protocol>" +
"<MacId>" + rainForest.macId + "</MacId>" +
Alamofire.request(.POST, rainForest.url, parameters: [:], encoding: .Custom(custom), headers: headers).responseJSON { response in
>         return "Alamofire"
The userAgent is String indeed.
you will get a error
I'm wondering whether just adding blocks for all the delegate methods is a good approach. The "old" cocoa-pattern of having a delegate possibly implement a set of methods and using default behavior if a method is not implemented achieves basically the same. But since the declarations for all the delegates you need (session delegate, task delegate, etc.) are already done you don't need to write them, in contrast to the block.
2. Why not allow an NSURLSessionDelegate instead of a `SessionDelegate` to be passed to the Manager initializer. What is special about Alamofire's SessionDelegate that would take much work to reproduce in an own delegate and everyone needs?
@AnthonyMDev Thanks a lot for your input! I'm a bit wary of using blocks/closures everywhere just because it's Swift. When Apple introduced blocks to Objective-C there was also a big hype around them and everyone suddenly wanted to use blocks for everything and get rid of delegates. However, they also have many disadvantages like leading to inadvertent retain-cycles more easily so the enthusiasm died down a bit again.
This code `Alamofire.request(.GET, "http://www.google.com?q=◊ê")` causes app crash.
Incident Identifier: 14CF2441-3C83-43DE-ABF7-4D59155E1EB5
Code Type:           ARM-64 (Native)
Exception Type:  EXC_BREAKPOINT (SIGTRAP)
Exception Codes: 0x0000000000000001, 0x00000001008a25dc
2   Alamofire                       0x00000001000ef348 Manager.request(Method, URLStringConvertible, parameters : [String : AnyObject]?, encoding : ParameterEncoding, headers : [String : String]?) -> Request (Manager.swift:188)
0   libsystem_kernel.dylib          0x0000000182ba54fc kevent_qos + 8
Binary Images:
0x100080000 - 0x100097fff Finder arm64  <a6235746eadd3e3f98dc9ba4bb82966c> /var/mobile/Containers/Bundle/Application/61A41A40-2CCE-4A76-A5F2-4171632322EF/Finder.app/Finder
0x182c74000 - 0x182c76fff libsystem_sandbox.dylib arm64  <fe96a44b2ade3550a73fbec1d1766da4> /usr/lib/system/libsystem_sandbox.dylib
0x183460000 - 0x1834b9fff SystemConfiguration arm64  <ede85de1bd2830518ea2caac42bad651> /System/Library/Frameworks/SystemConfiguration.framework/SystemConfiguration
0x1838cc000 - 0x1838cdfff liblangid.dylib arm64  <49ce8afa64a033328e76f25af85ff4c4> /usr/lib/liblangid.dylib
0x18444c000 - 0x18450dfff MobileCoreServices arm64  <afb0867c27e237b08d6fb64e1c44db59> /System/Library/Frameworks/MobileCoreServices.framework/MobileCoreServices
0x18458c000 - 0x18458ffff MobileSystemServices arm64  <7eb26bea09f53c1c9e8d732f9f8ba026> /System/Library/PrivateFrameworks/MobileSystemServices.framework/MobileSystemServices
0x1849b0000 - 0x1849bdfff PowerLog arm64  <af9c5f3d9b3e3a02ab7c00bf83a3b0c3> /System/Library/PrivateFrameworks/PowerLog.framework/PowerLog
0x1851d0000 - 0x185250fff VideoToolbox arm64  <be617809dd93333ab50db1e22fec1c11> /System/Library/Frameworks/VideoToolbox.framework/VideoToolbox
Alamofire: 3.1.3
My app makes  an Alamofire request about every 15 seconds.
I have a client-class that wraps the Alamofire calls.
for uri in trustedURIs{
configuration.HTTPAdditionalHeaders = Alamofire.Manager.defaultHTTPHeaders
return Alamofire.Manager(
I will try a the current version of Alamofire and tell you if the problem still occurs.
The problem was within MDWamp/how I was using it. If anybody stumbles here, maybe this can help:
https://github.com/mogui/MDWamp/issues/42
Alamofire.request(.GET, postEndpoint, parameters: [:], encoding: .JSON, headers: (headers as! [String : String]))
The `status` values seem to be very random and don't represent the current state. I've tested on several iPhone devices and simulator. On iOS 9 everything works as expected.
Some one tell me how to use AlamofireNetworkActivityIndicator
extension Request: CustomDebugStringConvertible
when i upload a photo  in this code :
Alamofire.upload(.POST, Url, multipartFormData: {
btw the api is the openweatherapi
![alamofiredeadlock](https://cloud.githubusercontent.com/assets/16528276/13247193/b175a9fc-da20-11e5-848e-551d4d0feb93.png)
![nsurldeadlock](https://cloud.githubusercontent.com/assets/16528276/13247231/018bef82-da21-11e5-8dba-6fd4656d3872.png)
three of these internal requests are created in pubnub, one of them is created in alamofire and the other two are unknown (stack trace doesn't have enough info)
Caused by a call to objc_sync_enter in my code (in a totally different class from the one with the alamofire calls) on an array (Apparently, this can cause very strange deadlocks to happen)
I'm using Xcode 7.2 and alamofire 3.0 . I'm learning alamofire and used a simple get request to get data using URL.. the app crashed with the error message mentioned above as the title. I understand that URL with special characters cannot be encoded using (URL : NSURL(String : URLString.URLString)!). Can someone please help me with how to encode URL with special characters ? and my app is crashing even if i use a URL without any special characters. I have uploaded the screenshot of my code.
https://github.com/antitypical/Result
extension Alamofire.DataResponse {
extension Alamofire.Result {
do {
"bcc": [
Please help me i am using cocoapods and also tried excepting cocoapods also
Alamofire.upload(
import Alamofire
import SwiftyJSON
Alamofire.upload(
//Something went wrong
Alamofire.request(.GET, url, parameters: nil, headers: nil, encoding:.JSON).responseJSON { response in
title : Optional(First)
title : Optional(Second)
title : Optional(Third)
title : Optional(First)
title : Optional(Second)
title : Optional(Third)
My class containing Alamofire
import Alamofire
Alamofire.request(.POST, "\(UserStore.root)/posts", parameters: params, encoding: .JSON).responseJSON { response in
11:01:58.887 Camtasia[49323:16088704] _XCT_testBundleReadyWithProtocolVersion:minimumVersion: reply received
11:01:58.893 Camtasia[49323:16088704] _IDE_startExecutingTestPlanWithProtocolVersion:16
/Users/___/Documents/Camtasia/UserStoreTests/UserStoreTests.swift:28: error: -[UserStoreTests.UserStoreTests testAuthenticateWithEmailAndPassword] : Asynchronous wait failed: Exceeded timeout of 10 seconds, with unfulfilled expectations: "Authenticate user with email and password".
Using pod: pod 'Alamofire', '~> 3.0'
Not sure if you mean "Pull Request" by your acronym "PR".
Please see https://stackoverflow.com/questions/43871936/alamofire-called-twice
I would like to connect to the host with alamofire but the host needs to cert.pem key.pem ca.pem  files.
:tada:
Alamofire.request(mutableURLRequest).validate().responseJSON() {
Alamofire.request(endpoint.method(), url, parameters: parameters, encoding: encoding, headers: headers)
I can also see that you guys changed the input value type to Any so a "pure" Swift bool can be passed in. I tried printing 'true' and it printed "true". @jshier That is unfortunate indeed‚Ä¶ Where are the rfc guys when we need them!  ```
Alamofire.request(.POST, "example.com/api/test", parameters: ["name": "", "email":  "", "phone": "", "password": ""])
Shouldn't 422 be treated as Failure?
Some questions here:
1. Is this a realistic edge case?
Ronak
So is this not achievable with Alamofire?
3. Is this a flat out bug?
Lastly big thanks for the excellent frameworks!
import Alamofire
import SwiftyJSON
"password": "Ramazan 2",
Mahmut Akyol your problem is solved? I have the same problem if know answer me.Thanks
let manager = Alamofire.Manager.sharedInstance
func Config(manager: Alamofire.Manager){
self.manager = Alamofire.Manager(configuration: configuration)
I'm new to Carthage. So what i basically did is create a new "Single View Application" with Xcode. Added a Cartfile in the folder where the *.xcodeproj lives and ran `carthage update`.
github "Alamofire/Alamofire" ~> 3.0
*** Fetching Alamofire
*** Checking out Alamofire at "3.1.5"
*** Building scheme "Alamofire OSX" in Alamofire.xcworkspace
*** Building scheme "Alamofire watchOS" in Alamofire.xcworkspace
/bin/mkdir -p /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release/Alamofire.framework/Versions/A/Modules
/bin/ln -sfh Versions/Current/Modules /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release/Alamofire.framework/Modules
/bin/mkdir -p /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release/Alamofire.framework/Versions/A/Headers
/bin/mkdir -p /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release/Alamofire.framework/Versions/A/Resources
/bin/ln -sfh A /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release/Alamofire.framework/Versions/Current
/bin/ln -sfh Versions/Current/Resources /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release/Alamofire.framework/Resources
/bin/ln -sfh Versions/Current/Headers /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release/Alamofire.framework/Headers
/bin/ln -sfh Versions/Current/Alamofire /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release/Alamofire.framework/Alamofire
Clean.Remove clean /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release/Alamofire\ OSX.build
builtin-rm -rf /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release/Alamofire\ OSX.build
Clean.Remove clean /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release/Alamofire.framework.dSYM
builtin-rm -rf /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release/Alamofire.framework.dSYM
Clean.Remove clean /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release/Alamofire.framework
builtin-rm -rf /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release/Alamofire.framework
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release/Alamofire\ OSX.build/Alamofire-project-headers.hmap
/bin/mkdir -p /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release/Alamofire\ OSX.build/Objects-normal/x86_64
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release/Alamofire\ OSX.build/Objects-normal/x86_64/Alamofire.LinkFileList
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release/Alamofire\ OSX.build/Alamofire.hmap
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release/Alamofire\ OSX.build/Alamofire-generated-files.hmap
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release/Alamofire\ OSX.build/module.modulemap
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release/Alamofire\ OSX.build/unextended-module-overlay.yaml
/bin/mkdir -p /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release/Alamofire\ OSX.build/DerivedSources
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release/Alamofire\ OSX.build/DerivedSources/Alamofire_vers.c
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release/Alamofire\ OSX.build/Alamofire-all-target-headers.hmap
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release/Alamofire\ OSX.build/Objects-normal/x86_64/Alamofire\ OSX-OutputFileMap.json
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release/Alamofire\ OSX.build/unextended-module.modulemap
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release/Alamofire\ OSX.build/Alamofire-all-non-framework-target-headers.hmap
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release/Alamofire\ OSX.build/swift-overrides.hmap
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/all-product-headers.yaml
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release/Alamofire\ OSX.build/Alamofire-own-target-headers.hmap
/bin/mkdir -p /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release/Alamofire.framework/Versions/A/Modules
/bin/ln -sfh Versions/Current/Modules /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release/Alamofire.framework/Modules
/bin/mkdir -p /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release/Alamofire.framework/Versions/A/Headers
/bin/mkdir -p /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release/Alamofire.framework/Versions/A/Resources
/bin/ln -sfh A /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release/Alamofire.framework/Versions/Current
/bin/ln -sfh Versions/Current/Resources /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release/Alamofire.framework/Resources
/bin/ln -sfh Versions/Current/Headers /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release/Alamofire.framework/Headers
/bin/ln -sfh Versions/Current/Alamofire /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release/Alamofire.framework/Alamofire
ProcessInfoPlistFile /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release/Alamofire.framework/Versions/A/Resources/Info.plist Source/Info.plist
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
builtin-infoPlistUtility /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire/Source/Info.plist -expandbuildsettings -platform macosx -o /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release/Alamofire.framework/Versions/A/Resources/Info.plist
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
CompileSwift normal x86_64 /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire/Source/ParameterEncoding.swift
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
CompileSwift normal x86_64 /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire/Source/MultipartFormData.swift
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
MergeSwiftModule normal x86_64 /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release/Alamofire OSX.build/Objects-normal/x86_64/Alamofire.swiftmodule
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
Ld /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release/Alamofire.framework/Versions/A/Alamofire normal x86_64
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
CpHeader Source/Alamofire.h /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release/Alamofire.framework/Versions/A/Headers/Alamofire.h
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
Touch /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release/Alamofire.framework
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
/usr/bin/touch -c /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release/Alamofire.framework
SDKROOT = watchos2.1
Clean.Remove clean /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release-watchos/Alamofire.framework.dSYM
builtin-rm -rf /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release-watchos/Alamofire.framework.dSYM
Clean.Remove clean /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release-watchos/Alamofire.framework
builtin-rm -rf /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release-watchos/Alamofire.framework
Clean.Remove clean /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire\ watchOS.build
builtin-rm -rf /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire\ watchOS.build
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire\ watchOS.build/Alamofire-all-non-framework-target-headers.hmap
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire\ watchOS.build/Alamofire-own-target-headers.hmap
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire\ watchOS.build/Alamofire-all-target-headers.hmap
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire\ watchOS.build/Alamofire-generated-files.hmap
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire\ watchOS.build/Alamofire-project-headers.hmap
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire\ watchOS.build/module.modulemap
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire\ watchOS.build/unextended-module.modulemap
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire\ watchOS.build/swift-overrides.hmap
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire\ watchOS.build/unextended-module-overlay.yaml
/bin/mkdir -p /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire\ watchOS.build/Objects-normal/armv7k
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire\ watchOS.build/Objects-normal/armv7k/Alamofire\ watchOS-OutputFileMap.json
/bin/mkdir -p /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire\ watchOS.build/DerivedSources
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire\ watchOS.build/DerivedSources/Alamofire_vers.c
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire\ watchOS.build/Objects-normal/armv7k/Alamofire.LinkFileList
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/all-product-headers.yaml
write-file /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire\ watchOS.build/Alamofire.hmap
/bin/mkdir -p /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release-watchos/Alamofire.framework/Modules
/bin/mkdir -p /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release-watchos/Alamofire.framework/Headers
ProcessInfoPlistFile /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release-watchos/Alamofire.framework/Info.plist Source/Info.plist
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
builtin-infoPlistUtility /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire/Source/Info.plist -expandbuildsettings -format binary -platform watchos -o /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release-watchos/Alamofire.framework/Info.plist
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
SwiftCodeGeneration normal armv7k /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire watchOS.build/Objects-normal/armv7k/Result.bc
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
SwiftCodeGeneration normal armv7k /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire watchOS.build/Objects-normal/armv7k/Stream.bc
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
SwiftCodeGeneration normal armv7k /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire watchOS.build/Objects-normal/armv7k/ResponseSerialization.bc
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
SwiftCodeGeneration normal armv7k /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire watchOS.build/Objects-normal/armv7k/Response.bc
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
SwiftCodeGeneration normal armv7k /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire watchOS.build/Objects-normal/armv7k/Download.bc
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
SwiftCodeGeneration normal armv7k /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire watchOS.build/Objects-normal/armv7k/Validation.bc
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
SwiftCodeGeneration normal armv7k /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire watchOS.build/Objects-normal/armv7k/Manager.bc
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
SwiftCodeGeneration normal armv7k /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire watchOS.build/Objects-normal/armv7k/ParameterEncoding.bc
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
SwiftCodeGeneration normal armv7k /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire watchOS.build/Objects-normal/armv7k/Request.bc
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
SwiftCodeGeneration normal armv7k /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Intermediates/Alamofire.build/Release-watchos/Alamofire watchOS.build/Objects-normal/armv7k/MultipartFormData.bc
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
CpHeader Source/Alamofire.h /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release-watchos/Alamofire.framework/Headers/Alamofire.h
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
Touch /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release-watchos/Alamofire.framework
cd /Users/sk/Desktop/carthage-test/Carthage/Checkouts/Alamofire
/usr/bin/touch -c /Users/sk/Library/Developer/Xcode/DerivedData/Alamofire-dwpehielsglrlbbqmiaoodwtxsvy/Build/Products/Release-watchos/Alamofire.framework
target 'Alamofire watchOS' has bitcode disabled (ENABLE_BITCODE = NO), but it is required for the 'watchos' platform
target 'Alamofire watchOS' has bitcode disabled (ENABLE_BITCODE = NO), but it is required for the 'watchos' platform
I have the same issue with the latest version of carthage.
`carthage version` says
katunch:~$ carthage version
so i will investigate a bit more on that issue
@cnoon Upgrading Carthage to the version 0.13.0 via Homebrew solved the issue. Thanks.
As per the guidelines, I [asked on StackOverflow](http://stackoverflow.com/questions/35144676/how-do-i-mock-an-alamofire-response-only) about my specific problem. I thought I'd raise a meta-issue here, though, while I remember what it was like to be a developer new to Swift.
(And yeah, it's old enough that it thinks that it's worthwhile talking about gopher as a protocol. Ahem...)
private let manager : Alamofire.Manager
let configuration = Timberjack.defaultSessionConfiguration()
manager = Alamofire.Manager(configuration: configuration)
When I do the call it always fails because it's cancelled. When I just change manager.request to `Alamofire.request` it works. I found here on the github that you need to have a let in your class so I did but still the same problem.
I need to implement an API that needs a custom header to work:
`let manager = Alamofire.Manager.sharedInstance
When i'm calling my api through alamofire. it's requesting but not getting any response. it was working fine but suddenly it's not giving any response.
encoding = .Custom({convertible, params in
There was no such problems with AFNetworking.
Found workaround by not calling request.authenticate() and instead sending custom Authorization header by constructing new Alamofire.Manager:
self.alamofire = Manager(configuration: configuration)
@cnoon Please re-read the bug description: Alamofire doesn't allow access to response and headers in case when server returns status code 401.
var error: NSError?
Alamofire.request(.GET, URLString)
As far as I can see there is no built in support for this in Alamofire.
Using Alamofire (3.1.2)
do {
Error Domain=NSCocoaErrorDomain Code=516 "‚ÄúCFNetworkDownload_Sxtxfm.tmp‚Äù couldn‚Äôt be moved to ‚ÄúDocuments‚Äù because an item with the same name already exists."
self.manager = Alamofire.Manager(configuration: configuration)
error = "Bad Request";
code is below:
Alamofire.request(.POST, URL, parameters: parameters, headers: LoginManager.getBasicAuth(), encoding: .JSON)
let manager = Alamofire.Manager.sharedInstance
param["firstName"] = "AA"
param["firstName"] = "BBB"
Alamofire.upload(
> You can verify which one you selected by inspecting the build log for your project. The build target for Alamofire will be listed as either Alamofire iOS or Alamofire OSX.
![Alt text](https://monosnap.com/file/1dRsgn0EGweCch9NOvuzqiQY04Xwmy.png)
I had imported the framework of Alamofire  via Cocoapods......
But I wrote these codes ,it told me "Type MSGistRouter" cannot conform to protocol "URLRequestConvertible"....I don't believe that's my bad luck.......
@MarcSteven can you please post your Enum here ?
var method: Alamofire.Method {
enum AlamofireRequest:URLRequestConvertible {
case construct(Alamofire.Method,String,headers:[String:String],perms:[String:AnyObject]?)
return (method,endPoint,Alamofire.ParameterEncoding.JSON,header,perms)
return (method,endPoint,Alamofire.ParameterEncoding.URL,header,perms)
Do you have an idea what is wrong?
let url = "http://localhost:8088/weijia-wim-web/message/sendmessage"
Alamofire.request(.POST, url, parameters: parameters, encoding: .JSON)
if (isok == "666666"){
Alamofire.download crashes when returning NSURL without providing file path.
`Alamofire.download(.POST, URLStringConvertible) { _, _ in
for match in mtches {
Alamofire.request(.GET, user_url, headers: ["X-Auth-Token": tinder_token], encoding: .JSON)
Suggestion: lets move this discussion to #1935   I am creating a custom instance of Alamofire Manager and attaching additional headers to the configuration prior to initializing. I then use that manager to make a GET request. Here is how it is being initialized:
import Alamofire
var method: Alamofire.Method{
return Alamofire.ParameterEncoding.URL.encode(httpRequest, parameters: userInfo).0
return Alamofire.ParameterEncoding.URL.encode(httpRequest, parameters: (route.parameters ?? [ : ])).0
* User: renato
Alamofire.request(.POST, "http://192.168.0.106/post.php", parameters: [:]).responseJSON{ (response) in
print(Alamofire.request(UserRouter.CreateUser([:])).description)
print(Alamofire.request(UserRouter.CreateUser([:])).debugDescription)
https://github.com/Hokila/Alamofire
not use cocoapods
This contains a hacky implementation of .retry(count), that you can use to chain any Request on.
`Swift 3` with **Alamofire 4**
Alamofire.upload(multipartFormData: { (multipartFormData) in
**Alamofire 3**
**Alamofire 4**
Alamofire.request(.GET, "https://myserver/mp3", parameters: ["foo": "bar"])
10 minutes later it works again. It's not the server side that causes the problem because I was consuming google place API JSON and it worked from Postman so I guess it's some VooDoo magic involved here...
do {
By the way, is there a place to record common problems for `Alamofire` users except Stack Overflow? It can avoid bothering maintainers. @cnoon
riot!
I hope to fix it so that it does not check the parameters for only case of `.Custom`.
I understood the behavior of `.Custom` and I was fixed SwiftyDropbox.
Alamofire.Manager.sharedInstance.session.invalidateAndCancel()
I load Alamofire via Carthage:
github "Alamofire/Alamofire" ~> 3.0
4. Run > carthage update --platform iOS
"insecure.expired-apis.com": .DisableEvaluation
let manager: Alamofire.Manager = {
configuration.HTTPAdditionalHeaders = Alamofire.Manager.defaultHTTPHeaders
return Alamofire.Manager(
Also, @dickwu, for future references, I recommend that you to prepend each line of your code with four spaces so that it is easier to read. Doing so is how I achieved the code display that you see above.
Alamofire not support iOS 7
Hi @sonysm ,
I think that in the requirements of **Alamofire**, they said:
I embedded alamofire into my project but I have something strange with it.
(My api is double checked and works well with other clients so we can assume the problem come from alamofire)
When I call alamofire :
let request = Alamofire.request(.GET, endpoint + "/rooms/" + String(roomId), encoding: .JSON)
Do you have an idea where does it come from in alamofire ? I tryed to read the code but I am a beginner so your help is welcome :)
Seb
@cnoon  My api return the same result I used wireshark to check my api it send the same things to ios as for angularjs web client.
Since there is no published specification for how to encode collection types, the convention of appending `[]` to the key for array values (`foo[]=1&foo[]=2`), and appending the key surrounded by square brackets for nested dictionary values (`foo[bar]=baz`)
Dem
ParameterEncoding.Custom { requestConvertible, parameters in
Alamofire.request(.GET, url, encoding: .URL(brackets: false))
Dem
Now how to use it? How to convert code from  @DavdRoman answer?
Here is the code:
I tried to put it in an extension:
extension Alamofire.Request {
DER is a binary encoding format
.der is a (poor) extension referring to encoding instead of
Currently, the ENABLE_TESTABILITY flag is enabled for release builds. This appears to have been turned on to support building with Carthage, but setting up the projects schemes so that they don't build tests except when tests are being run achieves the same goal without incurring the performance impact that enabling testability can have. This PR leaves the ENABLE_TESTABILITY flag in the default state -- on for debug, off for release.
It's possible there's some other consideration of which I'm unaware, but at least with respect to Carthage builds, this configuration works equally well without the downside of always having ENABLE_TESTABILITY on.
I'm curious -- how does this impact the ability to run Alamofire tests? I ran the projects test suite before and after with the exact same results. Essentially all this would do is use the standard Xcode project defaults for a new project with unit tests.
Perhaps my description of the pull request set off alarm bells that it shouldn't have? Either that, or there is an issue with running tests of which I'm not aware.
@cnoon Adding one more thing -- the project currently works fine with Carthage. The motivation here is to disable testability in release mode because it negatively impacts performance.
@cnoon Thanks so much for not only considering this PR, but also taking the time and effort to to deal with the side effects. I'm happy to have helped in a small way, but the bigger thanks go to you and the rest of the Alamofire crew! We use it extensively in our Swift code at Best Buy and it works incredibly well.
I got the error below when installing the podfile to the project, as the app should support iOS7, I wrote "pod 'Alamofire', '<=1.3.1'" in the podfile.
- `Alamofire (<= 1.3.1)` required by `Podfile`
Specs satisfying the `Alamofire (<= 1.3.1)` dependency were found, but they required a higher minimum deployment target.
ths! :+1:
change escape method, cuz there are some custom chars need to check
my code:
class HTTPManager: Alamofire.Manager {
configuration.HTTPAdditionalHeaders = Alamofire.Manager.defaultHTTPHeaders
var manager: Alamofire.Manager
private func abstractRequestWithMethod(method:Alamofire.Method,url:String,parameters:[String: AnyObject]? = nil, completion:(finished: Bool, response: AnyObject?) ->Void ){
I tried to use all variants in comments #876, but no result. Late, I use Afnetworking 2.6.3
AFSecurityPolicy\* policy = [AFSecurityPolicy policyWithPinningMode:AFSSLPinningModeNone];
it works fine, but how it is to use with Alamofire
if $0 =~ host { // regex to check if my policy dictionary matches host
let request = Alamofire.request(......)
Alamofire.errorHandler {
(Alamofire/Source/ParameterEncoding.swift:230:12)
Alamofire.request(.POST, URL, parameters: parameter, encoding: .JSON)
I am using Alamofire, Swift 2
pod 'Alamofire', '~> 3.0'
- `Alamofire (~> 3.0)` required by `Podfile`
func bar(response: Alamofire.Response) {
I have a single exception breakpoint set on an example project. When I do a simple GET request with AF, the app crashes.
See https://github.com/dlo/Alamofire-Crash-Example for example code.
Ah, got it. Thanks! That's pretty weird. So I guess Swift-only exception breakpoints in Swift-only projects?
Alamofire.request(.GET, bankMeRequestUrl,parameters: parameters, encoding:ParameterEncoding.URLEncodedInURL).responseJSON
My bad. I was sending the encrypted string to an api as encoded. %2B is what I got confused about because my string was encrypted and always looks a mess. I was receiving the string back from the push server as encoded and forgot to decode the string again. I just added stringByRemovingPercentEncoding. Thanks for the help with %2B though.
I'm working on transferring my project from `AFNetworking` to `Alamofire`. Really like the project. However, I'm receiving this error when attempting to make a `GET` request that worked fine with `AFNetworking`.
let request = Alamofire.request(.GET, urlString, parameters: parameters, encoding: .JSON, headers: headers)
Could it be something with the `GET` vs. `POST`?
var method: Alamofire.Method {
return "/api/devices/\(uuid)"
return "/api/devices"
let toke = "Bearer " + tokenSDK
func ApiManager()->Manager{
Please tell me there's a way, otherwise I'll cry more and more :'(
Alamofire.request(.GET, host+requestURL)......
I getting this error in the alamofire at this line:
(Alamofire.swift : 92)
I'm trying to make a multi-platform framework with Alamofire from cocoapods, but when I compile I get several alerts and the library is not imported.
Here is the full stack trace showing how Alamofire is called:
1  Alamofire                      0x1002a9be8 Manager.request(Method, URLStringConvertible, parameters : [String : AnyObject]?, encoding : ParameterEncoding, headers : [String : String]?) -> Request (Manager.swift:165)
Here is how it is called in code:
Alamofire.request(.GET, http + domain + path, parameters: parameters).responseJSON {
There is the possibility of Arabic characters in the URL however, thanks for pointing me towards that. I will explore that possibility and upgrade to 3.x
http://stackoverflow.com/questions/33684973/nsdebugdescription-invalid-value-around-character-0-alamofire
Des
everything work like magic XD
Des
Would something [like this gist](https://gist.github.com/grosch/683b6cc6649719e6c3ce#file-alamofire-swift) work for the activity indicator stuff?  I think I'm close, but not entirely sure about the activeTask stuff that I did vs. the various ways you might generate/call a request.
<img width="574" alt="schermata 2015-11-14 alle 17 26 27" src="https://cloud.githubusercontent.com/assets/1908782/11164590/25c61ae2-8af5-11e5-8a7d-0ce904c0b250.png">
I keep trying to set headers with my authorization token, however alamofire is not using the headers I provided.
pod 'Alamofire', '~> 3.0'
Alamofire.request(
Server = "cloudflare-nginx";
Via = "1.1 vegur";
"cf-ray" = "2450aaa2d90f39ca-PHX";
Could this even be related to Alamofire?
ld: warning: linking against dylib not safe for use in application extensions: /Users/EricChen/Library/Developer/Xcode/DerivedData/ERCEngine-gjizomxiwiastihknrteecwkobuh/Build/Products/Debug-iphonesimulator/Alamofire.framework/Alamofire
URLRequest.HTTPMethod = Alamofire.Method.PUT.rawValue
manager = Alamofire.Manager(configuration: configuration)
I'm trying to send a Swift Bool in a POST request, however the server expects a number for this, but the request HTTP body shows that the bool was sent as 'true'.
Here is the code
Alamofire.request(
Alamofire (3.1.1)
let destination = Alamofire.Request.suggestedDownloadDestination(
Alamofire.download(.GET, "http://www.adobe.com/devnet/acrobat/pdfs/pdf_open_parameters.pdf", destination: destination)
let folderPath = documentDirectoryUrl.URLByAppendingPathComponent("Nawader/");
Alamofire.download(.GET, (fileUrl?.path)!, destination:destination)
But I get this error at `Alamofire.download` line :
Do you have any idea what's wrong ?
Etag = 2894n;
Pragma = public;
"Set-Cookie" = "uc_session=frshBchxeZ34Ln9tiirQoBO4kq9zIkqvaHq9jaaO9EL0e4jJmkDtltTKx6oPj3XL; Domain=dropboxusercontent.com; httponly; Path=/; secure";
``` Swift
Alamofire.download(.GET,
Alamofire
May be related to https://github.com/CocoaPods/CocoaPods/issues/4420
//        Alamofire.request(.GET, "my url")
//                if let JSoON = response.result.value {
//                 print(JSoON)
//                    let jsob = JSON(JSoON)
//                    let isa = jsob["FromEmirateNameEn"].string
//                    let isa = jsob["FromEmirateNameEn"].stringValue
//                    print(isa)
and the value turns from the weird numbers to the main json above but i can't use any thing in it at all every time i try like let isa = jsob["FromEmirateNameEn"].string
sorry for this @cnoon  i'm still new to this and   so disparate to know -.-
This failures with code -1017 because of encoding set to JSON. I know that GET requests should not have body but I'm still interested if there is some way to solve this.
Alamofire.request(.GET, "http://httpbin.org/get", parameters: ["dax":"dax"], encoding: ParameterEncoding.JSON, headers: nil).responseData { (response) -> Void in
Cocoapods version is 0.39.0
This is the error:
- `Alamofire (= 3.1.0)` required by `Podfile`
// try to refresh access token
return .Failure(a custom error)
Alamofire.request(.GET, "http://httpbin.org/get")
Not able to send the json of below format in alamofire as post parameter
{"paymenttype":"cod",
http://stackoverflow.com/questions/27794918/sending-array-of-dictionaries-with-alamofire.
http://www.scriptscoop.net/t/482057cd9d3a/ios-sending-array-of-dictionaries-with-alamofire.html.
![skaermbillede 2015-10-24 kl 01 06 58](https://cloud.githubusercontent.com/assets/3939917/10706888/a3f705a4-79eb-11e5-8b9d-a71bf488994c.png)
I noticed that I got two warnings regarding Alamofire.
Parse error: unexpected SDK key "appletvos"
**\* Building scheme "Alamofire tvOS" in Alamofire.xcworkspace
Parse error: unexpected SDK key "appletvos"
`github "Alamofire/Alamofire" ~> 3.0`
Then I did: carthage update and result is
*** Fetching Alamofire
*** Checking out Alamofire at "3.1.0"
*** xcodebuild output can be found in /var/folders/k5/ryt8g_7s2kg7x_rx4gf03twc0000gn/T/carthage-xcodebuild.b1eIwx.log
*** Building scheme "Alamofire OSX" in Alamofire.xcworkspace
*** Building scheme "Alamofire watchOS" in Alamofire.xcworkspace
*** Building scheme "Alamofire tvOS" in Alamofire.xcworkspace
Parse error: unexpected SDK key "appletvos"
Alamofire.request(.GET, encodedULR!, parameters: params, headers:headers)
else
print(errorType)
However when testing in Alamofire I get this error:
)}}}, NSLocalizedDescription=An SSL error has occurred and a secure connection to the server cannot be made.
configuration.HTTPAdditionalHeaders = Alamofire.Manager.defaultHTTPHeaders
return Alamofire.Manager(configuration: configuration,
Unfortunately that didn't fix my problem :cry: ... Which detail do you need for investigation?
curl --cacert root-ca.crt.pem https://api.moritzsternemann.de:3000
BUT now I get an other error:
Test Suite 'AlamofireTestTests' started at 2015-10-26 17:04:45.218
Test Suite 'AlamofireTestTests' failed at 2015-10-26 17:04:45.545.
code:
let manager: Alamofire.Manager = {
configuration.HTTPAdditionalHeaders = Alamofire.Manager.defaultHTTPHeaders
return Alamofire.Manager(
var error: NSError?
//        XCTAssertNotNil(request, "request should not be nil")
//        XCTAssertNotNil(response, "response should not be nil")
//        XCTAssertNil(error, "error should not be nil")
Optional(<>)
By the way, I am using Alamofire 3.1.0:
github "Alamofire/Alamofire" "3.1.0"
Alamofire.request(.GET, "https://pademo.service-now.com")
let request = Alamofire.request(.GET, "https://www.servicenow.com")
The main difference being that the `pademo` certificate is a wildcard certificate, while the other one is not.
Testing another wildcard certificate (`nl.godaddy.com`) however passes and the code runs fine...
my  code:
class HTTPManager: Alamofire.Manager {
//let configuration = Timberjack.defaultSessionConfiguration()
configuration.HTTPAdditionalHeaders = Alamofire.Manager.defaultHTTPHeaders
var manager: Alamofire.Manager
private func abstractRequestWithMethod(method:Alamofire.Method,url:String,parameters:[String: AnyObject]? = nil, completion:(finished: Bool, response: AnyObject?) ->Void ){
let manager = Alamofire.Manager.sharedInstance
let manager = Alamofire.Manager(
`trying to accept invalid certs
Optional(<>)
However when testing in Alamofire I get this error:
`var defaultManager = Alamofire.SessionManager.default
configuration.httpAdditionalHeaders = Alamofire.SessionManager.defaultHTTPHeaders
if let error = response.result.error as? AFError {
case .unacceptableStatusCode(let code):
statusCode = code
// statusCode = 3840 ???? maybe..
can you explain this with code.  Hi,
I tried some variant code above, but I still get error
Like I said earlier, this is just my best guess of what is happening under the hood, take it with a grain of salt, but wanted to bring it up at least for discussion to see if there was a more general way of solving the problem.
**Alamofire Version : 3.0.0**
I have the same "issue". I added Alamofire through Cocoapods.
Sorry for the late response ...  I have Added Alamofire manually.
![](http://i.imgur.com/exnePui.png)
Alamofire 3.1.2
How can i make alamofire supported by TVos , how can i compile and use ??
Versions of Alamofire tried: 2.0 and 3.0.
Funny enough, that is how it used to work, @damienrambout, but when I had to upgrade to Swift 2, and get the updated version of Alamofire, it broke because they included this new functionality. I still don't know why they decided to include this functionality. Safe to say, I had to fix half my responseJSON callbacks to account for this.
import Alamofire
pod 'Alamofire', '~> 3.0'
target 'B2B' do
pod 'MMWormhole', '~> 2.0'
platform :watchos, '2.0'
pod 'MMWormhole', '~> 2.0'
let destination = Alamofire.Request.suggestedDownloadDestination(directory: .DocumentDirectory, domain: .UserDomainMask)
Alamofire.download(.GET, urlString, destination: destination)
@xero88 you can do something like this..
@katunch thank you for your answer
Alamofire.request(.GET, "http://mydomain.com/api/v1/angles/3", headers: headers)
Alamofire.request(.GET, "http://mydomain.com/api/v1/angles/3/", headers: headers)
using with Alamofire-SwiftyJSON
anyone help? Alamofire (3.0.0)
warp in here
Why am i getting error:
on this code:
Alamofire.request(.GET, Config().apiTableGroup, headers: Config().apiHeaders)
Whenever I create requests periodically, the memory usage will steadily increase over time. I have created a simple Xcode that shows the behavior: https://www.dropbox.com/s/akropg4xsyswg21/AlamofireTest.zip?dl=0
Alamofire.request(.GET, "http://127.0.0.1")
usleep(100000)
![skaermbillede 2015-10-13 kl 11 19 40](https://cloud.githubusercontent.com/assets/2315801/10450719/72566e60-719c-11e5-8278-dd9dca42c0fa.png)
Disclaimer: I'm new to Swift and first time using Alamofire, so it might just be that I'm using it wrong :)
That works fine in Alamofire 2.0.2.
do {
let error: MTLError!
do {
do {
let endpointUrl = NSURL("http://aserver.com/somepath/uploadImageEndpoint")
let manager = Alamofire.Manager(configuration: configuration)
And how are you using your custom Alamofire manager now?
and this is not working:
Alamofire.request(.GET, Constants.Path.rootUrl + "/api/users", parameters: ["username" : usernameString, "limit":3] , headers: ["tb-token" : userToken!])
import Alamofire
Alamofire.request(.GET, "http://httpbin.org/get")
upload.responseJson...
`sudo gem install cocoapods --pre`
That's a good question, I don't know the answer to it though.
I asked that question because I got an iOS 9.0 required error when I tried to build my iOS (!) app for 8.0. But after deleting and re-adding the ATV (!) target, everything works fine... Strange, but anyway, here is my Podfile:
#pod 'Alamofire', '~> 3.0.0-beta.3'
#pod 'Alamofire', '~> 3.0.0-beta.3'
#pod 'Alamofire', '~> 3.0.0-beta.3'
[!] Error installing Alamofire
[!] /usr/bin/git clone https://github.com/Alamofire/Alamofire.git /var/folders/fg/ptwwhtkx4b35jgtww76g7l100000gp/T/d20161111-18710-18t7b4y --template= --single-branch --depth 1 --branch tvOS
I felt the description and instructions for _Carthage_ weren't accurate.
- reworded the introduction to _Carthage_ to be closer to how it describes itself.
- added project integration step instruction for _Carthage_ based on its documentation.
- `Alamofire (= 1.3.1)` required by `Podfile`
pod 'Alamofire', '1.3.1'
@cnoon Would this have a place within `Alamofire`?
That make sense. Logging may just be too subjective to integrate. I may consider open sourcing an external logging library for `Alamofire` sometime in the near future, but I understand why it doesn't make sense to include in the core library.
@cnoon could you please elaborate on Request debugging features? I need to somehow debug what is going on with my requests - if URL is correctly built, correct parameters are passed and required headers are set and returned back from the server
do {
Alamofire.download(.GET, "http://httpbin.org/stream/100", destination: destination)
@cristeahub I'm using cocoapods and using version 2.0.2 and still getting the error. What version do you suggest I use?
target 'apollo' do
pod 'Alamofire', '~> 2.0.2'
When trying to compile, I get an error: `<unknown>:0: error: Swift does not support the SDK 'MacOSX10.10.sdk'` under the Alamofire OSX section of the errors sidebar.
Is there a way around that?
- `Alamofire (~> 3.0)` required by `Podfile`
Diego
Is this something that is going to be updated on cocopods soon? I would probably change the README if it isn't...
like CocoaAsyncSocket
Alamofire.download(.GET, downloadURL) { temporaryURL, response in
"aa": 123,
"bb": 234
I have gone through stackoverflow questions but did not get any solutions.
Any help would be apperiated!
![alamofirebug](https://cloud.githubusercontent.com/assets/14276252/10192574/f33871c4-679a-11e5-9a15-0f247f31bed6.PNG)
@irealme @DanielyBotelho How are both of you installing Alamofire?
@cnoon If I am installing the alamofire by cloning the git, that means it is version 3.0 betas? Do you mean I should install using pod file? Correct me If I am wrong
I'm not sure whether the problem is on my side or Alamofire's, thus this issue.
I was getting the same error too.. It all worked once.. hahahaha now it's back to not working. I don't think it's Alamofire either, but since this is one of the top hits for the error message on google I thought I would add a voice to thread.  I am using Carthage, and I was adding dSYM files. So I think the dSYM files may be part of it.
Marcin Teodoru
skype: vdubskivr6
https://github.com/kivy/kivy-ios/pull/165
https://github.com/jadeblaquiere/kivy-ios
I'm doing the migration of my app on Swift 2.0. I took the opportunity to also migrate Alamofire from 1.3 to 2.0.
let destination = Alamofire.Request.suggestedDownloadDestination(directory: .DocumentDirectory, domain: .UserDomainMask)
Alamofire.download(.GET, url, destination: destination)
Undefined symbols for architecture armv7:
please help I am using 2.0.2 alamofire.
2015-09-28 18:20:58.950 alamofire-test[80162:2146829] NSURLSession/NSURLConnection HTTP load failed (kCFStreamErrorDomainSSL, -9813)
let defaultManager: Alamofire.Manager = {
configuration.HTTPAdditionalHeaders = Alamofire.Manager.defaultHTTPHeaders
return Alamofire.Manager(
@gensmusic what did you do exactly to get it to work?
let manager = Alamofire.Manager.sharedInstance
I am using SwiftyJSON for the moment, like :
pod 'Alamofire', '~> 2.0'
I also reinstalled cocoapods. Still same problem. Anyone have some idea how to fix this?
Alamofire requests don't call their response handlers when running unit tests inside a UI test target (although the actual calls are made). NSURLSession calls perform fine.
// NSURLSession
// Alamofire
Alamofire.request(.GET, url).responseData { (request, response, result) -> Void in
alamofireExpectation.fulfill()
UITests/Tests.swift:32: error: -[AppUITests.Tests testNetworkCalls] : Asynchronous wait failed: Exceeded timeout of 10 seconds, with unfulfilled expectations: "Alamofire".
The NSURLSession expectation is correctly fulfilled, while the Alamofire one is not. Any idea what's happening here?
Alamofire.request(.GET, url, parameters: params)
`Alamofire.request(MYRESOURCE).validate(statusCode: MYACCEPTABLESTATUSCODE).responseJSON{ (request, response, responseObject, error) -> Void in`
`Alamofire.request(MYRESOURCE).validate(statusCode: MYACCEPTABLESTATUSCODE).responseJSON { (request, response, result) -> Void in`
`Alamofire.request(MYRESOURCE).responseJSON{ (request, response, result) -> Void in`
I tried to add custom header with this:
@f2m2rd All headers are being dropped in iOS9? If you believe that is the case, you should absolutely make a new issue for that. That seems like a pretty urgent bug to be fixed.
@f2m2rd That makes much more sense now. Thanks!
I tried a "POST" request with <code>.JSON</code> as parameter encoding and my server logs me a "GET" request instead... Can you tell me why ?
let manager = Alamofire.Manager(configuration: configuration)
I can move this to Stack Overflow if that's more appropriate.
http://stackoverflow.com/questions/32766683/what-is-the-correct-way-to-use-backgroundcompletionhandler-in-alamofire
`pod 'Alamofire', '~> 3.0.0-beta.1'`
import Alamofire
https://github.com/nonec/AlamoFireNotModified
Alamofire.request(.GET, "http://localhost:3000/iosData")
AlamoreFire - Version 3.0.0-beta.1
@cnoon how do you handle the error or failure case?
fatal error: unexpectedly found nil while unwrapping an Optional value
Alamofire.Manager.sharedInstance.session.configuration.timeoutIntervalForRequest = 3
Should your updated API allow for passing in an NSURLSessionDelegate instead of a Manager.SessionDelegate?  I might be missing something - Thanks for any clarification...
I like this change as well. Will definitely make it easier to modify the object in the future if we need too, although it will be one more round of upgrades to every call site @tobiasoleary :beers:
@jschmid I think you've misunderstood what this PR (and the other AF3 PRs) require on the part of the developer. I don't know how your response serializer works or how you're generating your errors, but this new pattern doesn't require the use of `NSError`. I refactored the serializer I showed in that comment you linked to down to [this](https://gist.github.com/jshier/f08f08e05d994b5bdc7d). To handle the new error coming into the serializer (underlying errors and Alamofire validate errors both), all I had to do was `guard` against it and wrap it in my custom error type if it existed. Also, please remember that my serializer was so complicated because 1) I was doing custom JSON deserialization using Argo and 2) I had to check the partially parsed response for success, not just whether it parsed. Perhaps if you posted what you were trying to do others could help you out.
case MyError(Int)
// Handle obj here
PODS:
- Alamofire (2.0.1)
Now I just keep the different values for Authentication and apply them depending on the  route:
// Possible Requests
case Criterias(String)
return ("/categories/\(catId)/", "GET", false, [:], Alamofire.ParameterEncoding.URL)
return ("/categories/\(catId)/criteria", "GET", false, [:], Alamofire.ParameterEncoding.URL)
Alamofire.request(route)
Vary: Accept
And with Criterias it does not work:
Alamofire.request(route)
.responseJoixes { (jxResponse, error) -> Void in
completion(criterias, error)
Vary: Accept
@eburi  Hi Please use this code to send Authorization-Header
Alamofire.request(route)
.responseJoixes { (jxResponse, error) -> Void in
completion(criterias, error)
Using Alamofire (2.0.1)
@eburi So this was fixed by pointing to the correct endpoint and the Router worked accordingly?
Alamofire.request(.POST, API().addPost(), parameters: params,encoding: .JSON, headers: headers).progress { (bytesWritten, totalBytesWritten, totalBytesExpectedToWrite) -> Void in
else
@mypark  I am using
@ursu-daniil  @mypark  Got a solution..Use following code to send Header
So for the time being this will allow us to keep using Alamofire with Swift 1.2 and iOS 9.
[!] Error installing Alamofire
[!] /usr/bin/git clone https://github.com/SwiftyJSON/Alamofire-SwiftyJSON.git /var/folders/96/4b8rkpfd40s7lg6d95rgc67m0000gn/T/d20150917-3947-1hxgf8y --single-branch --depth 1 --branch swift-2.0
fatal: Remote branch swift-2.0 not found in upstream origin
It seems that in 8873379b67185e220eb09b05e8227ed19a0d296f `Alamofire iOS` got a dependency on its own. This should actually be a dependency for the test bundle so I took the liberty to move this dependency.
Alamofir is a very good net request kit.
Today, i  had updated Xcode from 6.4 to 7 , i got many errors , among them point to the Alamofire.
I'm setting a custom boundary like this.
but when I do `request.request?.allHTTPHeaderFields` in the encodingCompletion closure I get the default alamofire boundary.
Now i'm converting my project to Swift 2.0 and Alamofire 2.0. However the same code(except for removing the Error parameter) is giving me an 401 error using the same URL, username and password:
Am i doing something wrong or is this an issue?
let manager = Alamofire.Manager(configuration: configuration)
password=password?&username=hello%20world
Alamofire.request(Router.Put(query: url, params: params, encoding: .JSON))
var httpMethod: String = Alamofire.Method.GET.rawValue
httpMethod = Alamofire.Method.GET.rawValue
httpMethod = Alamofire.Method.POST.rawValue
httpMethod = Alamofire.Method.PUT.rawValue
httpMethod = Alamofire.Method.DELETE.rawValue
URLRequest.setValue(key, forHTTPHeaderField: "X-BC-API")
Pragma = "no-cache";
Alamofire.upload(.POST,
pod 'Alamofire', '~ 2.0'
I turn to have a lot ofCFStringTransform, it seems that the arg type is not right.
if CFStringTransform(mutableUserAgent, UnsafeMutablePointerCFRange(nil), transform, false) {
‰∏ªÈ¢ò:Re: [Alamofire] Now does it suport swift2.0? (#769)
I've run the iOS unit tests on the target and that all pass. However the CacheTestCase tests randomly fail for no reason on some occasions. Normally a max of 3 out of the 5 fail, but normally just one of them does (but not always the same one). I'm not sure if this is an Xcode beta thing or that the tests were designed for iOS not tvOS.
source 'https://rubygems.org'
@loretoparisi I would move this to [StackOverflow](http://stackoverflow.com), as that's the better place to ask this type of question. Issues in GitHub projects are more for issues or bugs with the respective repo only.
@cnoon I can understand that you don't want to have problems because of breaking Swift updates but hopefully they are behind us now (and in any event, they would entail changes to the Alamofire library too, and the Result library is likely to be faster to react because they seem to be on the cusp for the latest versions and it is also a much smaller library). Result also uses semantic versioning for releases which should ensure backwards compatibility.
success(img!)
If I use this function I get `Error Domain=NSURLErrorDomain Code=-999` I think it is because of some retain issue. However if I add `_ = self.mngr` inside response block it works. I am really puzzled.
Hi kylef!
1. Dragging Alamofire.xcodeproj into the projects navigator
Added tvos support to Alamofire
Alamofire should just have this as a dependency and extend it as needed.
Crashing function:
let url = "http://www.example.com/abc/def.asp"
let parameters = ["k":"abc def"]
Most of these would need to be:
s.dependency 'Alamofire','~> 2.0'
I get 198 erros, Do I need to do something else?
I tried installing Alamofire on two machines with error.
[!] Error installing Alamofire
[!] /usr/bin/git clone https://github.com/Alamofire/Alamofire.git /var/folders/lp/xmgfh1cd37b52zkr63vlk7hc0000gn/T/d20150909-652-mxmpi8 --single-branch --depth 1 --branch swift-2.0
fatal: Remote branch swift-2.0 not found in upstream origin
Alamofire.upload(
@silver619 When you're testing DropBox (i.e. DropBox CLI?), RestClient, and iOS clients, where's the physical server in relationship to the client which is initiating the upload?
Just to ensure it was nothing else from my side i created a new single view project and entered code only for alamofire, with no other frameworks involved. I hav ethe same outcome. Upload is slow on the device, takes longer than i would care to wait for, whereas on the simulator it is done in 2 minutes for a 10mb video file and one small image. Other uploads on other apps on the device seem to be working fine. Here is the code  i used, without the address of course:
Alamofire.upload(
Alamofire.Method.POST,
use it with an NSURLRequest object outside of Alamofile
"Content-Type" = "multipart/form-data; boundary=alamofire.boundary.789baeeace7d721a";
Clearly this is a bit of hack, but something similar might be a way to implement this without introducing breaking changes.
Can't we do with Data in background.  ```
if let image = avatar {
Alamofire.request(.POST, request, parameters: params, encoding: .JSON, headers: self.defaultHeaders())
return mutableDictionary
as i said, "if not, could this be considered as a required upgrade?" , being unable to create a alamofire instance with a String chain as "params" or as "body" in the Alamofire.request(.POST,etc...) , and having to separately create a Request variable,  transform string into codified NSDATA and applying it to the request's HTMLbody property does not seem the appropiate way of doing it, i had already searched in SO, but thanks (really, i just came here when SO's search engine ran out of ideas).
Sorry to be late to the party, but I was wondering why you used NSError instead of the `ErrorType` protocol. This is related to PR #627.
That odd. I really don't get why a `ValidationResult.Failure` would always require an `NSError`.
case LeetError
Alamofire.request(.GET, "http://httpbin.org/get")
Thanks @cnoon ! :rocket:
**TL;DR**: Writing code that creates an `Alamofire.Request` from a method, a path, a set of query string parameters, form fields, and (possibly) file uploads is more difficult than expected.
This is a pretty big and undefined issue so I apologize for that in advance, but I'm hoping it might start a constructive discussion on a problem I've run into (or at the very least tell me I'm doing things wrong and there's a better way :)
Alamofire.upload(
let request = Alamofire.request(requestInfo)
(request, _) = Alamofire.ParameterEncoding.URL.encode(request, parameters: self.queryString)
(request, _) = Alamofire.ParameterEncoding.URL.encode(request, parameters: self.form)
So my feature request is essentially a streamlined way to construct `Alamofire.Request` which is either a file upload or a regular GET/POST request without having to branch the code so much. I hope this input is relevant and let me know if there's any additional information I can provide, or if there's any way I can help out.
IMPORTANT
Alamofire.request(.GET, url)
I've done a bit of investigation, and in the current master, `- URLSession:task:didReceiveChallenge:completionHandler:` is not called on the `SessionDelegate`. The commit that broke this seems to be b69959b8ad129057a9f4f313a0ccc7772902ee65. With the removal of `respondsToSelector`, the above method isn't called anymore. However, I don't understand why. Could someone please look into it?
In the current version of the project I didn't find an ability to make a download of a file with some parameters (like  Alamofire.request do). I needed this in my project, and i think it will be very useful to others.
Alamofire.request(.GET, "https://api.someplace.com/", parameters: nil, encoding: .JSON, headers: headers)
do {
Alamofire.upload(
[Imgur](http://i.imgur.com/odDFJHr.png)
Installing Alamofire (2.0.0-beta.1)
Installing Alamofire 2.0.0-beta.2 (was 2.0.0-beta.1)
I received 46 errors trying to include the Alamofire Source directory directly in my project.
- one with authenticationMethod == NSURLAuthenticationMethodOAuth (I'm confused a little bit here, since there is no actual constant for this value, its just the output of the `po` command)
p.s. Was thinking about returning a Bool from `taskDidReceiveChallenge` but its a bit weird as for me, what do you think?
session: NSURLSession,
task: NSURLSessionTask,
didReceiveChallenge challenge: NSURLAuthenticationChallenge,
Just started looking at the 2.0 API changes and the `Result` type really stuck out. It's a great encapsulation but I find it rather strange that it uses `NSError` rather than `ErrorType` to capture errors. Using `ErrorType` instead would allow much greater flexibility for developers by allowing them to create their own, customized error types. For instance, I'm currently developing against the CloudFlare API (api.cloudflare.com) and it uses a few HTTP response codes combined with details in the response JSON to indicate what error has occurred. I created a `CloudFlareError` enum that encapsulates all of the different errors. It'd be great to be able to encapsulate this error type in my generic serializer, rather than having to spit it out some other way. Was there a particular reason why only `NSError` was supported?
Now that Swift can throw and catch errors, it also handles Objective-C code that throws errors. Now you don't have to (and actually can't) use NSError inout variables to catch the errors. Therefore, the example code for serializing Ono :
do {
let manager = Alamofire.Manager(configuration: sessionConfig)
Jan
``` Swift
import Alamofire
It will be good to rename Alamofire.Result because it's very specific to response use case, ResponseResult, AFResult or something similar.
Cocoapods, branch swift-2.0
Alamofire.request(.POST, YOUR_URL, parameters: self.parameters, headers: ["Authorization":"(YOUR_TOKEN)"] ,encoding: .JSON)
which was not quite correct. Sorry for this.
Anyone might help out a bit with this ? I'm having the same issue. My sever works with HTTPS now and client ignores HTTPAdditionalHeaders, I'm guessing because the serverTrustPolicies but I'm not sure exactly which policy to create... Ideas?
It also makes Carthage fail to build the Frameworks.
- using ephemeral sessions
@cnoon With the latest tests you added, Carthage can't compile Alamofire anymore because
Interestingly I am using 10.10.5 and Xcode 7b5 toolchain when using `carthage update`
- How did you build Alamofire? > I used cocoapods following guidelines here: https://github.com/Alamofire/Alamofire#cocoapods.
- Extra: running app on iOS 8.4
I've been unable to build Alamofire on carthage which produces the following error in the log:
write-file /Users/jurvistan/Library/Developer/Xcode/DerivedData/Alamofire-giuxdschbqsymscojpimobtahmgq/Build/Intermediates/Alamofire.build/all-product-headers.yaml
SDKROOT = watchos2.0
write-file /Users/jurvistan/Library/Developer/Xcode/DerivedData/Alamofire-giuxdschbqsymscojpimobtahmgq/Build/Intermediates/Alamofire.build/all-product-headers.yaml
target 'Alamofire watchOS' has bitcode disabled (ENABLE_BITCODE = NO), but it is required for the 'watchos' platform
`github "Alamofire/Alamofire"`
## Carthage Version
Sljux:Documents Sljux$ carthage version
## `carthage update` output
*** Fetching Alamofire
*** Checking out Alamofire at "2.0.2"
*** xcodebuild output can be found in /var/folders/td/99svwd2x5b3g6nkwjv_3y52w0000gn/T/carthage-xcodebuild.kYUE0x.log
*** Building scheme "Alamofire watchOS" in Alamofire.xcworkspace
SDKROOT = watchos2.0
target 'Alamofire watchOS' has bitcode disabled (ENABLE_BITCODE = NO), but it is required for the 'watchos' platform
In Alamofire.swift:
![alamofire-swift2-errors](https://cloud.githubusercontent.com/assets/5456481/9238050/64c7e6d4-411d-11e5-9910-3f5eb4c12f1a.png)
import Alamofire
Are you using the swift-2 branch?
pod 'Alamofire', '2.0.0-beta.1'
Why does this error occur?
I had kept project name as "Alamofire".
@pvegh ah my bad.
Also when just trying to pull straight form the swift-2.0 branch. I'm receiving this error from cocoapods.
pod 'Alamofire', '2.0.0-beta.1'
pod 'MBProgressHUD'
I'm using Carthage and get the same error while building:
[...]/Carthage/Checkouts/Alamofire/Source/Manager.swift:75:20: error: cannot invoke 'CFStringTransform' with an argument list of type '(CFMutableString, UnsafeMutablePointer<  CFRange>, CFString, Bool)'
[...]/Carthage/Checkouts/Alamofire/Source/MultipartFormData.swift:260:27: error: 'NSURL' does not have a member named 'checkPromisedItemIsReachableAndReturnError'
[...]/Carthage/Checkouts/Alamofire/Source/ServerTrustPolicy.swift:166:41: error: cannot invoke 'SecPolicyCreateSSL' with an argument list of type '(Bool, CFString)'
[...]/Carthage/Checkouts/Alamofire/Source/ServerTrustPolicy.swift:172:45: error: cannot invoke 'SecPolicyCreateSSL' with an argument list of type '(Bool, CFString)'
[...]/Carthage/Checkouts/Alamofire/Source/ServerTrustPolicy.swift:176:17: error: cannot invoke 'SecTrustSetAnchorCertificatesOnly' with an argument list of type '(SecTrust,    Bool)'
[...]/Carthage/Checkouts/Alamofire/Source/ServerTrustPolicy.swift:203:45: error: cannot invoke 'SecPolicyCreateSSL' with an argument list of type '(Bool, CFString)'
@Prince2k3 are you sure you have beta 5? Maybe try to clean and rebuild.
I asked a question in stackflow tagged with "alamofire", could you help me with that?
Alamofire.download(.GET, "http://httpbin.org/stream/100", destination: destination)
let request = Alamofire.request(mutableURLRequest)
Alamofire.request(.GET, "https://httpbin.org/basic-auth/\(user)/\(password)")
if -999 == error.code && error.domain == NSURLErrorDomain {
Something like `AFNetworkActivityIndicatorManager` would be great.
> Something like `AFNetworkActivityIndicatorManager` would be great.
> Just FYI...we just released AlamofireImage!
something like `AFNetworkReachabilityManager` is already in the list?
I'm getting this error when trying to build an Command Line Tool Project using Alamofire in XCode 6.4 on OSX 10.10 :
pod 'Alamofire', '~> 1.3'
I am using Cocoapods.
Alamofire.request("https://httpbin.org/get").validate().responseJSON { response in
<img width="690" alt="screen shot 2016-11-20 at 12 00 34 pm" src="https://cloud.githubusercontent.com/assets/7058465/20461477/fff22290-af18-11e6-8f61-b1343feee071.png">
../Pods/Alamofire/Source/ServerTrustPolicy.swift:166:41: error: cannot invoke 'SecPolicyCreateSSL' with an argument list of type '(Bool, CFString)'
../Pods/Alamofire/Source/ServerTrustPolicy.swift:172:45: error: cannot invoke 'SecPolicyCreateSSL' with an argument list of type '(Bool, CFString)'
../Pods/Alamofire/Source/ServerTrustPolicy.swift:176:17: error: cannot invoke 'SecTrustSetAnchorCertificatesOnly' with an argument list of type '(SecTrust, Bool)'
../Pods/Alamofire/Source/ServerTrustPolicy.swift:176:17: note: expected an argument list of type '(SecTrust, Boolean)'
../Pods/Alamofire/Source/ServerTrustPolicy.swift:203:45: error: cannot invoke 'SecPolicyCreateSSL' with an argument list of type '(Bool, CFString)'
../Pods/Alamofire/Source/Manager.swift:75:20: Cannot invoke 'CFStringTransform' with an argument list of type '(CFMutableString, UnsafeMutablePointer<CFRange>, CFString, Bool)'
Alamofire.request(.GET, "http://httpbin.org/get")
I think it's like that because they want to emphasize the difference of a `responseJSON` and a regular `response`.
But my concern is just that users of the documentation are not always that familiar with swift, and this will trip them.
There is an issue when i try to use 'Method' enum as parameter of an function, gives me error **'Method' is ambiguous for type lookup in this context**. If i use it as argument of  `Alamofire.request()` function there is no problem. What could cause such an error?
> Cocoapods: 0.38.2v
import Alamofire
Alamofire.request(Method.GET, ServerPath, parameters: nil, encoding: ParameterEncoding.URL, headers: nil)
You've to use `Alamofire.Method` to resolve name conflic
If you `carthage update` on the latest version of the swift-2.0 branch you will get error included:
Error
**\* Building scheme "Alamofire iOS" in Alamofire.xcworkspace
However en ios i make me request like this:
This is a bug?
I completely removed the custom object serialization and still saw the issue.  I even removed AlamofireObjectMapper entirely from the project and still saw the issue.
Solved!  It was actually `BigBrother`
// Shouldn't do either of these!
BigBrother.addToSessionConfiguration(Alamofire.Manager.sharedInstance.session.configuration)
public class var manager: Alamofire.Manager {
Also incidentally, this would be a +1 to an Alamofire solution to the network activity indicator akin to `AFNetworking` ;) (I believe there's already some feature requests for this?)
I tend to agree with you there, no need wasting effort debugging things like this!  Especially with such a strange edge case (believe me, I always find those extreme edge cases -_-)
import AlamoFire
public class ApiClient {
Alamofire.request(Router.Search(query: query))
import BigBrother
// alternatively
Probably because that parameter list is changed in `swift-2.0` branch as `(NSURLRequest?, NSHTTPURLResponse?, Result<String>)`, so you have now too many parameters for it.
Alamofire.request(.POST, "\(self.REQ_URL)", parameters: parameters).validate(contentType: ["application/json"]).responseJSON(options: [], completionHandler: { (req, resp, data) -> Void in
let request = Alamofire.request(.GET, hostUrl + "/api/devices/" + uuid )
fulfill(device!)
I think using BooleanType is more Swift-like approach.
Thanks for @cnoon and @kylef comments. I'm Swift newbie and I'm glad for all comments helping me to implement better apps.
I've tried these variations in my Cartfile:
github "Alamofire/Alamofire" "swift-2.0"
And I get this error each time when running carthage update:
### Gemfile
``` ruby
source 'https://rubygems.org'
gem 'cocoapods', '~> 0.38.0.beta.2'
``` ruby
platform :ios, '8.1'
#pod 'SwiftSpinner'
upgraded cocoapods. no joy  I'm compiling to  iphone 6 plus.
Using tzinfo 1.2.2
Using claide 0.9.1
Using cocoapods-core 0.38.2
Using cocoapods-downloader 0.9.1
Using cocoapods-plugins 0.4.2
Using cocoapods-stats 0.5.3
Using cocoapods-trunk 0.6.1
Using cocoapods-try 0.4.5
Using escape 0.0.4
Using molinillo 0.3.1
Using cocoapods 0.38.2
It's misbehaving on ios 8.4 / iphone 6 device as well. I think it's related to my provisioning profile or cocoapods. going to close this. thanks
let download = Alamofire.download(.GET, url, destination)
Alamofire
let task = Alamofire.request(urlRequest)
fulfill(devices!)
I'm using alamofire 1.3.1
- Alamofire 1.3.0
- Carthage 0.7.5
I use Alamofire 1.3.0 with Carthage. It works when it was 1.2.3 but 1.3.0 outputs error when using 1.3.0.
2015-07-29 19:07:34.019 dyld: lazy symbol binding failed[D: Symbol not found: __TFO9Alamofeire17ParameterEncoding6encodefS0b_FTPS_21URLRequestConvertible_10uparametersGSqGVSs10DictionarySSPgSs9AnyObject____TCSo12NSURLReque]stGSqCSo7NSError__
I'm getting the final error after running Carthage update:-
**\* Building scheme "Alamofire iOS" in Alamofire.xcworkspace
/Users/robinmalhotra/Developer/alamo/Carthage/Checkouts/Alamofire/Source/ParameterEncoding.swift:31:10: error: enum cases require explicit raw values when the raw type is not integer literal convertible
/Users/robinmalhotra/Developer/alamo/Carthage/Checkouts/Alamofire/Source/ServerTrustPolicy.swift:125:30: error: cannot invoke 'append' with an argument list of type '(Unmanaged<SecCertificate>)'
/Users/robinmalhotra/Developer/alamo/Carthage/Checkouts/Alamofire/Source/ServerTrustPolicy.swift:167:13: error: cannot invoke 'SecTrustSetPolicies' with an argument list of type '(SecTrust, [Unmanaged<SecPolicy>!])'
/Users/robinmalhotra/Developer/alamo/Carthage/Checkouts/Alamofire/Source/ServerTrustPolicy.swift:173:17: error: cannot invoke 'SecTrustSetPolicies' with an argument list of type '(SecTrust, [Unmanaged<SecPolicy>!])'
/Users/robinmalhotra/Developer/alamo/Carthage/Checkouts/Alamofire/Source/ServerTrustPolicy.swift:204:17: error: cannot invoke 'SecTrustSetPolicies' with an argument list of type '(SecTrust, [Unmanaged<SecPolicy>!])'
/Users/robinmalhotra/Developer/alamo/Carthage/Checkouts/Alamofire/Source/ServerTrustPolicy.swift:253:30: error: cannot invoke 'append' with an argument list of type '(Unmanaged<SecCertificate>)'
/Users/robinmalhotra/Developer/alamo/Carthage/Checkouts/Alamofire/Source/ServerTrustPolicy.swift:261:62: error: 'Unmanaged<CFData>!' is not convertible to 'NSData'
/Users/robinmalhotra/Developer/alamo/Carthage/Checkouts/Alamofire/Source/ServerTrustPolicy.swift:272:29: error: cannot invoke 'publicKeyForCertificate' with an argument list of type '(Unmanaged<SecCertificate>)'
/Users/robinmalhotra/Developer/alamo/Carthage/Checkouts/Alamofire/Source/ServerTrustPolicy.swift:286:35: error: cannot invoke 'SecTrustCreateWithCertificates' with an argument list of type '(SecCertificate, Unmanaged<SecPolicy>!, inout SecTrust?)'
/Users/robinmalhotra/Developer/alamo/Carthage/Checkouts/Alamofire/Source/ServerTrustPolicy.swift:289:25: error: cannot assign a value of type 'Unmanaged<SecKey>!' to a value of type 'SecKey?'
Pods.build/Release-iphoneos/Alamofire.build/Objects-normal/arm64/ServerTrustPolicy.o
-o /Users/kamol/Library/Developer/Xcode/DerivedData/ShoppingXXX-dlpuiajnjtnnesfkfvqddrrirgnd/Build/Intermediates/ArchiveIntermediates/ShoppingXXX/IntermediateBuildFilesPath/Pods.build/Release-iphoneos/Alamofire.build/Objects-normal/arm64/ServerTrustPolicy.o
Still get multiple errors. Is this because I'm on El Capitan?
Alamofire.request(.POST, "url", parameters: parameters)
Alamofire.request(.GET, "url", parameters: parameters)
github "Alamofire/Alamofire" "swift-2.0"
- `carthage update` fails
```swift
Alamofire.request(encodedURLRequest).responseJSON { response in
0.  Program arguments: /Applications/Xcode-beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/swift -frontend -c PATH_TO_ALAMO/Alamofire/Source/Upload.swift PATH_TO_ALAMO/Alamofire/Source/ParameterEncoding.swift PATH_TO_ALAMO/Alamofire/Source/Request.swift PATH_TO_ALAMO/Alamofire/Source/ResponseSerialization.swift PATH_TO_ALAMO/Alamofire/Source/Manager.swift PATH_TO_ALAMO/Alamofire/Source/Alamofire.swift PATH_TO_ALAMO/Alamofire/Source/MultipartFormData.swift -primary-file PATH_TO_ALAMO/Alamofire/Source/ServerTrustPolicy.swift PATH_TO_ALAMO/Alamofire/Source/Download.swift PATH_TO_ALAMO/Alamofire/Source/Validation.swift -target x86_64-apple-ios8.0 -enable-objc-interop -sdk /Applications/Xcode-beta.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator9.0.sdk -I HOME/Library/Developer/Xcode/DerivedData/Alamofire-gtihnsuowttctwaxgdndjwvmkgvf/Build/Products/Release-iphonesimulator -F HOME/Library/Developer/Xcode/DerivedData/Alamofire-gtihnsuowttctwaxgdndjwvmkgvf/Build/Products/Release-iphonesimulator -application-extension -g -import-underlying-module -module-cache-path HOME/Library/Developer/Xcode/DerivedData/ModuleCache -serialize-debugging-options -Xcc -IHOME/Library/Developer/Xcode/DerivedData/Alamofire-gtihnsuowttctwaxgdndjwvmkgvf/Build/Intermediates/Alamofire.build/Release-iphonesimulator/Alamofire iOS.build/swift-overrides.hmap -Xcc -iquote -Xcc HOME/Library/Developer/Xcode/DerivedData/Alamofire-gtihnsuowttctwaxgdndjwvmkgvf/Build/Intermediates/Alamofire.build/Release-iphonesimulator/Alamofire iOS.build/Alamofire-generated-files.hmap -Xcc -IHOME/Library/Developer/Xcode/DerivedData/Alamofire-gtihnsuowttctwaxgdndjwvmkgvf/Build/Intermediates/Alamofire.build/Release-iphonesimulator/Alamofire iOS.build/Alamofire-own-target-headers.hmap -Xcc -IHOME/Library/Developer/Xcode/DerivedData/Alamofire-gtihnsuowttctwaxgdndjwvmkgvf/Build/Intermediates/Alamofire.build/Release-iphonesimulator/Alamofire iOS.build/Alamofire-all-non-framework-target-headers.hmap -Xcc -ivfsoverlay -Xcc HOME/Library/Developer/Xcode/DerivedData/Alamofire-gtihnsuowttctwaxgdndjwvmkgvf/Build/Intermediates/Alamofire.build/all-product-headers.yaml -Xcc -iquote -Xcc HOME/Library/Developer/Xcode/DerivedData/Alamofire-gtihnsuowttctwaxgdndjwvmkgvf/Build/Intermediates/Alamofire.build/Release-iphonesimulator/Alamofire iOS.build/Alamofire-project-headers.hmap -Xcc -IHOME/Library/Developer/Xcode/DerivedData/Alamofire-gtihnsuowttctwaxgdndjwvmkgvf/Build/Products/Release-iphonesimulator/include -Xcc -IHOME/Library/Developer/Xcode/DerivedData/Alamofire-gtihnsuowttctwaxgdndjwvmkgvf/Build/Intermediates/Alamofire.build/Release-iphonesimulator/Alamofire iOS.build/DerivedSources/x86_64 -Xcc -IHOME/Library/Developer/Xcode/DerivedData/Alamofire-gtihnsuowttctwaxgdndjwvmkgvf/Build/Intermediates/Alamofire.build/Release-iphonesimulator/Alamofire iOS.build/DerivedSources -Xcc -ivfsoverlay -Xcc HOME/Library/Developer/Xcode/DerivedData/Alamofire-gtihnsuowttctwaxgdndjwvmkgvf/Build/Intermediates/Alamofire.build/Release-iphonesimulator/Alamofire iOS.build/unextended-module-overlay.yaml -Xcc -working-directoryPATH_TO_ALAMO/Alamofire -emit-module-doc-path HOME/Library/Developer/Xcode/DerivedData/Alamofire-gtihnsuowttctwaxgdndjwvmkgvf/Build/Intermediates/Alamofire.build/Release-iphonesimulator/Alamofire iOS.build/Objects-normal/x86_64/ServerTrustPolicy~partial.swiftdoc -O -module-name Alamofire -emit-module-path HOME/Library/Developer/Xcode/DerivedData/Alamofire-gtihnsuowttctwaxgdndjwvmkgvf/Build/Intermediates/Alamofire.build/Release-iphonesimulator/Alamofire iOS.build/Objects-normal/x86_64/ServerTrustPolicy~partial.swiftmodule -serialize-diagnostics-path HOME/Library/Developer/Xcode/DerivedData/Alamofire-gtihnsuowttctwaxgdndjwvmkgvf/Build/Intermediates/Alamofire.build/Release-iphonesimulator/Alamofire iOS.build/Objects-normal/x86_64/ServerTrustPolicy.dia -emit-dependencies-path HOME/Library/Developer/Xcode/DerivedData/Alamofire-gtihnsuowttctwaxgdndjwvmkgvf/Build/Intermediates/Alamofire.build/Release-iphonesimulator/Alamofire iOS.build/Objects-normal/x86_64/ServerTrustPolicy.d -emit-reference-dependencies-path HOME/Library/Developer/Xcode/DerivedData/Alamofire-gtihnsuowttctwaxgdndjwvmkgvf/Build/Intermediates/Alamofire.build/Release-iphonesimulator/Alamofire iOS.build/Objects-normal/x86_64/ServerTrustPolicy.swiftdeps -o HOME/Library/Developer/Xcode/DerivedData/Alamofire-gtihnsuowttctwaxgdndjwvmkgvf/Build/Intermediates/Alamofire.build/Release-iphonesimulator/Alamofire iOS.build/Objects-normal/x86_64/ServerTrustPolicy.o
And error is not clear:
I add the Alamofire using Pod file
$ xcodebuild -project Alamofire.xcodeproj/
Apparently an Apple bug, but it‚Äôs breaking Carthage builds for client projects.
Disabling Swift optimisation on the Release builds seems to be a workaround.
"email": "johndoe@yahoo.com"
let manager = Alamofire.Manager.sharedInstance
Is this a bug or am I doing something wrong?
Note: I am calling a Alamofire.request  on viewDidLoad method.
(lldb) po customer
addressName = "Mi primo Richard";
nonSelectableArea = Elda;
nonSelectableArea = Petrer;
nonSelectableArea = Petrer;
[nonSelectableArea] => Elda
[addressName] => Mi primo Richard
[nonSelectableArea] => Petrer
[nonSelectableArea] => Petrer
[name] => Valido
- Calling Alamofire.request on feature/server_trust_policy works on Run, but breaks UI testing.
**References PR:**
@Jirka1111 Make sure you use the latest release :)
Alamofire.request(.PUT, "https://(domainText).projektove.cz/issues/(self.ids[indexPath.row]).done.json")
Server = "nginx/1.8.0";
I've only been actively using (not just reading about) Swift for the last two weeks, so please forgive any newbish mistakes, and I would greatly appreciate any comments, suggestions, etc.
@cnoon I totally agree with you. I also think it is ok to break the rules(semver) once a while. Just need to make sure to document it well. So that when people update their dependencies(which include Alamofire) no matter with or without the knowledge that there's a breaking change, they can find their answer quick.
- Encoded file data
- Multipart form boundary
init?(name:String, text:String) {
The extension code in its entirety is:
import Alamofire
extension MultipartFormData {
protocol MultipartProtocol {
init?(name:String, text:String) {
enum Mime : String {
**Improvements to the Api**
Alamofire.upload(
Alamofire.upload(
I do appreciate your hard work though; I don't mean this to sound like a criticism.  It can't be easy working through all the cases.
http://stackoverflow.com/questions/27794918/sending-array-of-dictionaries-with-alamofire
@paulyoung You can find it at https://developer.apple.com/swift/blog/?id=2 Thanks @kylef! Better late than never üòÉ   i using cartfile for alamofire, the cartfile show below:
github "Alamofire/Alamofire" "swift-2.0"
when i run carthage update command, it product some complie error below:
CompileSwift normal x86_64 /Users/wangxiaotao/Documents/JRFoundation/Carthage/Checkouts/Alamofire/Source/Upload.swift
CompileSwift normal x86_64 /Users/wangxiaotao/Documents/JRFoundation/Carthage/Checkouts/Alamofire/Source/ParameterEncoding.swift
CompileSwift normal x86_64 /Users/wangxiaotao/Documents/JRFoundation/Carthage/Checkouts/Alamofire/Source/Request.swift
CompileSwift normal x86_64 /Users/wangxiaotao/Documents/JRFoundation/Carthage/Checkouts/Alamofire/Source/ResponseSerialization.swift
I create a custom `NSURLSessionConfiguration` with additional http headers. Pass it to `Alamofire.Manager(configuration:)` initialiser and make a request:
@zgosalvez or anyone who loves racing, just `public` the `NSURLSession` extension inside ServerTrustPolicy.swift so you can access `sharedInstance.session.ServerTrustPolicyManager`
I am using Alamofire this way:
Alamofire.request(.POST, "https://www.test.com/test.php", parameters: ["cardNumber": cardNumber,     "cardCode": cardCode]).responseJSON { response in
```swift
"insecure.expired-apis.com": .disableEvaluation
`Error Domain=NSURLErrorDomain Code=-999 "cancelled" `? @mataspetrikas I just had to deal with the same question myself.
So the solution that I found by trial and error is that I needed to add DER encoded .cer file in my main bundle of the app. Just drag and drop to the project and copy files.
afManager = SessionManager(
let request = afManager.request(request)
Waiting for alternate to UIKit + AFNetworking in swift.
Timezone - GMT + 5:30
pod 'PubNub', '3.7.10.8‚Äô
Bitcode isn't supported in any released version of CocoaPods, but there is a work in progress pull request at https://github.com/CocoaPods/CocoaPods/pull/3744.
let requestSerializer = AFHTTPRequestSerializer()
// Multipart
I assumed I could be using the `HTTPBodyStream` constructed using the request serialiser. I don't know what's happening under the hood, but the created `Alamofire.Request` has no HTTP headers and I think no data is sent to the remote server.
stackoverflow page: http://stackoverflow.com/questions/31289074/authenticated-http-request-swift-alamofire
@jaybuangan Are you installing via CocoaPods for the watchOS platform?
Libtool /Users/vinod/Library/Developer/Xcode/DerivedData/RDemo-cnhoznqdwlpkuvhctrlcwzhaacjf/Build/Products/Debug-iphonesimulator/libPods-RDemo-Alamofire.a normal x86_64
Unintuitively, the viewDidLoad function finishes and returns, but the pushViewController does not happen until after the Alamofire request finishes and calls the callback.
I have added the Alamofire .swift classes under the Source folder to my project and it seems the language was updated. The old syntax is preventing me from compiling the classes. Would my best option be iOS 8.0 instead of 8.1? I've tried fixing the problem myself but being new to Swift I haven't accomplished much.
1. Add **github "Alamofire/Alamofire" "swift-2.0"** in cartfile
> /usr/local/bin/carthage copy-frameworks
> Input file: $(SRCROOT)/Carthage/Build/iOS/Alamofire.framework
> ld: framework not found Alamofire
I've had better success with CocoaPods myself, although I've been trying to get Carthage to work as there's a library I want to use which only is available via that.
@sikhapol : thanks man ! Fixed my problem !
Thank! @sikhapol
platform :osx, '10.10'
error
(lldb) bt
- frame #0: 0x00000001200e9088 dyld`dyld_fatal_error
multipartFormData:
multipartFormData.appendBodyPart(fileURL: fileUrls[0], name: "unicorn")
--alamofire.boundary.2373462a015381c7
--alamofire.boundary.2373462a015381c7--
multipartFormData:
multipartFormData.appendBodyPart(fileURL: fileUrls[0], name: "unicorn")
--alamofire.boundary.2373462a015381c7
--alamofire.boundary.2373462a015381c7--
multipartFormData:
multipartFormData.appendBodyPart(fileURL: fileUrls[0], name: "unicorn")
github "kishikawakatsumi/KeychainAccess" >= 1.2.1
github "Alamofire/Alamofire" >= 1.2
When I run `carthage update`, I get the following error:
$ carthage update
**\* Fetching Alamofire
**\* Fetching SwiftyJSON
**\* xcodebuild output can be found in /var/folders/jd/gwqqglhn6lzdk0d7wz4yjg880000gp/T/carthage-xcodebuild.velBld.log
**\* Building scheme "Alamofire iOS" in Alamofire.xcworkspace
PS: I have it running on a background queue every x seconds and when I connect to the vpn it stops calling Alamofire from almost a minute ( internet works from the browser and any other apps). After around 5/10 minutes it works again...
Renish Dadhaniya
### Code
// Breakpoint here
(lldb) po headers
var defaultHeaders = Alamofire.Manager.sharedInstance.session.configuration.HTTPAdditionalHeaders ?? [:]
let manager = Alamofire.Manager(configuration: configuration)
@ldiqual  Thank you so much it resolved the issue
var defaultHeaders =    Alamofire.Manager.sharedInstance.session.configuration.HTTPAdditionalHeaders ?? [:]
let manager = Alamofire.Manager(configuration: configuration)
@cesar-oyarzun-m I got the same problem... I try several way and sample, but the "Authorization" header are not added to the request. I "snif' the local request with Charles and I do not see it in the raw header. Do you find a solution? I am on the 3.1.2
As @cesar-oyarzun-m said, this used to work despite the recommendation to do otherwise but now it seems as if it's more than that.
@katunch Thanks
So i'm referring to [https://stackoverflow.com/questions/30163274/how-to-connect-localhost-with-invalid-certificate-using-alamofire](this code snippet on StackOverflow).  However, when my application makes a request to my API hosted locally, the delegate to handle unsigned certs is never called.  I'm using the Swift 2.0 branch, by the way.
trying to accept invalid certs
let manager = Alamofire.Manager.sharedInstance
@dcunited001 I believe `-9806` is also an error you could receive if you were running into an issue with the new App Transport Security, which is understandable when using an unsigned certificate. Perhaps using one of the ATS configuration flags in your `Info.plist` would alleviate the issue? See Apple's WWDC sessions on NSURLSession or App Security for more info.
"**multipart/form-data; boundary=alamofire.boundary...**"
Alamofire.upload(
Have the same problem with orschaef, how to get "multipart/form-data; boundary=alamofire.boundary..." in post request?
Hi @cnoon - just tried implementing your code snippet and am getting a .POST error, "Could not find member .POST", not having this issue with other Alamofire methods, including the single file upload function. Any thoughts?
Otherwise, if i only write pod 'Alamofire' i dont get the methods with multipart.
@cnoon, now working, many thanks @ivangodfather
@robindoble  yeah, happened to me,  forgot to mention you, sorry, btw, isnt supposed to be the default branch?
@ivangodfather @cnoon - whats the best way to set custom headers on multipart requests, I saw this in a thread above, wondering if there is a best practice?
@ivangodfather - can you clarify your last post, are you suggesting podfile should be :branch => 'default' instead?
specify branch => 'master' since when i do pod 'Alamofire' my guess is that
> @ivangodfather https://github.com/ivangodfather @cnoon
> @ivangodfather https://github.com/ivangodfather - can you clarify your
destinataria tiene prohibida su reproducci√≥n, uso, divulgaci√≥n o impresi√≥n
ficheros anexos. Gracias.
@ivangodfather - thats one for @cnoon, the author ;) @cnoon - would appreciate any advice on setting custom headers please.
Alamofire.upload(Router.SignUp(user, imageData),
Anything jump out as being wrong here?
> On Sep 24, 2015, at 2:52 AM, ivangodfather notifications@github.com wrote:
> Alamofire.upload(URLRequest,
>     // todo
Why is it using HTTPS in the first place? Am I doing something wrong?
``` Swift
Alamofire.request(.GET, "https://api.co.uk/Default.aspx").authenticate(usingCredential: credential)
I'm using Alamofire to get data from my server. However, it doesn't catch the error, as the error returned is `nil`. I've tested with AFNetworking, and it works fine. For both operation, the status code returned is `401 Unauthorized` .
**GrapeAPI**
error!('Unauthorized', 401)
**AFNetworking**
// error.localizedDescription = "Request failed: unauthorized (401)"
// statusCode = 401
**Alamofire**
Alamofire.request(.GET, "url", parameters: nil)
// statusCode = 401
@cnoon I don't think that 401 should be treated by error, because it prevents the app to detect Basic Auth failed login attempt.
But why currently in Alamofire it IS treated as an error? ‚Äî Status code 401 treated as NSError by default #1031
let manager = Alamofire.Manager(configuration: configuration)
Alamofire version 1.2.1 : No Problem
Alamofire version 1.2.2 & 1.2.3 :
The Alamofire framework does not work with Swift 2.0 and is not fixable with the code converter in Xcode 7. Some minor changes need to be made after code conversion so that the framework builds in Xcode 7.
[!] Unable to find a specification for 'Alamofire'.
[!] Error installing Alamofire
I am using cocoapods 0.38.2. Any ideas?
Since the swift 2 implementation was merged into master branch, you do not need the specific properties in your podfile. Just use `pod 'Alamofire'`
pod 'Alamofire', '~> 2.0'
I've just tried to compile my swift project with alamofire 1.2.2 in Xcode 7 beta, and due to syntax changes in Swift 2.0 it won't compile. I tried fitting the syntax for Swift 2.0 but then it won't compile in Swift 1.2.
When trying to add custom headers from a singleton, the app don't crash but also it's not continuing it's execution. I'ts very strange beaviour that happens only when accessing the singleton from the URLRequestConvertible of Alamofire.
Here the code:
return Alamofire.ParameterEncoding.URL.encode(mutableURLRequest, parameters: ["productsPerLOB":productsPerLOB,"page":page,"pageSize":pageSize]).0
Just did what you suggested. Hete it is the link, if anyone want's to help.
do {
Oh, by the way, I don't think Travis CI support Swift 2 yet. That's why it's failing. I have run all the tests and they pass, well, except those two todos which are commented out.
it wants to put a comma between AnyObject and ?
Fuad Kamal
Anaara LLC
www.anaara.com
twitter: @flexRonin
behance: https://www.behance.net/fuadkamal
linkedIn: linkedin.com/in/anaara
photography: http://500px.com/fuad2
Fuad Kamal
Anaara LLC
www.anaara.com
twitter: @flexRonin
behance: https://www.behance.net/fuadkamal
linkedIn: linkedin.com/in/anaara
photography: http://500px.com/fuad2
Fuad Kamal
Anaara LLC
www.anaara.com
twitter: @flexRonin
behance: https://www.behance.net/fuadkamal
linkedIn: linkedin.com/in/anaara
photography: http://500px.com/fuad2
> On Jun 10, 2015, at 8:43 PM, Fuad Kamal fuad@anaara.com wrote:
> Fuad Kamal
> Anaara LLC
> twitter: @flexRonin
> behance: https://www.behance.net/fuadkamal https://www.behance.net/fuadkamal
> photography: http://500px.com/fuad2 http://500px.com/fuad2
Thanks abunur
when I am trying to compile, getting error : Module Alamofire converted using older compiler
it is showing error :
2) module Alamofire.Swift {
@hitendradeveloper Yeah, I was compiling my own project too, but Alamofire is the one dependency that dont yet have a Swift 2 branch.
@rpowelll I am working on a Swift 2 version of Alamofire.
When doing a request like: `Alamofire.request(.GET, url, encoding: .JSON)` I would expect the `Content-Type` header to be set to `application/json`
Weird thing is that if I try to print contents of `request.allHTTPHeaderFields` in debugger console it prints correctly but accessing it for some reason causes crash in some random cases.
I first thought it happens only during debugging in Simulator but I now see exact same crash in Crashlytics from some tester device.
let request: Alamofire.Request = ...
Hi, I think it is nice if there is a feature which allows users to check network status like Reachable feature of AFnetworking
"Set-Cookie" = "request_method=DELETE; path=/, locale=ImVuLUNBIg%3D%3D--94055ba7447a3df85a4d06dca24b7dfa4148bede; path=/; expires=Tue, 05 Jun 2035 14:46:40 -0000, session_updated_at=7166550178; path=/, XSRF-TOKEN=7C4Klxu8WAesmOK4YglZY9srburOp7SBQwD4Xx2Tpw4JTP3dvr%2BbhdKMfh6Kx8HgP2Sw%3D%3D; path=/, _my_session=aVUtzUzFydGM3ODJQMTVoMyt0ZDkxQkhxWnZwNURmSEhkMFI1S3dmS2lyNWt3V0h2QkZDTE45Q1cyMUM0d1VHZ3FrQ1J1RHF1bHF4Um95cUlGMjA1ckxITTQxckZtMFBrNG84OXJTS01PQjcwVG0zNnBadmRhMTZoVHdDK0JxZnNhOFhOZWpxcmVpc1BnRCs4bm5QcmVlb1d2MUpEOUpGKzM3TEJBSFRqc3NJZmZ2c0VZQUgvNkNwUEgzQ2RHejJVUzk3VE9QaHErUUkrN3VydEFvUWw0dWxDczd2NlVhLzNrU08xNXBVUS9YYTN1TWt6TUlMTm9kOXV5Sk8xQWFXS1FiUzZQb29vejg9LS1YV255c0lUVWQ2SE44KzRPbS9mTEdnPT0%3D--eeb275d185f0b1ae5676e45ae73854030256e44b; path=/; HttpOnly";
X-Content-Type-Options: nosniff
Set-Cookie: locale=ImZyLUNBIg%3D%3D--f4c51516b9f7125f95cb9ca87028fc996c54dc42; path=/; expires=Thu, 14 Jun 2035 00:31:01 -0000
Optional(<>)
"Set-Cookie" = "request_method=DELETE; path=/, locale=ImZyLUNBIg%3D%3D--f4c51516b9f7125f95cb9ca87028fc996c54dc42; path=/; expires=Thu, 14 Jun 2035 00:41:14 -0000, session_updated_at=7170709600; path=/, XSRF-TOKEN=8i%2BrcB39cYx540VA88O5UpZrUx9hZLBUCFI19NWDWXnptlkYbEiCW%2Bd2T6klxcthlX8OIBeClFlufuP8TlEy2g%3D%3D; path=/, _app_session=RTNLUHl0blM2T005T0hkRTRGTHFsOFFsN251TktxZjlyNTBiQWhPTWdZa0x1V0J0Wk5JYllGbG9jMllZQThuL015MUYrQkFGdUpGcXlxNkIyR2xyVTN3VWlMU2czT0krd2xxbE5MWWVQVTR5a0MrQWc5bzU2eFpBamVjUTM4SDNWMXZqb0ppV0RUbDFQdVpMejd1QTgvTDI3ci9TVDBUVjNDT3EwdTFQY0dNem5tK0w3MGZUUkp2cm5KT1ozeGh4bThjWGtMVTJBQmd4UkpvbXR2ek1idDdkS0swVm1FR2x4b0h2cStmRDhKcE43MjBBcGR5UWdPK25taVlKNkZJWVcvMEpzVWx1a1RmbFNlMjVicWk3VCs0dkg1WVpscDlkMUxyaVN4M2JLelU9LS1Ya00wV3BocXpHWWZjd3NBRmVsRGtnPT0%3D--64c0d2063398d762d085de0b52d1ddfcbc00049e; path=/; HttpOnly";
Is this code in production?
I would like to propose to implement same functionality as `AFNetworking` methods:
Related with #27, #32, #99, #111, #119
Also note the [prevalent usage](https://github.com/search?l=objective-c&q=setAuthorizationHeaderFieldWithUsername&type=Code&utf8=%E2%9C%93) of `setAuthorizationFieldWithUsername:password:` on AFNetworking projects on the GitHubs.
The method returns the Alamofire.Request, which you can chain (if you want) with a completion handler or similar. It's not required though. You can simply make the call and that will upload the file.
@ncerezo
The code is (obfuscated to protect the innocents):
Any idea what could be causing it? Not that I am making other request with Alamofire in the app that work without issues but have different characteristics (HTTP & POST, not HTTPS & GET). My hunch is that this this is HTTPS related, possibly? I see the error both in the simulator & on the physical device.
This is my challenge.protectionSpace, the only challenge property that's informative:
@tobiasoleary Thanks for the tip on implementing a custom encoding - I'll go that route for now. I appreciate it!
@tobiasoleary :+1: I think that issue can be put to rest, then. I still think the docs need to be updated, so perhaps I'll do that now.
@joshuatbrown I worry that my initial assessment is flawed. After reading [Reserved Characters - Section 2.2 - RFC3989](http://tools.ietf.org/html/rfc3986#section-2.2).
- Subclassing Request
Expected in: /private/var/mobile/Containers/Bundle/Application/23E75276-3295-4C2F-AA3E-6119F1D160FA/punjit.app/Frameworks/libswiftCore.dylib
And it is raising different exceptions on different devices but all related to Alamofire.
Alamofire.request(.POST, URL,
thansk !
here is my code:
see:http://store.apple.com/cn?afid=p231|camref%3A111lEF&cid=AOS-CN-Aff-PHG
Alamofire.request(.GET, "http://store.apple.com/cn?afid=p231|camref%3A111lEF&cid=AOS-CN-Aff-PHG", parameters: nil, encoding: ParameterEncoding.JSON).response { (request, response, result, error) -> Void in
Undefined symbols for architecture arm64:
I am using CocoaPods:
pod 'Alamofire', '~> 1.2'
Kamol
I mean to say that an `NSURLProtocol` implementation like https://github.com/marcelofabri/BigBrother does not have an opportunity to add the `HTTPAdditionalHeaders` to the request. Since this is an issue only when using a custom `NSURLProtocol` my first reaction was to try to find a protocol implementation which could support the expected behavior however that does not seem to be an option. Instead I think any workaround to include these headers needs to be performed by Alamofire.
framework module Alamofire {
header "Alamofire-Swift.h"
Using Alamofire (1.2.1)
Using Bolts (1.1.5)
Using SwiftyJSON (2.2.0)
platform :ios, '8.1'
pod 'Alamofire'
pod "SwiftyJSON", ">= 2.2"
pod 'FBSDKShareKit'
Alamofire.request(.PUT, apiUrl,params,ParameterEncoding.JSON)
Execution a request appending an umlaut parameter (√§√º√∂) occurs a BAD Access Exception in method:
e.g. url: http://www.domain.de/service.php?id=123&email=abcd@t√ºr.de
i use cocoapods add alamofire 1.2.1.
Undefined symbols for architecture i386:
"__TF9Alamofire7requestFTOS_6MethodPS_20URLStringConvertible_10parametersGSqGVSs10DictionarySSPSs9AnyObject___8encodingOS_17ParameterEncoding_CS_7Request", referenced from:
"__TFC9Alamofire7Request14responseStringfDS0_FT8encodingGSqSu_17completionHandlerFTCSo12NSURLRequestGSqCSo17NSHTTPURLResponse_GSqSS_GSqCSo7NSError__T__DS0_", referenced from:
"__TFO9Alamofire6Method3GETFMS0_S0_", referenced from:
"__TIF9Alamofire7requestFTOS_6MethodPS_20URLStringConvertible_10parametersGSqGVSs10DictionarySSPSs9AnyObject___8encodingOS_17ParameterEncoding_CS_7RequestA2_", referenced from:
"__TIFC9Alamofire7Request14responseStringFDS0_FT8encodingGSqSu_17completionHandlerFTCSo12NSURLRequestGSqCSo17NSHTTPURLResponse_GSqSS_GSqCSo7NSError__T__DS0_A_", referenced from:
"__TWPSS9Alamofire20URLStringConvertibleS_", referenced from:
@aemreunal I could be completely wrong, but if I understand correctly, Alamofire leans on iOS networking to validate SSL certs. Try installing and trusting the certificate at the OS level.
Then I realized that the method signatures were written for Swift 1.1 and had not yet been updated for Swift 1.2. The closures have now all been updated to match the delegate method that they can override. I also updated any logic in the tests that were affected by this change. All the tests are now passing as expected.
The podspec lists OS X 10.9 as the deployment target but alamofire 1.2.1 will not build using Xcode 6.2 and Xcode 6.3 requires OS X 10.10+
`Alamofire.request(.GET, messagesURL, parameters: parameters, encoding: .JSON).response({ (_, response, data, _) -> Void in ... })` `data` type is `NSConcreteMutableData`.
Header contains `application/json` and `AFNetworking` parse it successfully.
It would be nice if the `validator` would return something besides a `Bool` (maybe `NSError?`) so that if the validation failed because of a 404 the error object given to the response handler might have a description of "Invalid Status Code - 404 File Not Found".
@tobiasoleary @cnoon Is there also a way to capture the body content of a failing request?
**EDIT** My bad, this is caused by Alamofire-SwiftyJSON: https://github.com/SwiftyJSON/Alamofire-SwiftyJSON/blob/master/Source/Alamofire-SwiftyJSON.swift#L46
Alamofire.request(Router.LiveUpdate(teamIdentifier, filter, sinceIdentifier))
I've only read about, but haven't used, Swift 2.0's new way of handling errors, but it reminds me of Java exceptions. In Java exception handling is rather expensive and can really interrupt the code flow so it should only be used for very uncommon, some would say "exceptional", circumstances.
<unknown>:0: error: could not build Objective-C module 'Alamofire'
@masbenx  try to run this code without 'responseJSON' part, I'm almost sure the problem lies in the typing of 'parameters'.
Alamofire.request(.POST, someUrl, parameters: ["accessToken" : accessToken, "UserEmail" : gUserEmail], encoding:.JSON)
Please help
Alamofire.request(.GET, url, parameters: params)
Hi @n2b8,
This is working properly for the majority of us. Here's a few tips that maybe will help. Otherwise please open a ticket on [StackOverflow](http://stackoverflow.com/questions/tagged/alamofire) and we can further assist there. That will also give the question and answer more visibility to the rest of the community.
**CocoaPods Version**
``` ruby
pod 'Alamofire', '~> 1.2'
**Import Alamofire in New Project**
I had the same problem after installing from cocoapods.
Had the same problem after installing from cocoapods. Product/Clean didn't help. Shutting down Xcode and reopening the workspace did help.
All I had to do was comment out the `import Alamofire` and run the app; then uncomment it.
I had this problem and couldn't figure it out until I dropped the iOS module from 9.1 down to 8.0 and it then told me that "**Alamofire module requires iOS 9.2**". Changed the project up to 9.2 and it now builds correctly.
Having issue here :(
21 issues
- In the Podfile, I changed the Alamofire version to 2.0.2 (earlier I had installed 3.3.1)
`pod 'Alamofire', '2.0.2'`
get No such Module 'Alamofire'.
>   pod 'Alamofire', '2.0.2'
Now I am getting the same problem but with SwiftyJSON. Alamofire issue was
> this problem. Using an older, unsupported version of Alamofire is not a
i faced that issue, and i solved it by manually add the alamofire framework into to project
Same issue for me with AF 3.1.0 and XCode 8
Cocoapods: 1.1.1
Hi, I have integrated the latest framework of Alamofire in my app. But now I am getting this error when I try to run my app on my iPhone. I searched a lot over the Internet but I didn't find the solution! Please help! Thanks!
Hi. Alamofire is very convenient. I'm always grateful.
I'm using this code.
let manager = Alamofire.Manager.sharedInstance
response is garbled in the following cases.
I think something wrong with the update.
You should open a question on [StackOverflow](http://stackoverflow.com) and tag `Alamofire`. Please open a question with more details so someone can help you better troubleshoot your problem.
``` ruby
pod 'Alamofire', '~> 1.2'
import Alamofire
Hi, I just upgraded to Xcode 6.3 and swift 1.2, and am in the process of converting my code to the latest swift syntax. Since my project need to support iOS7, earlier I wrapped the source file of `Alamofire.swift` in a public struct as some people suggested, which works out fine. However, this approach doesn't apply to the latest version anymore, with lots of `extension` and `public protocol` declarations used, the compiler shoots out error "Declaration is only valid at file scope".
pod 'Alamofire', '1.1.5'
- `Alamofire (= 1.1.5)` required by `Podfile`
cnoon:~$ pod search Alamofire
-> Alamofire (1.1.4)
pod 'Alamofire', '~> 1.1.4'
- Source:   https://github.com/Alamofire/Alamofire.git
cnoon:~/Desktop$ pod spec lint Alamofire.podspec
-> Alamofire (1.1.5)
Alamofire.podspec passed validation.
cnoon:~/Desktop$ pod search Alamofire
-> Alamofire (1.2.0)
pod 'Alamofire', '~> 1.2.0'
- Source:   https://github.com/Alamofire/Alamofire.git
onetaway$ pod search Alamofire
-> Alamofire (1.1.4)
pod 'Alamofire', '~> 1.1.4'
- Source:   https://github.com/Alamofire/Alamofire.git
Alamofire stopped working after i updated to swift 1.2
let data = "Lorem ipsum dolor sit amet".dataUsingEncoding(NSUTF8StringEncoding, allowLossyConversion: false)
let upload = Alamofire.upload(.POST, URL, data!)
You can check, how it is look like here: [Change Log](https://github.com/skywinder/Alamofire/blob/add-change-log-file/CHANGELOG.md)
You can easily update this file in future by simply run script: `github_changelog_generator Alamofire/Alamofire` in your repo folder and it make your Change Log file up-to-date again!
> _Since there is no published specification for how to encode collection types, the convention of appending `[]` to the key for array values (`foo[]=1&foo[]=2`), and appending the key surrounded by square brackets for nested dictionary values (`foo[bar]=baz`)._
> _There is no published specification for how to encode collection types. AlamoFire follows the convention of appending `[]` to the key for array values (`foo[]=1&foo[]=2`), and appending the key surrounded by square brackets for nested dictionary values (`foo[bar]=baz`)._
@mattt Maybe if [the logo](https://raw.githubusercontent.com/Alamofire/Alamofire/assets/alamofire.png) were in the correct case that would help. But to be honest the casing is unintuitive since [the flower](https://aggie-horticulture.tamu.edu/wildseed/alamofire.html) is two separate words and class names are normally CamelCase.
Additionally, when you ask a question, you will want to provide more detail so the community can better understand your problem to provide you a higher level of support.
The surface issue that users are reporting is that trailing closures are broken for the `responseString` serializer (as seen in #406 and this StackOverflow [thread](http://stackoverflow.com/questions/28542575/alamofire-with-swift-1-2-ambiguous-use-of-responsejson/28552008#28552008)). The root problem is that there is ambiguity in the `responseString` and `responsePropertyList` convenience method implementations that collide with the actual `responseString` and `responsePropertyList` implementations with default parameters. I always wondered how Swift 1.1 was able to avoid infinitely recursing into itself in those methods and the Swift 1.2 compiler has actually tightened down on the ambiguity altogether.
All right, it seems full encapsulation of `NSURLSession` is not a good choice.
In all cases where the Xcode project is actually being used (Alamofire Xcode project, git submodules for other apps and libraries and Carthage) the warning is actually being thrown. The Xcode project deployment target should be updated to iOS 8.0 to allow all these Xcode project use cases to no longer see the warning which will not affect the actual iOS 7.0 use case.
cnoon:~/Desktop/AlamofireCarthage$ carthage update
*** Fetching Alamofire
*** Checking out Alamofire at "1.1.5"
*** Building scheme "Alamofire iOS" in Alamofire.xcworkspace
*** Building scheme "Alamofire OSX" in Alamofire.xcworkspace
This is not a support forum. Please open a question on [StackOverflow](http://stackoverflow.com) and tag `Alamofire`. If you could then close out this issue, it would be appreciated.
The execution on "git submodule add https://github.com/Alamofire/Alamofire.git" comes an error of "Not a git repository (or any of the parent directories): .git"
This is not a support forum. Please open a question on [StackOverflow](http://stackoverflow.com) and tag `Alamofire`. If you could then close out this issue, it would be appreciated.
It is possible it is a CocoaPods or a Carthage thing, in which case I understand, but it's still really annoying and making all my CI builds very ugly. :)
Alamofire.upload(.POST, "http://www.xxxxx.xxx", parameters: par)
This is not a support forum. You should post these types of questions on [StackOverflow](http://stackoverflow.com) and tag `Alamofire`.
let request = Alamofire.request(.POST, URL)
Alamofire.request(mutableURLRequest)
Where is the custom http header content lost? Why is Alamofire ignoring the explicit value set for this header?
Permission denied (publickey).
Test Suite 'AlamofireJSONParameterEncodingTestCase' started at 2015-03-14 21:02:49 +0000
2015-03-14 14:02:49.681 _XCT_testSuite:AlamofireJSONParameterEncodingTestCase didStartAt:2015-03-14 21:02:49 +0000
#### Problem
// Grab ourselves a custom manager
let manager = Alamofire.Manager(configuration: configuration)
// DOES NOT WORK!
manager.upload(Alamofire.Method.POST, "http://localhost:9000/api/data/images/upload", data)
Incapsula servers check header order and values, to detect bots.
defaultHeaders["Pragma"] = "no-cache"
-H "Pragma: no-cache" \
-H "Pragma: no-cache" \
http://stackoverflow.com/questions/28908680/multiple-encoding-types-for-alamofire-request
let encoding = Alamofire.ParameterEncoding.URL
By the way who puts url-encoded parameters in request body? Isn't that bad taste?
@mattt But Alamofire is not web (application) framework, am I right? It's http networking library for mobile applications which in modern world works with APIs designed in right way with JSON bodies and URLs that identifies resource. Url encoded POST request is mostly used for posting html form data. But in mobile applications there are no html web-forms and the only reason to use url-encoded body is compatibility with old web-services.
@cesar-oyarzun-m The way I solved this was to create an extension on NSURL for adding query parameters, then I just added the parameters to my URL before creating the `Alamofire Request`
var method: Alamofire.Method {
I'm doing this  `Alamofire.ParameterEncoding.JSON.encode(mutableURLRequest, parameters: parameters).0`
@cesar-oyarzun-m No, I have not. These questions are better suited for StackOverflow. This closed issue is not really the appropriate place for them.
While I agree that the commonly accepted practices SHOULD usually be followed, not everyone has the luxury of consuming APIs that follow them. From my perspective, `Alamofire` has two primary design goals.
Error in Playground: Module 'Alamofire' has no member named 'request'
How can I use Alamofire in Playground?
@tianhao Did you solve this?
It would be great if someone can explain how to make NTLM request.
It is certainly something that the community is looking to support, but there's not a solid time frame around it yet. I'd say for the time being, you'll want to continue with AFNetworking, and keep a close eye on the Alamofire project for new features coming in.
afManager = SessionManager(
What could be wrong here?
@cnoon :(((( Maybe a typo, did you mean "cer" instead of "der"?
@ghecho I am not sure I follow you.
@cnoon , thoughts?  When I build using Carthage, I get following error; but it works well when I build using Xcode -- not sure why
¬ª carthage build
*** xcodebuild output can be found in /var/folders/vr/mtng044x7jb0_0hcchwjgl0w0000gn/T/carthage-xcodebuild.fM29Kb.log
*** Building scheme "Alamofire iOS" in Alamofire.xcworkspace
*** Cloning Alamofire
*** Checking out Alamofire at "1.1.4"
*** xcodebuild output can be found in /var/folders/dw/wtbd233j0yd8vzjzlfz1wz1w0000gn/T/carthage-xcodebuild.pDAvwq.log
*** Building scheme "Alamofire iOS" in Alamofire.xcworkspace
the log
@jspahrsummers
${Carthage}/Checkouts/Alamofire/Tests/DownloadTests.swift:68:54: error: operand of postfix '!' should have optional type; type is 'String'
Note, `iso-8859-1` is the default encoding for HTTP 1.1. As such that is the default if a server didn't explicitly set it to utf-8.
fatal error: unexpectedly found nil while unwrapping an Optional value
:tada:
Would a new serverTrustPolicy property on the Manager, which, when set, assigns a policy to every created request be in the Alamofire spirit ?
This comment started as an attempt to recap some of the dicussion around this API, from blog posts, or AFNetworking issues such as:
- Different from AFNetworking
- at the `Manager` level, all requests will be affected when using `Alamofire.serverTrustPolicy =`
Alamofire.serverTrustPolicy = .PinCertificates(ServerTrustPolicy.bundledCertificates)
Thank you for the kind words. I'll send them right back for how sweet Alamofire is.
- A `TLSPolicy` var on the `SessionDelegate` which only acts as a convenience to set the `sessionDidReceiveChallenge` closure.
Alamofire.TLSPolicy = .PinCertificates(TLSTrustPolicy.bundledCertificates)
-u YOUR_TOKEN:api_token \
let request = Alamofire
At the moment Carthage can build Alamofire for iOS but since it targets iOS 7, the resulting application cannot be submitted to iTunes Connect.
Maybe there's another issue at hand that I'm not aware of at the moment (please comment if so), but it seems to me that the iOS deployment target in the project should be set to 8.0 to solve all the use cases for deployment.
- Added some recommended ENV variables for `xcpretty`
- Speeds up `xcpretty` install by ignoring documentation
Alamofire.request(.GET, apiUrlString, parameters: ["category": category, "count": count])
I want you to help me.
@tkrajacic
@mattt :+1: Thank you
here is my sample code using alamofire:
Alamofire.request(.POST, testURL, parameter: params)
I have extended the `Alamofire.Request` object with the `ResponseCollectionSerializer` and `ResponseObjectSerializer`
let title: String
let body: String
let body: String
let name: String
`(lldb) po representation`
Do you get any error when running this? Does the Author part work and not Comments part? We're doing something very similar but we're using SwiftyJSON. However, we never have nested serialized arrays, only string arrays but I guess they would work just as well as nested objects.
let contentType: String
let videoType: String
let channel: String
let name: String
let slug: String
let brandColor: String?
Any advice for how to use the PR with Carthage?
Of course, if I'd RTFM I'd have seen that you can use the PR in Carthage with `github "boek/Alamofire" "swift-1.2beta"`.
@davejlong I haven't used Carthage, so I can't say for sure. But from what I read this should probably work `github "boek/Alamofire" "swift-1.2beta"`.
@boek Thanks so much, that got me going again.
@bipingm and @blakeperdue
This has already been merged into `master` and is available as `Alamofire 1.2.0` which is fully Swift 1.2 and Xcode 6.3 compatible.
@mattt, if you get a chance, it would probably be a good idea to remove that `xcode-6.3` branch to avoid further confusion.
Did you try the cocoapods? Worked fine with me. ¬†Are you sure you are using the stable version of xcode6.3 not the beta?
I'm not sure if this is related to the updates in your PR or not, but, with Carthage, Alamofire won't build for iOS. Only the Mac framework is built in the builds directory.
It seems that changing the Base SDK in the Alamofire project build settings to "Latest iOS" fixes the issue, and it all builds fine.
I can't figure out the reason, it seems to happen at random.
var defaultHeaders = Alamofire.Manager.sharedInstance.session.configuration.HTTPAdditionalHeaders ?? [:]
let manager = Alamofire.Manager(configuration: configuration)
let URL = "https://dwellingofduels.net/"  // had to be some unfortunate site to serve as an example, sorry
Alamofire.request(.HEAD, URL)
I don't know `NSURLSession` and Alamofire well enough to assess if this is the correct way to solve the problem. Thoughts?
I'm surprised this issue doesn't generate much interest. I am not a security expert so by all means stop me if I'm wrong, but what @tkareine highlights here looks to me like a major breach.
Hello, I'm integrating AF manually. (dragging the project as a sub-project and am following the directions to copy the framework properly)
While I can import AF fine with no errors, when I try to make a basic request, the compiler doesn't recognize any AF methods such as `Alamofire.request`
Upon Command+Clicking into the `import Alamofire` file, all I see is the following listed:
// Alamofire.h
var AlamofireVersionNumber: Double
Previous versions of AF worked fine and this is only occurring now that I'm using it in a new project.
I ended up using Carthage and things are working again.  Thanks Matt
> strongly suggest using CocoaPods or Carthage.
I use AF from Cocopods. And I met this error also.
Delete the `Alamofire` folder. Run `pod install` again.
Alamofire.request(.GET, "https://www.googleapis.com/language/translate/v2", parameters: params)
> Since there is no published specification for how to encode collection types, the convention of appending [] to the key for array values (foo[]=1&foo[]=2), and appending the key surrounded by square brackets for nested dictionary values (foo[bar]=baz) [is used].
Could you please explain how to mock Alamofire responses?
unknown option character `X' in: -Xlinker
You can't create static libraries with Swift, and hence with Cocoapods (if you are using Swift afaik).
But this make Alamofire inconvenient with multi platform projects using Carthage for managing frameworks.
I got answer from Carthage project that will not support this configuration.
Carthage/Carthage#307
open Alamofire.xcworkspace
...ile
let manager = Alamofire.Manager(configuration: configuration)
@kylef Thank You, But I get this error "Alamofire.type does not have a member named Manager"
You shouldn't be prefixing anything with Alamofire, see this quote from the README:
@mattt  No, I ended up finding some dirty solutions,
I've been working on a library built ontop of Alamofire to handle oauth refresh as well as some really interesting data validation and parsing. Overall we have been extremely pleased with Alamofire. The design is fantastic and it has truly been a pleasure to get to work with it. I can't wait to see how this evolves over the coming months!
Line 55, pod 'Alamofire', ~> '1.1' throws a CocoaPods error.
Proper format appears to be " pod 'Alamofire', '~> 1.1' "
Also, it looks like you are using Objective-C somewhere. AFAIK Alamofire is not meant to be used with Objective-C. Use the excellent AFNetworking library instead.
The platform of the target `Pods` (OS X 10.10) is not compatible with `Alamofire (1.1.3)` which has a minimum requirement of iOS 8.0.
"ios": "8.0"
-- BlueprintName = "Alamofire"
++ BlueprintName = "Alamofire iOS"
@acalisesi This is due to the name being changed for this target (and the introduction of an OS X target) in c421c818e6bc15013f092477e49bd17629cdcf3f.
The name is now `Alamofire iOS` for the target.
let manager = Alamofire.Manager(configuration: configuration)
let destination = Alamofire.Request.suggestedDownloadDestination(directory: .DocumentDirectory, domain: .UserDomainMask)
but it says "Extra Argument in Call"
Ok√©, thx!
> An array of NSString objects containing language IDs for localizations in the bundle.
@Reflejo This will cause the podspec to fail validation with CocoaPods 0.36.0. See https://github.com/CocoaPods/CocoaPods/issues/2963
Anyways, CocoaPods and Alamofire seem to work together perfectly now.
Since _Alamofire_ uses `AnyObject?` for Serializers this seems not possible.
Not sure why the cast from AnyObject? to Any? fails here:
https://github.com/bilby91/Alamofire/commit/2c88aeb83aa3846b2cf4d9da6ce626fb42e7aaf5
github "mk/Alamofire"
Running `carthage bootstrap` against this outputs:
*** Checking out Alamofire at "1.1.6"
*** xcodebuild output can be found in /var/folders/lk/q34wnz8j0h93pc7rlck4stnc0000gn/T/carthage-xcodebuild.it0PZY.log
*** Building scheme "Alamofire iOS" in Alamofire.xcworkspace
*** Building scheme "Alamofire OSX" in Alamofire.xcworkspace
Alamofire.request(nsurlreq).responseJSON { (request, response, json, error) in
manager = Alamofire.Manager(configuration: config)
Can someone tell me how to use NSURLCache with alamofire?
The answer posted [here](http://stackoverflow.com/questions/27785693/alamofire-nsurlcache-is-not-working) is pretty vague and looks more like a hack.
If Mattt doesn't want this in Alamofire for some reason, I agree that a separate CocoaPod would be a reasonable compromise too.
@cnoon Any word on `AlamofireImage`?
PS: I'm testing on iOS Simulator targeting iOS 8.1, and yes I've checked date/time and it's fine
Bump podspec Alamofire version to latest release
Hi @mattt, thanks for Alamofire
I'm not an expert on functional programming I really engage with this topic a few month ago but I find the way they approach problem really interesting.
Do you think the [Deferred](https://github.com/bignerdranch/Deferred) mechanism as it place into Alamofire ?
"password": password
Alamofire.request(.POST, baseURL+"login", parameters: params)
Invalid login: undefined
Unrelated to Alamo but, @mikenolimits, did you ever found a solution for this? I'm starting to think NSURLSession is bugged or we (any many others) are doing something terribly wrong. I'm having the exact same issue.
@mikenolimits  + in my case, only HTTP/S proxies had this issue, SOCKS is working perfectly fine
manager = Alamofire.Manager(configuration: sessionConfiguration)
let host: String
let port: String
Can you add Alamofire to CocoaPods as well?
Moya uses Alamofire and it works fine with 0.35 of CocoaPods.
http://artsy.github.io/blog/2014/11/13/eidolon-retrospective/
It probably helps that Orta is a key CocoaPods person as well. ;)
Fuad Kamal
Anaara LLC
www.anaara.com
twitter: @flexRonin
behance: https://www.behance.net/fuadkamal
linkedIn: linkedin.com/in/anaara
photography: http://500px.com/fuad2
> On Dec 30, 2014, at 7:48 AM, Isuru Nanayakkara notifications@github.com wrote:
> Can you add Alamofire to CocoaPods as well?
@Isuru-Nanayakkara there is already a pull request tracking this: #218
@abunur Eidolon doesn't use CocoaPods 0.35, it uses CocoaPods from the Swift branch from git (which is what 0.36 is). https://github.com/artsy/eidolon/blob/1d1d72f540f20571d7805e210d31eca2b3b0e077/Gemfile#L3
thanks for the clarification on this.  When I built Eidolon locally Ash told me they are using the ‚Äòbleeding edge‚Äô version of Cocoa pods, i.e. `gem install cocoapods ‚Äîpre`
Fuad Kamal
Anaara LLC
www.anaara.com
twitter: @flexRonin
behance: https://www.behance.net/fuadkamal
linkedIn: linkedin.com/in/anaara
photography: http://500px.com/fuad2
> @Isuru-Nanayakkara https://github.com/Isuru-Nanayakkara there is already a pull request tracking this: #218 https://github.com/Alamofire/Alamofire/pull/218
[!] Unable to find a specification for `Alamofire`
``` ruby
Be sure to enable travis before merging.
error: pathspec 'Alamofire/Alamofire.xcodeproj/project.pbxproj' did not match any file(s) known to git.
![alamofire](https://cloud.githubusercontent.com/assets/2620575/5500738/923e5432-8786-11e4-80c1-f951baf22706.png)
-  the first one instantiating manager using the custom syntax, using  a local variable. The task get cancelled as soon as the local variable get deinitialized
Corinne
![alamofire](https://cloud.githubusercontent.com/assets/460056/5476703/d48cd8da-8624-11e4-8197-1fd7c1a45cd5.png)
On Jan 25, 2015, at 3:07 PM, amirhabibz <notifications@github.com<mailto:notifications@github.com>> wrote:
struct Alamofire {
On Sun, Jan 25, 2015 at 10:50 PM, EzimetYusup notifications@github.com
> project then add struct to the Alamofire.swift like below:
> struct Alamofire {
Hm, I target iOS8 and still get this problem. maybe I miss something here?
``` Swift
// make custom request
request.HTTPBody = NSJSONSerialization.dataWithJSONObject(["session_key": "ABC"], options: nil, error: nil)
Alamofire.request(request).response(responseHandler)
Anyone know what the issue is?
I'm at a complete loss here as to what to do.
let manager = Alamofire.Manager(configuration: configuration)
I uses a custom session manager.
let sessionManager = credentials.usehttps ? credentials.sessionManager : Alamofire.SessionManager.default
public class HTTPSManager : Alamofire.SessionManager {
deinit {
"insecure.expired-apis.com": .disableEvaluation
configuration.httpAdditionalHeaders = Alamofire.SessionManager.defaultHTTPHeaders
var sessionManager: HTTPSManager {
public class HTTPSManager : Alamofire.SessionManager {
deinit {
"insecure.expired-apis.com": .disableEvaluation
configuration.httpAdditionalHeaders = Alamofire.SessionManager.defaultHTTPHeaders
Alamofire.Manager.sharedInstance.session.configuration.HTTPAdditionalHeaders
Code is more readable when using response codes.
Does Alamofire work with gzip?
What do you mean by "work with gzip"?
Alamofire.request(.POST, someURLString, parameters:["data":["verboseData":"veryVerbose"]], encoding:.JSON.gzipped)
Alamofire.request(.GET, url, parameters: params).responseJSON { (_, _, data, error) in
The default singleton instance of `Alamofire.Manager` uses a configuration that adds compression to the `Accept-Encoding` header. curl's `--compressed` option does the same thing, but also will decompress the response. Indeed, it will end up having no effect on the request as the `-H` flag later on will override the `Accept-Encoding` header from the `--compressed` option.
1 - https://dl.dropboxusercontent.com/u/7386482/ss-erro-alamofire1.png
2 - https://dl.dropboxusercontent.com/u/7386482/ss-erro-alamofire2.png
It is so confusing :(
@mattt - I understand that, and sorry about that, but can you at least explain to me why you _force_ the user not to use URL encoding for parameters?
this code erorr
http://ipacote.com/test.php
In extension Alamofire.Request this:
Alamofire.request(.GET, "http://httpbin.org/get")
This really confused me (versus looking at the code locally and trying to reason about how it works). I've since realized that this comment is outdated. Specifically, [this commit](https://github.com/Alamofire/Alamofire/commit/83774b0f9be426e261a44a040701965d0817c68f#diff-8566d050bc5476c30a47ff3e37f237aa) (which occurred after the above comment) switched to an `NSOperationQueue` with `maxConcurrentOperationCount = 1`, which should guarantee that the chained response handlers are processed in order, one at a time, and consequently enqueue the associated block/closure onto the main dispatch queue (by default) - which is serial - and also process in order and one at a time.
Alamofire.request(.GET, "http://httpbin.org/get")
Alamofire.request(.POST, "http://httpbin.org/post")
By indeed +1 for having this supported in Alamofire itself.
// a custom object that app uses
// parse it as a SwiftyJSON
My app project have used cocoapods, and i create a object-c project.
let manager = Alamofire.Manager.sharedInstance
Alex
let username: String
let name: String
The code after your change @mattt does not compile:
What would be the best way of going about it?
According to their documentation, Carthage needs shared scheme to build dynamic framework.
Alamofire has scheme that builds dynamic framework, but it is not shared. So I made it shared.
I tested Carthage builds Alamofire.framework correctly on the [forked repository](https://github.com/ishkawa/Alamofire).
NOTE: new tag is required to notify update of this repository to Carthage.
BTW, Carthage support isn't full without OSX target support #212
https://github.com/Carthage/Carthage
-b "_api_session=Optional("...")" \
let manager = Alamofire.Manager.sharedInstance
class APIManager {
class var sharedInstance: APIManager {
static var instance: APIManager?
Static.instance = APIManager()
// IT CRASHES HERE !!!
Well, I am playing around with `dispatch_group` right now:
Is there any proper way of doing this kind of synchronization?  I would rather not resort to `q`-style promises and deferreds, as it makes things unnecessarily complex.  An help appreciated, thanks!
@sikoried have you ever found a good solution to this?
``` Swift
Cosmin
Alamofire.upload(.POST, "(Config().server)/api/video/add", outputURL)
Alamofire.upload(.POST, "(Config().server)/api/video/add", outputURL)
It will be cool to have the library with pods.
I used your framework and it's app target as Example project in the pull-request CocoaPods/CocoaPods#2835, which will bring Swift support to CocoaPods. See [here](https://github.com/CocoaPods/CocoaPods/tree/swift/examples/Alamofire%20Example). I hope this okay for you. I'd love to see it published in the master spec repo.
The merged podspec seems out of date, particularly,
Hum... Something is weird.
when I add Alamofire my Bridging header breaks. Older dependencies which where Objective-C bridged to Swift can't be imported anymore.
@thedamfr after upgrading to Cocoapods 0.36.0.beta.1, adding `pod 'Alamofire', '~> 1.1.3'` to my existing pod file that contains:
pod 'AFNetworking', '~> 2.5'
pod 'Alamofire', '~> 1.1.3'
and user import AFNetworking in you swift file.
``` Swift
Alamofire.request(.GET, "http://someurl.com")
Alamofire.request(.GET, "http://someurl.com")
Is the Alamofire directory within your projects directory or did you just add the project file?
I can almost sure the reason of the crash is `stringByAddingPercentEncodingWithAllowedCharacters` takes too much memory, this is particularly obvious when it's encoding Chinese or Japanese strings, maybe because the encoding process is more complex for these languages.
return escapedString
Then I was wondering why I've never encountered this issue in AFNetworking, so I read the source code of `AFURLRequestSerialization`. Turns out `stringByAddingPercentEncodingWithAllowedCharacters` is only available after iOS 7 and AFNetworking supports iOS 6 so it use the lower level API `CFURLCreateStringByAddingPercentEscapes` which does not suffering from this memory peak issue, or at least not so obvious.
2. Use the lower level API like AFNetworking does.
what about Afnetworking 2.0? It could also crash when escaping long Chinese strings. It crash at stringByAddingPercentEncodingWithAllowedCharacters in this function "static NSString \* AFPercentEscapedStringFromString(NSString *string) ". Those are my Chinese strings "‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ".
i did not find any cocoapods spec file to use alarmofire in custom projects. Is it planned to support cocoapods in future. This makes integration of alormafire much easier.
I click the "import Alamofire" , it just some code
``` objc
// Alamofire.h
var AlamofireVersionNumber: Double
When should I use AFNetworking?
Use AFNetworking for any of the following:
The app references non-public selectors in Payload: Framework/Alamofire.framework
let encoding = Alamofire.ParameterEncoding.URL
So, there are a couple of issues here:
import Alamofire
class BackgroundManager : Alamofire.Manager {
// I personally don't think `Manager` should have defined this
let url = "http://mplewis.com"
let destination = Alamofire.Request.suggestedDownloadDestination(directory: .DocumentDirectory, domain: .UserDomainMask)
Alamofire.download(.GET, url, destination)
let url = "http://mplewis.com"
let destination = Alamofire.Request.suggestedDownloadDestination(directory: .DocumentDirectory, domain: .UserDomainMask)
Alamofire.download(.GET, url, destination)
fatal error: unexpectedly found nil while unwrapping an Optional value
![Screenshott](http://i.imgur.com/u7dOMCl.png)
I just noticed following errors in Alamofire.swift
The problem, I think, is that the compiler is confused - it thinks `Method` is the type from the Objective-C runtime. When I hold command and click on Method, it takes me to some ObjectiveC runtime Swift file, and when I option-click on it, it says the declaration is `typealias Method = COpaquePointer`.
struct Alamofire {
#include Alamofire.swift
Look at what I did in my fork at roadfire/Alamofire. I think I only wrapped the Method in the struct, and that worked for me.
struct Alamofire {
but when I try to call Alamofire.request this is what happens:
1) using joshuatbrown alamofire.swift
struct Alamofire {
struct Alamofire {
https://gist.github.com/ChocolateMinht/00aa610da1b4e6c4bed6
So I tried ChocolateMinht's code but I keep getting the same error saying: "Module 'Alamofire' has no member named 'request' "
Alamofire.request(.GET, "http://www.google.com")
I know that AFNetworking has support for the iOS network activity indicator/spinner, but I looked everywhere and it doesn't seem like Alamofire supports this.
I just implemented this idea: https://github.com/marcelofabri/BigBrother
@marcelofabri But your implementation overrides whole Alamofire.Manager implementation. You replace NSURLSession with NSURLConnection and then methods of NSURLSessionDelegate can't be executed.
Alamofire.request(Router.TicketComments(ticket.id))
@diogoCW You can set it like so:
import Alamofire
return Alamofire.request(method, URLString, parameters: parameters, encoding: encoding)
2) When trying to create `FakeNetworkingManager` which overrides `request`, we need to return an `Alamofire.Request` object. However the initializer for `Request` is private. Since Swift's access control system is very strict, we could not find a way to implement an initializer such that we could create and return a `Request` object from our fake.
Are there any plans of getting Alamofire available as a cocoapod? I was quite surprised I wasn't able to find it there to be honest.
var password: String!
What am i doing wrong?
@meng-zhang  : After changing the protocol to return  [AnyObject] instead of [Self], it gives me an error inside the ResponseCollectionSerializable extension .
The problem section is around line 108 in Alamofire.swift:
Alamofire.request(.POST, url, parameters: json)
@leonid-shevtsov +1 "Replacing `.POST` with `Alamofire.Method.POST` will uncover the true error" Thank you
per the heads up by @Isuru-Nanayakkara in issue #53
Alamofire/Source/Alamofire.swift:110:41: 'NSURLComponents?' does not have a member named 'URL'
@Katafalkas. i have same issue. have you find any solution ?
Seems to be an issue with the URLEncoding....
Alamofire.request(.GET, "http://requestb.in/qhvdivqh", parameters: ["when": nowString])
4   Alamofire                           0x000000010d392045 _TFO9Alamofire17ParameterEncoding6encodefS0_FTPS_21URLRequestConvertible_10parametersGSqGVSs10DictionarySSPSs9AnyObject____TCSo12NSURLRequestGSqCSo7NSError__ + 8325
This results in the error:
https://github.com/slooker/TestAlamofire
cd Alamofire
cp -rf Alamofire NewTestProject/
It appears to be more superstitious than fact based but it seems to work for me.
The code
``` Swift
//add the Alamofire default headers to the configuration
configuration.HTTPAdditionalHeaders = Alamofire.Manager.sharedInstance.session.configuration.HTTPAdditionalHeaders
let manager = Alamofire.Manager(configuration: configuration)
Error Domain=NSURLErrorDomain Code=-999 "cancelled"
//let manager = Alamofire.Manager(configuration: configuration)
let manager = Alamofire.Manager.sharedInstance
import Alamofire
manager = Alamofire.Manager(configuration: configuration)
@rainypixels , Thanks! I will try it later.
let manager = Alamofire.Manager(configuration: configuration)
help me !!!!
Error Domain=NSURLErrorDomain Code=-999 "cancelled" UserInfo=0x78fc41e0 {NSErrorFailingURLKey=myURL, NSErrorFailingURLStringKey=myURL, NSLocalizedDescription=cancelled}
Error Domain=NSURLErrorDomain Code=-999 "cancelled" UserInfo=0x78fc41e0 {NSErrorFailingURLKey=myURL, NSErrorFailingURLStringKey=myURL, NSLocalizedDescription=cancelled}
Error Domain=NSURLErrorDomain Code=-999 "cancelled"
2016-01-05 7:58 GMT-08:00 nicopuri notifications@github.com:
Or, in the Alamofire official page (
2016-01-05 8:49 GMT-08:00 Yu Guo nyuguoyu@gmail.com:
> 2016-01-05 7:58 GMT-08:00 nicopuri notifications@github.com:
@guoyu1989 I fixed it! The problem was on the server side. The certificate was signed with SHA-1 instead of SHA256 and the key to generate the Certificate should be 2048, not 4096.
var defaultHeaders = Alamofire.Manager.sharedInstance.session.configuration.HTTPAdditionalHeaders ?? [:]
self.authenticatedOperationManager = Alamofire.Manager(configuration: configuration)
// does not work
manager =  Alamofire.Manager(configuration: configuration)
@karmaios
http://stackoverflow.com/questions/33146003/afnetworking-with-request-error-code-999
dfgerg
My error looks like it was because I already had xcode open with the Alamofire project imported into it.  When I checked out the xcode-6.1 branch and then copied it over, for some reason xcode didn't recognize the newer version.
Alamofire.request(
"pwd" : "coolpassword//"
coolpassword//
coolpassword%2F%2F
Do you have any thoughts on how this could work with Alamofire and where we would tie into?
Dropped back to AFNetworking so I could submit.
2. The `Alamofire.framework` does not exist in any of your target's build phases (dependency, linked library, or copy frameworks).
struct Alamofire {
3. Write your own shim, as instructed above.
https://github.com/Alamofire/Alamofire#requirements
@cblackcom last I heard Swift was not supported in a static library, but maybe they solved that and I missed it...
It's the return of the encoding bug
Exception breakpoint show that it's happen on line 109 of file Alamofire.swift
Damien
"key" : kPlaceApiKey,
Alamofire
.request(Alamofire.Method.GET, googleAPIAutoComplete, parameters:self.buildParameters(location))
If you type "2,rue " the exception is raised.
Here is my code
Alamofire.upload(.POST, self._selectedPatient.filesUrl, parameters:["key":"value"],data)
I'm working with a Rails backend, and it seems like there is an issue with the GET request when JSON encoding is used (my parameter payload is a bit large, so I can't use URL encoding). I'm getting this error from Rails:  ERROR invalid body size
"value1": "roy.jaworski"
Alamofire.request(.GET, requestUrl, parameters: requestParams)
Could you investigate further? I'm new to Swift and would like to help, but I'm not sure where to start.
Alamofire was not including parameters whose value was an empty array in the URL request. I've added a check to handle an empty array, as well as two tests to ensure consistent behavior between URL and JSON parameter encoding.
Undefined symbols for architecture i386:
"__TF9AlamoFire7requestFPS_21URLRequestConvertible_CS_7Request", referenced from:
Since the dynamic embedded frameworks feature doesn't work with the deployment target set to iOS 7.x and Swift can't be compiled to a static library, the minimum iOS version to use should be changed to 8.0 with the current installation instructions.
@mattt ?
Hi @zuschlag!
`Alamofire.download(.GET, URL, destination, resumeIfPossible: true)`
Hi @ivanmoskalev
import Alamofire
Am I doing something wrong or is this a bug?
Most Alamofire methods return `Request`  for chain-ability and then Swift tries to return that from your single-expression closure (that probably is `-> Void`) and this causes a problem. That's why adding a `return` can resolve this problem. (I haven't found a more elegant work-around for this yet.)
Alamofire.request(.DELETE, phone.phoneUrl, encoding: .JSON)
Server = "nginx/1.4.5";
Vary = "Accept, Cookie";
> ‚Ä¶ drag `Alamofire.xcodeproj` into the file navigator of your Xcode project.
Referenced from: /Library/Developer/Xcode/DerivedData/Sync-dqwtdopmwaheyjheaabinsggoynp/Build/Products/Debug/Alamofire.framework/Versions/A/Alamofire
in/Library/Developer/Xcode/DerivedData/Sync-dqwtdopmwaheyjheaabinsggoynp/Build/Products/Debug/Alamofire.framework/Versions/A/Alamofire
- Drag and drop Alamofire.xcodeproj in Project navigator
@Dschee thanks for your solution.
extension Alamofire.Manager
Hi @mattt , i tried to get a reference to my Alamofire.Request as you said but it didn't work.
NSForwarding: warning: object 0x7b958910 of class 'Alamofire.Request' does not implement methodSignatureForSelector: -- trouble ahead
Unrecognized selector -[Alamofire.Request cancel]
var user : User = _ubinect._user!
if (self._ubinect.isRequestValid(code: response?.statusCode as NSInteger!))
//self._ubinect._user?.lastUpdate = lastUpdate.dateValue()
self._ubinect.setLastUpdate(LastUpdate: lastUpdate.dateValue())
println("Mode Hors ligne")
(_getMostRecentsPatientRequest as Alamofire.Request).cancel()
(_updatePatient as Alamofire.Request).cancel()
@mattt  problem solved.
I've noticed that the method called wasn't called from Alamofire.request but from my Anyobject.
"Unrecognized selector" confused me.
(_updatePatient as Alamofire.Request).cancel()
Master Roger! @ingouackaz
Happy to see you here! (camill_a from Lille)
Please replace your dirty optional unwrapping :p
If I copy the entire Alamofire folder, I get all the iOS example projects and workspaces and everything. Besides if I add the entire directory, I get this build error **/Cannot load underlying module for 'XCTest'**.
@mohdabdurraafay Thanks for the tip! it works!
@mohdabdurraafay Thanks for the tip! it works!
`import Alamofire` after importing `UIKit`
![alamofire_framework](https://cloud.githubusercontent.com/assets/16364754/15032528/bd199254-1216-11e6-8dc3-752632fb9c77.png)
This can be useful outside of Alamofire when creating custom
In AF networking this works perfect:
Please help?
Brian Minnaar
looks like I am guilty of pebkac (classic case of misreading the install/config instructions). My apologies :P
Alamofile embedded framework cause any problem in iOS7? For me my embedded frameworks work on iOS7 also but they shouldn't according to documentation.Tried with a helloWorld project and framework.Any hints?
i just created a test project you can look here https://github.com/leviyehonatan/cocoapods-lib-swift and it targets 7.1 and i t works, why won't alamofire target 7.0? because even though compiler supports it, the store doesn't support it?
@leviyehonatan It won't pass Itunes Connect Validation
Neeraj
Alamofire.Manager.sharedInstance.session.configuration
http:/www.facebook.com/rynecheow  http://sg.linkedin.com/in/rynecheow/
This e-mail message may contain confidential or legally privileged
attachments for the presence of viruses. I accept no liability for any
"User-Agent": "007"
Thank you ! @lfaoro
Another thank you @lfaoro!
FYI, for anyone who finds this after googling, if you want to set custom headers for iOS 7 and 8, you need to follow this: http://stackoverflow.com/questions/26784601/setting-custom-http-headers-in-alamofire-in-ios-7-not-working
I would love to use Alamofire, but it's a show stopper for me.
I'm going to use AFNetworking for now as suggested, but I'd love to see this in Alamofire as well!
AFNetworking is a lot of overhead just because of one of its many features ... ^^
Would love to have it in Alamofire too
Using AFNetworking works fine though.
+1 who wants multipart support
@mente Because this is a quick&dirty solution that works for me but might not work for everybody since it's not complete and has hardcoded strings.
return Alamofire.upload(request, parameters)
let rep = (asset as ALAsset).defaultRepresentation()
> Use AFNetworking for any of the following:
"/api/accounts/1"
"last_name"=>"Gapol",
Alamofire.upload(
multipartFormData.appendBodyPart(data: "Alamofire test title".dataUsingEncoding(NSUTF8StringEncoding, allowLossyConversion: false)!, name: "title")
@cnoon:  Do you have any tricks up your sleeve for diagnosing stalled uploads?  I am logging in `progress`, the backend in this case is Django Rest Framework on Heroku.  What I am seeing is that the upload pauses - my logs stop, and network activity goes to zero.  I am running on Wifi and otherwise have good bandwidth.
I am using `Alamofire.ParameterEncoding.URL` for parameter encoding, should I change this to custom and append data with that?
@coneybeare
The error is:
Iphone 5 and below have problem..
It is an issue
![zrzut ekranu 2014-09-15 o 21 08 34](https://cloud.githubusercontent.com/assets/28064/4277150/e5ff00b4-3d0b-11e4-9b81-55c439b6f2c1.png)
![zrzut ekranu 2014-09-15 o 21 09 23](https://cloud.githubusercontent.com/assets/28064/4277162/1e321eee-3d0c-11e4-9f5f-36691436b4a0.png)
@Mikoj  Thank you very much!
@Mikoj It worked. Thank you!
+1 @Mikoj
@mushu8 Did you resolve this issue with Alamofire inside framework?
@derpoliuk @mushu8 Came across this thread trying to solve a similar problem when adding a 3rd party framework to a framework i'm building.
![monosnap 2016-01-05 15-47-14](https://cloud.githubusercontent.com/assets/5027726/12130968/a182affa-b3c3-11e5-8358-3b61dda55448.jpg)
@iparq Lol, not sure why you have so many there. I actually can't recommend that approach anymore. I've discovered that Apple actually rejects apps the include frameworks with embedded frameworks. Not idea why and it seems a bit counter intuitive, but thats the current way of it.
@i3omar  After a full day of trying different things this was the missing thing that got me going. THANKS!
I also have the same issue.I tried every solutions above.But not working.Please help me to solve this.After adding framework in 'Copy Files Phase' and 'Linked libraries',in my project it shows the framework as in red color.So its telling like 'framework not found alamofire'
On Mon, Jul 25, 2016 at 12:18 PM, binjCN notifications@github.com wrote:
Thank you very much!, This was very useful @Mikoj @OmarAlEisa , Special thanks to you, I did experienced this because I removed all certificates from my keychain!!! Thanks to you.  Tests in a loop calling GET to 10 URLs and for each iteration increases the memory usage
Can someone elaborate on how to use Alamofire correctly?
encoding: .Custom(encodingClosure)
The `Alamofire.request` method that accepts `.JSON` parameter encoding only accepts `[String : AnyObject]` and not an array. If you wish to post a JSON array, as @mattt said, you can add custom headers on a per-request basis like this (example of uploading JSON array):
``` Swift
Alamofire.upload(request, jsonData)
``` Swift
I think the reason is line 86 of `Alamofire.swift`
So, why not `NSNull` ?
Expecting a better solution.
FWIW this is the awkwardness I'm referring to:
-X **Optional("POST")** \
Alamofire.request(.GET, "https://httpbin.org/basic-auth/user/password")
Alamofire.request(.GET, "https://httpbin.org/basic-auth/\(user)/\(password)")
@arnaudjbernard great, thanks!
Alamofire @ commit 72206e5
- language: Swift
4. Open AppDelegate.swift, under `import Cocoa` add `import Alamofire`
let request =  Alamofire.request(Alamofire.Method.GET, "http://nurane.otkur.biz/api/v1/address").authenticate(HTTPBasic: "azmet", password: "123456")
// println("daadsfas")
fatal error: unexpectedly found nil while unwrapping an Optional value
@EzimetYusup Had this problem also it's explained in this issue: https://github.com/Alamofire/Alamofire/issues/32
Alamofire.request(.GET, self.endpointForFeed()).validate().responseString { response in
Alamofire.request(.GET, "http://localhost:\(port)/xmlstats.do")
Code Type:       X86-64 (Native)
Exception Type:  EXC_BAD_INSTRUCTION (SIGILL)
Exception Codes: 0x0000000000000001, 0x0000000000000000
Alamofire.request(.GET, "http://localhost:\(port)/xmlstats.do")
Actually, when I just upgraded to `Xcode 6 Beta 7` (and fixed the issues with Optionals), Alamofire is working fine in my Release Build. I guess it must have been a Beta 6 issue?
see [pull request 78](/Alamofire/Alamofire/pull/78)
I have the same problem here, would be great if those properties are public.
Johny
#23 0x000000010006d4e8 in top_level_code [inlined] at /Users/kriswallsmith/Developer/Alamofire/Example/AppDelegate.swift:26
https://github.com/kriswallsmith/Alamofire/tree/not-a-framework
For this code,
Alamofire.request(.POST, example.com/api, parameters: ["UniqueId": uniqueID], encoding: .JSON(options: nil)).responseJSON {(request, response, JSON, error) in
Alamofire.request(.POST, "example.com/api", parameters: parameters, encoding: .JSON(options: nil)).responseJSON { (request, response, JSON, error) -> Void in
I get this error **'(options: NilLiteralConvertible) -> $T13' is not identical to 'Alamofire.ParameterEncoding'**
Alamofire.request(.POST, path("/api/login"), parameters: body, encoding: ParameterEncoding.JSON).responseJSON {(request, response, JSONresponse, error) in
https://github.com/lingoer/SwiftyJSON
> > Well said, @justinmakaila.
import Alamofire
// MARK: Alamofire Extensions
typealias AlamofireResponseCompletionBlock = (NSURLRequest, NSHTTPURLResponse?, AnyObject?, NSError?) -> Void
internal extension Alamofire.Request {
^ @iUtvikler
@justinmakaila Works great! Thanks
I have been looking since a days on "How to parse JSON response from Alamofire API in Swift?" but didn't get the answer yet! Please take a look on the below code and let me know what has o be done in this regard.
Alamofire.request(.POST, "MY URL", parameters:parameters, encoding: .JSON) .responseJSON
Alamofire.request(.POST, "MY URL", parameters:parameters, encoding: .JSON)
How can I store value in String so that I can use that? Why this all is so complex?
there is also an extension to work with Alamofire
https://github.com/SwiftyJSON/Alamofire-SwiftyJSON
@violabg
https://github.com/SwiftyJSON/Alamofire-SwiftyJSON
I downloaded that but SwiftJSON folder is empty and seems files are missing
@Baza207 aka James! :+1:
Thanks a lot Baza! Actually server side developer sending the Bool value and internally it was getting converted in the Integer form but now it is working as I put a check for the Int value and its not Nil anymore. You saved me! :-)
I am newbie to swift and Alamofire
Undefined symbols for architecture i386:
@troypayne Try changing the "Deployment Target" on `Alamofire.xcodeproj`
struct Alamofire {
*I then call Alamofire.manager.request.....
I ended up using AFNetworking.
Angel
Build target Alamofire
Undefined symbols for architecture armv7:
But I get this error wherever I have used Alamofire.
**Use of unresolved identifier 'Alamofire'**
In the meantime I just added the source file and remove the `Alamofire.` in my sources.
@angelcasado I dragged and dropped the Alamofire.xcodeproj to my project, added the framework as a Target Dependency but still it doesn't work. And here's the kicker! When I build it, it fails without an error!
I have no idea why Alamorefire.framework is showing in red either.
@Isuru-Nanayakkara I just spent an embarrassing amount of time trying to get things working as a framework...finally realized that I didn't add "import Alamofire" into my Swift classes.
@luketheobscure Thanks, Luke. I finally managed to integrate it successfully.
Thanks @angelcasado, @luketheobscure !
@luketheobscure  Thanks, you are a life saver!
@luketheobscure @mattt forgot to import Alamofire into my class. _face palm_
@Isuru-Nanayakkara - :+1:  Adding to Target Dependencies fixed it, Thanks! And step 6 on the read me should be changed.
Great angelcassado
Alamofire.swift:176:53: Bound value in a conditional binding must be of Optional type
Alamofire.swift:681:21: Optional type '@lvalue ((Int64, Int64, Int64) -> Void)!' cannot be used as a boolean; test for '!= nil' instead
Alamofire.swift:814:35: Optional type 'NSURLProtectionSpace' cannot be used as a boolean; test for '!= nil' instead
@gbachik Just switch back to beta 5. That's I am doing.
JAManfredi are you building on an actual device or the simulator? Can you try it on the sim for me?
Hmm, I havent tried integrating Cocoapods into any Swift projects yet so I cant say. But that seems to be the difference between our projects then at this point.
Since Swift is a change for the better for managing complexity and creating artful code, it'd be great if there were a tutorial included with this project specifically, that did explain the process.
Both _uniqueID_ and _personalNumber_ are of **String** type. I get no error at this point but when I try to add it to the request,
Alamofire.request(.POST, "https://www.example.com/api/", parameters: parameters, encoding: .JSON(options: nil)).responseJSON { (request, response, JSON, error) -> Void in
Everytime I use the sample code supplied on http://nshipster.com/alamofire/, this error comes up.
This is the code that is given:
Alamofire.request(.GET, "http://httpbin.org/get")
Alamofire.request(.POST, "https://my.url.com/api/v1/auth")
Server = "gunicorn/17.5";
Optional({
let manager = AFHTTPRequestOperationManager()
success: { (operation: AFHTTPRequestOperation!,
failure: { (operation: AFHTTPRequestOperation!,
error: NSError!) in
If I'm making a mistake in my request with AlamoFire, would you mind pointing it out?
The issue with using AlamoFire over AFNetworking (for now) is that you have to do the Base64 encoding yourself. AFNetworing included an encoding implementation which was called behind the scenes while creating the header. All you had to do is pass in the username and password. That being said, I imagine @mattt or someone will add that functionality into AlamoFire at some point.
Just got trolled by this... :facepunch:
Quite confusing after AFNetworking (since I worried, when found, that `authenticate` called after `request`), but it's quite unclear for first time usage.
Thanks @skywinder - @mattt perhaps we could simply point out in the README that the HTTP basic auth challenge in Alamofire is different in nature to `setAuthorizationHeaderFieldWithUsername` in AFNetworking?
The `init` receives `NSCFLocalDataTask` instance as a task parameter and strangely enough, on iOS 7 are both of these expressions evaluated as true:
Any thoughts on why it behaves like this?
Really strange. But with rearranging the else if's its working on IOS 7 and IOS 8.
Then I tried the same with Alamofire and it worked with no errors.
let galleryRequest = Alamofire.request(.GET, "https://api.imgur.com/3/gallery.json")
I would like to re-open this issue. Sending additional request headers is mandatory on any REST API.
+1 @endel
+1 @endel
+1 @endel
+1 @endel
- 1 @endel
+1 @endel
+1 @endel
+1 @endel
+1 @endel
return Alamofire.request(req).validate(statusCode: 200 ..< 300)
Would there be any interest in integrating a more idiomatic form of JSON serialization that also leverages some of Swift's benefits, rather than using NSJSONSerialization?  If so, would it make more sense to use an existing project like [SwiftyJSON](https://github.com/lingoer/SwiftyJSON), or to write something specifically for AlamoFire?
Instead of
`if !someOptional {...}`
- Add `Alamofire.` to the connivence `request` method, making it seems like others.
I wonder is there a good way for setting up tests for `Alamofire`? Any suggestion will be appreciated. Thank you.
Alamofire.request(.GET, "http://httpbin.org/get")
Ah, I'm using an iOS 7 phone. Looks like it works with an iOS 8 simulator. Wonder what the difference is.
Van
I like where Alamofire is going! But a quick feedback: I'm a bit confused with the method names that are not verbs:
iOS Apps:  Chinese | French | German | Italian | Russian | Spanish
> I like where Alamofire is going! But a quick feedback: I'm a bit confused with the method names that are not verbs:
This allows calling `Alamofire.request(URL)`. GET seems to be the most common request mode, so it makes sense to use it as a default.
Btw, Swift has fantastic syntax sugar for enums, so we can use `AF.request(.GET, ...)` "as is" and don't breed unnecessary methods which needs to be tested, also.
Other than that Alamofire looks awesome!
Signed-off-by: Kyungkoo kyungkoo.kang@yahoo.com
@Dschee I like the data/content-type suggestion, as well as adding headers a little quicker than the lower level requests.
