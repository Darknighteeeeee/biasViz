  @chrisjlocke @karim Any ideas? :smile: 
I just tried installing the latest nightly version and everything is working fine. I'm on windows 7 though.

The only difference I see between the official version and the nightly builds is that the nightly builds are not digitally signed. Also, since they are *downloaded from the internet* they might be flagged as unsafe. Could it be Windows 10 blocking the installer somehow?

@allender Does the official version (v3.9.1) work without a problem? Did you try right-clicking the installer and *Run as administrator*?

When you right-click the executable and select *Properties* do you see something like this?

![db4s](https://cloud.githubusercontent.com/assets/8761081/26655229/498c4998-465a-11e7-9371-ee03402309dc.jpg)

@justinclift Can you sign one of the latest nightly versions and send to him to test? I run this quite happily on Windows 10, although it does come up with the 'Hey, this is a new program, are you sure you want to run this?' 

What anti-virus have you got?  Anything in the event viewer?

Edit: When I run the installer, I get this 'error', but clicking 'More Info' gives me a link to run it anyway.

![image](https://cloud.githubusercontent.com/assets/7872218/26655405/9201095a-4652-11e7-953f-c0347a7c0f7d.png)
 You're welcome @allender, glad the problem didn't turn out to be something more serious. :smile:  As a thought, does it happen with our recently nightly builds too?  We changed the pagination code for the Browse Data tab on May 8th to jump by however many rows are currently being displayed. v3.9.1 is quite old now*.  Try one of the latest nightlies from here:
https://nightlies.sqlitebrowser.org/latest

*By that I mean we've put a lot of time and effort in fixing issues, but haven't yet made a full release, so our nightlies are more up to date than the version available for main download.  Good thinking.  That's a very good reason to have a "Set as NULL" button or something similar in the main Browse Data window, not just inside the cell editing window. As a thought, for a workaround approach for now it'd be possible to set all values to NULL using SQL.  eg something like `UPDATE sometable SET column = NULL`.  Doing it like that without a WHERE clause will apply it to all rows. :smile: This is sort of linked to the other issue raised recently of changing multiple cell values at once. The is a keyboard shortcut to null a cell contents, so it could be carried across all selected columns/rows... assuming the Qt control plays nicely... No worries. :smile: There's a keyboard shortcut for this (but no button) :smile: You can press Alt + Delete or Alt + Backspace to set the current field to NULL. Here's a list of all non-obvious keyboard shortcuts: https://github.com/sqlitebrowser/sqlitebrowser/wiki/Keyboard-shortcuts#browse-data-tab

But yeah, for now it works only for single fields. I'll try to fix that over the next couple of days, if time permits :wink:  Interesting thought.  Yep, it does sound like it would be useful. :smile: A possible 'temporary workaround' is that columns can be resized down to quite a small size.  
![image](https://cloud.githubusercontent.com/assets/7872218/26530240/29b23e36-43c9-11e7-8b9c-ae522a1904f3.png)

These can also be saved if the database is saved as a 'project', which is handy...
So not perfect, but 'workable'.... ;)

Maybe if the minimum size could be removed or made smaller? Yep, that'd probably work too. :smile:  SQLCipher 3.4.1 was released a while ago.  Our Windows nightlies use an older version though, as it's based on a modified version (changed to compile easier on Windows).

It would be useful to update my SQLCipher repo to version 3.4.1, so that our Windows nightlies use that. Will be happy to test if you need a 'tester'. üò∏ 
Can't remember if you have a Win VM to test. Thanks @chrisjlocke. üòÑ 

I do have one, but it's stored on machine I rarely turn on and is a bit of a pain to get happening.

Probably won't get to this any time real soon though.  It's more of a reminder/placeholder issue for myself so I don't forget. :wink:  Interesting.  Which version is this happening with, and on which operating system? :smile: Thanks @matuszuborupc.  That's a very old version.  Would you be ok to try our latest release?

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/releases/tag/v3.9.1

I'm pretty sure diacritics work in that. :smile: Awesome. :smile:  It's definitely a reasonable idea.  I suspect this is something people have asked about before, but we've just not gotten around to implementing yet.

Um... don't suppose you're any good with C++ and Qt programming? :smile: No worries. :smile: if you select multiple columns (they have to be adjacent - you can't select just specific columns) and double click the spacer, then all those columns will have the same width.  So if you select all columns (by clicking the top left square) and double clicking the column spacer to the right of the largest column, all columns will be super long.  So not perfect, but quicker than clicking each column... A sounds like that'd make for a useful FAQ item or similar kind of thing on the wiki.

@karim @chrisjlocke Would either of you have the time/interest to make something suitable? :smile: "Its wacky and its weird and unlike any other feature you've used."  üòâ  https://github.com/sqlitebrowser/sqlitebrowser/wiki/Resizing-Columns Awesome @chrisjlocke.  Just added a link to it from the front page too. :smile: Oh yeah, forgot about that.... doh.  ü¶Ä  Probably close it for now.  We're swamped with issues as is, so cutting down on the non-major ones for a while is probably not a bad idea. :smile:

That's me trying to be practical though...  Interesting thought.  When reading that, the concept I'm getting is that if someone selects multiple cells then types (say) the number 5, all of the selected cells would get that value.

Is that the kind of thing you're meaning? :smile: Cool. :smile: Haha!  I was thinking something similar the other day as I had to update a number of cells in a database. Would be a nice feature.  ‚òïÔ∏è  @iKlsR From memory, the current behaviour (done in #709) is an improvement over what it was before.

The advantage of having skill with C++ and Qt, is that you can shape it to be better. üòÅ 

Would improving it further be of your kind of thing? üòâ  > The advantage of having skill with C++ and Qt, is that you can shape it to be better.

The underlying control (or widget...?) should have this 'basic' functionality, then its down to the program to acknowledge/respect that, rather than the other way around?  Maybe the control does though - haven't played with Qt in any real depth. From memory of the issue, as it turned out to be fairly complex, we went with "single selection only" because that was the most practical approach for the time we had available.

The widget itself definitely can be told to allow multiple selections.  It does need corresponding code for handling that though.  Pasting a multiple-cell selection from one table to another has weird edge cases, and we also need it to work ok for cut-n-pasting onto the OS's clipboard when people want to paste into (say) Google Docs.

...so we went with single selection for now because it was getting too hairy otherwise. :wink: No worries at all, it all helps. üòÅ   Oh that's different.  We'll definitely need to look into that.

Thanks for pointing it out @jjxtra. :smile:  Interesting bug, thanks for reporting it. :smile:  ### Details for the issue

<!--

Thanks for coming here to report an issue. :)

Please describe it in this section, fill out the correct check boxes
below with an "x", then click the "Submit new issue" button at the bottom

-->

Have been using an older nightly fine (7 May or so) but downloaded a recent nightly (24 May) and now if I browse a recently browsed table, DB4S crashes.
http://screencast-o-matic.com/watch/cbhZ2HXkz2

Windows doesn't really provide useful info *where* its crashing, so not sure what helpful info I can provide.

I haven't tried the obvious yet of rebooting and retrying.  The problem is fairly reproducable.  Haven't tried another database either.  
Worthy of note that the database is on a server (with plenty of disk space) but haven't had issues before.

Ignore the 'semi crash' when the program is restarted - it only does that when Avast 'sandboxes' it, so its something to do with DB4S checking for a version update and getting 'nothing' back, or something...

Edit: Just tried a different database on a different machine (so still via a network, but not the same above server) and the same issue - browse a table fine, but browse a previous table and 'BANG'.

### Useful extra information

<!-- The info below often helps, please fill it out if you're able to. :) -->

#### I'm opening this issue because:

- [x] DB4S is crashing
- [ ] DB4S has a bug
- [ ] DB4S needs a feature
- [ ] DB4S has another problem

#### I'm using DB4S on:

- [x] Windows: ( _version:_ ___ )
- [ ] Linux: ( _distro:_ ___ )
- [ ] Mac OS: ( _version:_ ___ )
- [ ] Other: ___

#### I'm using DB4S version:

- [x] 3.9.99
- [ ] 3.9.0
- [ ] Other: ___

#### I have also:

- [ ] Tried out the nightly version: https://github.com/sqlitebrowser/sqlitebrowser#windows
- [ ] Searched for an existing similar issue: https://github.com/sqlitebrowser/sqlitebrowser/issues?utf8=%E2%9C%93&q=is%3Aissue%20
 Interesting.  Does the nightly from before 19th May work?  eg the 18th or similar.

I'm wondering if it's a side effect from b7cd1c7dbd0606d12f6b2ab31451760b39cac82f somehow. :smile: I'll have a go tomorrow... certainly ones from early May were OK.  Yes, nightlies from 18 May and 19 May worked fine.  The nightly from 20 May exhibits the above crash.
The culprit has been found. Awesome @chrisjlocke. :smile: Thanks for tracking this down, @chrisjlocke! In this case I believe that this is indeed caused by 7ad80352616df1b185ab87f989cb7c2fd6c784c5. I'm just not sure why yet and it will be tricky to debug because it doesn't crash for me. But I'll try :smile:  @MKleusberg If it's useful, I can kick off the windows build script and point it at a branch of your repo or something, to make some one off build(s) for Chris to test with. Oh... one other thing springs to mind.  I recently updated the Windows build box to use SQLite 3.19.0.  I wonder if that's the cause? Ahhh.  sqlite.org now lists 3.19.2 as the latest.  I've just updated the Win build box with that and kicked off a modified version of the nightlies build script.  We should have new binaries for today in ~1/2 hour. Yeah, makes sense to use the latest SQLite version. But it's probably not the source of the problem here (I guess).
Can you make a build from [this branch](https://github.com/sqlitebrowser/sqlitebrowser/tree/issue1019)? This prints some rudimentary debug output to the console. Yep, will do.  Gimme a bit. :smile: k, it's building now.  In theory it they should pop up in the *-onceoffs dirs in ~1/2 hour:

* https://nightlies.sqlitebrowser.org/win64-onceoffs/
* https://nightlies.sqlitebrowser.org/win32-onceoffs/

... and have "issue1019v1" in their name. Cool, thanks :smile:

@chrisjlocke Can you test again using those build? It should still crash but - when you start the new build from cmd.exe - print some debug information that hopefully provides at least some clue on where to start looking for the bug :wink:  Oh wow.  Animated gif showing the new behaviour in the PR.

Now **that's** got to be a gold standard for PR things-to-do. üòÅ  Impressive! üòÑ 

Few questions:

- How did you add the files? (Did you associate .csv files with DB4S? If so, is there any limit, by the OS, on how many files to open like this?)
- What if the user add a file using `File > Import > CSV`? (Can he add more once this dialog is open?)

Not questioning your work, it looks very nice. But we need to document this behavior. 

Thanks for your hard work üëç  @karim This PR updates `File` ‚Üí `Import` ‚Üí `CSV` to allow selecting multiple files. :wink: Ahhh. Good to know. Thanks @justinclift üòÑ  > If so, is there any limit, by the OS, on how many files to open like this?

Depends on the OS and version.  Some older versions of Windows have a hard coded limit of 200 files.  Just to check, which version is this happening on?  Asking because we've changed the code for the *Execute SQL* pane a lot since the 3.9.1 release.  I'm pretty sure the behaviour will have changed since then.

If the above is happening with our recent nightly releases though (found [here](https://nightlies.sqlitebrowser.org/latest/)), we should definitely look into it. :smile: Thanks, that's useful.  Would you be ok to try the latest nightly build and see if it's happening there as well?

&nbsp; &nbsp; https://nightlies.sqlitebrowser.org/latest/

In theory (!), it shouldn't be a problem any more. üòÅ  Damn, I could have sworn we fixed this a while back.  We'll need to look into it again before the next release.

Thanks for pointing it out @fatscally. :smile: Thanks. :smile:

Yeah, everything has bugs, but at least we're somewhat more approachable. :wink: Just a thought (haven't fully tested it, but wanted to confirm...) you mention "but highlight just the first row".  Theoretically, no highlighting is necessary, and it might be that thats giving the 'false information'...
I know this was working semi-recently, as it was me that highlighted the previous quirks with it.   OK, so 'Execute SQL' (or F5) will execute the sql statements in the window, while 'Execute current line' is technically more 'Execute current *statement*'.  A subtle, but obvious difference.

The highlighting is important in that if some SQL is highlighted (ie, part of a statement) and 'Execute SQL' (or F5) is pressed, then only that SQL is executed.  Highlighting has no effect on the 'Execute current line' button.  

The SQL window can hold multiple statements, eg:
```   
select * from invoices
where invoiceNumber=100;

select * from invoices;
```
So the 'Execute Current Line' (if the cursor was on the 'where invoiceNumber=100' line) would only execute the top SQL *statement*, not the bottom one.

I guess the button labels are slightly misleading...

Personally, I've found it more beneficial to use -- comments, so if I didn't want the 'where' statement, its easier (and clearer) to set the SQL as 
```
select * from invoices
--where invoiceNumber=100;
```

...but that doesn't negate the fact that the buttons aren't accurately describing what they do.... > If I put this code in, it will fail

Technically, its not valid SQL.  DB4S will 'merge' all lines (as an SQL statement can be split over multiple lines, eg:
```
select * 
from Tags 
where 
Id <= 2
```
So DB4S is squishing your statements together and forming this:
```
select * from Tags where Id <= 2 select * from Tags where Id >= 3
```

Slap a semi colon on the end of each statement, and DB4S will know where one statement ends, and another begins.  Other database programs might be more 'forgiving', but Db4S is quite strict! ;)

2. Again, if you add the semi colon, Shift+F5 will work.  Honest.

![image](https://cloud.githubusercontent.com/assets/7872218/26400159/99eab110-4077-11e7-9bd6-9186b762fa59.png)

I pressed Shift+F5 on the middle statement, as it showed 12 rows.  If I'd have pressed F5, it would have shown 1 row. Some programs 'detect' where the semi colon should go, others don't.  I use SQL Studio and that gets confused if I don't add semi colons.  You can't 'assume' that lines beginning with 'select' is a new statement, as you can have multiple 'select' statements in a select statement.  The semi colon just explicitly defines where you want the ending to be.

> when I'm scripting outside of C#

Welcome fellow .Net-er.  I program mainly in VB, but use both SQLite and SQL Server.  üëã 
 > Right now I want to use C# + Xamarin to create a mobile app across the 3 platforms

Ditto.  Well, I'd love to create some Android apps.  I work in a manufacturing business, so to create a small app where someone could interact with a database 'somewhere' would be useful.
99.99% of my coding is for Windows applications (WinForms, rather than WPF).  I use SQLite for most of the databases (seems to work OK in a multi-user environment on a server, even though they say 'don't do that!'...) and SQL Server for bigger projects.
I code in SharpDevelop, as thats a 40 MB download, compared to Visual Studio, which is just nuts - someone said 50 GB offline download, but I guess thats with 'everything'.

Think we've gone off topic now! ;)  hehe!  Anyway - welcome to the DB4S group! üò∏  Custom keys can't be set yet, and changing the keys may not be possible, as Ctrl+E currently shows/hides the 'Edit Database Cell' tab. Yeah, we do have an outstanding item for adding some kind of key binding change.  But, it's not a small piece of work and it's probably not something we'll get done in the near future. üòá   @eevleevs As a thought, there is an option in the Preferences dialog for adjusting this.

Saying that because over the years we've had people with distinctly different needs for the "default location to open" open issues here, so we made it configurable.

Are you ok to look through there and see if the current options suit? :smile: Sure, that sounds reasonable. :smile:  ### Details for the issue
currently if I export some database tables, the output sql file always contain indexes of all tables in the database, which means my selection of tables is ignored.
<!--

Thanks for coming here to report an issue. :)

Please describe it in this section, fill out the correct check boxes
below with an "x", then click the "Submit new issue" button at the bottom

-->



### Useful extra information

<!-- The info below often helps, please fill it out if you're able to. :) -->

#### I'm opening this issue because:

- [ ] DB4S is crashing
- [x] DB4S has a bug
- [ ] DB4S needs a feature
- [ ] DB4S has another problem

#### I'm using DB4S on:

- [x] Windows: ( _version:_ ___ )
- [ ] Linux: ( _distro:_ ___ )
- [ ] Mac OS: ( _version:_ ___ )
- [ ] Other: ___

#### I'm using DB4S version:

- [x] 3.9.1
- [ ] 3.9.0
- [x] Other: SQLite-2017-05-15-win64.exe

#### I have also:

- [x] Tried out the nightly version: https://github.com/sqlitebrowser/sqlitebrowser#windows
- [x] Searched for an existing similar issue: https://github.com/sqlitebrowser/sqlitebrowser/issues?utf8=%E2%9C%93&q=is%3Aissue%20
 Ahhh, yeah... I can see how that'd be un-wanted. :smile:

@MKleusberg This sounds like exactly your kind of thing to look at. üò¨   While trying things out in the new Edit Index dialog, something strange happened.

Double clicking on an "expression column" row in the right hand side (eg expecting to be able to edit the text) instead removed the row.

I've created a screencast, which I'll attach in a few minutes.

&nbsp; &nbsp; https://nightlies.sqlitebrowser.org/issue_uploads/DB4S%20Issue%201012.mp4 At a guess, without looking at the code, it's probably related to the double click action normally swapping the row between the left and right window panes.

Expression column rows seem to get deleted instead of being transferred to the left hand side.  eg clicking the left arrow button on an expression column also nukes the row. Thinking about what an optimal behaviour instead would be... maybe transferring the "expression column" row to the left side (so it can be toggled between left and right), but when on the left side the text for it is in red italics or similar instead?

And if the user clicks the `OK` button when it's still on the left side, the "expression column" row is just forgotten about as we have no real place to store it. Yeah, this isn't optimal. You can edit the expression column by clicking it (to select it) and then clicking again (to start editing) but if you do it to fast it counts as a double click and the column is removed entirely. That's probably a little too frustrating even if you know about the two separate clicks :wink: I'll probably disable the double click action for expression columns, so that you'll have to use the button for that. Also I could add an 'Are you sure?' message box when trying to remove an expression column. Then it wouldn't be necessary to move it to the left table view which I would find confusing as well because it doesn't really make sense for an expression column to the in the 'Table columns' list and, if you've decided to remove an expression column (and didn't do so by mistake), you'll probably not want to restore it only seconds later. Sound reasonable? :smiley:  Hmmm, would it be feasible to have the double click action for expression columns trigger the "edit text" mode?  Same as the two slow clicks you describe above. Yep, should be doable :smiley:  If I could hug you, I would.  Some valuable information there.  I looked into manipulating the .exe file and various PE editors, but none really explained what to change.

I couldn't see your photo/screenshot though - your link just takes me to a page which says, "Only logged in users can see this profile".  You can copy and paste the image here, or if you email it to me (db4s [at] chrisjlocke.co.uk) I can host it / paste it here.

Thanks again for posting a solution - useful for making the nightlies XP compatible - they are better versions than the v3.9.1 version (as a lot has changed since that release) So is that always in the same place, or does it depend on how its been compiled?  
The 'editbin' method you posted seems the easiest.  I'll try on last nights nightly.  I've an XP VM, so will try in that.
Thanks for posting the screenshot. üò∏  Didn't work for me.

![image](https://cloud.githubusercontent.com/assets/7872218/25956936/01c42b08-3665-11e7-8e34-6c731fc8d015.png)
 As an alternative idea for our nightly builds, this is (a copy of) the batch file we use for building the Windows ones:

&nbsp; &nbsp; https://gist.github.com/justinclift/11cc926f214e882c8162f97c53929c07

If someone can suggest a change to it which would add XP support, that'd be completely welcome. üòÅ  After changing '06 00 00' to '05 00 01' in the guts of the program, it threw up another error.

![image](https://cloud.githubusercontent.com/assets/7872218/25958093/b56808f8-3667-11e7-97a3-3990360a7717.png)

...and failed to run.

Edit: Minimum supported client: Vista.

https://msdn.microsoft.com/en-us/library/windows/desktop/dd318139(v=vs.85).aspx >  I really don't know where did you get it and why did you use that command shown in your CMD prompt screenshot, as I've never suggested that. It is totally wrong!

Oh, I took it from your instructions.  Oops.  üòï 

![image](https://cloud.githubusercontent.com/assets/7872218/25962926/7030e79a-3677-11e7-851b-b0f0360e5685.png)
 Doh.  Good point.  Oops.  üî´  Either way, I changed the .exe, and got the 'blah blah kernet32.dll' error.  I believe this is because from the 3.9.1 release, we've changed to Qt5 instead of Qt4, or it could be how the nightlies are built, and these have different dependencies from the 'official' DB4S releases ... @justinclift  could possibly confirm on that, as he's a whizz and guru on anything to do with building, compiling and general head-scratching... üôâ 
I can build a copy of DB4S from the source ... need to do that anyway to confirm the instructions are still correct.  @justinclift Can you change [L255](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/CMakeLists.txt#L225) in CMakeLists.txt to

    set(CMAKE_EXE_LINKER_FLAGS "${CMAKE_EXE_LINKER_FLAGS} /subsystem:windows,5.01")

and try building it. @karim Yep, I can give that a shot.  Gimme an hour or so, as I'm finishing off some other stuff.  If it builds ok, then I'll upload it to the nightlies server and paste a link here for people to test. :smile: @karim Hopefully this is correct: https://github.com/justinclift/sqlitebrowser/commit/fd07c1435681de053279e0a4944831a7925235b8

I'll try a build with that shortly. @justinclift Yes.. I think. üòÑ  Thanks. :smile:

Is anyone up for trying these out and seeing how they go?

* https://nightlies.sqlitebrowser.org/win32-onceoffs/DB%20Browser%20for%20SQLite-2017-05-11-win32-xp_v2.exe
* https://nightlies.sqlitebrowser.org/win32-onceoffs/DB%20Browser%20for%20SQLite-sqlcipher-2017-05-11-win32-xp_v2.exe I don't have XP but after installing this and checking the exe, it is still using `6.00` (Vista) subsystem. Damn. üò¶  If you are building the exe using Visual Studio 2012 (or higher), you need to change the default [toolset](https://blogs.msdn.microsoft.com/vcblog/2012/10/08/windows-xp-targeting-with-c-in-visual-studio-2012/) also, and things will start to get complicated. üòÑ 

I guess patching the exe right after building it will be better/easier. The file need to be patched right after it is compiled and before it is included in the installer. Just copy the exe, with a different name (e.g. add `-xp`), and use `editbin` to patch it.  I haven't built DB4S before, so I don't know when that happen.

 k, that might be workable.

If it helps, this is the log for the build which just ran (manually cut-n-pasted, thus the weird wrapped lines):

* https://nightlies.sqlitebrowser.org/win32-onceoffs/xp_v2_build_log.txt

Maybe something in there indicates the problem?

If not, then yeah, we can probably run `editbin` after the build.  I just need someone to give me the exact command to run. :smile: It is already in the old [issue](https://github.com/sqlitebrowser/sqlitebrowser/issues/893#issuecomment-274370095) and [this one](https://github.com/sqlitebrowser/sqlitebrowser/issues/1010#issue-227910739) too.

32-bit version:

`editbin file.exe /SUBSYSTEM:WINDOWS,5.01`

64-bit version:

`editbin file-x64.exe /SUBSYSTEM:WINDOWS,5.02`

More info [here](https://msdn.microsoft.com/en-us/library/4cc7ya5b.aspx). Ahhh well, that's pretty simple then. Ahhh, hang on.  Is there an alternative source instead of "http://ru.dll-overhaul.com"?

At first glance that site looks extremely dodgy. It is already included in Visual Studio. Should be in `C:\Program Files (x86)\Microsoft Visual Studio 12.0\VC\bin\`. Thanks @karim.  I'm hitting the sack now, but will pick this up tomorrow. :smile: Okay, good night mate. üòÑ  This is turning out to be a bit more complicated than expected.  Our Windows nightly build box uses Qt 5.8, as Qt versions earlier than 5.7 have some weird (minor) bugs.

... and it seems like Qt 5.7 and above don't support XP.

However, I do have an ancient laptop not doing anything important downstairs other than being a music player, which might be up for the task instead.  Gimme a bit and I'll see if things install ok on that. So if I followed your Windows build instructions and installed Qt 5.6, that
would work?  I've a VM I could install it all on.

(...weird Qt bugs aside... ;) ) @chrisjlocke In theory, yep. :smile: OK, I'll have a go. üë®‚Äçüé§  Well, it's a fail here from my attempt.  After spending **way** too much time trying to get Windows on the old laptop... it turns out the reason it point blank refuses to load is that all my Windows ISO's are 64-bit.  And this ancient laptop needs 32-bit.

So... @chrisjlocke it's up to you. :wink: I made a huge mistake. üòÑ 

Changing [L225](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/CMakeLists.txt#L225) in CMakeLists.txt will not be applied since the build system was changed from MinGW to MSVC. The changes are correct but were ignored/skipped since they are inside `if ( MINGW )`. The correct line should be [L335](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/CMakeLists.txt#L335).

To test this I built DB4S (finally!) on my PC and made the changes. The generated project (`.vcxproj`) now includes the linker switch and the generated exe is using `5.02` subsystem (for 64-build) instead of the default one `6.00`. I haven't tested it on a 32-bit Windows though, since I don't have one.

@justinclift Can you check this: https://github.com/karim/sqlitebrowser/commit/51f3d6f5e46839b74a6f9d719c509fa98873444b Ahhhh, yeah I can give that a go.  Give me a bit of time, as I'm doing some other stuff atm. > To test this I built DB4S (finally!) on my PC

Using the latest source?  And you didn't get a kernel32 error?

On Fri, May 12, 2017 at 2:36 PM, Justin Clift <notifications@github.com>
wrote:

> Ahhhh, yeah I can give that a go. Give me a bit of time, as I'm doing some
> other stuff atm.
>
> ‚Äî
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/sqlitebrowser/sqlitebrowser/issues/1010#issuecomment-301078143>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AHge2qiXLXeKWrPaJ4MSZ93DjJ8ln79pks5r5GBTgaJpZM4NXpwJ>
> .
>
 @karim Looks reasonable to me (but I have to admit I haven't read all the comments on this issue). The version numbers are the same as the minimum numbers in the table [here](https://msdn.microsoft.com/en-us/en-en/library/fcc1zstk.aspx) and the ```CMAKE_CL_64``` switch looks reasonable, too. So feel free to open a PR for your commit and I can just merge it proactively :smiley: At least it doesn't seem like it will hurt :wink: Hmmm, not just yet.  The Windows nightly build box is running it now, so we might as well wait and see if that finishes ok. :wink: Sure :smiley:  @chrisjlocke Yes. Using the latest source.

My build system:

- CMake 3.8.1
- Visual Studio Community 2015 Edition Update 3
- Nullsoft Scriptable Install System 3.01
- OpenSSL 1.1.0e
- Qt 5.7.1
- SQLite 3.18.0
- Github Desktop 3.3.4.0

Using the 64-bit of everything, on Windows 7 64-bit. Ahhh, MSVC 2015 works too then.  Good to know. :smile: Btw, the build finished and the uploaded files are here:

* https://nightlies.sqlitebrowser.org/win32-onceoffs/DB%20Browser%20for%20SQLite-2017-05-12-win32-xp_v3.exe
* https://nightlies.sqlitebrowser.org/win32-onceoffs/DB%20Browser%20for%20SQLite-sqlcipher-2017-05-12-win32-xp_v3.exe

Anyone able to verify them? @justinclift Yes. I did everything exactly like in the wiki (very nice with a lot of screenshots). üòÑ 

I just changed this `cmake -G "Visual Studio 12 2013 Win64" -Wno-dev` to that `cmake -G "Visual Studio 14 2015 Win64" -Wno-dev` @justinclift I installed it (on Windows 7) and the exe is correctly using `5.01` subsystem instead of `6.00`, so it should work. But someone with Windows XP should test it just to sure. Thanks, that's awesome. :smile:

@andisys @h1618 @iRybin In theory, these should work on WinXP 32-bit:

* https://nightlies.sqlitebrowser.org/win32-onceoffs/DB%20Browser%20for%20SQLite-2017-05-12-win32-xp_v3.exe
* https://nightlies.sqlitebrowser.org/win32-onceoffs/DB%20Browser%20for%20SQLite-sqlcipher-2017-05-12-win32-xp_v3.exe

Would any of you have the time and interest to try them out?
 @chrisjlocke Since you mentioned having an XP VM around too, same as last comment. :smile: Thanks @h1618, that completely makes sense.  So, we need a build to run in a VM that has Qt 5.6, just for XP compatiblity.

That's probably achievable... :smile: Yup, I can try that... if people can wait until Monday... ;)
I've a VM or three I can use.  üíª 

Tried the .exe you built, and on my XP it just moaned about the getUserPreferencesUI thing as above... @chrisjlocke With the VM's you mention, would any of them be suitable for a nightly builder for XP?  eg something that's fairly reliable and will spit out the appropriate binaries each night?

If you're unsure, it's not a stress as I already have other computers running 24/7 so chucking an extra VM on one of those won't hurt anything. :smile: Actually, I got this.  I'm making a linked clone of the original nightly builder VM, and will run it in parallel on the same box.  It'll have Qt5.6 though, and upload files with some kind of obvious "WinXP" in their name. Yes, that must be because of the Qt version.  I'll try building DB4S with Qt 5.6. Hopefully DB4S will compile OK with that version.  Thats the plan, anyway.  @justinclift will probably beat me to it though! ;) üå≥  Ok, next one to test.  This is with Qt 5.6 installed instead:

* https://nightlies.sqlitebrowser.org/win32-onceoffs/DB%20Browser%20for%20SQLite-2017-05-12-win32-xp_v4.exe

The 32-bit SQLCipher build failed, but I haven't checked the log to find out why yet.  Hopefully just a typo on my part or something similar.

If anyone has 64-bit WinXP around, these would be useful to test as well:

* https://nightlies.sqlitebrowser.org/win64-onceoffs/DB%20Browser%20for%20SQLite-2017-05-12-win64-xp_v4.exe
* https://nightlies.sqlitebrowser.org/win64-onceoffs/DB%20Browser%20for%20SQLite-sqlcipher-2017-05-12-win64-xp_v4.exe @justinclift I think you can use Qt 5.7 too for the XP support.

Issue #893 shows that patching the latest official version of DB4S (3.9.1) made it work without problems even though it was built with Qt 5.7. I guess Qt 5.7 is still using the same APIs (needed for DB4S) as in Qt 5.6, so it can be used to build XP. Qt 5.8 however, started using newer Windows (Vista) APIs, and that's why it is failing on Win XP.
 Awesome, sounds like we're well on the way to having a good ongoing solution.

I'll redo the build using Qt 5.7 too, just so we can know for sure if it does or doesn't work. @andisys Excellent. :smile:

I'm still trying different variations of things out, so we can add "official" support for WinXP to our nightly builds.  Making good progress, but it's not completely in place yet. :wink: Ok, these are built with Qt 5.7:

**32-bit Win XP**

* https://nightlies.sqlitebrowser.org/win32-onceoffs/DB%20Browser%20for%20SQLite-2017-05-12-win32-xp_v5.exe
* https://nightlies.sqlitebrowser.org/win32-onceoffs/DB%20Browser%20for%20SQLite-sqlcipher-2017-05-12-win32-xp_v5.exe

**64-bit Win XP**

* https://nightlies.sqlitebrowser.org/win64-onceoffs/DB%20Browser%20for%20SQLite-2017-05-12-win64-xp_v5.exe
* https://nightlies.sqlitebrowser.org/win64-onceoffs/DB%20Browser%20for%20SQLite-sqlcipher-2017-05-12-win64-xp_v5.exe

If someone can test them (at least the 32-bit ones) and verify if Qt 5.7 works or not, that would really help. :smile: Awesome @andisys, thanks for testing and confirming.  Yep @karim was right, Qt 5.7 does seem ok with WinXP.

So the next questions are:

* Should we add a WinXP download to the existing 3.9.1 release page? (pretty easy to do)
* Which of the nightly build options would be useful for WinXP users?  I'm happy to add whatever, I just need to know which things would be useful. :smile:
  * 32-bit (no SQLCipher) ?
  * 32-bit + SQLCipher ?
  * 64-bit (no SQLCipher) ?
  * 64-bit + SQLCipher ?

 - Sounds like a good idea. Yes, you should add WinXP version with the rest of the downloads, so new users can download it instead of the other one (and report it as not working on their Windows XP).
- I think you can skip the 64-bit version of WinXP. I don't know if this version is even being used by anyone, and the 32-bit version will work fine on it too.

Also please note that, WinXP build is almost the same as the other Windows build. Only difference is Qt version, which was changed (about 10 days ago) from 5.7 to 5.8. If 5.8 version is need (e.g. it solves something, fix a bug) then we need a separate build for WinXP. If not, then we can downgrade to 5.7 and have only one Windows build that will work on *all Windows* versions. That all makes sense.

With the Qt versions and possibly having one download each (SQLCipher, and non-SQLCipher) that works for everything... let me think about it a bit.  I can see the appeal of that, on the other hand though that'll mean we'd be stuck on Qt 5.7 for potentially ages.

I'm actually hoping for some new stuff in Qt 5.9/5.10 that would be useful (TLS cert verification), butI suppose we could stick with Qt 5.7 until those bits are available... :smile: On a related-to-XP note, this seems important:

&nbsp; &nbsp; https://blogs.technet.microsoft.com/msrc/2017/05/12/customer-guidance-for-wannacrypt-attacks/ Yep, that's the thought.  We do currently build completely ok on Qt 5.5 and above, with Qt 5.7 being the minimum required to avoid some non-critical weirdness seen on Ubuntu.

If we drop the Qt version on the nightly windows build server from Qt 5.8 back to Qt 5.7 (easy to do), that'd mean our binaries work on XP too.

Thinking it over, it's probably not a bad idea to make happen.  When later Qt 5.x is released with features we want though, we shouldn't hold off on it for XP's sake.  When it does happen, we can adjust the build server to either stop building XP stuff at all, or just skip the newer-Qt-needing features.  We probably won't know up front which way to go until we get there though. :wink:

I'll update the build server probably either tomorrow or Monday.  Today I'm mostly trying to ignore DB4S stuff and have an actual day off. üòÅ  > Personally I am increasingly astounded that people still use XP

Indeed.  I'm not sure why people still have this as their 'development' machine.  I can understand (eg, the self service tills in Tesco) still having XP embedded*, and thus, might be using SQLite somewhere (using this as an example) but why would someone still need to edit a database on XP?  Just use a Windows 7 or 8 box, run DB4S on there to edit the database, and move the database back to XP.

*The sooner XP dies though, the better.

What I'm getting at, is that SQLite can run on anything, and thus SQLite databases can run on anything, but why should the *development* machines be on XP?  *scratches head* üôÄ  Thanks @h1618. :smile:

@chrisjlocke Well, some people seem to be using a "Media Center Edition", which I can understand.  Looking at @andisys's screenshot there as an example.

But... connecting such a system to the internet and using it on potentially malicous content (eg flash, email, anything-with-advertisements)... that's not something I'd be doing personally. :wink: > I suggest, if you wouldn't mind, that you only make official releases being compatible with Windows XP

Bear in mind (again, which triggered this topic) is that v3.9.1 is 'relatively' old now, and many bugs and improvements have been made to the software since its release.  For some users, v3.9.1 has a couple of 'unusable' bugs, which means they'll have to use the nightlies.

I agree that newer versions of software/hardware aren't as good as their replacements.  Take .Net as a prime example.  Using VB6, I could create a 26 KB application that didn't need runtimes - the core DLLs were already part of Windows.  VB6 was about a 60 MB install, and could even be portable.  Now, .Net 4.6 has to be downloaded, and don't get me started on how big Visual Studio is to download just to code something.  I had to fight like a pig to install it on one machine, as it wanted this update, that update, this fix, that fix, etc.  Argh.
Anyway.  Progress has to be made though.  We can't stick with XP, and Windows 7 is broken already.  Install from scratch, and the 'Windows Update' will blow up as there are just too many updates for it.  I've created a virtual Win 7 and its taken over two weeks for it to download and install updates.  Unusable.  More and more software will 'leave' XP behind (the newest Chrome/Firefox don't support XP) which will leave XP/Windows 7 more open to exploits.  Some interesting YouTube vids on how easy it is to break into an XP box on a network - you just need to know its IP address. 

  Oops.  Well... the nightly build server has just been changed to Qt 5.7, with the nightly build script started again just a few minutes ago to regenerate today's ones.

So, the nightlies will support XP at least for a while more.

Once that build finishes, I'll look at making a 3.9.1 compatible version of XP and add that to the 3.9.1 Release downloads. Good thinking.  Hmmm... we'll probably go with "3.9.1v2", and also add some description + announcements bits for the new XP support in relevant places:

* On the 3.9.1 release page.  Something near the top like "\***2017-May-14 update**\* - Due to popular request, a Windows XP download has been added: [filename here]"
* In a news item on the sqlitebrowser.org 1 page website.
* Via Twitter

I *think* that's all of the relevant places to put updates.  If I've forgotten something, feel free to point it out. :smile: Cool.  Do you have time to check this works ok?

* https://nightlies.sqlitebrowser.org/win32/DB%20Browser%20for%20SQLite-sqlcipher-2017-05-14-win32.exe

That's one of the nightlies just created now using Qt 5.7.  I want to make sure it's actually working instead of just assuming I got it right. :wink: #### To support Windows XP we can do one of these:

1. One build (with Qt 5.7) that supports Windows XP and up. One nightly build also with Qt 5.7. Should make things easier for @justinclift. üòÑ 

2. Two builds, one for XP (Qt 5.7) and another for Windows Vista/7 and up (latest Qt version). One nightly with latest Qt version, and **no** nightly for XP (just the official "as-is" version). Same as @andisys suggestion.

3. Same as 2 but if someone (on XP) reported a bug, we can build a custom version (e.g. DB4S-winxp-issue1010.exe) using the latest source and Qt 5.7. No new features however, only bug fixes till the next official version.
 >don't get me started on how big Visual Studio is to download just to code something. I had to fight like a pig to install it on one machine, as it wanted this update, that update, this fix, that fix, etc. Argh.

@chrisjlocke Actually, I want to upgrade to Visual Studio 2017 but I can't since they don't offer an offline installer due to its size (50 GB). üò± Yep, several possibilities exist.  Something interesting finally absorbed into my head yesterday... Qt seems designed to have multiple versions of itself installed in parallel at the same time.

So, it's super easy to have both 5.7 and 5.8 installed in the same VM, without conflicting with each other.  eg:

* C:\dev\Qt\5.7
* C:\dev\Qt\5.8

The way to choose which gets used is easy.  The path in the CMakeLists.txt just needs to point to the correct path:

* https://github.com/sqlitebrowser/sqlitebrowser/blob/a3709576f712e480cd48a45ea696a0ec37286ce4/CMakeLists.txt#L21
* https://github.com/sqlitebrowser/sqlitebrowser/blob/a3709576f712e480cd48a45ea696a0ec37286ce4/CMakeLists.txt#L34

So, it should be possible to build both an XP specific download (using Qt 5.7), and a more general download using newer Qt when that starts to be needed.

In the meantime though I'm just going to keep the building VM on Qt 5.7 and call it a day. :wink: Awesome, thanks for testing again @andisys.  I'll have a 3.9.1v2 binary ready for testing in a bit too, if that's ok. Ok, this should be a suitable 3.9.1v2 for WinXP:

* https://nightlies.sqlitebrowser.org/win32-prerelease/DB.Browser.for.SQLite-3.9.1v2-winXP.exe

If someone can confirm it's ok, I'll add that to the 3.9.1 Releases page then do the announcement update bits too. Thanks, I'll get that added to the right bits then.

And yeah, the "3.9.1" in the About dialog is correct.  I didn't want to muck around with strings inside the program itself. :wink: k, it's in the 3.9.1 release now, and on the sqlitebrowser.org website too.

I'll send a tweet about it later, as I'm not on a computer with our twitter credentials at the moment.

If anyone's interested in keeping an eye on the download count for this XP compatible download, the `download_count` field here is close to real-time:

&nbsp; &nbsp; https://api.github.com/repos/sqlitebrowser/sqlitebrowser/releases/assets/3870315 k, tweet done:

&nbsp; &nbsp; https://twitter.com/sqlitebrowser/status/863771346056228864

Everything for this issue seem complete now (thanks everyone!), so going to close it.

If something else does turn up though, feel welcome to re-open it. :smile: @justinclift `download_count: 728` üòÑ  Heh Heh Heh

Yep, people are downloading it.  As a thought, it's probably a combination of two different things:

* People wanting a WinXP build
* People not sure what they need, and just clicking the first download on the sqlitebrowser.org website

It's probably a mix of both, but as for how many of each... no idea personally. :wink:

 If you find this kind of stuff interesting, these are our latest stats (from a few minutes ago) in hourly snapshots:

&nbsp; &nbsp; https://dev1.dbhub.io/justinclift/DB4S%20download%20stats.sqlite?sort=hour&dir=DESC

The webUI there is under development (eg there's no real front page to speak of yet :wink:), but the sort and paging keys work.  Or you can just download the database (SQLite format of course) by clicking the green button on the right and open it in DB4S for better mucking around with.

Looking at the numbers, it seems like the XP hourly download rate is roughly 1/2 that of the Win32 download rate.  So, not huge numbers, but still probably respectable.

And now that we've got it working, we might as well keep it working while practical. üòÄ  I'm more worried we have a link saying "Download 32-bit Win XP.exe" -
people are probably thinking its a fulll blown copy of XP! ;)    *

*No, I know they're not.  Honest.

On Thu, May 18, 2017 at 1:02 PM, Justin Clift <notifications@github.com>
wrote:

> If you find this kind of stuff interesting, here's our latest stats (from
> a few minutes ago) in hourly snapshots:
>
>     https://dev1.dbhub.io/justinclift/DB4S%20download%
> 20stats.sqlite?sort=hour&dir=DESC
>
> The webUI there is under development (eg there's no real front page to
> speak of yet :wink), but the sort and paging keys work. Or you can just
> download the databse (SQLite format of course) by clicking the green button
> the right and open it in DB4S for better mucking around with.
>
> Looking at the numbers, it seems like XP hourly download rate is roughly
> 1/2 that of the Win32 download rate. So, not huge numbers, but still
> probably respectable.
>
> And now that we've got it working, we might as well keep it working while
> practical. üòÄ
>
> ‚Äî
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/sqlitebrowser/sqlitebrowser/issues/1010#issuecomment-302384022>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AHge2pu1kdizDuxzOnSaaNhVw7mD6Q5-ks5r7DM6gaJpZM4NXpwJ>
> .
>
  Cool.  Everyone has write access to the wiki, so it's directly updatable if you've the time and inclination yourself.

If not, leave this here and we'll get around to it... er... sometime. üòÅ  Nah, I knew the directories needed changing... I just hadn't gotten around to it.  Personal prioritisation + laziness on my part at times. üòâ  > the C:\dev\SQLite folder should apparently be named C:\dev\SQLite-Win64

Are you sure?  Does that depend whether you're building an x32 or x64 flavour of DB4S?  Can't remember what I did last time, but all seemed to work OK.  I'll go through the building steps again and have a play. @chrisjlocke Yeah, some paths needed updating in the CMakeLists.txt file after I wrote the initial guide:

* https://github.com/sqlitebrowser/sqlitebrowser/blob/0c8cb4ec1dc37f2d971d23cc68376de13a24e54c/CMakeLists.txt#L20-L30
* https://github.com/sqlitebrowser/sqlitebrowser/blob/0c8cb4ec1dc37f2d971d23cc68376de13a24e54c/CMakeLists.txt#L33-L43
* https://github.com/sqlitebrowser/sqlitebrowser/blob/0c8cb4ec1dc37f2d971d23cc68376de13a24e54c/CMakeLists.txt#L46 (the [instructions here](https://github.com/sqlitebrowser/sqlitebrowser/wiki/Win64-setup-‚Äî-Step-13-‚Äî-Install-DB4S-locally) need changing to match)

... and I kind of didn't update the screenshots afterwards... üëº  Excellent.  OK, leave it with me.  üêÆ  Corrected. ü•Ä  Awesome, thanks @chrisjlocke. :smile: ![image](https://cloud.githubusercontent.com/assets/7872218/26059282/1ffcb16e-3979-11e7-9104-55903a91cdc9.png)
  What version of DB4S? Does this happen whenever you try to save a database? Or is the error limited to some databases or only some changes made to a db? > Version 3.9.99

That means its a nightly build.  What is the date of this version?  (ie, which nightly is it?) @ulascanerturk Looks like we link to two different PPAs for Ubuntu packages. One has a version from August 2016 and one has today's version. Can you post the output of the shell command to find out which one you're using?
```
grep sqlitebrowser /etc/apt/sources.list
```

The two different SQLite versions by the way shouldn't be the problem. We're only ever using the 3.x versions and ignore all other. Ok sorry, my bad. Can you try this one, too?
```
grep sqlitebrowser /etc/apt/sources.list /etc/apt/sources.list.d/*
``` Hmm... so you should have the latest version. I assume you have updated your system?

This seems to be the same issue as in #836 and maybe #878. What is still irritating me is that this is supposed to happen no matter what changes you make. Is it also happening when you're creating an entirely new database, add some test data to that, and save then? @ulascanerturk As thought, would you be ok to try compiling our program yourself?  Asking because this bug *really* should be fixed by some changes we did a while back. So I'm kind of suspecting that **somehow** the packages you've got don't include it.

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md#ubuntu-linux

If you're ok to compile our program yourself, that would pretty much tell us if it's a problem in the packages or if it's a problem with our latest code still. :smile: @ulascanerturk Co-incidentally, I'm checking over our instructions for compiling on Debian and Ubuntu today, so I'll take a look at this problem while I'm at it.

I'll probably test out the version of "sqlitebrowser" that comes from the place you're getting it, and see if the same problem happens here.  If so, that should mean I can figure out a reasonable way forward. :smile: @ulascanerturk Thanks, that sounds like good progress.

With the `Sqlite parse error` that still happens, is it the same one in your message above?

```
Sqlite parse error:  "line 2:25: unexpected char: 'I'" ( "CREATE TABLE `list`
(\n\t`Field1`\tINTEGER PRIMARY KEY AUTOINCREMENT,\n\t`Field2`\tINTEGER,
\n\t`Field3`\tINTEGER,\n\t`Field4`\tINTEGER\n)" )
``` Sounds like some problem with the PPA binaries then. I have no idea why that happens because it seems to work for most people, except for @ulascanerturk and @NicoDupont in issue #836.

By the way, I'm wondering: the version is 3.9.99 which means it's the nightly build, i.e. using the latest code. And it says Qt version 5.5.1 which makes sense because both @ulascanerturk and @NicoDupont are on Ubuntu 16.04. But from that other discussion I remember that our current code doesn't even compile with Qt 5.5. So how is that binary even compiled? If I had to make a wild guess I'd say that it probably isn't. The compilation really should fail any maybe, just maybe, the last working version is uploaded again and again to the PPA. At least that would explain everything :wink:

As for the parse error: I can't seem to reproduce this using the latest version either. The table definition looks super simple, too.
@ulascanerturk Can you send us the database that produces this error? It doesn't need to contain any data at all, just the empty ```list``` table that causes the problem :smiley: @ulascanerturk Can you update the sqlitebrowser package tomorrow (or any later date)? If my theory proves right there should be a new version in the PPA tomorrow which might fix the problem :smiley: If not, we'll investigate further. Thanks for testing, @NicoDupont :+1: I'm glad it works now :smiley: @ulascanerturk Did you get a chance to try the latest nightly build out?

Just asking as I'm trying to reduce the number of open issues we have (correctly though). :wink: Interesting.  Yeah,  I think you are correct.  It does seem like something wrong on your computer. ‚òπÔ∏è 

If you have someone good at Linux you can contact, they should be able to fix it for you. :smile: Probably, yeah. üòÑ 

Welcome to GitHub by the way, hope it was a decent experience. üëØ  @ulascanerturk Maybe this is because of the manual installation. Do you still have the compile directory? If so, you can try opening a terminal in the ```build``` directory and type
```
sudo make uninstall
```

If you need any assistance, feel free to ask :smiley: @MKleusberg Hmmmm, are you sure CMake includes a "make uninstall" target?  I could have sworn that was one of the things missing. @justinclift Oh wow you're right. How can they have an install but no uninstall target?!

@ulascanerturk In this case just delete ```/usr/local/bin/sqlitebrowser```. That's the only (important) application file that was installed.  ### Details for the issue

<!--

Thanks for coming here to report an issue. :)

Please describe it in this section, fill out the correct check boxes
below with an "x", then click the "Submit new issue" button at the bottom

-->

When a table is selected in the 'Browse Data' tab, four queries are run:

`SELECT COUNT(*) FROM (SELECT '_rowid_',* FROM 'table_name' ORDER BY '_rowid_' ASC);`
`SELECT '_rowid_',* FROM 'table_name' ORDER BY '_rowid_' ASC LIMIT 0, 10000;`
`SELECT COUNT(*) FROM (SELECT '_rowid_',* FROM 'table_name' ORDER BY '_rowid_' DESC);`
`SELECT '_rowid_',* FROM 'table_name' ORDER BY '_rowid_' DESC LIMIT 0, 10000;`

Is there a reason why data is fetched twice?  On larger tables, this is quite a delay.
Selecting a count shouldn't need to order by either - again, isn't that forcing the database to do something unnecessarily - a table with a million rows - 'can you please sort this, as I need to know how many rows there are....'  ... 'oh, and can you do that again please, as I now need to display this data'.,,.*

(*Ignoring the fact that there are indexes, etc, etc.)


### Useful extra information

<!-- The info below often helps, please fill it out if you're able to. :) -->

#### I'm opening this issue because:

- [ ] DB4S is crashing
- [ ] DB4S has a bug
- [x] DB4S is a bit weird
- [ ] DB4S needs a feature
- [ ] DB4S has another problem

#### I'm using DB4S on:

- [x] Windows: ( _version:_ ___ )
- [ ] Linux: ( _distro:_ ___ )
- [ ] Mac OS: ( _version:_ ___ )
- [ ] Other: ___

#### I'm using DB4S version:

- [ ] 3.9.1
- [ ] 3.9.0
- [x] Other: _Latest nightly__

#### I have also:

- [x] Tried out the nightly version: https://github.com/sqlitebrowser/sqlitebrowser#windows
- [ ] Searched for an existing similar issue: https://github.com/sqlitebrowser/sqlitebrowser/issues?utf8=%E2%9C%93&q=is%3Aissue%20
 Not sure why you get 4 queries, two for ASC and two for DESC. Have you changed the sort order in between?

You're absolutely right about the sorting & counting thing. I have just done a quick test and this
```sql
explain select count(*) from (select rowid,* from table_name)
```
generates 9 rows for my test table (with PK), while this
```sql
explain select count(*) from (select rowid,* from table_name order by rowid desc)
```
generates 40 rows.
More instructions don't necessarily mean longer execution times but it probably does in this case.

We have to fetch the data twice (the count and separately the data) because of the scrolling. We need to know the number of rows to set the scrollbar maximum but SQLite can't tell us the number of rows before having sent the last one. So we do the count as a workaround. This is the same as in issue #409. As a thought, is the "ORDER BY" in the query added regardless, or is that just due to the approach @chrisjlocke was using for the cut-n-pasted example?? It depends. For the COUNT queries we just take the original SELECT statement as-is and insert it here:
```sql
SELECT COUNT(*) FROM (original_statement);
```
So, if the original statement contains an ORDER BY clause it'll be used in the count query, too. And if not, we won't insert one.

What we would need to do is remove the ORDER BY clause (if there is one) from the original statement. It's a bit tricky because we don't have a parser for select statements yet but can be done with a regex. > or is that just due to the approach @chrisjlocke was using for the cut-n-pasted example??

A table was simply selected from the drop-down box in the 'Browse Data' tab ....  > Have you changed the sort order in between?

No - a table was selected from the drop-down box in the 'Browse Data' tab,,, @chrisjlocke Got it! If I change the default sort order, switch the table, and then come back to the first table, I get 4 queries, too. That definitely need to be addressed, too. > If I change the default sort order, switch the table, and then come back to the first table...

Interesting, as on mine I haven't set a sort order, so simply switching tables... Hmm, to be honest I have no idea how that happens because the default sort order is ascending while your query sorts descending (well, in the second try, that is). I assume you have already tried restarting the application? Let me prepare a quick list of ToDo items for this:

- [x] Don't execute four queries where two are sufficient. No need to first query the data in the one sorting order and then again in the other order.
- [x] Remove the ORDER BY clause (if there is one) from the query when doing a count.
- [ ] Ideally, get rid of the count query altogether. But this might break the scrolling. Hmmm, if we need the count(), can we quietly add it into the original query so it all gets done as part of a single statement? @justinclift I don't think so. Or at least I don't know how the statement should look like. Do you have something in mind there?

@chrisjlocke Can you test again using the latest version from master? In theory, the first todo item should be implemented in that version :smiley: @MKleusberg Hmmm, upon thinking about it more... nah, the thought I had in mind was way too simplistic to work.  Doh. :wink: @justinclift No worries :laughing: 

@chrisjlocke The descending sort order you get seems to be the same issue as #641. Any idea how to track that down? Does it happen for all databases/tables for you? I was going to say 'yes, across all databases and tables', but I'm not so sure.  By clicking across the tabs, it did create a rogue ASC query.

![image](https://cloud.githubusercontent.com/assets/7872218/25779528/61b11bf8-3312-11e7-8dda-c3096355d01a.png)

Also, after opening another database, its now just doing two queries, not four.  
Will test further... Hmm.  After a bit of head scratching, it appears the *first* time you open a database, browsing a table is ASC.  After that, its DESC.

http://screencast-o-matic.com/watch/cbhiQLXZGE The video helps a lot. Thanks for that! But I still have no idea how that can happen :wink: Are you compiling DB4S by yourself or are you using the nightlies? I'm asking because we might be able to narrow down the source of the problem by adding some debug outputs here and there. Using the Windows nightlies.  üí®   Unsure how other OS's handle this..... (sorry - just thinking aloud...) @ankushbbbr Good point, that's probably a decent idea we should implement. :smile:

@MKleusberg ?

@ankushbbbr As a thought, since you're using a really old version of our program, would you be ok trying one of our latest nightly builds and let us know if the problem still seems the same?

If so, they're here (pick either the 32 or 64 bit one as needed):

* https://nightlies.sqlitebrowser.org/win64/
* https://nightlies.sqlitebrowser.org/win32/ This is somewhat related to #1005 and might be solved with just the same fix. @ankushbbbr No worries at all. :smile:  In email conversation with @h4yn0nnym0u5e, one somewhat frustrating thing that can crop up when using DB4S (manually, in the "Execute SQL" tab) is getting a join wrong, and the result set tries to return a huge number of rows.  eg 1.6 mill rows

@MKleusberg @innermous @prutz1311 Any idea if there is some way we could catch that kind of thing - without needing a large amount of code change - and not let it go out of control? Just a thought, but might be worth throwing that out to the sqlite users mailing group, as they might suggest some hook you could use .... you're not going to know how many rows you're going to get back until sqlite has done its biz (and consumed 97 GB of memory...) but you might be able to abort it after ... say, 20 seconds? Ahhh, good thinking Chris.  You're already on that mailing list aren't you?

If so, would you be ok to ask? :smile: Surely can.  ‚úçÔ∏è  No need to ask them :wink: [This](https://sqlite.org/c3ref/interrupt.html) does what we need. I'd suggest to not do anything automatically because some queries just take their time. See #409 for example. But what we can do is add a cancel button which just allows the user to stop the query at any time. Awesome. üòÄ  Yup, Dr. Richard Hipp just replied back with the same suggestion:

> Can you get the application to use the sqlite3_interrupt() (https://www.sqlite.org/c3ref/interrupt.html) interface to stop the long-running query? Excellent, thanks Chris & D. Richard Hipp. :smile: For reference:

&nbsp; &nbsp; https://www.mail-archive.com/sqlite-users@mailinglists.sqlite.org/msg103468.html  This should be fixed in the latest version.  v3.9.1 is quite old now (v3.10 is due soooon!)

![image](https://cloud.githubusercontent.com/assets/7872218/25654381/b7fabc94-2fe8-11e7-8bb1-bf350c3b0a16.png)

Try downloading from one of the latest nightlies:
https://nightlies.sqlitebrowser.org/win64/ or https://nightlies.sqlitebrowser.org/win32/ @h4yn0nnym0u5e Do you have the time & interest to try out the latest nightly build, and double check that it works properly for you? :smile:

If so, the nightly builds are here, as @chrisjlocke mentioned:

* https://nightlies.sqlitebrowser.org/win32/
* https://nightlies.sqlitebrowser.org/win64/ >I've also found another case:

Yes, that appears to get executed as `SELECT COUNT(*) FROM (SELECT ');` - everything right of the -- is deemed part of the comment.  Ooh. üò®  Awesome, so we're making progress in the right direction at least.  But, still a bit further to go. :smile:

@revolter Any interesting in following this up?  I'm kind of guessing this is related to your comment stripping regex bits from a while back? Yeah, we might need to brainstorm a bit and/or ask on the SQLite-users mailing list as well.  They're pretty friendly and obviously very clueful. :smile: Thanks @h4yn0nnym0u5e, that's awesome. :smile: @revolter This is @h4yn0nnym0u5e's commit pared back to just the changes, if you've time to look through it: https://github.com/justinclift/sqlitebrowser/commit/5748daf66180d3afaf0cf8f0eebecf82575c72b1

:smile:
  At present our CSV import dialog seems to use `TEXT` as the type for all columns.

It would be useful to do some form of detection on the data (after the last row is loaded?), then change the column types to match whatever is detected:

* `INTEGER` and `REAL` should both be fairly easy to detect and implement
* CSV has no defined way of handling BLOB/binary values in the official RFC, so probably no need to detect that

We may need to define something custom for binary/BLOB importing anyway, just so it can be done in the (rare?) cases it's needed.  eg for importing DBHub.io CSV exports that have binary/BLOB data in them If a value of 33 is detected, do you class that as an integer or a real?  ;)
Has it any impact though - wouldn't the user map the CSV fields to the database fields (which SQLite doesn't even define the type of anyway)
So a CSV might have 3 fields, but the database has 20, so I'd want to map fields blah to blah. It actually does have an impact:
```sql
create table test(a int, b real);
insert into test values(1,1);
select a/2,b/2 from test;
```

But yeah, it might be best to add a way to define which CSV field should be mapped to which database field. We could also add a routine to guess decent default data types but it's never going to be perfect. That's because we can't really read the entire CSV file just to find out the best data type (and we need to know them before importing any data) - that's just too much overhead for larger files. Now let's say we read only the first 50 lines or so and one field is empty in all of them; what data type is it going to get? Probably ```TEXT``` but in line 51 there might be a number. Or maybe the first 50 lines just contain integers and line 51 contains the first string :wink: Not sure how to avoid errors here. > Or maybe the first 50 lines just contain integers and line 51 contains the first string üòâ Not sure how to avoid errors here.

I'd guess the types based on the first line, but give the user the ability to change them.  The user should know their schema (especially if they're importing CSV files - thats quite an advanced activity - my Mum could probably use DB4S is she wanted, but there is no way she'd dabble with CSV files!) and guessing INT instead of REAL isn't a huge issue. considering we're using TEXT at the moment! ;) Heh Heh Heh, I was actually thinking of a fairly simple approach, which - in my head so far - seems like it would be both accurate and fairly reasonable in cpu/IO overhead.

Potential data types:

1. `UNDECIDED`
2. `INTEGER`
3. `REAL`
4. `TEXT`

Concept for the process:

1. After the import options dialog closes, create a simple array of elements, one for each column, initialised to the `UNDECIDED` value
  * eg for a table with 5 columns, that's means 5 elements
2) As each cell is read in, check the characters in the cell data and update the corresponding element for the column
  * If they're [0-9], that's `INTEGER`
  * If they're [0-9,\.\,] (eg numeric or comma or full stop) that's `REAL`.
    * Note, this is a simplification as the separator character (often ",") needs to be taken into account, as does the meaning of "." vs "," as decimal point/thousands separator due to locale
  * If it's anything else it's `TEXT`:
3) The order of the data types in the list above is important (`INTEGER` ‚Üí `REAL` ‚Üí `TEXT`), as once a data type is achieved (eg `REAL`) subsequent rows can't move the type backwards. eg `REAL` can't move backwards to `INTEGER`

Once all of the rows for a table are imported, the element list should contain an accurate representation of the data types per column.

Is there a hole in this approach I'm not seeing? :smile: [Here's an example](https://dev1.dbhub.io/justinclift/Bike%20Counts%20In%20Edinburgh.sqlite?table=38%20-%20Bruntsfield%20Place%20-%20North%20Side) of why the data type per column is important:
![screen shot 2017-05-03 at 16 42 52](https://cloud.githubusercontent.com/assets/406299/25668837/b4879a32-301f-11e7-8571-47df3328575a.png)
The `channel_1` column there is correctly sorted because the data type is `INTEGER`.  When the data type was the default `TEXT` though, the ordering was by string order.  eg:

channel_1 ‚ñ≤
-----------
0
1
1
109
11
114
12
13
2
2
21
22
3
4
7
9

String order definitely isn't correct for that column.  At present our dialog for importing CSV files only allows the selection of a single one.

This turns out to be a fair PITA when needing to import quite a few CSV files into a single database.  eg:

  https://github.com/andreeaPascu/BikeCountsInEdinburgh/tree/master/outputFiles

The files there all use the same import options, so it would be useful to have the import
options dialog appear once with maybe a checkbox like "[ ] Use these import options
for the other CSV files selected too" to control the usage. Nope, I wish. :wink: I hadn't really thought it through much, but as a first concept I'm thinking that the initial dialog itself needs to allow multiple-file selection (currently single-file only).

Then the current user facing dialog which presents options should probably also display some kind of list with the selected file names, along with a checkbox next to each (and select/deselect all toggle button).

And some way to apply the set of options to all of the selected files.  eg "Import all".

When that runs, all of the checkboxed files would use those options.  For any not-checkboxed, the dialog should probably pop up again (with the remaining files listed), allowing different options to be chosen this time.

... and loop around doing that until all of the files are imported.

Er... is that somewhat clear enough?  Bearing in mind it's just an initial thought as to an approach.  If some better way turns up while you're hacking on it, then by all means go with a different approach. üòÄ  To add to what @justinclift said, maybe a *folder selection* too?

If the open file dialog is active and you click on **Open** button *without* selecting any file, it will open/select all the files for import from the current directory? One problem for this is that all .csv files must be in the same format to be imported properly.

Also, `Ctrl` + click while the open dialog is open to select files one by one. @iKlsR If you need any technical assistance while working on this, just comment on this issue or write me an email and I'll try to help. I won't be available the entire weekend but you can still give it a try :smile:  @iKlsR Read your initial compile report (tagged onto the end of #482), and yeah, I agree with much of it.

Sounds like you're up and running now? :smile: No worries.  Ironically I needed a break from the computer today, so have been keeping mostly offline.  Just reading up on git internals on my tablet instead, as we need to adjust the data model we're using for the dbhub.io project.

Tomorrow (eg Sunday) I'll be mostly online (still doing dbhub.io stuff), but should be checking email and Gitter more often if that's useful. :smile: Muaaa Haaaa Haaaa.  That's awesome. 7k files is definitely in the realm of "wouldn't want to do that by hand". üòÅ 

For your PR, @MKleusberg is the right person to review it.  Hopefully he has time to over the next few days.

@MKleusberg ?

  Oh, that's interesting.  Is the data set which you're using to trigger that, a public one?

Just thinking that might be helpful for debugging. :smile: Yep, definitely interested, that would really help. :smile: I've just prepared a test database containing two long lorem ipsum views. ```xx``` is one long line, ```yy``` are many lines. Not sure if they are long enough though. For both views it's struggling (```xx``` prints one long empty line as a tooltip, ```yy``` fills the entire screen with its tooltip) but I never get the weird output from your screenshot.

@justinclift Do you still have an Ubuntu VM somewhere to test this? I've only tryed this on KDE. My test db is [here](https://dev1.dbhub.io/mkleusberg/issue1001.db). @Yep, I can test this.  My Ubuntu VM is really Kubuntu, but it's pretty easy to download standard Ubuntu 16.04.2 and whip up a new one.  I'll add this to my task list for this week. Aha, I ***knew*** this sounded familiar.  Pretty sure this bug is another occurance of #920, and the solution is to compile it against a newer Qt library.

That being said, I'm trying to compile DB4S on Ubuntu 16.04.2 right now, and it's failing due to a different (known) problem.  Looking into solutions for that next... :smile: @MKleusberg As a data point, just tried your test database on an Ubuntu 16.04.2 VM here, compiling using Qt 5.6 (from [a 3rd party PPA](https://launchpad.net/~ci-train-ppa-service/+archive/ubuntu/stable-phone-overlay)).

No rendering issue like the above showed up, ***but*** the "Database Structure" tab took ages (~9.5 seconds) to show up.  Switching from "Database Structure" to any of the other tabs was instant.  From them back to "Database Structure"... wait 9.5 seconds again.  Every time.

So, something not quite right there.  Possibly just something weird with the VM, VMware Fusion, or whatever else too.  I'll muck around with a few settings next and see if that fixes the problem. Well, it's not caused by VMware Fusion's implementation of "Graphics Acceleration" for Linux.  Same problem both ways. Tried it with a fresh build with Qt 5.5 (using the initial compatiblity patch) instead.  Same behaviour with that database.

Using a different database (eg [this](https://dev1.dbhub.io/justinclift/Belfast%20Bikes%20Docking%20Stations.sqlite)), DB4S has no delay.  The "Database Structure" tab shows immediately when switching at all times. Ahh, this is interesting.  I just installed Qt 5.8 from the official Qt download site (qt.io).  When DB4S is compiled using that, the slowness issue isn't present.

Looks like whatever the problem is, it's been fixed in Qt sometime after Qt 5.6.1. Qt 5.7 doesn't have the problem either.

It really looks like both Qt 5.5 and 5.6 on Ubuntu aren't fantastic for DB4S.  For anyone having weird slowness or screen corruption issues, it'll need to be compiling using Qt 5.7 or above instead. Should we add a warning to the build instructions then that we discourage using Qt < 5.7 even though it compiles just fine? Doesn't seem like we can do much else about it. Yep.  If you want to do it, then go for it.  Otherwise I'll get it done later on today. :smile: @justinclift Done :smiley:  Interesting.  Would you be ok to screenshot the oddness?

It's a bit hard to mentally picture just from the description. :smile: Good idea!

However, we'll have to check if there is a reasonable way to implement this in our code. In a quick search I found [this forum thread](http://www.qtcentre.org/threads/55953-Scroll-QTableView-beyond-last-column-row) but their code is depending on per pixel scrolling which we can't use in DB4S because of [other reasons](https://github.com/sqlitebrowser/sqlitebrowser/commit/e5bca9d2dbeb92cc18cda9d0d217a8480e871a08). :disappointed:   You could download /build the latest sqlite precompiled binary from this page:
https://sqlite.org/download.html

You can then replace the sqlite3.dll (well, for my Windows installation... I guess the Linux files may differ...) in the application directory.

This worked for me, but DB Browser for SQLite still showed the old version of SQLite in the about box...
![image](https://cloud.githubusercontent.com/assets/7872218/25335062/41b76c4a-28e9-11e7-9008-586a5d38cf85.png)
 @mburger81 Ahhhh, you'll probably need to compile DB4S (our abbreviation for our software) yourself, and use some environment variables to point the build process towards the SQLite version you installed.

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md#ubuntu-linux

From memory though, those instructions might be a bit out of date.  I think (without trying it recently), the command to run is "qmake" not "cmake".  You might need to experiment a bit... :wink: I've added an item related to this for my ToDo list for this week.  For that I'll update our Linux compile instructions, and also figure out the environment variables (or whatever else) is needed for using a custom installation of SQLite or SQLCipher: https://github.com/sqlitebrowser/dbhub.io/issues/32 No worries. üòÑ

This may be pushed to next week (after looking at fairly immediate/urgent tasks), but it's of high importance so it won't be passed over. I've made a decent start on going through the docs from a Qt Creator perspective here:

* https://github.com/sqlitebrowser/sqlitebrowser/wiki/Compiling-on-Ubuntu-16.04-with-Qt-Creator

... but haven't yet gotten up to the point of determining how to override the system provided SQLite.

While doing that, I found that - unlike our CMake configuration - using `qmake` didn't install all of the required files.  It's since been adjusted to also include the "desktop" related files so it will show up in the menu.  But as @MKleusberg pointed out we still need to add the translation files to `make install` as they're not installed yet either.

If someone has the time and inclination to muck around with changing the [likely relevant lines](https://github.com/sqlitebrowser/sqlitebrowser/blob/7ad80352616df1b185ab87f989cb7c2fd6c784c5/src/src.pro#L139-L140) in src.pro, it would probably work to find a user-installed version of SQLite.

Note that the link there I gave is inside a `mac` clause.  So, a similar definition would need to be added for linux ("unix" maybe?) for that to be picked up on.  I'm not 100% sure of the bits needed yet, but some trial and error would get it worked out.

Timeline wise, my headspace is deeply into DBHub.io stuff at the moment.  We need to get that in a useful/usable state for people in time for DB4S 3.10, and there are still major bits of it needing doing.  I'm almost certainly going to be working on my focus task for that (a new backend data model) through to the end of next week.  After that I may be able to pick this up again, or I may need to continue getting other DBHub.io bits done first.  Not yet sure. üòâ 

Does that help? As far as I understand you have (at least) two versions of the SQLite, @mburger81, the system version that was installed using the package manager and the manually installed version. During compilation we just statically link to the first library version we can find. In your case that should be the system one.

So what you'll need to do is recompile DB4S and configure the build to search for the manually installed SQLite version. How exactly this works depends on how you've built SQLite but the general idea is like this.

Edit the src/src.pro file. Around line 196 you should find these lines:
```
INCLUDEPATH += $$PWD/../libs/antlr-2.7.7 $$PWD/../libs/qhexedit $$PWD/../libs/qcustomplot-source $$PWD/../libs/qscintilla/Qt4Qt5 $$PWD/..
LIBS += -L$$LIBPATH_QHEXEDIT -L$$LIBPATH_ANTLR -L$$LIBPATH_QCUSTOMPLOT -L$$LIBPATH_QSCINTILLA -lantlr -lqhexedit -lqcustomplot -lqscintilla2
```
Change them to
```
INCLUDEPATH += /path/to/your/sqlite/lib/header/files $$PWD/../libs/antlr-2.7.7 $$PWD/../libs/qhexedit $$PWD/../libs/qcustomplot-source $$PWD/../libs/qscintilla/Qt4Qt5 $$PWD/..
LIBS += -L/path/to/your/sqlite/lib/a/file -L$$LIBPATH_QHEXEDIT -L$$LIBPATH_ANTLR -L$$LIBPATH_QCUSTOMPLOT -L$$LIBPATH_QSCINTILLA -lantlr -lqhexedit -lqcustomplot -lqscintilla2
```
Where the first path points to the directory that contains the ```sqlite3.h``` file and the second path points to the directory that contains the ```libsqlite3.a``` file.

Then just run this from the root dir of the repository to build the application:
```
qmake
make
```

If you want to use cmake, you'll have to edit the ```CMakeLists.txt``` file and change line 252
```
find_library(LIBSQLITE ${LIBSQLITE_NAME})
```
to this
```
find_library(LIBSQLITE ${LIBSQLITE_NAME} HINTS /path/to/your/sqlite/lib/a/file)
set(ADDITIONAL_INCLUDE_PATHS /path/to/your/sqlite/lib/header/files)
```
And then run this from the root dir of the repository:
```
mkdir build
cd build
cmake ..
make
``` Awesome. :smile:  Interesting.  A couple of questions, just to get a better idea of things... :smile:

* Which version of DB4S (our abbreviation for SQLite Browser) are you using?
* After making the change with your own script, are you closing the reopening the database in DB4S?
* After making the change with your own script, are you quitting out of DB4S, starting it up again, and reloading your database?
* Is your database on an external device?  For example an Android phone or tablet or something?

The answers to those should help us figure out what's going on. :smile: In theory (!) it should work.  But for some unknown reason, Android devices are occasionally reported to not copy database files correctly.  (not just for us, but in general)

It's been going on for a few years now, so there's a decent chance someone has worked out a solution or fix to the problem.  I don't use Android, so it's not something I've ever really come across myself. (sorry)

Someone else here might have some ideas though... :smile: > Pull the database directly from my Android device using ADB

What's ADB?  
On what platform are you using DB4S? (not that that makes a huge difference, but just in case...)
If you amend the database, does the file have an updated modified date? ADB ‚Üí Android Debug Bridge: https://developer.android.com/studio/command-line/adb.html This may be the problem:

https://stackoverflow.com/questions/9058169/sqlite-database-disk-image-is-malformed-on-windows-but-fine-on-android

As pointed out by @MKleusberg [last year](https://github.com/sqlitebrowser/sqlitebrowser/issues/476#issuecomment-168403277). DB4S itself definitely uses WAL.

That being said, it's sounding like there's a bad interaction with DB4S + WAL + ADB.  We might be the culprit, or we might not (no idea).  At least there's a workaround for now though. üòÅ   Hi @kyliostricor, when you say "flipped" that's a bit unclear.  Are you ok to take a screenshot? As a thought, is there any chance you've clicked on a column header in the Browse Data tab?

If so, that causes the rows to be sorted by that column.  An arrow then shows up shows up in the column header indicating a direction, and you can click the same column heading again to sort in the opposite direction.

Not sure if that's what's happening here, but the concept seems kind of like what you're mentioning. :smile: No worries at all @kyliostricor, we all start at the beginning.  Keep on going. :smile:  No worries.  Two thought come to mind right away... :smile:

* Not sure if you've tried this yet, but you can right click on the heading for a column and choose **Edit display format**.

  There are several pre-made formats listed, one of them might work.  It's probably a good idea to try [a recent nightly build](https://nightlies.sqlitebrowser.org/osx/) too, as (from memory) there were some more formats added after the 3.9.1 release.

* If that doesn't work, are you able to cut-n-paste some of the 9 digit values here as an example for us to think on? :smile: You can also use SQL.

`select date(2457864)` or
`select date(fieldName)`

`select date(2457864)` would return todays date.  The `date()` function returns YYYY-MM-DD format, but you can change this.

https://sqlite.org/lang_datefunc.html

![image](https://cloud.githubusercontent.com/assets/7872218/25234965/a4badf9a-25db-11e7-9807-341e3cd35136.png)

so you can do `select *,date(fieldPooPoo) as date1 from tableDooDoo` Awesome @chrisjlocke. :smile:

@treddy73 When you've got it worked out, are you ok to close this issue?  (am just trying to keep the open issue count not completely out-of-control :wink:)  Thanks @NF1198, that's good info.  Foreign key stuff is directly of interest for @MKleusberg, so he'll likely dig into it in the next few days. :smile: Out of curiosity, is the data set which triggers the crash public?

Just thinking it might be useful for debugging purposes if it is. :wink: Thank you, that's awesome. :smile: Thanks for reporting this, @NF1198, and also many thanks for the detailed analysis :+1: That helped a lot :smiley:

I think I have fixed the issue with the latest commit. But just to be sure, can you build the latest version from master and check if it's fixed for you? Awesome!  Closing this issue now then.

Thanks for reporting it @NF1198, and giving us the info needed to resolve it promptly. :smile:  Thanks @deepsidhu1313, I'll setup a *buntu VM again later today and investigate. :smile: This is probably because of the Qt version. The QVector::removeAll() method was introduced in Qt 5.4 (see https://doc.qt.io/qt-5/qvector.html#removeAll), so when trying to compile with any version <5.4 this error will occur. In theory we could work around that but I vaguely remember there being more features from newer Qt version that we're using...

Edit: According to the [Building.md file](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md) you'll need Qt 5.6. Does anybody remember the reasons for this? :wink:

Edit 2: Found the reason :smiley: https://github.com/sqlitebrowser/sqlitebrowser/issues/832#issuecomment-270996239 Ahhh, from memory we require Qt 5.6 and above now.

@deepsidhu1313 which versions of Ubuntu don't have that available? As a data point, the [CMake approach in our BUILDING.md instructions](https://github.com/sqlitebrowser/sqlitebrowser/blob/c8dba296df117a6f8ab486ade8418328580e2961/BUILDING.md#ubuntu-linux) is working fine "as-is" with Kubuntu 17.04.  Tried it today since I was already looking into DB4S compiling stuff for other Linux distributions anyway. @deepsidhu1313 This was fixed by @MKleusberg a few days ago, with https://github.com/sqlitebrowser/sqlitebrowser/commit/6e6f7cdc18e127a0004296c53e13054c5da7c24d.

Closing this now as people using Ubuntu 16.04 have confirmed the nightlies are building correctly again. :smile:  This is a bit unclear. :wink:

DB4S doesn't natively support FTP itself... so I'm not sure what you're meaning.

Are you ok to explain in a bit more depth? :smile: k, still needing a bit more information. :smile:

First, what's "RIT"?

Next, what's the exact error message you're getting?  Maybe screenshot it if there's no confidential info in it?

 Ahhh, just noticed that you do have the info in the original bug report, it's just inside the javascript hiding brackets.  I'll remove those and it should show up...

Yep, that worked. :smile: The "unable to open" bit might be helpful.  It kind of sounds like the file permissions (or maybe ownership) of the file itself are causing an issue:

"unable to open C:\RIT\ISTE_646\rogue6_project1\RIT-esports\db\sqlite\sqlite-tools-win32-x86-3180000\ESports.db"

Maybe double check that?  If there's nothing obvious there, I'd ping one of the school admins and ask if there's a likely reason.  This is almost definitely not something related to DB4S itself.

Oh... unless DB4S is still running and has the database open when you're trying the transfer?  If that's the case, this could be a simple file locking problem.  eg close DB4S and try again maybe? :smile:
 Awesome, you're welcome. Glad it worked. :smile:  Now it looks better. :smile:

The "target" branch was incorrectly set (there is a drop down for it) to "sqlb-3.x".  Changing it to master makes things look better.

As a thought, is your patch here useful too? https://github.com/keedhost/sqlitebrowser/commit/78b8ec22bf25820a939cff66cbe435cf25a0d365

It's not yet included in the above list, but I can add it.

Thanks for taking the time to do this too.  It should be useful for people. :smile: Thanks for this @keedhost.  Closing this now, as I've manually merged it and @Genyk's two later patches as well. :smile:  'Open a new database' - do you mean open an existing database, or create a new database?

If open an existing database, are you sure its a valid SQLite v3 database?  Its not a .sql file is it?  (ie, human readable SQL commands, rather than a database of records) @ofelius Ping?
 @ofelius ping?
 Meh, just going to close this.  9 days without response is generally a good sign the problem is fixed or no longer of interest to the reporter.

@ofelius If that's not the case, you're welcome to reopen this. :smile:  Interesting. :smile:

If you try the latest nightly build, does it works properly for you?

&nbsp; &nbsp; https://nightlies.sqlitebrowser.org/osx/ Awesome. :smile:  Have you tried the latest nightly? 
I'm not 100% sure what the font is, but thought Windows was a bit more sensible. Ahhh, interesting.  It probably wouldn't hurt to have the various font changing pieces be in the same tab, and have their meaning/labels be clear.  Thanks @ecki. :smile:

@FriedrichFroebel @VanDerSam What are you thoughts on this? :smile: Ahh, you're probably comparing version 3.9.1 to the translation file from the latest version here on Github (which eventually is going to be 3.10). Iulian has fixed the the typo in the meantime (see commit 1257134dc65547662a81c66bf331dd627ff576f5), so that's why it's correct in the translation file but not yet in the release versions. Can you double check by downloading the latest nightly build? It should be fixed in there :smiley:  Thanks @keedhost, that's excellent. :smile:

I'll add the sqlb_uk_UA.ts file in the next few days.  Did you base the translation upon our latest development code (eg our "master" branch), or upon something else? I'm attempting to get this working in a branch here:

&nbsp; &nbsp; https://github.com/justinclift/sqlitebrowser/tree/ukrainian

It's working fine when compiled on OSX.  I can change to Ukrainian, see messages in that, and change back to English without a problem.

It's not working on Windows though, and I have no idea why. üò¶ 

On Windows, the option for Ukrainian appears in the list and can be selected, but DB4S is in English after restarting.  Changing to other languages is working fine though, so there's something not quite right with the Ukrainian change.  It's probably something I've forgotten to do, I just need to figure out what.

To solve this I'll probably need to install a full development environment of Qt on Windows, and debug the process.  I don't have time for it today though. :frown:

@chrisjlocke @MKleusberg Just in case, don't suppose you have any ideas what might cause that behaviour? :smile: Yep, I can definitely do that.  It will be tomorrow though. :smile: Hmmm, now I'm wondering what happens if we change it from "uk_UA" to just "uk".  Perhaps the Windows and FreeBSD are not recognising "uk_UA" for some unknown reason? I'll setup a Windows development VM again later on today, and see if I can figure out what's going wrong. :smile: I ***think*** this is everything. :smile:

- [x] Menus
![screen shot 2017-04-04 at 13 19 03](https://cloud.githubusercontent.com/assets/406299/24660899/b8e94690-1948-11e7-8a82-e5318538883d.png)
![screen shot 2017-04-04 at 13 20 40](https://cloud.githubusercontent.com/assets/406299/24660898/b8e8c724-1948-11e7-9ac0-de51d994b374.png)
![screen shot 2017-04-04 at 13 20 50](https://cloud.githubusercontent.com/assets/406299/24660900/b8ea89d8-1948-11e7-9d48-e77cbaf011b6.png)
![screen shot 2017-04-04 at 13 20 55](https://cloud.githubusercontent.com/assets/406299/24660901/b8ec077c-1948-11e7-9665-cbb3ca009997.png)
![screen shot 2017-04-04 at 13 21 00](https://cloud.githubusercontent.com/assets/406299/24660902/b8eeacac-1948-11e7-8220-76d54dffbb55.png)
![screen shot 2017-04-04 at 13 21 11](https://cloud.githubusercontent.com/assets/406299/24660903/b8ef5396-1948-11e7-94d0-b54db3f38a14.png)
![screen shot 2017-04-04 at 13 21 16](https://cloud.githubusercontent.com/assets/406299/24660904/b90ef138-1948-11e7-9ad5-23a94d03f014.png)
![screen shot 2017-04-04 at 13 21 20](https://cloud.githubusercontent.com/assets/406299/24660905/b911b35a-1948-11e7-8e95-b750ad3eeba4.png)

- [x] AboutDialog.ui
![screen shot 2017-04-04 at 15 01 15](https://cloud.githubusercontent.com/assets/406299/24660985/fd2f3832-1948-11e7-8378-781e62059bea.png)

- [x] CipherDialog.ui
![screen shot 2017-04-04 at 15 36 36](https://cloud.githubusercontent.com/assets/406299/24662281/90e0354c-194c-11e7-98e6-0d94f73527f3.png)
![screen shot 2017-04-04 at 15 36 56](https://cloud.githubusercontent.com/assets/406299/24662282/90f185e0-194c-11e7-8cb4-f6d8a3e1b01b.png)
![screen shot 2017-04-04 at 15 38 06](https://cloud.githubusercontent.com/assets/406299/24662379/c8505494-194c-11e7-83ca-a7c41cee0761.png)
![screen shot 2017-04-04 at 15 38 13](https://cloud.githubusercontent.com/assets/406299/24662380/c856bd2a-194c-11e7-8e49-fd916bc1af9b.png)

- [x] ColumnDisplayFormatDialog.ui
![screen shot 2017-04-04 at 15 39 35](https://cloud.githubusercontent.com/assets/406299/24662428/f34cc9e8-194c-11e7-8039-51525cd78749.png)
![screen shot 2017-04-04 at 15 39 39](https://cloud.githubusercontent.com/assets/406299/24662429/f34def9e-194c-11e7-9408-16b295043633.png)

- [x] CreateIndexDialog.ui
![screen shot 2017-04-04 at 14 39 23](https://cloud.githubusercontent.com/assets/406299/24661297/eb63b820-1949-11e7-97d7-2a3c8333f644.png)

- [x] EditDialog.ui
![screen shot 2017-04-04 at 14 42 20](https://cloud.githubusercontent.com/assets/406299/24661205/aeb0fdac-1949-11e7-9f48-a3e440c11e17.png)
![screen shot 2017-04-04 at 14 42 23](https://cloud.githubusercontent.com/assets/406299/24661213/b525436e-1949-11e7-8782-016ac3dba0e4.png)

- [x] EditTableDialog.ui
![screen shot 2017-04-04 at 14 38 16](https://cloud.githubusercontent.com/assets/406299/24661770/2ef204c4-194b-11e7-8011-ca51e3dc07f6.png)

- [x] ExportDataDialog.ui
![screen shot 2017-04-04 at 13 30 28](https://cloud.githubusercontent.com/assets/406299/24661532/866f28fe-194a-11e7-931e-6a9d02889ec0.png)
![screen shot 2017-04-04 at 13 30 31](https://cloud.githubusercontent.com/assets/406299/24661535/8674ced0-194a-11e7-9261-b689d6ad4c58.png)
![screen shot 2017-04-04 at 13 30 35](https://cloud.githubusercontent.com/assets/406299/24661533/8672bafa-194a-11e7-902d-6680cfc3a9b7.png)
![screen shot 2017-04-04 at 13 30 39](https://cloud.githubusercontent.com/assets/406299/24661534/8673f6cc-194a-11e7-8d59-584159a890d8.png)
![screen shot 2017-04-04 at 13 31 05](https://cloud.githubusercontent.com/assets/406299/24661536/8678f69a-194a-11e7-8fa8-33f70de08431.png)

***Note*** - This next dialog is for exporting to JSON.  There was a bug with the code, so the window title said "CSV" instead of JSON.  Fixed earlier today. :wink: ace89f124d143fb7e594f16b399a35df8059f436
![screen shot 2017-04-04 at 13 31 24](https://cloud.githubusercontent.com/assets/406299/24661587/aa52c5fa-194a-11e7-8bf4-ffde307bf68d.png)

- [x] ExportSqlDialog.ui
![screen shot 2017-04-04 at 13 28 23](https://cloud.githubusercontent.com/assets/406299/24661483/5fdbaba4-194a-11e7-91a6-4c5ada07b044.png)
![screen shot 2017-04-04 at 13 29 19](https://cloud.githubusercontent.com/assets/406299/24661484/5fdda706-194a-11e7-8761-a2b5bbb091e5.png)
![screen shot 2017-04-04 at 13 30 03](https://cloud.githubusercontent.com/assets/406299/24661486/5fe1ed02-194a-11e7-9f63-1062990a6c3f.png)

- [x] ImportCsvDialog.ui
![screen shot 2017-04-04 at 15 44 35](https://cloud.githubusercontent.com/assets/406299/24662738/e9a438e4-194d-11e7-9f50-6d5b84169bca.png)
![screen shot 2017-04-04 at 15 44 40](https://cloud.githubusercontent.com/assets/406299/24662724/decfef94-194d-11e7-96ef-1db55e84be76.png)
![screen shot 2017-04-04 at 15 44 45](https://cloud.githubusercontent.com/assets/406299/24662726/dee12200-194d-11e7-83cd-837369fee7f9.png)
![screen shot 2017-04-04 at 15 44 48](https://cloud.githubusercontent.com/assets/406299/24662725/ded1e9e8-194d-11e7-8c63-05bd55083921.png)

- [x] MainWindow.ui
![screen shot 2017-04-04 at 13 18 45](https://cloud.githubusercontent.com/assets/406299/24661074/451f9be6-1949-11e7-9609-a196d4b4afef.png)
![screen shot 2017-04-04 at 14 40 08](https://cloud.githubusercontent.com/assets/406299/24661351/0d633fa4-194a-11e7-8271-d7acf6880cb8.png)
![screen shot 2017-04-04 at 14 40 41](https://cloud.githubusercontent.com/assets/406299/24661352/0d7c30f4-194a-11e7-8a79-e9765c24a563.png)
![screen shot 2017-04-04 at 14 41 05](https://cloud.githubusercontent.com/assets/406299/24661349/0d4d771e-194a-11e7-9c9a-7c94e1bedeba.png)
![screen shot 2017-04-04 at 14 41 17](https://cloud.githubusercontent.com/assets/406299/24661348/0d4c4e2a-194a-11e7-961c-e94689eac6b2.png)
![screen shot 2017-04-04 at 14 41 39](https://cloud.githubusercontent.com/assets/406299/24661347/0d4b7cac-194a-11e7-90a1-a0e4676b04a9.png)
![screen shot 2017-04-04 at 14 42 03](https://cloud.githubusercontent.com/assets/406299/24661350/0d5e8a18-194a-11e7-8a1d-c1f1f05dc503.png)

- [x] PreferencesDialog.ui
![screen shot 2017-04-04 at 15 01 30](https://cloud.githubusercontent.com/assets/406299/24661023/20aaf152-1949-11e7-871e-0394eb28686f.png)
![screen shot 2017-04-04 at 15 01 36](https://cloud.githubusercontent.com/assets/406299/24661024/20ad164e-1949-11e7-90a7-075b038237c2.png)
![screen shot 2017-04-04 at 15 01 45](https://cloud.githubusercontent.com/assets/406299/24661026/20c008bc-1949-11e7-8ba8-41109b434a46.png)
![screen shot 2017-04-04 at 15 01 54](https://cloud.githubusercontent.com/assets/406299/24661031/2162d18c-1949-11e7-97a9-a50e7c58794b.png)
![screen shot 2017-04-04 at 15 02 01](https://cloud.githubusercontent.com/assets/406299/24661030/213a9d98-1949-11e7-8e96-5b11f0cc7ab4.png)
![screen shot 2017-04-04 at 15 02 27](https://cloud.githubusercontent.com/assets/406299/24661025/20ae3b50-1949-11e7-85b3-fd55c7960044.png)
![screen shot 2017-04-04 at 15 02 42](https://cloud.githubusercontent.com/assets/406299/24661028/20dd6484-1949-11e7-8143-9ad9a9e0ef17.png)

- [x] VacuumDialog.ui
![screen shot 2017-04-04 at 15 35 06](https://cloud.githubusercontent.com/assets/406299/24662216/6a9aebac-194c-11e7-8a2c-4269b46d1004.png)

- [x] Various other dialogs
![screen shot 2017-04-04 at 13 22 56](https://cloud.githubusercontent.com/assets/406299/24661133/77331572-1949-11e7-9144-45b71a77cfb8.png)
![screen shot 2017-04-04 at 13 23 20](https://cloud.githubusercontent.com/assets/406299/24661157/8c0c380c-1949-11e7-9da5-77e75db238a5.png)
![screen shot 2017-04-04 at 14 48 42](https://cloud.githubusercontent.com/assets/406299/24661183/9ec6d902-1949-11e7-9d15-82fde3e1b094.png)
![screen shot 2017-04-04 at 14 39 06](https://cloud.githubusercontent.com/assets/406299/24661787/3bc24c54-194b-11e7-98ae-4970af7a167f.png)
![screen shot 2017-04-04 at 15 29 21](https://cloud.githubusercontent.com/assets/406299/24662196/5b334ed4-194c-11e7-8e32-51b6066e517d.png)

- [x] ***File*** ‚Üí ***Import*** -> ***Database from SQL file...***
![screen shot 2017-04-04 at 13 27 56](https://cloud.githubusercontent.com/assets/406299/24662048/f6bd79fc-194b-11e7-9f87-572e7ee4d05b.png)
![screen shot 2017-04-04 at 13 26 43](https://cloud.githubusercontent.com/assets/406299/24662060/fe360820-194b-11e7-8840-8d68d3b01f09.png)
![screen shot 2017-04-04 at 13 28 03](https://cloud.githubusercontent.com/assets/406299/24662076/052738d4-194c-11e7-80f0-6930cb465c7b.png) @keedhost I don't think I'll get to checking the Windows problem today after all.  It should be tomorrow, or Thursday at the very latest though. Found the problem.  It was indeed my fault... a typo in the change I made to src/translations/translations.qrc:

https://github.com/justinclift/sqlitebrowser/blob/d5a6bc496dd97004dba6f005d5def7570962812d/src/translations/translations.qrc#L14

The filename extension on that line should be **.qm**, not **.ts**.  Oops.

I'll update my branch with that, and also pull in your updated patch. :smile: Ok, I *think* this branch has the latest changes, including Genyk's pieces:

https://github.com/justinclift/sqlitebrowser/tree/ukrainian_version2

Can you double check from your side?

If you're happy with it, I'll merge it in. :smile: Ahhh, I didn't see Genyk's patch-7 & patch-8.  I'll add those now too. @keedhost @Genyk I've added the patch-7 and patch-8 changes here too:

&nbsp; &nbsp; https://github.com/justinclift/sqlitebrowser/commits/ukrainian_version2

Do you want me to merge it "as is", or should I take updated screenshots again? :smile: Hmmm, I'm just going to merge it. :smile: @keedhost @Genyk All of the Ukrainian translation patches are merged into our master branch now.

Do either of you have time to double check it?

I'll also close the Pull Request, as this was done a bit outside of that. :smile: @Genyk If you have the time to play around with it and try things out, then most (80%) of the program is fairly simple.  It's mostly just a display of databases in a spreadsheet format.

You can download a sample database to use with it here:

&nbsp; &nbsp; https://dev1.dbhub.io/justinclift/DB4S%20download%20stats.sqlite
&nbsp; &nbsp; (the green download button on the right side)

Does that help? :smile: @Genyk Awesome!

If you have questions, you're welcome to ask here and I should be able to respond without *too much* delay. :smile:  Indeed, the newer version of DB4S doesn't support XP.  It is possible, but due to the methods of building the application we use, not easily 'automated', but as DB4S is 'open source', someone else might 'do the honours'.  See this similar issue: #893 
As a side note, Windows XP is quite an old operating system now and is unsupported as far as security patches, etc, goes, so if you use it in a 'production' environment (or for more than just 'testing') then it shouldn't be used to go online.
As another side note, more and more programs will drop support for Windows XP, so its not just DB4S which will fail to run.
As another side note, its still free to upgrade to Windows 10.  Not that really helps the above issue, and of course, comes with its own problems...  For me, when trying a few minutes ago (OSX 10.11.6) with a nightly build of a few weeks ago... this was inconsistent.  Some times when hovering a dock (eg SQL Log) over part of the main window the snapping function would work.  Other times it was just ignored.

It seems like we need to investigate this and make it work reliably.

In the meantime, double clicking on the title bar of the dock does seem to work.  So, at least there's a workaround for the moment. :smile:  This is sort of intentional.  Some people dont want their software updating automatically or to a different version than the one they have.  A message popping up seemed a happy compromise.  Yes, this was an issue in the 3.8.x installer (and 3.9 I believe) which should be fixed now, as the issue was identified when people starting upgrading to 3.9.1.
It didn't help that the directory location for the installation also changed between versions, otherwise this wouldn't have been an issue... ;)  What version of DB Browser for SQLite are you using?
Try one of the nightlies here:
https://nightlies.sqlitebrowser.org/win64/ (assuming you want 64-bit)

I think this was an issue in v3.9.1 which was fixed. \o/  Glad it worked. üëç   Interesting.  Does it still happen with our recent nightly builds?  Download locations are listed on our front page, if that helps. :smile: That happens because we have to execute all SQL commands inside a transaction and the foreign key pragma can't be set inside a transaction. The only reasonable workaround for us that I can think of right now is to somehow detect a ```pragma foreign_keys=x``` statement and disable transactions for that. But that's always going to be error-prone...

@qiulang Do you need to be able to do this using SQL? Or can you just use the GUI editor in the Edit Pragma tab instead? This also seems to be related to #966.  We'll need to add support for common proxies (eg HTTPS, SOCKS 4/5 ?, etc) for our connectivity with DBHub.io.

Proxies are used in ***many*** business and government places, so missing this would be a major growth limiter. :wink:  DB Browser uses SQLCipher encryption.  Does Sqlite.net-plc support 256-bit AES?
If it doesn't, then it can't decrypt the database, so sees it as corrupted/not a valid database. @govindrawat55 Sorry, somehow I missed this.

For encrypting SQLite databases, we use an Open Source project called SQLCipher.  It's made by Zetetic:

&nbsp; &nbsp; https://www.zetetic.net/sqlcipher/

I'm not sure if it's compatible with "SQLite.net-plc".  Are you ok to contact them to find out? Closing this due to lack of response.  Interesting.  Would you be ok to run `ldd` on the sqlitebrowser executable and paste the result here?  It sounds like there might be a linking problem.

Er... just to confirm, you are using sqlitebrowser yeah, not straight SQLite itself? > Not using SQLite browser

You have posted this question on the DB Browser for SQLite support issue system.  This is for support for the application DB Browser for SQLite - not SQLite itself.
You can post your question to the SQLite support group by emailing the question to sqlite-users@mailinglists.sqlite.org @romio102 No worries at all.  Hopefully you get it solved. :smile:  Click in the 'Table' combo box (which on Windows you can get to by pressing Alt+T) then simply press the down arrow key.  You can press the down arrow key again and again to get the next table.
Depending on your operating system, you can get an application to 'wrap' these two keystrokes in one, so pressing something else (eg, F8) runs the macro of pressing Alt+T, then down arrow...... Install Windows?  ;)

Does pressing Tab change the focus?  I've not got a Mac to test this on. It's probably not a bad idea to include some shortcuts for switching between tables via keystroke. :smile: @rodrigozanatta It's unlikely to happen in the next fortnight.  Our main developer for DB4S is on holiday for a few weeks, and I'm working on server side stuff in a different language completely. :wink: Still on holiday, so just a quick note from my side: I think we already have exactly what you're asking for, @rodrigozanatta :smiley: When you're using a recent nightly build you should be able to switch tables using the ```Ctrl + PageDown``` and ```Ctrl + PageUp``` shortcuts. Awesome.  Thanks @MKleusberg. :smile:  That's strange.  DB4S asks for a password when it can't recognise the file as a database, so it assumes it's an encrypted one.  Thus the "what's the password?" dialog. :wink:

Are you able to open the database ok with the command line version of SQLite?  That should help figure out where the problem lies. Are you able to email me the database at all, or is it confidential information? Weird.  Glad its now resolved now though. @Gilead7 On windows, it's probably the file level settings for "Read Only".  You can change that in Windows Explorer by right clicking the file, then choosing **Properties**. It should be in the dialog that appears, somewhere fairly obvious.

That's the theory anyway. :wink: Its also dependant on how you access that file.  What I mean by that is, if its a network share, then file permissions are based on that share as well as the physical file permissions.  So you might have physical file permissions, but the share permissions say otherwise.

If you're accessing the file locally, then yes, its file permissions.

If you're accessing the file in c:\program files or c:\program files (x86) then thats a bit more tricky, as Windows doesn't like you opening files there.  You have to have special admin permissions for that (usually right click a program and select 'Run as administrator')

Copy the database to your desktop or 'My Documents' and open the file from there.  You shouldn't get any 'read only' issues then.

It raises an interesting point though.  If you open a read-only Word document, it does warn you it's read only.  DB4S doesn't do that.  Wow, didn't even know that existed.  It's a really good idea.

Let's do it for our version 3.10 (or maybe 3.10.1 :wink) release, as that should have a lot of interesting capabilities. :smile:  Thanks @probonopd.  This looks interesting, and doesn't seem to bust anything we currently use, so why not? :smile:  AppImage looks interesting. Thanks @dridk and @probonopd, just merged it.  Going to watch this over the next few days to gain a better understanding of how it works in practise.

We'll likely need to document "how get get the transfer.sh URL out of the log" in our wiki, but that shouldn't be hard once it's understood. :smile: Keeping the binaries (for every commit) in GitHub releases sounds fairly terrible for our project.

We have a server for nightly releases, which could hold those kind of development centred builds.  We'd need to figure out how to get the Travis CI builds uploaded to that securely though, without embedding username/password in the .travis.yml.

Something to investigate at a later date. :smile: Interesting, thanks. :smile:  @revolter @innermous Do either of you have time to look at this, it seems super simple?

I would, but my headspace is a long way from Qt/C++ at the moment. üëº  Looks good :smile: Thanks a lot for this, @dridk :+1:   Interesting.  Sounds like our transaction control bits are/were interfering with setting pragmas.

Would you be ok to try out the latest nightly version?  We've done a fair amount of work on our transaction control pieces since our 3.9.1 release.  There's a decent chance this bug won't be present in the nightlies. :smile: It's not something I have time to look at personally today.  My focus for today is on other stuff which is well overdue. :wink:

Hopefully one of the other team members has time to investigate. :smile: No worries at all. :smile: This seems to be the same issue as in #980. I've just tried to explain the problem in that issue and will just copy & paste it: :smiley:

That happens because we have to execute all SQL commands inside a transaction and the foreign key pragma [or any other pragma for that matter] can't be set inside a transaction. The only reasonable workaround for us that I can think of right now is to somehow detect a ```pragma foreign_keys=x``` [or other pragmas] statement and disable transactions for that. But that's always going to be error-prone... Maybe if add a checkbox option to the Execute SQL tab "[ ] Run inside transaction", so people can enable/disable the transaction themselves?  Ahhh, that's interesting.  Does it still happen with modern DB4S though?  Version 3.7.0 is really old, and we've changed the code that does this stuff a fair amount in the meantime. Thanks @dridk. :smile:  Just to confirm, you believe a program is affecting your physical WiFi connection?  As soon as DB4S is closed down, the WiFi status is returned to normal?
DB4S is an application, so its hard to see how it can affect the 'outside world' as such.  It would only use the WiFi....in fact, it doesn't, it goes through your OS.... to access files on a network share.  

I'm not familiar with Macs, but does it show (when DB4S is running) the state of the network, eg, what application is using what?  In Windows,  its easy to see what application is using the CPU, memory, disk and network.

![image](https://cloud.githubusercontent.com/assets/7872218/23292461/e3f04dbc-fa57-11e6-99e7-0aa59f30c2c7.png)

Just to confirm, DB4S doesn't have any WiFi 'built into' it, so it just uses any existing network connection... I can't see how it would affect the WiFi.  It doesn't do anything out of the ordinary.
 @zhanghedr Interesting.  That's the first time a problem like this has been mentioned.

Do any other applications cause the same problem?

I'm kind of thinking there might be a problem with your WiFi hardware, which is being triggered by DB4S.  At the moment, that's the only thing I can think of.

If you try our latest nightly build (download locations are on the front page), does it still happen?  That's definitely worth trying. The only other suggestion I can offer at this stage is to confirm whether or not the ping request time improves after a short time.  I can imagine (as a possibility) DB4S doing some 'am I up to date?' checks, but apart from that (which should be minimal) DB4S doesn't use the network (unless you're opening a database over the network, of course...)
If left open, does the ping request time improve, or does the network only improve once DB4S is closed?  Does it return to normal if DB4S has no ddatabase open?  What if tabs are changed?  (ie, it might only happen on the 'Database Structure' tab.)

There are applications to monitor the network traffic down to the packet level, so you could confirm if DB4S was (for example) splatting garbage over the network (and thus the WiFi) but you'd need to know what you were doing and be comfortable dibbling and dabbling about..... Just one more idea: does it help when when you go to the Settings dialog and disable the Automatic update check? That's the only network activity in the application. > That's the only network activity in the application.

Unless you're opening a (big?) database over a network connection. @zhanghedr Just to check... did you download DB4S from our official locations? (eg sqlitebrowser.org, or from github.com/sqlitebrowser)

Just wondering if maybe the download came from somewhere else, and someone has put something dodgy in it. üòñ  @zhanghedr No worries, it was just a thought.  And yeah, that is a weird problem. üò¶   If you download and try the latest nightly (nightly version: https://github.com/sqlitebrowser/sqlitebrowser#windows) then this should be fixed.  üòÉ  Yeah, this was mentioned to us shortly after the 3.9.1 release, so has been in the nightly builds now for some time.

@AndreasSummer Are you ok to try out the latest nightly build? :smile: Closing due to lack of response. ‚òπÔ∏è  Awesome. :smile:  Thanks @andrewvaughanj, that's interesting.  Looks like one for @MKleusberg. :wink: Turns out it's surprisingly difficult to inspect RHEL packages without having it installed.
@andrewvaughanj Can you help me here and find out if Red Hat's QScintilla package is built for Qt4? If so that would be the problem because we depend on a Qt5 version.

Either way, I'll try to add a command line switch for not using the distribution's library. Can you try again using the latest version from master and setting the ```FORCE_INTERNAL_QSCINTILLA``` flag? Like this:
```
git checkout master && git clean -f -d x . && cmake -DFORCE_INTERNAL_QSCINTILLA=ON . && make -j12 && ./sqlitebrowser
```
In theory this should work for you just as it did before. But it would still be interesting to know if your QScintilla package is based on Qt4 because it might make it easier to work around this problem automatically. @andrewvaughanj Thanks, this helps a lot! I'll try to find a way to automatically detect if the system's version of QScintilla works for us but can't make any promises on this yet :wink: But at least it builds for you now, I'm glad to hear that :smiley: Sounds reasonable :+1: 
I hope this issue will gradually become irrelevant as Qt5 becomes more and more widespread. @andrewvaughanj And interest in making that Pull Request? :smile: We now have the needed note in BUILDING.md. c8dba296df117a6f8ab486ade8418328580e2961 :smile:  As a general thought, this seems like a general SQL question rather than something specific to DB4S.

What you ***probably*** should do is ask on the sqlite users mailing list:

&nbsp; &nbsp; http://mailinglists.sqlite.org/cgi-bin/mailman/listinfo/sqlite-users

There are many knowledgable & helpful people there, and it's very likely you'll receive good suggestions/advice. :smile: You're welcome. :smile:  Thinking about this, I'm not completely understanding the process you're using.  It sounds like you're exporting the first database as a SQL file (no problem there), but there's no mention of how you're exporting the 2nd one.

As a general thought, the error you're mentioning ***seems*** like the kind of thing that happens when an exported CVS file doesn't have the correct delimiters.  (eg they're not set correctly in the dialog for the export, so the import goes wrong).  It might be worth double checking your export settings, just to be on the safe side, though I don't fully grok your end-to-end process yet. :wink: @Phil1988 If you're ok with sharing the files with @schdub (or any other databases that give the same problem), he's very likely able to help. :smile:  I was thinking you could 'cheat' by using the 'history' of the last 4 opened files.... In Windows this is stored (I believe) in the registry.  Not sure where its stored on Apple devices...
My kludge would be to edit the history, then simply click the file in DB4S... At least on Linux you can just click File -> Open Database and copy the whole path including file name into the file name box at the bottom, then click OK and it opens it no matter what directory you are in. Have you tried that already?  Same here as in #955. Should be working with tomorrow's nightly build. Can you download that tomorrow  (or any later day) and check if it's improving things for you? :smiley: Hm, sorry about that! I have just made a change which should work around this 'not an error' error. Do you still have the original SQL file causing this error somewhere? And if so can you check again with tomorrow's nightly build? If it still doesn't work it'd be interesting to know what's going on around statement number 30, probably at the end of the file. Thanks for testing! :smiley:

If you think the import should print to the SQL log feel free to open a new issue for that. The problem here is that unfortunately it's not so easy to do that. When you're importing, say, 100k rows, printing them all to the SQL log would cost way too much performance. But maybe we can discuss a solution for this in a new issue :smiley:  How does it look when you double click that cell to open the Edit cell dialog? Can you copy or screenshot the value from there, including all the line breaks?  You're right! There are multiple problems with our SQL import. These couple of lines you've posted there were quite valuable for me because they revealed three problems at once. So thanks a lot for this :smiley: 

The main problem here and for #957, too, is that we have to remove all transaction bits from your SQL code because DB4S always opens its own transaction right after opening a database file. That's necessary for the Write Changed and Revert Changes buttons. And unfortunately transactions can't be nested.

I've tried to fix all the bugs I could find and worked around the transaction problem by replacing them with savepoints. So I believe this should be fixed for you now but I'm not a 100% sure it's completely working for you now. So can you test tomorrow's nightly build and tell me if it's working for you with that version? :smiley:  Interesting.  Which version is this happening with, and on which OS? :smile:

If you're on Windows or OSX, would you be ok to try the latest nightly build? (download locations are listed on our front page)

Asking because we've improving our constraint and foreign key handling code recently, so there's a decent chance this is already fixed. üòÅ  @MKleusberg This issue sounds like it'll be of interest to you.

@mtissington Thanks. :smile: The .99 bit is kind of placeholder text to signal "this is a development build".  We really need to get that updated at some point so development builds shows the git commit hash they were built from instead (much more useful). :wink: > We really need to get that updated at some point so development builds shows the git commit hash they were built from instead

Or the date of the build.... that must be really simple to do?   This is actually easy to fix but that fix comes with a caveat. Suppose having this table layout:
```sql
CREATE TABLE test(id integer NOT NULL DEFAULT 1, value text, PRIMARY KEY(id));
```
In this case I'm not so sure we want to use the default value because then the 'Add record' button stops working after the first insert because you can't use the value 1 multiple times. I don't think that's what users expect for table schemas like that either. So we're in a dilemma here.

I think fetching any duplicate errors from SQLite and then falling back to the old method isn't an option because it's really insecure and ugly programming-wise. And @innermous would hate us for doing that (see issue #628) :wink: So we'd have to parse the default value and see if it's a ```random*()``` function call or something like that. But that's not so easy either.

So I'm a bit in a loss here :frowning: Any other ideas? @chrisjlocke Build date sounds good. We used to have the git commit hash in there but it never really worked that well. I don't remember the reason why we deleted it but I do remember how I happy I was to finally get rid of all the build script magic that was needed :wink: @MKleusberg You sure we ever got it working (the git hash thing)?  /me really doesn't remember it :wink: > Or the date of the build.... that must be really simple to do?

Well, I guess it depends on what it would take to get a useful string (date, git commit hash, etc?) that can be compiled in at build time.

If we need to use OS specific stuff (eg sh on *nix, batch file stuff on Win) it could get tricky. @justinclift See commit 5c1347bb927e72227af1e744f758f5dd07adf75a, 441d4e79b7d4f8cac4256b6f9369045ecabe3338 and 69a6685eaae0bbf33e76338c309f1e34170b08c9 for example. We definitely tried to get it working :smiley: Seems like it only ever worked using the cmake build though. > Well, I guess it depends on what it would take to get a useful string [...] turned into a string that can be compiled in at build time

Does it have to though?  In VB, 'it' knows details about itself (version, current directory, etc) and as such its full path.  This is passed to the IO to determine the last modification date of said file...
Dont' know if any of that can be cross-platform.....  `*mind boggles, eyes glaze*` @MKleusberg Thanks. :smile: @chrisjlocke Yep, there might be compiler or build system variables we could use.  That would be good. :smile: @mtissington The random value is fine. Especially in your case collisions aren't very likely either. But what I'm worried about is that the same code (on our side) also had to handle non-random default values that are used in primary key or unique columns.

So I'm wondering what sort of logic I could implement to support your case (maybe even ignoring collisions) but also to not screw it up for non-random default values :smiley:  Are you sure Android is looking at the right place?  sqlite is a bit 'weird' in that if it can't find the file, it tends to create a blank file.  The file structure in Android is also quite 'involved' with quite nested 'directories'.

The file produced by DB4S is in 'sqlite' format, so should be openable by any version of sqlite.   So check the filesize of the database on Android.  If sqlite has created the file, you may be able to see the database, but it will be 0 bytes long.  Here are some issues @chrisjlocke found in the plotting feature testing the latest version from master. See PR #925 for details.

```
Initial thoughts:

*   Widget is not disabled when a database is not open
*   When 'Browse Data' tab is clicked on, X axis gets unticked (ie, when user flips from execute SQL to Browse Data) Two 'rowid' rows momentarily exist in the grid, but this is just a quirk of the grid re-populating I think.
*   When an item in the X axis is ticked, ticking another item unticks the original item, but the item you clicked on is not ticked, so you have to click the item you want again.
*   When selecting 'row #' as the X axis, '65536' is displayed as a label, rather than 'row #'.
``` All done :smiley: The first one is a little tricky because the widget is disabled, it just doesn't look like it. But that's something we can't do much about...

@chrisjlocke Can you double check that the other three are fixed in the next nightly build? :smiley: Will do.  üòº  @chrisjlocke Ping. üòâ   Interesting.  That definitely seems like a bug.

@awi1369 Was that with version 3.9.1?  If so, do you have time to try our latest nightly build?  The behaviour may be different in that. :smile:

* https://nightlies.sqlitebrowser.org/win64/DB%20Browser%20for%20SQLite-2017-01-27-win64.exe
 @SafaAlfulaij This might be of interest to you. :smile: Oh well. üò¶   Thanks for checking @awi1369, that does help. :smile: @SafaAlfulaij Thanks. :smile:

And yeah, if you get this figured out we're happy to merge a PR. üòÅ   Excellent. :smile: Now #945 is resolved:
![image](https://cloud.githubusercontent.com/assets/6525383/22335983/c7b3747a-e3f1-11e6-9faa-7b79695b0b6c.png)
 Excellent, thanks for creating this @schdub, and thanks for confirming it @prutz1311. :smile:

  Interesting.  Yeah, we'll probably need to look at [RFC 4180](https://tools.ietf.org/html/rfc4180) in detail again, to work out the right approach here. :smile:

From scanning over it quickly just now, section 3 (for the MIME registration) says:

> Common usage of CSV is US-ASCII, but other character sets defined
> by IANA for the "text" tree may be used in conjunction with the
> "charset" parameter.

So the CSV specification itself seems to allow more than just US-ASCII.  eg Unicode output is probably a good idea. :smile: SQLiteStudio supports Unicode.  might be worth a peruse...
https://sqlitestudio.pl/index.rvt @innermous @schdub Any interest in updating our CVS export to output Unicode? :smile: @arjo1754 I've just tried this using the latest version and it's using the UTF8 format in the export... So I'll need your help debugging this:
1) Which version are you using? Have you tried the latest nightly build?
2) Can you download [this database](https://dev1.dbhub.io/x/download/mkleusberg/issue946.db?version=1) and try exporting the table in there? Does it produce the same error for you?
3) Which editor or program are you using to open the file? This does look like it's UTF8. So I'm guessing it's your editor that doesn't open it correctly. I don't know which editor you use but it probably has some way to manually set the encoding of the file to UTF8. Have you tried that?

To further narrow down the issue:
1) What do you get when you open this file? [test.txt](https://github.com/sqlitebrowser/sqlitebrowser/files/735961/test.txt) That's what's exported on my system.
2) And what do you get when you open this file? [test2.txt](https://github.com/sqlitebrowser/sqlitebrowser/files/735963/test2.txt) It's the same file but with a Unicode BOM added.

 Hmmm, that's weird.

@arjo1754 Are you able to send us a working csv produced by SQLiteStudio?

We can probably figure out the difference from that. :smile:

Also, what happened when you tried @MKleusberg's two files? You just compromised peoples emails didn't you Yep, that added people's email details right into the ticket, publicly displaying the lot. üò¶  I've just manually removed them.

@arjo1754 That turned out to not be a great idea.  Would you be ok to email the files to me instead (justin@postgresql.org), and I'll forward them to Martin.  @pmoorelegistek Yep, it's already pencilled in to be added with our next major release.  That's probably not any time in the real close future though.  eg likely a few months away at least As far as I remember, yeah.  Saying that because it's been a while (few months?) since I looked at that part of things, so my memory is hazy.

If it helps, this is the batch file we use for automatically building our nightlies on Windows:

  &nbsp; &nbsp;https://gist.github.com/justinclift/11cc926f214e882c8162f97c53929c07

Note, it looks more complicated than it really is, because it runs twice.  Once for the nightly without SQLCipher, and once for the nightly with SQLCipher.

It might be as simple as just adding some kind of optional switch somewhere (maybe line 41?) to include FTS5 in the build.

If you work it out, we can update our nightly build script to include the change as well. :smile: Cool.  Does this look like a suitable replacement for line 41?
```
cl sqlite3.c -DSQLITE_ENABLE_FTS3=1 -DSQLITE_ENABLE_FTS5=1 -DSQLITE_API=_declspec(dllexport) -link -dll -out:sqlite3.dll
```

If that's the case, I can probably try kicking off a build now (takes 1/2 hour to finish) and put it on the nightlies server somewhere for you to try out. @justinclift This should be the most correct version, I think:
```
cl sqlite3.c -DSQLITE_ENABLE_FTS5 -DSQLITE_ENABLE_FTS3 -DSQLITE_ENABLE_FTS3_PARENTHESIS -DSQLITE_API=_declspec(dllexport) -link -dll -out:sqlite3.dll
```
See [here](https://sqlite.org/fts3.html#compiling_and_enabling_fts3_and_fts4). Line 80, too. Awesome.  :smile:

Now realising we can probably include JSON1 support along with it too, as per the comment here: https://github.com/sqlitebrowser/sqlitebrowser/issues/677#issuecomment-266739629

Not sure if SQLCipher works with the same defines, but it doesn't hurt to try and see what happens. :smile:

I'll give it a go now. For the SQLCipher build it's implementation gets used for both encrypted and non-encrypted databases.  So yep, you're probably right.  Lets experiment a bit with the build script now and figure out what does and doesn't work. :smile: @pmoorelegistek @aludee Do you have time to try these out?

* https://nightlies.sqlitebrowser.org/win32/DB%20Browser%20for%20SQLite-2017-01-25-FTSv1-win32.exe
* https://nightlies.sqlitebrowser.org/win64/DB%20Browser%20for%20SQLite-2017-01-25-FTSv1-win64.exe

In theory, they should both include the FTS3, FTS4, FTS5, and JSON1 extensions.

It's only the standard SQLite version (not SQLCipher) as a first go.  We can try SQLCipher things out after we're happy with straight SQLite options. :smile: @aludee Awesome, thanks for checking and confirming.

I've just added those options to the main nightly build script for windows.  It's only for the SQLite (not encrypted) version for now.  SQLCipher version still needs working on. :wink: You're welcome. :smile:

Am compiling a Win64 SQLCipher build with FTS3/4/5 & JSON1 extensions enabled right now.  Would you have time to try it out when it's finished? (assuming it doesn't break during compiling :wink:) @pmoorelegistek Thanks.  Please give this a shot and let me know if the FTS bits are working ok:

&nbsp; &nbsp; https://nightlies.sqlitebrowser.org/win64/DB%20Browser%20for%20SQLite-sqlcipher-2017-01-26-FTSv1-win64.exe

For that, the approach I used was adding the FTS5 and JSON1 defines to the default list for SQLCipher: https://github.com/justinclift/sqlcipher/commit/c04e7b9a8affa6cc25da9d06622e6fe28d3fdc67

But, definitely need someone to test the result. :smile: Thanks @pmoorelegistek, that really helps.

I'll update the nightly build pieces for Windows, so everything has FTS3/4/5 & JSON1 included. :smile:  Aha, yep this is the right way to do things. :smile: Thanks a lot for fixing this :smiley: And yeah, my bad for breaking this!  Awesome @schdub.  @MKleusberg has been working on Foreign Key stuff recently, so this will probably interest him. :smile: Can't reproduce it. 
```Execute simply select query to retrive data;```
It's not enough, something tells me it's specific for your table/database.
Please, provide more useful information. **UPD**: Sorry, I am able to reproduce it now. This happens if one hovers a cell for at least 3-4 seconds.
Working on it. Tooltips in execute SQL tab can't be shown right now, since foreign key functionality relies on fixed size tables as *static* database objects.
I can only apply little fix that prevents crash right now. Cool, sounds like progress in the right direction. :smile: Yeah, I don't there is much more that we can do right now. In order to support the foreign key tooltip + shortcut for queries in the Execute SQL tab we'd have to parse and understand SELECT statements and those can become quite complex. We'd need a mechanism to track which column in the results table comes from which column of which table in the database. It's the same effort that's needed to implement editing in the results view (see #393, and #141 as well). @MKleusberg Should this be closed then?

It sounds like this is fixed, even though the solution isn't perfect for the long term. Yeah, I guess we can close it. If you have the time you could open a meta issue for this instead to collect use cases for a full SELECT statement parser. This here is one of them, the two issues I've mentioned above are others, and maybe there are more.  Interesting.  No idea where to even begin with this, so hoping some of the others have ideas. :smile: Heh Heh Heh

I haven't tried, and probably won't for (at least) a few days personally.  My headspace is entirely in a different area at the moment and I **really** don't want to break that. :wink: Seems like a common issue with SQLite + Virtualbox:
https://forums.virtualbox.org/viewtopic.php?f=3&t=42404
https://forums.plex.tv/discussion/165867/ubuntu-on-virtualbox-w-shared-folders-sqlite-mmap-error
https://dba.stackexchange.com/questions/44156/disk-i-o-error-in-sqlite/80594
http://fossil-users.fossil-scm.narkive.com/muAXYMCp/problem-accessing-shared-folder-in-virtualbox

From the last link
```
SQLite is quite strict with the filesystem, and it needs it to work as
advertised, for example with syncing and file locking. VirtualBox is
just not there yet. Go bug them. Give them a tiny test case, a
sequence of commands to create a repository and try to open it.
``` @MKleusberg Ahhh, that definitely makes sense.

I guess we should close this now, as it's not a DB4S problem (and we're trying to get the issue count down :wink).

@jlmcgraw Are you ok to file a bug with the VirtualBox project?

&nbsp; &nbsp; https://www.virtualbox.org/wiki/Bugtracker This seems potentially relevant:

&nbsp; &nbsp; https://www.virtualbox.org/ticket/10059

Not seeing any other tickets in their system about SQLite with shared folders.  Search page:

&nbsp; &nbsp; https://www.virtualbox.org/search?ticket=on&q=sqlite  Awesome @schdub. üòÅ 

@MKleusberg You ok to review? @schdub This should work.  I think. :smile:

```
$ git reset f728ff73ab18fe038c457fa2fb392fdd892dc808
$ git add src/sqlitetablemodel.cpp
$ git commit
$ git push [repo] [branch]
``` Either way, not to worry.  We can squash the commits into a single one when we merge it. :smile: @schdub With that last commit (FIX: Endless loop ...), that's for #941 isn't it?

If so, would you be ok to put that into a separate PR?  It helps to keep track of things when we're writing up release notes. üòÄ  The way I personally do things, is to keep my ***master*** branch in sync with the sqlitebrowser/sqlitebrowser master branch.  Then, when I want to create a PR I make a new branch from that and do the commits there.

Your repo seems a bit messy :grin:, so lets try a different approach.  First, create a totally new branch, then we can get it in sync with the upstream (sqlitebrowser) master branch.  After that, add your patch to it then push it to a new PR.

So:

1. Make a new branch

       $ git checkout -b temp_master

2. Get it into sync with sqlitebrowser master branch

       $ git reset --hard 31f73df721df0d79997fe1b7127c92cda2fcfd7a
       $ git clean -dffx
       $ git pull https://github.com/sqlitebrowser/sqlitebrowser master

Note - This is a cheating approach, but it works üòÅ 

3. Add your patch on top

       $ git cherry-pick 47321bc4eb867f350a374b5735ce0ed520288dac

4. Push this new branch to GitHub, so you can make a PR from it

       $ git push https://github.com/schdub/sqlitebrowser.git temp_master:temp_master

In theory, number 4 should create a new "temp_master" branch in your repo on GitHub, with just that single commit added on top of the main "master" branch.  If that works, then you should be able to create a new PR from it.

Once that's done, I can show you how to rewind your PR here (#939) so it doesn't include that last commit. :smile: Heh Heh Heh, just noticed you have figured it out already.

So, the way to remove the last commit in this PR is:

```
$ git checkout master    ‚Üê "master" here, because that is the branch name you used for this PR
$ git reset --hard HEAD^     ‚Üê  "HEAD^" means "latest commit - 1"
$ git push --force https://github.com/schdub/sqlitebrowser.git master   ‚Üê  The "--force" bit is needed, to move the index back one
```

In theory :smile:, that should work. You're welcome. :smile: Thanks @schdub! :smiley: Looks like you have put a lot of thought into this already. I'll have a closer look tomorrow or the day after tomorrow but I don't expect to find any problems :smiley: Looks good! Thank you for adding this :D   Yep, this does make sense to implement.  Shouldn't be to hard to do either. :smile:  Yep, why not?

Done btw. :smile:  Is this related to DB Browser for SQLite? If you're needing help with Lua coding, it's probably best to ask on the Lua mailing list:

&nbsp; &nbsp; http://www.lua.org/lua-l.html

:smile: I wonder every time when I see such issues...  Sounds like a worthwhile enhancement.  We could probably do something to make this work. :smile:

@MKleusberg Thoughts? We've just merged a PR by @schdub that implements this (using the ```1~5``` notation) :smiley:

@karim Can you test tomorrow's nightly build to see if it's working for you? :smiley: @chrisjlocke Any interest in updating the Filters page on the wiki with this new operator? :smile: Just updating the wiki, but ... well, its not working for me....

![image](https://cloud.githubusercontent.com/assets/7872218/22418793/62f771b0-e6d2-11e6-88ab-9e090208a9fe.png)

1 ~ 6 shouldn't be including 11 should it? If I change it to 2~6, I get the right result.

I'll ... er... doctor the screenshot until its resolved! ;) Wiki page updated.  üëç 
References to 'search' also changed to 'filter' as it was slightly cross-purpose and ... well, it made me twitch too much.... ;) @chrisjlocke I've stumbled upon that, too :wink: But that's actually because of SQLite's treatment of data types. ```Field3``` is probably of type ```text``` in your database. If you change it to ```integer``` SQLite it'll work as expected. That's just how SQLite works: you can save any kind of data in any column, no matter the column's data format. But as soon as you're querying the table the data format of the columns actually does matter. In this case 11 is between 1 and 6 because 11 is a text, not a number, and only the first character is used for comparison. If the data format of the column is integer, the value is basically casted to an integer before comparison and 11 is definitely not between 1 and 6 :wink:

Going one step further we could think about casting the field to an integer automatically when doing range comparisons but I'd suggest to leave it as it is in order to not hide the logic of SQLite. But we might add an 'attention' box to the Wiki page. What do you reckon? Good spot - yup, the field type was text.  `*blush mode on*`.  Doh! ;)
Changing it to integer works as required.  (`*flushes head down toilet*`) No worries, it took me some time to figure this out, too :smiley: And it wasn't even the first time this confused me :wink:  Thanks for reporting this.  I'm pretty sure someone else has mentioned this happening to them a few months ago too, but I'm not finding the bug report about it just yet.

@revolter Do you remember the previous bug report about this?  From memory, you commented on it. In any case it's upstream bug, not SQLiteBrowser. Why an upstream bug? @kehugter Excellent, that's good info. :smile: Just quickly mentioning issue #635 here which seems to describe a similar problem (see the last couple of comments). However, that issue is older than the commits mentioned by @kehugter. No idea how to explain this but maybe this is some valuable input for somebody :smiley:  That's some interesting information, @akhilman! Can you double check one extra case for me? When disabling the ```View -> Edit Database Cell``` option do you have the ```View -> Plot``` option enabled? And if not, does setting it change anything?

If we can really narrow this down to the Edit dialog I could prepare a patch that adds tons of debug output to that dialog and, with any luck, this helps us tracking down the source of the problem.  I think you're trying to open up an `.sql` file, and not a database `.sqlite` file. If you open it up in a text editor, does it contain plain text SQL? I wonder if we can detect if the file is a database or not, and print something like "Not a database". Just to elaborate this answer; a database consists of tables, fields and records, etc.  A .sql file is instructions (in SQL) to recreate that database.  As such, DB4S cannot 'open' that .sql file, but it can import it, so you can create a blank database, then import that .sql file.  :) Ahhh, yeah.  That definitely sounds like a text file with SQL statements in it, not a SQLite database file itself.

@joelworsham Not to worry though, you should be able to import it using **File** ‚Üí **Import** ‚Üí **Database from SQL file...**

![screen shot 2017-01-13 at 15 44 38](https://cloud.githubusercontent.com/assets/406299/21935937/4db468a4-d9a7-11e6-9dae-5a0974838417.png)

Are you ok to try that out and let us know if it worked for you? :smile: > I wonder if we can detect if the file is a database or not

Should be easy to detect if the first 100 characters or so of the file contains pure valid SQL commands .... usually only 'drop table if not exists' and all that jazz... @revolter *I wonder if we can detect if the file is a database or not, and print something like "Not a database".*

Yeah, we kind of do already.  We first try to detect if it's a database file, and if it's not recognisable then we assume it's an encrypted file instead.  So, we then pop open a dialog asking for a password (etc).

I suppose we could add a step in between those, where we try to detect if the file is standard text in SQL statement format, and automatically open the Import dialog if it is.  No idea how practical that would be to implement though... :wink:  Yeah, good idea. :smile: #827 ?
and #568, which it kind of related to.  ### Details for the issue

<!--

Thanks for coming here to report an issue. :)

Please describe it in this section, fill out the correct check boxes
below with an "x", then click the "Submit new issue" button at the bottom

-->

The archive that @nkahnfr uploaded [here][1] contains what looks like a corrupted preferences file. As pointed out by @jtlowe [here][2], the `databrowser.reg_bg_colour` key has the value `@Variant(`. @nkahnfr said that:

> After uninstalling the cask version of DB4S to test a nightly build I realized that another old version (3.9.1) was still installed...
I uninstalled it and reinstall latest version using cask and everything works perfectly!

but this might be an actual bug in our code. A check to see if this could be the case would be helpful.

### Useful extra information

<!-- The info below often helps, please fill it out if you're able to. :) -->

#### I'm opening this issue because:

- [ ] DB4S is crashing
- [ ] DB4S has a bug
- [ ] DB4S needs a feature
- [x] DB4S has another problem

#### I'm using DB4S on:

- [ ] Windows: ( _version:_ ___ )
- [ ] Linux: ( _distro:_ ___ )
- [x] Mac OS: ( _version:_ ___ )
- [ ] Other: ___

#### I'm using DB4S version:

- [ ] 3.9.1
- [ ] 3.9.0
- [ ] Other: ___

#### I have also:

- [ ] Tried out the nightly version: https://github.com/sqlitebrowser/sqlitebrowser#windows
- [ ] Searched for an existing similar issue: https://github.com/sqlitebrowser/sqlitebrowser/issues?utf8=%E2%9C%93&q=is%3Aissue%20

  [1]: https://github.com/sqlitebrowser/sqlitebrowser/issues/737#issuecomment-272135471
  [2]: https://github.com/sqlitebrowser/sqlitebrowser/issues/737#issuecomment-272152963  This hasn't been mentioned before, which would imply something specific with your database ... it has an interesting schema...
Is there any chance of a copy of the database causing issues? If it is just the schema, then the data can be removed from the database. @iseldonz This sounds very much like a problem with our SQL parser. As @chrisjlocke said, it'd be best to have a look at your table schema. It's sufficient to just have the schema, no data is required. What you can do is to open the database file in DB4S, click the text in the schema column for a not working table, hit Ctrl+C and paste it here in Github. Should be easy for us to fix it then :smiley:

You can also try the latest nightly build. I've recently fixed some grammar parsing issues in there, so you might be lucky :smiley: Closing this due to lack of response. üò¶   Excellent.  Lets see if tonight's nightly contains all of the bits in the right place now. :smile: Excellent, thanks for checking @lulol.

The .ts files for the other translations are now updated too. :smile:  Interesting.  We've moved to require Qt5 for compiling, as it makes things better for development and pretty much every platform supports it now.

If you reinstall your Homebrew provided qt, in theory (!) that should get updated to Qt5.  Afterwards, compiling our source code should work.

Are you ok to give that a go? :smile: Yeah, these definitely happen because you're trying to compile using Qt4. You either need to stick with version 3.9.1 (or some of the slightly later commits) or need to install Qt5 when you want to compile the latest version from master. Closing this due to lack of response. üò¶   This is a duplicate of #737. The latest nightlies should fix it. No, there is:

> DB Browser for SQLite-sqlcipher_20170109.dmg       09-Jan-2017 04:10 About the `cask` issue, the release's attachment name was renamed to `DB.Browser.for.SQLite-3.9.1v2.dmg`. @justinclift, Any idea how can we update the cask's url? ![screen shot 2017-01-09 at 17 31 38](https://cloud.githubusercontent.com/assets/5748627/21771796/7f3be35c-d691-11e6-91aa-ec357ad2720e.png)
 @justinclift Can you change the ordering of that please? üòÑ  As for the curl error, try running `brew cask update`. @revolter The ordering is coming from Nginx... seems standard alphabetical.

I guess we can look into Nginx options and see if that can be changed. :smile: https://github.com/aperezdc/ngx-fancyindex this looks marvelous! @revolter No worries.  Want an account on the nightlies server, so you can get that done? :smile:  Awesome @lulol!

Are these ok to merge as is, or should we take screenshots of them in action first, or ? :smile: Thanks, @lulol :+1: I think, in order to have those missing strings included in the translation file, you'll need to re-run Qt Linguist on the application. Unfortunately I have no experience with that whatsoever... Ahhh, I can do that and commit the results if it would help. @lulol ? @MKleusberg It can be done from Qt Creator.  Tools ‚Üí External ‚Üí Linguist ‚Üí Update translations (lupdate) @lulol Good thinking. :smile:

Just committed an updated Spanish .ts file (generated from `lupdate`): https://github.com/sqlitebrowser/sqlitebrowser/commit/e4fdb8f05dcd412529bebda2b52cbd727af93fd3

Take a look at it and see if it seems correct to you.  If it is, we can commit an update for the other .ts files as well. :smile: Sure, if you want. :smile: Excellent @lulol, that was very quick!  I needed to get sleep, so missed getting the PR merged right away (now done).  This is a duplicate of #737. The latest nightlies should fix it. Oops, somehow missed this.

@capitancooker Did the nightly builds fix this for you? üòÑ  Excellent. :smile:  Does this happen for any database or just for a specific one? Interesting.  The error message it shows can **generally** be regarded as one of two things:

* Either bad hardware (for example, flaky ram), or
* Something wrong with one of the shared libraries

Let's hope it's a shared library problem. üòÄ 

@zayass Would you be ok to try both of our latest nightly builds, and check if either of those work without crashing?

* https://nightlies.sqlitebrowser.org/osx/DB%20Browser%20for%20SQLite_20170105.dmg ‚Üê Without encryption
* https://nightlies.sqlitebrowser.org/osx/DB%20Browser%20for%20SQLite-sqlcipher_20170105.dmg ‚Üê **WITH** encryption

Personally, I think the one without encryption is most likely to work.  It could be the encryption library in the other one is behaving badly on your system for some (as yet unknown) reason. But the crash happens in our code (see the first line in the call stack):
```
Thread 0 Crashed:: Dispatch queue: com.apple.main-thread
0   net.sourceforge.sqlitebrowser   0x000000010d33c73c DbStructureModel::rowCount(QModelIndex const&) const + 44
1   org.qt-project.QtCore           0x000000010e4f466b QAbstractItemModel::hasIndex(int, int, QModelIndex const&) const + 43
2   net.sourceforge.sqlitebrowser   0x000000010d33c60e DbStructureModel::index(int, int, QModelIndex const&) const + 46
...
```

In that function (DbStructureModel::rowCount) some pointer casting magic happens, so maybe the crash happens because of that. Ahhh.  Completely didn't see that. (!) @zayass, Could you share the database with us if it's not private? I can't reproduce it with a ~1 week old nightly.  Well, that's different. :wink:

Doing some searching online shows various issues with screen corruption in VirtualBox, and also some with AMD cards.

Does either of that apply to you? :smile: Hmmm, also wondering if it's maybe a Qt thing.  Hmmm.... Next thought, does it start out looking like that, or is the corruption triggered by something?  eg it starts out looking ok, but corruption happens when making the window bigger (for example)

Trying to make a mental picture here of what the cause could be. :smile: I don't think it's DB B related issue, seriously. @jlmcgraw Has that link changed?  Just tried it and got a 404. :wink:

I'm kind of thinking it's likely a bug in VirtualBox that's being triggered by some weird edge case.

Random things to try, that might start to show the shape of the problem:

* In the VirtualBox settings, see if changing graphics related things helps.  eg Try different video memory sizes
* Also in VirtualBox, do you have the Guest Addons loaded for the VM?  Not sure if it'll make a difference but try changing this (if possible for MATE 16.10)

On a different tangent, are you ok with compiling things from source code?  It'd be interesting to see if using a version compiled locally in the VM itself has the same problem.  Just in case it's caused by some weird mismatch in (for example) the Qt libraries on your VM vs the system it was compiled on.

I guess it comes down to... how much effort are you willing to spend to investigate? üòÄ  @innermous Yeah, it's more likely a Qt issue related to some weird virtualbox bug.  It doesn't mean we should ignore it though, as it *is* obviously affecting DB4S. @jlmcgraw Definitely try compiling DB4S (our abbreviation for sqlitebrowser) on the VM.  I'm *hoping* :smile: it's a weird interaction between VirtualBox and the Qt libraries of the system it was compiled on.  If that's the case, then using a version built on the VM has a reasonable chance of working. @jlmcgraw It's very late in my TZ, so I'm hitting the sack in the next few minutes.  I'll take a look at this issue again tomorrow and see if you've made any progress.

Btw, the new download link worked fine.  Haven't investigated the data set yet (a tomorrow task). :smile: Use hastebin or alternatives for such long outputs next time, please :) @jlmcgraw Interesting looking data set. :smile:

Just loaded spatial56day.db here with DB4S 3.9.1 (on OSX).  No screen corruption (as expected).

I'll try out Ubuntu MATE in a VM (VMware Fusion though), and see if something shows up with that.

If it doesn't, I'm thinking you'll need to file a bug with the Virtualbox project.  But, let me try it here first. :smile: @jlmcgraw Unexpected surprise here.  The same screen corruption is showing on Ubuntu MATE 16.10 here in VMware Fusion:

![screenshot at 2017-01-05 18-44-12](https://cloud.githubusercontent.com/assets/406299/21693043/5253b710-d377-11e6-8439-9e44f3a174fe.png)

So it's not a VirtualBox thing after all.  My next best guess is that it's a bug in the (older) Qt library being used.  The way to test that would be to download & install the latest Qt release directly from Qt.io, compile DB4S using that, and see if the problem goes away. @deepsidhu1313 You might find this issue interesting too. :smile: It seems like a bug in the older version of Qt (5.6.1).  After compiling it with the latest Qt (5.7.x, from qt.io), the corruption isn't happening:

![screenshot at 2017-01-05 19-52-51](https://cloud.githubusercontent.com/assets/406299/21695222/c7c92b8e-d380-11e6-9553-82d93a4eec1d.png)

Some notes on things I needed to do for compiling with Qt Creator, in case they're useful:

* Remove the existing sqlitebrowser and libqt5printsupport5 package (just to be safe, in case they confuse things)

     $ sudo apt remove sqlitebrowser libqt5printsupport5

* Install the build dependencies

    $ sudo apt install build-essential git libsqlite3-dev mesa-common-dev libgl1-mesa-dev

After that, start Qt Creator, open the sqlitebrowser.pro file.  "Run qmake" (in the Build menu), then run "Build All".  Once that (hopefully) finishes ok, you can launch the build with Ctrl+R (in the Build menu too).

@jlmcgraw Does that help? :smile: Awesome. üòÄ 

Are you ok to take it from here if we close this issue? Well, (to me) it seems like a Qt bug that there's not much we can do about until the Qt library in Ubuntu is updated.  It's probably going to be triggered by all kinds of weird stuff, and isn't really worth the time to investigate more as we're already kind of overloaded with things.

Note - It's not a complete loss, people will be able to find the details in this issue here with some simple searching. :smile: @jlmcgraw With the spatial56day.db database, it seems good for testing our SQLite parser with (an area of things we're working on).

Is it ok with you if we hang onto it and use it for development stuff? Awesome @jlmcgraw, thanks. :smile:

@MKleusberg The archive here has a database in it (/databases/spatial56.db) that seems useful for your parser testing:

&nbsp; &nbsp; https://www.dropbox.com/s/fk1uup3zx7sb8r0/data.tar.xz?dl=0 ...and that hasn't been stored on dbhub.io because..... ;) @chrisjlocke nice catch @chrisjlocke Good point.  I haven't created any real reference data sets on the dev1 server yet mainly because I've been working on the visualisation stuff.

But yeah, it doesn't hurt to upload it there to make things easier. :wink: @chrisjlocke It's on DBHub now:

&nbsp; &nbsp; https://dev1.dbhub.io/justinclift/spatial56day.db :smile:

It's over 200MB in size... that's the first one of largish size I've tried btw.  Kind of surprised it uploaded and downloaded without issues, though it did.  Upload was a bit slow, but that's probably because it's not a beefy server at the moment.

Did a binary compare of the database file downloaded from DBHub, to the original... it's bit perfect.  Yay. :wink: Always good to test 'real data'. ;)
200 MB for a database (uncompressed) is quite minimal really....  Heh Heh Heh, good points. :smile:  Interesting.  Two thoughts spring to mind right away:

* I'm not sure that the VB.net encryption layer you're trying to use is based on SQLCipher.  We use SQLCipher to provide the SQLite encryption, which is *probably* different and not compatible.  Note, I'm not sure about this. :smile:
* For the crashing, it's definitely not supposed to crash when it can't open the file.  Ouch.

Kind of wondering if the vb.net encryped database is somehow "close enough" to a SQLite file to get past the initial "open the database" check, but is then barfing when our SQLCipher layer hits it.  Not sure.  I suspect this is going to take some debugging effort with some dummy encrypted data to trace throught the opening and see what's happening.

Is there any chance you can whip up a small dummy database which also crashes, so we can see if it crashes for us too? Hmmm, when you say "standard password protection built into SQLite", that confuses me. :smile:

Er... SQLite doesn't have any password protection built into it.  (Thus our use of SQLCipher)

Maybe it's a new thing, just recently added? > Hmmm, when you say "standard password protection built into SQLite", that confuses me. 

The wrapper of sqlite for .net (commonly refered to as system.data.sqlite.dll) has encryption, but its a weird legacy implimentation.  Certainly not compatible with sqlCipher.

sqlCipher do do a .net flavour which is (obviously) compatible, but you have to pay $$$ for that.
https://www.zetetic.net/sqlcipher/sqlcipher-ado/ Thanks @chrisjlocke. :smile:

@CarlCDHPIX No worries at all.  I'll close this for now, as I don't think there's much use in leaving it open at the moment.  We're kind of overwhelmed with the number of issues at the moment right now anyway. :wink: Appreciate this is closed, but @CarlCDHPIX , which .NET component were you using? @chrisjlocke Are you still interested in that info? Could be handy to know.  If there is a 'demo' to download, I could then test it. :) Ahhh, that definitely makes sense.

@CarlCDHPIX ? Thanks @CarlCDHPIX, that should help @chrisjlocke locate the right bits. :smile: Interesting - thats the exact same .net component I use for my sqlite databases.  Never used the encryption side of it though.

What I would suggest is therefore in the application a routine which creates a database backup (always useful...) and then (optionally) removes the encryption from this database.  This would allow you to view the contents of the database if needed.  If any modifications were required, you'd need the application/another application to re-encrypt this database so it could be replaced in place with the original again.

Either way, DB4S isn't going to be able to open the encrypted database (unless someone wrote an RSA plugin).  DB4S can't use the .net sqlite component, so can't 'talk' to it to unencrypt the database, and certainly can't use it to talk directly with it... @CarlCDHPIX @chrisjlocke Just stumbled on this: https://github.com/praeclarum/sqlite-net/commit/4858d1fba57f6a4a26157a4daa72a4da1a9f4004

I'm not at all a .NET person, so not 100% sure here... but it sounds like SQLite-net (close to it's next release) supports encrypting with SQLCipher.  Which might mean we can open databases created with it.

Well, hoping that's the case. :smile: I don't think this is the 'official' system.data.sqlite.dll but a separate
project, but if it 'solves an issue', could be worth investigating.
I'll have a play with it.  Not a huge issue (as fields should be unique
anyway) but a major issue with the 'official' release is that while you can
specify table names in sql queries, the fields returned back aren't table
prefixed. I'm waffling, but sometimes its a pain.
I'll have a look at this implimentation though, as I'm looking at images in
SQL databases at the moment, and it appears the only way to do this is via
parameters, which I've not played with lately.  Now im definately waffling. Cool. :smile:  Ahhh, that might be our grammar parser needing work then.

@MKleusberg Your kind of thing? Yes! I'm referencing our help-wanted issue #741 here, just because that's exactly the kind of issue I was thinking about back then :smiley: @ghellquist Feel free to play around with this! :smiley: We highly appreciate any help in coding!

I've started playing around with this a couple of days ago, too, and it looks like this is a bit more difficult. In the grammar file you'll need to add the VIRTUAL and the USING keyword, but also add some branch for parsing the slightly different syntax of those virtual tables. In our grammar code (in src/sqlitetypes.cpp) there's more work to be done, though, to actually interpret and store the new information. I have added basic support for virtual tables to the grammar parser. It's still a long way to go from here because browsing and editing those tables still doesn't work as expected. But at least the ```Sqlite parse error``` is gone. You can check out the latest version in master and test yourself. And there's still a lot of work to do for better support of virtual tables, so I still want to encourage you to look into this :smiley: If you need any help just post here, write me an email, or post on Gitter. I've just added some code that should make it possible to browse virtual tables. Depending on the virtual table function it should also be possible to add and remove rows and edit cell values. The only thing that doesn't really work at all is editing the table schema of virtual tables, but I guess that's fine for now. Are you interested in giving tomorrow's nightly build a test, @ghellquist? I guess if it works for you we can close the issue :smiley: Same for you of course, @bagage! :smiley: You can check out the latest version from master and compile that again. The warning should disappear and the application should work much better with virtual tables in general.  Does this help?  https://github.com/sqlitebrowser/sqlitebrowser/issues/395#issuecomment-269245184 Guessing you've also tried the basic things like looking for different (eg newer or older) ATI graphics drivers? k, I'd be suspecting something is weird with the graphics card drivers themselves, so that'd be the first thing I'd try changing around if you haven't already.

If that's difficult to do, try and just outright remove them using Add/Remove programs.  In theory (!) Windows should then use either a basic non-accelerated driver (but still work).  That should then be stable enough to try installing graphics drivers again.

And use a different version than you loaded last time. k.  It sounds like the 3D component of your graphics card drivers is fine, but something is messed up with some other component of them. Maybe 2d acceleration related or something.  They don't just do 3d. :wink: Out of curiosity, which graphics card are you using? Hmmm, is a specific brand of Radeon?  eg MSI (etc) k.  Some of the graphics card manufacturers release utilities just for their brand of graphics card.  eg for overclocking, doing updates, monitoring temperature, (etc)

Do you have the MSI one of that installed? That's nice, but not what I asked. üòÅ 

I'm asking because people often load the manufacturer add-on utilities (not graphics drivers) without knowing better.  Those utilities are very often a complete pile of steaming dog turd.  eg source of problems.

I'm trying to think of potential things that could be the cause. Well, atiumd64.dll is one of the files provided by the ATI graphics card drivers.  It sounds like it's having weird issues interacting with something.

If you're not able to narrow down the problem more using the utilities pointed out in https://github.com/sqlitebrowser/sqlitebrowser/issues/395#issuecomment-269245184 then you'll probably just need to try different ATI drivers out in the hope one of them works.

Sorry I don't have better/easier answers for you. Cool. :smile: Yeah, I'm not sure if that's good or bad. :wink: Hmmm, you might need to get someone (eg a competent IT shop) to take a look at it.  It's pretty hard to diagnose this stuff over a comment style conversation. :wink: So, all fixed then? Oh well.  Um, good luck with it? :smile: Nice wall of text in notifications btw. Just locked this.  We've put enough time into this, and it's not really related to DB4S at all.  Hmm, there's supposed to be.

Which Linux version are you using, and which version of DB4S? Ouch, something isn't right then. üò¶ 

@deepsidhu1313, any ideas?  You're familiar with the package on Linux, so hoping something obvious springs to mind. :smile: Maybe [this](http://askubuntu.com/questions/762137/applications-menu-missing-from-menu-bar) would help. @JonathanJohann How did you go with this? :smile: Yep, that's definitely not showing the menu bar.

Do any of the menu's show if you try triggering them via the keyboard?  eg Alt+f for the file menu? Cool. :smile:

Just to confirm, you're able to get the CSV import dialog happening now yeah? Closing this now as it **seems** like it's fixed.

If it turns out not to be, you're welcome to reopen this @JonathanJohann. :smile:  We need some sort of database visualization.
My suggestion is to create another tab in main view. Within it one can select tables he wants to observe, and main view in which tables and connections between them are shown. It should be updated dynamically whenever table layouts are changed(table removed, modified).
This is just a concept by now, I'll provide sketches.
Help is really wanted. If anyone is interested in this - let me know, we'll create new project in canban cards and a team for it, create issues and assign people to them. I can provide information you might need to know, and we can estimate our efforts and see when we can make this stuff ready2go.  Sounds good.  Which sort(s) of visualisations are you thinking of?

* ER diagrams?
* Frequency tables?
* etc :smile: ER diagrams, or something close to that.
I'll stick to something like SQL Server diagrams and we'll see. @schdub Ping, any interest? üòÅ  @schdub Awesome! :smile:

Would you be ok to chat with @innermous about it?  He's back from a break and full of energy üòÄ , and this is a task he has a lot of enthusiasm for.  Tips/guidance/collaboration/writing-code (etc) from someone who's already done this kind of thing would probably be super helpful. Personally, I don't like how that looks. @schdub in my local branch.  ![2](https://cloud.githubusercontent.com/assets/8950786/21457487/4ed2d9e8-c938-11e6-86c8-308432fca305.png)
 Cool, I think @MarqueIV mentioned this bug annoying him a few times too.  Good that it's finally fixed. :smile:  I you have a few minutes, would you be ok to try this with any of our recent nightly builds?

We've added a few bits and pieces for better constraint support since the v3.9.1 release, though they're not yet extremely well tested.  Feedback would be useful. :smile:

(download locations for the nightly builds are listed on the front page of this repo, if that helps) What sort of constraint do you need? In the Create Table dialog we have fields for NOT NULL, unique, check, and foreign key. But if any of this isn't working as expected or if there is anything missing that you need just give us a quick example of what you'd like to be able to create :) Foreign key constraint requires more user friendly widget, I think.
Maybe I'll get around that soon. @polaris197 ping? @innermous I fully agree :) Wondering if this was linked to #872, where the primary key can't be set... ?  Wondering if the parser was broken... ?  (just thinking out loud...) Parser is alright.
Martin added some refactoring that caused broken primary keys. Closing this due to lack of response. ‚òπÔ∏è   Ahhh, interesting.  Sounds like something one of the more experienced Windows dev's will need to look at. (eg might be a curly problem)  Hmmm, that sounds familiar... I **think** this might have been done not long ago, as part of #759.

Would you be ok to try a recent nightly build and see if the refresh key (F5, or Ctrl/Cmd+R) works for you? Awesome. :smile:  Sounds interesting.  To me, that kind of sounds like some sort of special support for the EXPLAIN command (which can be run in the Execute SQL tab now).

Are you meaning that, or something different? :smile: SQLite doesn't offer much profiling information. The explain command tells you something about what SQLite is doing when a statement is executed but doesn't include any timings. Then there is the sqlite3_trace_v2 function (https://www.sqlite.org/c3ref/trace_v2.html) which allows profiling but all it does is measuring the total time that each statement took. So we can't really use it because a) it doesn't allow us to distinguish between Application and User SQL like we're currently doing it in the SQL log and b) it doesn't give us much more information than out timer in the Execute SQL tab right now.

But then again, I have to admit I'm a little confused right now. Is that what you need anyway? :) Hmmm, doesn't the SQL Log tab ("Application log") already show that?

If not, then maybe we're filtering something out which might actually be useful? Hmmm, yeah we might be able to do something about that.

@MKleusberg thoughts? Unfortunately that's most likely not possible. The problem is that SQLite is serverless. Each application opens the database on its own and doesn't share the connection. So even though multiple applications can open the same file at the same time it's basically two separate connections that can't really interact with each other (except for some basic locking functionality). But this means one application can't see what the other is doing and vice versa. So DB4S has no chance to log the SQL statements executed by another application :frowning: What you will need to do is add some hook to your application that does this job. The ```sqlite3_trace_v2``` I've linked to above is an easy way to implement this into an existing application. Ahhh, so an ideal solution would be some kind of SQLite proxy.  eg load that and point it at a database, then load DB4S and point it at the proxy

It's not something we can do ourselves (in the short term anyway), though as a separate idea it does sound kind of nifty

Doing some quick Google searching turned up a few hits for "SQLite proxy", but nothing seeming to be the right kind of thing. @denisz1 You might have more luck than me if you look look further, I just did cursory searching.

Hmmm... guessing we might as well close this Issue too, as it seems like something we can't really do much about. Even a 'proxy' would be difficult to do because SQLite only opens database files. So the proxy would just open the database file, but what would the application open? It can't open the same file because then it's no proxy. But it can't open some connection to the proxy either because that's no file. So I'm afraid you'll definitely need to update your application or the SQLite library...  What happens if you leave off the '(' and ')' characters?  eg:

    SELECT * FROM Keywords WHERE Keyword LIKE 'h%'
    SELECT * FROM Keywords WHERE Keyword LIKE '_ello'
 I'm unsure about the '[]' characters, but simple '_' and '%' are supposed to work.

Looking quickly on the SQLite site, I'm not seeing the reference documentation for wildcards though, thus my uncertainty about '[]'. Note - Weirdly, searching the SQLite website for the terms "wildcard" and/or "wildcards" turns up no useful information.  Oops.  Hole in the documentation maybe? üò¶  Yeah, I just tried it out now using this query (and several others), which worked:

    SELECT * FROM download_counts WHERE release LIKE '3._';

The database I ran it against is here, if that helps:

&nbsp; &nbsp; https://dev1.dbhub.io/justinclift/DB4S%20download%20stats.sqlite
&nbsp; &nbsp; (download button is on the right hand side, should be green) Just tried those here too, and yeah, it's treating the '[' and ']' as literal characters.  You'll probably need to leave them out.

Out of curiosity, which SQL variant are you used to which includes them? :smile: Looked into this a bit more.  It turns out [we include a regexp() operator with DB4S](https://github.com/sqlitebrowser/sqlitebrowser/commit/6d1a874f8077b859bee2dd9d4031f242cfa1e807) (I'd forgotten), which should do similar to what you're after. https://github.com/sqlitebrowser/sqlitebrowser/issues/215#issuecomment-77548926

&nbsp; &nbsp; https://sqlite.org/lang_expr.html#regexp

Working examples:

    SELECT * FROM download_counts WHERE release REGEXP '^[3].[1-2]$'
    SELECT * FROM download_counts WHERE release REGEXP '[3]\.[2]$'
    SELECT * FROM download_counts WHERE release REGEXP '[3]\.[2]'

It doesn't execute fast, taking ~1.5+ seconds on my desktop compared to subsecond for non-regexp(), but it works.

Does that help? :smile:
 Oh well, it was a thought. :smile: But you should still be able to open the same file using DB4S and its SQLite library, I guess. Or am I missing something there? This way you can develop using litedac (having no regexp) and check your data using DB4S and its regexp function.

Other than that I don't see any way of supporting ```[ ]``` wildcards either. We are completely dependent on what SQLite offers us, and for the LIKE operator that's just the ```%``` and ```_``` wildcards but no ```[ ]```. Closing this, as it doesn't seem like we can do much/anything to add support for [] characters.

@instrumentally You're welcome to reopen this if it turns out I closed it prematurely. üòÄ   Yeah, this is a known issue on Sierra.  There is a temporary workaround for now: https://github.com/sqlitebrowser/sqlitebrowser/issues/737#issuecomment-262403564 Quick update, this was actually a Qt bug and was fixed be a recent release. The latest nightlies should work ok.  From memory, this was fixed not long after the 3.9.1 release.

So... if you grab one of the nightly builds from (say) a week after that it should work.  In theory. üòÅ 

Download locations are listed on the front page of our repo, if that helps. :wink: You're welcome. :smile: Duplicate of #748.  Interesting thought.  Yeah, can't see why it wouldn't be a nice thing to have. :smile: I think this depends on the font you use. At least it works for me:
![screenshot_20161219_192721](https://cloud.githubusercontent.com/assets/3153504/21324277/59c4cbaa-c621-11e6-925a-b0c0788f9016.png)

Can you check which font you have selected in View -> Preferences, Data Browser -> Font?
  Thanks @mgrandi, good catch. :smile: I noticed this too a couple of weeks ago but looks like I forgot to open an issue. I thought I fixed it too :-?. It looks like the link is in the translation files, so it isn't hard to fix. I've just pushed a commit which fixes this issue :) Iulian is right by the way: the link is also included in the translation files as well (even though it originally comes from the form file), which I didn't see at first. So there's a second commit now which updates all the translation files to hopefully include the fixed link, too.

@mgrandi Can you test tomorrow's nightly build (or any later one) to check if the bug is fixed in there? :)  And I didn't know it's in the `.ui` file too. Then, why is it in the translations files? If it's the same. Shouldn't we remove it from those altogether? Thanks for reporting back, @mgrandi ! :smiley:
I'm going to close this issue then. If anybody is bothered too much by the way the disabled links look, I think this should be a separate issue and unfortunately a little more thinking :smiley:   Hard to say what's causing the problem here :frowning: As a start:
1) Have you tried compiling using qmake instead of cmake? This should work using the ```qmake && make``` commands.
2) Do you have the antlr library installed using the CentOS package manager? As far as I can tell from http://centos-packages.com/7/package/antlr-C++/ this would mean that you have a package called ```antlr-C++``` installed.  Oops, yep.  We do seem to have missed that one.

Just tested it here, and none of the other font settings affect it either.

So, we'll need to add some way to change that. :smile: In theory the font and the font size in the edit cell window should be the same as in the data browser table view. What irritates me is that it doesn't really look like this is the case in your last screenshot.

One bug I see here is that changing the font or font size (the one in your first screenshot) was not applied automatically to the edit cell window. You'd have to restart the application in order to see the effect. This is changed, however, by the latest commit :) Can you do me favour and grab tomorrow's nightly build (or any later build), increase the font size by one or two using that version and check if it improves your experience in any way? :smiley:   Interesting.  Yeah, I tried to compile our Windows binaries with XP support (using Visual Studio 2013, as per the instructions [here](https://github.com/sqlitebrowser/sqlitebrowser/wiki/Setting-up-a-Win64-development-environment-for-DB4S)), but in testing (quickly) it didn't load when launched.

So, seeing as XP has practically no users... I decided to not care. :smile:

If there's an easy way to change things such that it works, I'm not personally against doing so. Meh, it just seemed like too much effort. :smile:

I'm kind of surprised that XP can even download DB4S... apparently it's not able to connect to the GitHub HTTPS servers without installing other things first. (eg not impossible, but didn't sound likely) When compiling for XP, I did choose the XP compatible setting... I **think** it was "v120_xp" instead.  But, obviously didn't put enough time/effort into it.

You're welcome to make a mirror using an XP-friendly version if you want.  The project is Open Source after all. :smile: From memory, the 3.8.0 and earlier all should:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/releases/tag/v3.8.0 @lulol Cool, that's good info. :smile: @lulol Ahhh, that date range triggers a relevant memory.  When we used to support building with Qt4, our Windows nightly build process was done on a Linux box, cross compiling to Windows.

When we change to Qt5-only, we set up a new build system for the Windows nightlies.  That was around October.  So it looks like the previous build process used to work for XP, whereas the new build process doesn't. @karim Yep, it's completely possible.

As a thought, since you seem to know a lot about this stuff... this is the batch file that runs automatically each night to create the windows builds:

&nbsp; &nbsp; https://gist.github.com/justinclift/11cc926f214e882c8162f97c53929c07

It's using CMake to generate the MSVC project files, then builds them with `devenv`.  Any idea if that /SUBSYSTEM switch would work for `devenv`?  It kind of looks like it might (though I haven't tried it) If details are given on one of the wiki pages how to 'fiddle' with a program to make it XP compatible, then its up to the user whether they can use those instructions or not.  They're already 'dicing with death' using an old OS, so having a 'multitude of issues' will be the icing on the cake.  I don't think its up to us to do that though... (and maintain software for non-maintained OS's) Been thinking about this.  It seems it'll be fairly simple (in the short to medium term) to keep DB4S working with XP.  So, we might as well keep making XP compatible releases.

After all, we do support OS/2 still. üòÄ 

When the underlying things we rely on (eg Qt, SQLCipher) stop working for XP, that'll probably be a reasonable point at which we can stop supporting XP.

One caveat - if it turns out we need to do tricky development stuff just to keep XP support working, that's also a case we might need to just drop it. Ahhh, it might be a moot issue then.  There's some stuff in Qt 5.8 which I'm hoping fixes an OSX network communication issue (not sure yet though).  If it doesn't, then no worries we can stick with Qt 5.6. :wink: @urmommaz - DB4S is open Source, so if its such an easy task to support XP, you're more than welcome to code away and give us pull requests.  We can then merge those into the product.
We'll wait. üëç  @urmommaz You do realise this project is a volunteer based GUI for SQLite, not SQLite itself yeah? :wink: @urmommaz then why don't you just use them instead?  Due to idiotic further responses from @urmommaz, this Issue has been locked. @h1618 Do you have the time and motivation to create an XP compatible build of our 3.9.1 release?

Some people are looking for a Win XP compatible build, so having something verified as working (I don't have XP) would be good for them. eg #986 :smile:

If you can make it, we can put it on our "[nightlies](https://nightlies.sqlitebrowser.org)" server() and point people at it when they ask. :smile: Closing this issue as we updated our 3.9.1 release with Windows XP support a few weeks ago (14th May). :smile:  Interesting.  Yeah, that makes sense.

I wonder how everyone else is importing into Excel then, as no-one seems to have mentioned this before. (from memory anyway :smile:) No worries at all.  It shouldn't be too hard for us to implement this. :smile: I'm not entirely sure I understand you correctly :)

Currently we would be exporting something like this:
```
aaa;bbb;ccc;ddd
eee;fff;ggg;hhh
iii;jjj;kkk;lll
```
And from what I understand you'd expect it to be like this:
```
aaa;bbb;ccc;ddd;
eee;fff;ggg;hhh;
iii;jjj;kkk;lll;
```
Correct?

But that would be a different table from a CSV perspective. It would add an empty column to the right side of the table. Excel should definitely be able to import it without the trailing separator. Maybe it is an issue with line endings? Newer versions of DB4S support setting the line separator and for Excel it needs to be CR+LF. These settings *should* work for Excel with default settings:
![screenshot_20161228_140821](https://cloud.githubusercontent.com/assets/3153504/21522586/2743c3d8-cd07-11e6-8011-a7724d81753b.png)
 @steda112 Ping... :smile: Closing this due to lack of response. üò¶  You're welcome. :smile:  Thanks for reporting it.  Yeah, we should at least detect that the changes aren't written, and warn the user when it happens.  Cool. :smile:

Looks good here from a quick visual once-over.  It seems like the Travis CI infrastructure is having problems though, so it's a bit hard to do an initial verification on.

I'll merge this later on today, after I've manually compiled it locally just to make sure it's ok compile-wise as least on my system. :smile: Thanks @shanecb, it's compiling fine on my local OSX system, shows up in the menu correctly, and seems good here. :smile:  Oops, forgot to respond to this.  It's a valid concern, but I'm thinking the bug isn't really with us directly.

We create the installer (auto-generated) using CMake + NSIS.  This bug **sounds** like a problem with how with CMake is generating things, or perhaps even how the NSIS backend to CMake is doing stuff.

Any interest in reporting this to the CMake project people, so they can discuss/investigate it?

&nbsp; &nbsp; https://cmake.org/mailman/listinfo/cmake

Asking because if/when it's fixed by whichever of those two is the causing bit, then it'll automatically be fixed for us when we update. :smile: Closing this due to lack of response. üò¶   Hi All,

A release was made on the 4th of November for 3.15.1:
https://www.sqlite.org/releaselog/3_15_1.html

Can the nightly updates include 3.15.1 now?

Thanks!

 3.15.2 was just released:
https://www.sqlite.org/releaselog/3_15_2.html > Hence I would suggest waiting at least a month before using 3.15.2. Just my personal view though.

Good point! I'll close this now and see what happens at the top of the year.  ### Details for the issue

<!--

Thanks for coming here to report an issue. :)

Please describe it in this section, fill out the correct check boxes
below with an "x", then click the "Submit new issue" button at the bottom

-->

As pointed out in #770, [deferred foreign keys](https://www.sqlite.org/foreignkeys.html#fk_deferred) are not working. Having this database:

```
CREATE TABLE one ( pk INTEGER PRIMARY KEY AUTOINCREMENT, name TEXT );
INSERT INTO "one" VALUES(1,'test');
CREATE TABLE two( pk INTEGER PRIMARY KEY AUTOINCREMENT, fk INTEGER NOT NULL, FOREIGN KEY( fk ) REFERENCES one(pk) DEFERRABLE INITIALLY DEFERRED );
```

and entering a row in table `two` that violates the FK, it now throws an error instead of handling it correctly.

If this is not actually possible, please mark it as won't fix and close this.

cc @justinclift, @MKleusberg

### Useful extra information

<!-- The info below often helps, please fill it out if you're able to. :) -->

#### I'm opening this issue because:

- [ ] DB4S is crashing
- [x] DB4S has a bug
- [ ] DB4S needs a feature
- [ ] DB4S has another problem

#### I'm using DB4S on:

- [ ] Windows: ( _version:_ ___ )
- [ ] Linux: ( _distro:_ ___ )
- [ ] Mac OS: ( _version:_ ___ )
- [ ] Other: ___

#### I'm using DB4S version:

- [x] 3.9.1
- [ ] 3.9.0
- [ ] Other: ___

#### I have also:

- [ ] Tried out the nightly version: https://github.com/sqlitebrowser/sqlitebrowser#windows
- [ ] Searched for an existing similar issue: https://github.com/sqlitebrowser/sqlitebrowser/issues?utf8=%E2%9C%93&q=is%3Aissue%20
 Have you tried it with the latest version from master, too? I have changed something in there to handle deferred foreign keys at least a little better. With the latest version I can enter anything in table ```two```, even when it violates the foreign key. No error messages or anything are shown. Only when clicking the Write Changes button, an error message is thrown at you:
![screenshot_20161228_141208](https://cloud.githubusercontent.com/assets/3153504/21522653/de545132-cd07-11e6-88bf-c1f66aa9f9ee.png)
 @revolter Do you have time to try this out on latest master build?  Interesting.  When you say the database is encrypted using "leCast128", that sounds like it's wasn't done using SQLCipher.

We only support SQLCipher encryption at present.  Adding support for other things can be done, but it would need someone with the time & interest in it to update the code & make a Pull Request with the changes. No worries at all, good luck with it. :smile: Looking in your list, you have eaAES256. If you could unencrypt your database and encrypt using this method, it might be compatible with SQL cipher. 256bit AES is quite secure and fast, so is worth using.
I think you've found the right db tool.... its just the right encryption you've got to find now.... ;)  Interesting.  We're using Qt, so I don't *think* we have any X11 specific code.

Do other Qt apps work for you under Wayland? Ahhh, that's making more sense to me now then.

This sounds like a problem with the Fedora (25) Wayland package, or perhaps the Fedora 25 Qt package (not being build correctly for Wayland).

Are you ok to open a bug about this on https://bugzilla.redhat.com? Awesome. :smile:  @SafaAlfulaij Any ideas? :smile: üò¶  It's even documented [here](http://www.scintilla.org/ScintillaDoc.html):
```
Scintilla does not properly support right-to-left languages like Arabic and Hebrew. While text in these languages may appear correct, it is not possible to interact with this text as is normal with other editing components.
```
So it's probably not going to change any time soon :frowning_face:  Bug report: https://sourceforge.net/p/scintilla/bugs/1590/
It's so ridiculous that they are not even interested in fixing this :frowning:  The QScintilla approach to "Community" is pretty terrible too.  I've I'd known then what I know now, my recommendation would have been we find an alternative.

But that's hindsight in action.  It's still better than what we had. :wink:

Maybe we should add a longer term goal of finding a replacement?  Hmmm... looking at the screenshot, I can't tell what's wrong.

Give us a hint? :smile:  Interesting.  In theory, the installer for 3.9.1 is supposed to remove the previous version.  Sounds like that didn't happen.

Aside from that, the ".sqlite" file association isn't something the installer changes (yet).  It's a known issue for Windows, and ideally we'll have that fixed with the next release.

For now you'll need to change it manually (sorry).  Hopefully the info here helps: https://github.com/sqlitebrowser/sqlitebrowser/issues/279#issuecomment-242426297 @chrisjlocke Also made a screencast showing the process, if that's useful too. :smile:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/wiki/Windows-File-Associations Ahhh yeah, that's definitely a left over 3.9.0 folder. üò¶ 

Are there files inside the "3.9.0" folder, or is that folder empty? Ouch.  That 3.9.0 uninstaller **really** didn't work then. üò¶ 

If you manually run the `Uninstall.exe` in the "3.9.0" folder, does that remove the older version? Ahhh cool. :smile:

Err... any interest in updating that wiki entry with the correct registry info for Win10?

(I don't have Win10 personally, so it's not something I can easily do) @XplittR Thanks for updating the wiki page, that kind of thing really does help. :smile: @XplittR We're ok to close this issue aren't we? Closing this, as there's nothing to really do at the moment. :smile:  > SQLite does not have a separate Boolean storage class. Instead, Boolean values are stored as integers 0 (false) and 1 (true). There is no boolean data type. ... "But as soon as INTEGER values are read off of disk and into memory for processing, they are converted to the most general datatype (8-byte signed integer)."24 Mar 2010

Also, in at least 3.9.1, if I add a field and make the type "widgetFluffyBum', then it accepts that.  In fact, it even accepts Boolean.  I think the issue is that people aren't pressing Enter to save the adjustment.  Here is a screencast:
http://screencast-o-matic.com/watch/cDXTlYQiO3

So I have a field called 's' which I change to 'fluffy'.  If I click OK, it doesn't accept it.  You'd think it would be like Notepad where it would say, "Do you want to save changes to .... ?" rather than just losing the amendments, but hey... maybe the next version .... :wink:
But the second half of the video shows pressing Enter saves the amendment, and all is good.
  Heya, this has been reported a few times already (though not yet fixed).

Probably best to keep an eye on #737 for now. :smile:  From memory, this is fixed in the nightly builds.  Any interest in giving one of those a shot? :smile: The latest nightly works for me.  :)

> Hard to believe that the author added the right click menu items then didn't test them.:-)

More like it did work but then got broken...  this is applicable...
http://i.imgur.com/aiSRk1s.gif @JayWLord, It's not that it was not tested, it's seems to be caused by #748. Closing this due to lack of response. üò¶   ### Details for the issue

Following these steps:

- select table
- click "Modify Table"
- click "Add field"
- enter row name
- click "Move field up"

I am presented with a warning popup alert with the message:

> renameColumn: cannot find column firebase_token.

This didn't happen in 3.9.0 (tested) though I don't have time now to test in the yesterday's nightly.

Wow, it looks like it's completely broken. After clicking "OK", if I go to "Modify table" again, the last row is named "Field18", being the default name. And if I only change (not move it) and hit "OK", it does nothing.

### Useful extra information

<!-- The info below often helps, please fill it out if you're able to. :) -->

#### I'm opening this issue because:

- [ ] DB4S is crashing
- [x] DB4S has a bug
- [ ] DB4S needs a feature
- [ ] DB4S has another problem

#### I'm using DB4S on:

- [ ] Windows: ( _version:_ ___ )
- [ ] Linux: ( _distro:_ ___ )
- [x] Mac OS: ( _version:_ 10.11.6 (15G1108) )
- [ ] Other: ___

#### I'm using DB4S version:

- [ ] 3.9.1
- [ ] 3.9.0
- [x] Other: Nightly 15.11.2016

#### I have also:

- [ ] Tried out the nightly version: https://github.com/sqlitebrowser/sqlitebrowser#windows
- [x] Searched for an existing similar issue: https://github.com/sqlitebrowser/sqlitebrowser/issues?utf8=%E2%9C%93&q=is%3Aissue%20
 Tested this in the latest nightly (on Windows) and after creating a new table and then clicking 'Write Changes' threw up an error.
![image](https://cloud.githubusercontent.com/assets/7872218/20658133/9f7a8bda-b532-11e6-8d6e-b547d4077bb0.png)

Creating a table, then moving a row threw up a similar error.
![image](https://cloud.githubusercontent.com/assets/7872218/20658152/b64318c8-b532-11e6-946b-9d564c3b9168.png)

Seems similar to #390 and #836. Interesting.  I saw similar a week or so ago.  Something seems to have gone wrong somewhere which needs tracking down. üëº  Maybe a `git bisect` between `HEAD` and `3.9.0` would help figure it out. @revolter @MKleusberg 
I found that commit: e76e5b3. If i just remove [this check](https://github.com/sqlitebrowser/sqlitebrowser/blob/4ac931835d8116eec13efc933f9d7f9ee122678a/src/sqlitedb.cpp#L291-L292), moving fields up/down works as expected. This check returns `false`, the function returns `false` to another functions, which in turn return `false` again with similar checks, and in majority of them there is no `emit dbChanged(getDirty())` signal, which should trigger update of [`objMap` data structure](https://github.com/sqlitebrowser/sqlitebrowser/blob/4ac931835d8116eec13efc933f9d7f9ee122678a/src/sqlitedb.h#L19). I still have not figured out which checks should be corrected. @prutz1311 Cool, it sounds like you're investigating this properly. :smile:

Do you want to assign it to yourself? It seems that we are not handling savepoints properly. For example, not every order of setting/releasing savepoints is possible:

```
sqlite> SAVEPOINT RESTOREPOINT;
sqlite> SAVEPOINT sqlitebrowser_rename_column;
sqlite> RELEASE RESTOREPOINT;
sqlite> SAVEPOINT RESTOREPOINT;
sqlite> RELEASE RESTOREPOINT;
sqlite> RELEASE sqlitebrowser_rename_column;
Error: no such savepoint: sqlitebrowser_rename_column
sqlite> 
```

That is, if you release a savepoint `X`, the savepoints between setting and releasing `X` get released, and you cannot access them anymore.

I added a log statement in [bool DBBrowserDB::executeSQL](https://github.com/sqlitebrowser/sqlitebrowser/blob/4ac931835d8116eec13efc933f9d7f9ee122678a/src/sqlitedb.cpp#L603) method and here is what I got when I opened a database, created a new column, tried to move it and closed the database:

```
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "PRAGMA foreign_keys = \"1\";"
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "SAVEPOINT `edittable_wordcount_save_1480896969992`;"
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "ALTER TABLE `wordcount` ADD COLUMN \t`Field3`\tINTEGER"
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "SAVEPOINT RESTOREPOINT;"
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:992) - setting savepoint 'sqlitebrowser_rename_column'
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "SAVEPOINT sqlitebrowser_rename_column;"
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "CREATE TABLE `sqlitebrowser_rename_column_new_table` (\n\t`word`\tTEXT,\n\t`cnt`\tINTEGER,\n\t`new_field`\tINTEGER\n);"
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "INSERT INTO sqlitebrowser_rename_column_new_table SELECT `word`,`cnt`,`Field3` FROM `wordcount`;"
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "RELEASE RESTOREPOINT;"
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "PRAGMA defer_foreign_keys = \"1\";"
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "DROP TABLE `wordcount`;"
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "ALTER TABLE `sqlitebrowser_rename_column_new_table` RENAME TO `wordcount`"
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "RELEASE RESTOREPOINT;"
[warning] DB Browser for SQLite (../../src/sqlitedb.cpp:629) - executeSQL:  "RELEASE RESTOREPOINT;" -> no such savepoint: RESTOREPOINT
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "PRAGMA defer_foreign_keys = \"0\";"
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "SAVEPOINT RESTOREPOINT;"
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:1104) - releasing savepoint 'sqlitebrowser_rename_column'
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "RELEASE sqlitebrowser_rename_column;"
[warning] DB Browser for SQLite (../../src/sqlitedb.cpp:629) - executeSQL:  "RELEASE sqlitebrowser_rename_column;" -> no such savepoint: sqlitebrowser_rename_column
[warning] DB Browser for SQLite (../../src/sqlitedb.cpp:1108) - "–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ–°—Ç–æ–ª–±—Ü–∞: –æ—à–∏–±–æ–∫–∞ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Ç–æ—á–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è. –ë–î –≥–æ–≤–æ—Ä–∏—Ç: no such savepoint: sqlitebrowser_rename_column (RELEASE sqlitebrowser_rename_column;)"
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:992) - setting savepoint 'sqlitebrowser_rename_column'
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "SAVEPOINT sqlitebrowser_rename_column;"
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "CREATE TABLE `sqlitebrowser_rename_column_new_table` (\n\t`word`\tTEXT,\n\t`new_field`\tINTEGER,\n\t`cnt`\tINTEGER\n);"
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "INSERT INTO sqlitebrowser_rename_column_new_table SELECT `word`,`new_field`,`cnt` FROM `wordcount`;"
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "RELEASE RESTOREPOINT;"
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "PRAGMA defer_foreign_keys = \"1\";"
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "DROP TABLE `wordcount`;"
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "ALTER TABLE `sqlitebrowser_rename_column_new_table` RENAME TO `wordcount`"
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "RELEASE RESTOREPOINT;"
[warning] DB Browser for SQLite (../../src/sqlitedb.cpp:629) - executeSQL:  "RELEASE RESTOREPOINT;" -> no such savepoint: RESTOREPOINT
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "PRAGMA defer_foreign_keys = \"0\";"
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "SAVEPOINT RESTOREPOINT;"
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:1104) - releasing savepoint 'sqlitebrowser_rename_column'
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "RELEASE sqlitebrowser_rename_column;"
[warning] DB Browser for SQLite (../../src/sqlitedb.cpp:629) - executeSQL:  "RELEASE sqlitebrowser_rename_column;" -> no such savepoint: sqlitebrowser_rename_column
[warning] DB Browser for SQLite (../../src/sqlitedb.cpp:1108) - "–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ–°—Ç–æ–ª–±—Ü–∞: –æ—à–∏–±–æ–∫–∞ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Ç–æ—á–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è. –ë–î –≥–æ–≤–æ—Ä–∏—Ç: no such savepoint: sqlitebrowser_rename_column (RELEASE sqlitebrowser_rename_column;)"
[warning] DB Browser for SQLite (unknown:0) - QXcbConnection: XCB error: 3 (BadWindow), sequence: 1280, resource id: 15531982, major code: 40 (TranslateCoords), minor code: 0
[warning] DB Browser for SQLite (unknown:0) - QXcbConnection: XCB error: 3 (BadWindow), sequence: 1339, resource id: 15530383, major code: 40 (TranslateCoords), minor code: 0
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "ROLLBACK TO SAVEPOINT `edittable_wordcount_save_1480896969992`;"
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "RELEASE `edittable_wordcount_save_1480896969992`;"
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "ROLLBACK TO SAVEPOINT RESTOREPOINT;"
[warning] DB Browser for SQLite (../../src/sqlitedb.cpp:629) - executeSQL:  "ROLLBACK TO SAVEPOINT RESTOREPOINT;" -> no such savepoint: RESTOREPOINT
[debug] DB Browser for SQLite (../../src/sqlitedb.cpp:613) - "RELEASE RESTOREPOINT;"
[warning] DB Browser for SQLite (../../src/sqlitedb.cpp:629) - executeSQL:  "RELEASE RESTOREPOINT;" -> no such savepoint: RESTOREPOINT
```

So the handling of savepoint needs to be improved. Some questions arise:
1. Should we return false if there is no savepoint to release? (Doing this causes many thigs to break down)
2. Should we release all savepoints in between or do something else? (Seems like we should)
 Hmmm, at first thought yeah... 2. seems like the better idea.

Want to try it out and see if turns out to be ok? @justinclift and @revolter Have you tried Oleg's changes? They seem to work for me :smiley:  Yep, just tested it here on OSX too.  Working well.

Thanks heaps @prutz1311. üòÄ   Its the default values which has thrown it out.  I created the SQL, but when I went to modify the table, DB4S thought it was empty.  Remove the 'default' option, and it works OK.
Referencing #741 as its an issue with the parser... Can you give steps you're doing so I can try to replicate this... Thanks for reporting this, @FreudGit! You've stumbled upon a nice corner case there. This happens when using an unquoted default value that's a keyword at the same time. In your case that's the ```DEFAULT NO``` part of the ```EMERGENCY``` column. I think this should be fixed by the latest commit. Can you try tomorrow's nightly build to check if it's working for you as well? :smiley:  Did you have a chance to test this yet, @FreudGit? :smiley: @FreudGit Would you be ok to try out latest nightly build, and let us know if it's fixed for you?  In theory, it should have been fixed a while back. :smile: Oops, sorry I should have mentioned it.  The latest nightly builds are here:

&nbsp; &nbsp; https://nightlies.sqlitebrowser.org/latest/  This isn't a bug per se ... It's by design. There are no in-built record editing features, but you can edit records using more SQL statements... Or using the 'browse data' tab... @Sojourneyman As Chris mentioned, yeah the output results from a SQL command aren't really editable.  If you're wanting to select specific rows to then edit (in a simple way), try out the filters in the Browse Data tab.  That lets you pick a subset of a table, and then edit specific rows.  Sorry for the delay, somehow I'd just not noticed this issue.

With the CoreData error you mention, what's the situation where it happens?  (just trying to understand the perspective you're coming from better) :smile: Hmm, that's not difficult to add but I wonder why it would be needed. In the Execute SQL tab you can type in whatever SQL statement you'd like. So I assume you don't mean that part of the program. And in the Create Table window, why would you want the ```IF NOT EXISTS``` bit? The statement wouldn't fail anymore but nothing would happen and you wouldn't even get an error message. I just imagine working on a table definition and, by accident, typing in the wrong table name, clicking OK, and all the work is lost :wink: Or maybe I'm missing something :smiley: Can you explain a little more, @Qlogic? Well, if cut-n-pasting the output of some sqldump type of backup commands, they often generate `CREATE TABLE IF NOT EXISTS` style output.  So this would be useful for handling that without needing people to manually edit the SQL.

While some of our user base would have no problem doing this editing, others would.  So if it's easy + accurate to implement we might as well. üòÑ  No worries Larry.  Closing this issue then, but you're welcome to re-open it if it turns out to be needed after all. üòÑ  Yep, no problem at all, Larry :smiley:   What's line 1 in the file, or could you email it to me?
 Just to confirm, did you import this using the 'File | Import | Table from SQL File' ?
If so, did you then get a screen showing a sample of your data?  eg:

![image](https://cloud.githubusercontent.com/assets/7872218/20458091/9b568d52-ae92-11e6-8bb4-5da743b65cf0.png)

'File | Import | Database from SQL file' wouldn't work, as I assume would give the above error...
You need to create your blank database first, and create the fields the data is going to be imported into.
The export from Access is just the data, and not the schema on how to build a database table.
 \o/

No problem.  Guess its not that intuitive if you're used to other systems.  Something else to add to the wiki... ;)  Glad you got it in the end.  :)
  Yes, this is a known issue (see #849)
From memory this was fixed shortly after the 3.9.1 release.
Would you be ok to try out one of the nightly builds?

https://nightlies.sqlitebrowser.org
 The last nightly works correctly for me.
  Weird.  Works fine for me on 3.9.1 (so not from HEAD...)
http://screencast-o-matic.com/watch/cDXF6TQnDT

Can you try 3.9.1 and the latest nightly?  IN fact, I'll try the nightly...
 Confirmed.  The nightly does not work.  It be broken.  Try 3.9.1, or a slightly older nightly...
 Installed every nightly (up to Oct 17) but each one exhibits that behaviour.  The only version that was working was 3.9.1, so unsure when it stopped working.  At some point from 3 Oct to 17 Oct.  I don't have any nightlies from 3 Oct to 17 Oct.
Bizarre it hasn't been picked up before now!
 Wrong. Works only in early september builds.
 OK.  So are the nightlies a separate build from the 3.9.1 release, because, as I said, it works (as per my screencast ... unless thats wrong too?) in 3.9,1, and thats dated 3 Oct.  Unless its working for me for some other reason...?
 It stops working after 5c17115 commit.
 Ahhh, somehow I didn't notice these comments.

Some data points, which might help clarify:

* The nightlies build from master
* When 3.9.0 was getting made (~August), I created a new branch from master-at-the-time called "v3.9.x".  3.9.0 came from that branch, and so did 3.9.1.  3.9.1 is pretty much 3.9.0 + a bunch of minor-ish commits added that seemed to fix bugs aren't weren't very likely to add new problems.

So, 3.9.1 is kind of a stabilised build forked from nightlies code in August.

Does that help put things into a sensible time line? I already said I know what's wrong and need @MKleusberg help...  @prutz1311 This should be fixed with the latest commit from master. Can you grab that code and rebuild to check if it's working for you? :smiley: Yes, with a40fe0b it works as expected:

![image](https://cloud.githubusercontent.com/assets/6525383/21654555/03fefa6c-d2c7-11e6-9c2b-8845a98e8b4f.png)

Can we close the issue now? Wow, that was a prompt reply from your side :smiley: Thanks for testing this!

Yep, I'm going to close this issue for now. If any further problems with this or anything else should occur feel free to open a new issue.  Hmmm, I'm kind of thinking the Ctrl-S behaviour might be getting caught by the overall "Save database" (Write Changes) thing.

But, I'm on a break at the moment (back next week), so won't be looking at this properly until then.
 Ctrl+{something} is normally linked to a menu option, so is therefore application-wide.  Alt+{something} is normally linked to a visible button/option, so is screen/dialog-wide.  Mind you, we recently did something similar for Ctrl+R (#759) so could be replicated here.  While on the 'Browse Data' tab, Ctrl+S saves changes, but on the 'Execute SQL' tab, it saves the file...
 And <kbd>alt</kbd> + <kbd>s</kbd> in `Browse Data` could open up the export table dialog üòâ 
 As a thought, it seems like it'd be pretty strange to have Ctrl+s do things differently on the Execute SQL window.  It's not unusual to run SQL which changes the database (eg update statements), so wanting to "Write changes to disk" (Ctrl+s) after that is fairly normal.

As @revolter points out, it's definitely possible to add further key combinations to open up the various save dialogs though.
  Awesome. :smile:

Both @MKleusberg and I are taking a short break to recharge (back next week), so we'll get to this then.

Are you ok to figure out the Travis CI failure problem until then?
 This is travis CI that breaks stuff during pre-build scenario.
 Thank you @prutz1311, this should really help. :smile:

@chrisjlocke Any interest in testing out the record deletion speed with tomorrow's nightly build? ![image](https://cloud.githubusercontent.com/assets/7872218/20630119/0e706270-b327-11e6-9daa-a0d3eed79ca3.png)

Surely can.  @revolter This sounds like it would be of interest to you, if you have the time? :smile:
 I remember fixing this (again) after 3.9.1. @chateb, Could you please try out the nightly version?
 Indeed, the apostrophe "fixes" this, though I have no idea why üòÜ  I tested it myself on the latest nightly on macOS and the failing query works.
 Awesome @chateb, thanks for letting us know. üòÑ   That makes sense. :smile:
 The max number of lines is now set to 30. This should improve the usability quite a bit, I hope :) Can you test one of the next nightly builds to check if it's working for you, @UweKeim? :smiley: @MKleusberg Should we make it configurable? Nah, it's probably not worth it. I don't think many people would edit that option anyway if we had one. If somebody does complain we can still add it easily :smiley:  No worries at all. :smile: I downloaded the 04/01/2017 nightly and for me, the dropdown goes fullscreen, even bigger than the window (which I like). Does that 30 limit have effect only on Windows? @revolter No, that should work on all platforms. I've tested this on Linux and it worked, too. :smiley:

@UweKeim Thanks for the quick reply! I'm glad I could help :smiley: Closing this issue then. @MKleusberg, So, then, isn't it a bug that it's showing more than 30 tables for me? @revolter Sorry, you're right! That value applies for Windows and some Linux configurations but not for OS X. On OS X it seems to be impossible to manually set the number of max visible items in an easy way. See [here](https://doc.qt.io/qt-5/qcombobox.html#maxVisibleItems-prop):
```
maxVisibleItems : int

This property holds the maximum allowed size on screen of the combo box, measured in items.

By default, this property has a value of 10.

Note: This property is ignored for non-editable comboboxes in styles that returns true for QStyle::SH_ComboBox_Popup such as the Mac style or the Gtk+ Style.
``` Good to know. There's no problem for me. As I said, I like that it's showing full height üòÑ   Ahh interesting.  Yep, it makes sense we should handle this better. :smile:
 Can you try tomorrow's nightly build, @AndreasMartin72? I've just changed the error handling code a bit but I'm not entirely sure it affects your problem. Still, it's worth a try :smiley: @abbasshah17 Hard to say what's the problem there. We have no chance of finding out what exactly is wrong when failing to open an encrypted database. What sort of Android app are you using? Maybe we can find out what encryption settings they are using. @OmgImAlexis Interesting.  Does it still happen with our recent nightly builds? Oops, I should have included it. :smile:

These are our nightly builds for OSX:

&nbsp; &nbsp; https://nightlies.sqlitebrowser.org/osx/

They're ordered by date.  There's a build that includes encryption, and one without.  If your database isn't encrypted, then either will be suitable for trying out. Excellent @OmgImAlexis. :smile: @AndreasMartin72 Ping, did you have time to try out a recent nightly build? üòÑ  @abbasshah17 Did you ever get this fixed? Closing this due to lack of response. No worries. :smile:

It sounds like maybe a Windows Update or similar fixed the problem.  At least it's working now.  Oops, that shouldn't happen! üò¶ 

Which version is this happening with?
 Cannot replicate this on several Win 10 x64 machines I have at work.  Thats 3.9.1 and the latest nightly.
 @pirelaurent Would you have time to try our latest nightly 32 + 64 bit builds, and let us know if they still have this crash problem?

&nbsp; &nbsp; https://nightlies.sqlitebrowser.org/latest/  Please provide more info. Is this an error message? Does it appear inside DB4S?

I usually get lock errors in my iOS app when I update some rows in DB4S but don't hit save.
  Interesting.  Thanks for mentioning it.  Will investigate later on and see whats causing the problem. :smile:
  I don't have this problem on my windows 8.1 machine. After associating .db with `DB Browser for SQLite.exe`, I'm able to double-click the database and it will launch the application.
 @dmscheck Hmm, that's definitely weird.

Do you have the time/inclination to try some stuff out to hopefully figure out what's wrong?

Specifically, the process monitor tool pointed at by @chrisjlocke here:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/issues/847#issuecomment-256763348

A few comments down from that Chris has an overview screencast, showing how it operates.

That might help track down what's wrong when the spaces are in the path. :smile:
 Ahhh, that's interesting.  Looks like you've found the cause. :smile:

With our installer and uninstaller, they don't yet set up any Windows file associations.  It's on our ToDo list for the next release, but until then... yeah, manual approach. :wink:
 > HKCU\Software\Classes\Applications\DB Browser for SQLite.exe\shell\open\command, and that looks like the culprit. It has a value of "C:\Program Files\DB Browser for SQLite\3.9.0\bin\DB Browser for SQLite.exe" "%1"

Thats half of it.  In another post somewhere, I suggested a Microsoft tool of ASSOC and FTYPE.  It depends on what .db files are registered as.  If they're registeered as 'big green panties' then it won't be looking at the 'HKCU\Software\Classes\Applications\DB Browser for SQLite.exe' part.  I think the underscores are a new thing, thus the new registry.  You can check this in the registry by looking in HKCR.db (or HKCU\Software\Classes.db, if you've overwridden the default) and check the 'default' value.

![image](https://cloud.githubusercontent.com/assets/7872218/20002829/e5937232-a27a-11e6-9fed-636555362c48.png)

So in my example, I've manually set .db files as 'sqliteDatabase' and then _that_ is registered to DB4S.
This all lives in the HKCR\ leg of the registry

![image](https://cloud.githubusercontent.com/assets/7872218/20003847/909aa4ac-a280-11e6-8fdd-d0cb236e34e6.png)

I've got a virtual Win 8 box, I'll try installing 3.9 and upgrading, and seeing if a 'fix' is possible...
  That sounds doable.  I think we'd want it to be something enabled in Preferences though, as some people probably wouldn't want it.  eg when the default value generates a new unique key or something, it could cause problems for people just wanting to view the data and no change things
 I see DB4S as a development tool, rather than a 'user entry' system, as it can cause so much damage.  Hand it to a user to input records and they go, "I didn't know what those extra tables were for, so deleted them."  This (or similar) has actually happened at work.  That 'clang' sound you heard was my chin hitting the floor when I found out...

Anyway.  I digress.  Knocking up a simple program to do what you want (ie, just log athletes) would be far simpler, safer and quicker to impliment than to use DB4S for data entry in a 'production' (albeit trackside!) environment.

Just my thoughts, anyway...
 Well, the Browse Data tab does lend itself to data entry pretty well too.  It's not an unusual use case. :smile:
  ### Details for the issue

<!--

Thanks for coming here to report an issue. :)

Please describe it in this section, fill out the correct check boxes
below with an "x", then click the "Submit new issue" button at the bottom

-->

If I select a primary key cell and hit <kbd>backspace</kbd>, an error alert shows up with the message:

> Error changing data:
> datatype mismatch

The message is not clear about the error though.

### Useful extra information

<!-- The info below often helps, please fill it out if you're able to. :) -->

#### I'm opening this issue because:

- [ ] DB4S is crashing
- [ ] DB4S has a bug
- [ ] DB4S needs a feature
- [x] DB4S has another problem

#### I'm using DB4S on:

- [ ] Windows: ( _version:_ ___ )
- [ ] Linux: ( _distro:_ ___ )
- [x] Mac OS: ( _version:_ ___ )
- [ ] Other: ___

#### I'm using DB4S version:

- [x] 3.9.1
- [ ] 3.9.0
- [ ] Other: ___

#### I have also:

- [ ] Tried out the nightly version: https://github.com/sqlitebrowser/sqlitebrowser#windows
- [ ] Searched for an existing similar issue: https://github.com/sqlitebrowser/sqlitebrowser/issues?utf8=%E2%9C%93&q=is%3Aissue%20
 This error message comes from sqlite when you are trying to empty a primary key cell (https://github.com/sqlitebrowser/sqlitebrowser/blob/b5345fe6766d1c6ed3457f3d89a78a9a62b7bb81/src/sqlitedb.cpp#L988). Should we notify sqlite developers?

Example:
```sql
CREATE TABLE `C` (
  `C_id` INTEGER,
  PRIMARY KEY(`C_id`)
)

```

```c
/* issue859.c */
#include <sqlite3.h>
#include <stdio.h>
#include <string.h>


int main(int argc, char *argv[])
{
  /* you get "datatype mismatch" when trying to insert this into primary key field */
  const char * value = "";
  const char * query = "UPDATE `C` SET `C_id`=? WHERE `_rowid_`='1';";
  int code;

  sqlite3* db;
  if(sqlite3_open_v2("issue859.sqlite", &db, SQLITE_OPEN_READWRITE, NULL) != SQLITE_OK)
    {
      printf("sqlite3_open_v2 failed!\n");
      return 1;
    }

  sqlite3_stmt* stmt;
  code = sqlite3_prepare_v2(db, query, -1, &stmt, 0);
  if(code != SQLITE_OK)
    {
      printf("not prepared\n");
      printf(sqlite3_errmsg(db));
      printf("\n");
      printf("code: %d\n", code);
    }
  else
    {
      printf("prepared\n");
    }

  code = sqlite3_bind_text(stmt, 1, value, strlen(value), SQLITE_STATIC);
  if(code)
    {
      printf("not bound\n");
      printf(sqlite3_errmsg(db));
      printf("\n");
      printf("code: %d\n", code);
    }
  else
    {
      printf("bound\n");
    }

  code = sqlite3_step(stmt);
  if (code != SQLITE_DONE)
    {
      printf("not done\n");
      printf("code: %d\n", code);
      printf(sqlite3_errmsg(db));
    }
  else
    {
      printf("done\n");
    }


  code = sqlite3_finalize(stmt);
  if (code != SQLITE_OK)
    {
      printf("\nnot finalized\n");
      printf("code: %d\n", code);
      printf(sqlite3_errmsg(db));
    }
  else
    {
      printf("\nfinalized\n");
    }
  return 0;
}
```

```bash
gcc -o issue859 issue859.c -lsqlite3
./issue859

prepared
bound
not done
code: 20
datatype mismatch
not finalized
code: 20
datatype mismatch
```
 Thanks for the detailed analysis, @prutz1311! This helps a lot! :+1: There's probably no need to ask the SQLite developers, it kind of makes sense now. The column is a ```INTEGER PRIMARY KEY``` and we're trying to set it to an empty string. Usually SQLite (more or less) ignores the data type of a field but when they've built an primary key index for this column assuming it's an integer data type it only makes sense to not allow empty strings.

I've just pushed a workaround that checks for all cases in which we're trying to set an integer primary key field to an empty string, and sets the field to '0' instead. Of course you can only do this when there is no row with an ID of 0 yet.

Does this work for you, @revolter and @prutz1311? :smiley: It seems like the actual data type doesn't matter, e.g. you can insert this value:
```c
const char * value = "99";
```
and it will proceed just fine (an integer gets inserted).
I will check your commit later, have to go now. I think the variable type in C doesn't matter for SQLite. If it's convertible to an integer it is treated as an integer, even though in C it's a char*. There is also `int sqlite3_bind_int(sqlite3_stmt*, int, int)` and some others https://sqlite.org/c3ref/bind_blob.html.
Now (fd1f4f2) if I press <kbd>backspace</kbd>, the value changes to zero:
![image](https://cloud.githubusercontent.com/assets/6525383/23075205/9f1aad00-f54c-11e6-899c-4ec7efb4ffe6.png)
But if I press <kbd>backspace</kbd> the second time on another cell, I see another error:
> Error changing data:
> UNIQUE constraint failed: A.A_id

![image](https://cloud.githubusercontent.com/assets/6525383/23075434/7cccf914-f54d-11e6-8494-e52dddb28baa.png)  ### Details for the issue

<!--

Thanks for coming here to report an issue. :)

Please describe it in this section, fill out the correct check boxes
below with an "x", then click the "Submit new issue" button at the bottom

-->

It would be great if you could undo a delete or insert. And redo if you changed your mind.

### Useful extra information

<!-- The info below often helps, please fill it out if you're able to. :) -->

#### I'm opening this issue because:

- [ ] DB4S is crashing
- [ ] DB4S has a bug
- [x] DB4S needs a feature
- [ ] DB4S has another problem

#### I'm using DB4S on:

- [ ] Windows: ( _version:_ ___ )
- [ ] Linux: ( _distro:_ ___ )
- [x] Mac OS: ( _version:_ ___ )
- [ ] Other: ___

#### I'm using DB4S version:

- [x] 3.9.1
- [ ] 3.9.0
- [ ] Other: ___

#### I have also:

- [ ] Tried out the nightly version: https://github.com/sqlitebrowser/sqlitebrowser#windows
- [x] Searched for an existing similar issue: https://github.com/sqlitebrowser/sqlitebrowser/issues?utf8=%E2%9C%93&q=is%3Aissue%20
 You'd literally need a copy of the database ... and some databases are huge!  if I deleted 10,000 rows, while that statement is instant, I wouldn't want DB4S to then 'import' those records in some temporary database on the off-chance I would want to undelete... surely thats the purpose of the 'Commit Changes' button - its a 'yup, I'm happy with that' button.  If I deleted 10,000 rows and only meant 1, then I'd press the 'Revert Changes'...
Maybe I'm just paranoid, but if I'm going to be doing dabbling on a database, I make sure I have a backup first.
Also, if you delete a record and the database has gubbins to delete child records (linked tables), how would you put these records back if you pressed 'Undo' - as DB4S technically doesn't know anything about them - it just knows the record(s) you deleted.
 Yeah, thinking about this particular case I'm not sure how it could be implemented in a thorough way.

Any query which modifies data in non-trivial ways would probably be very challenging to automatically reverse. :smile:
 Well, Qt offer some undo stack classes which we could use. So having a undo/redo feature for the Browse Data tab would be do-able, even without copying the entire database. However, when the user modifies the same table using the Execute SQL tab, another instance of DB4S, or another program we'd end up in a complete mess.

Maybe a compromise would be to add a way to add savepoints manually and offer a way to revert to one of them.
 I briefly thought about this (without taking into consideration all the implications) while mistakenly entering data in the wrong cell and had to close the database without saving and open it again, instead of a quick <kbd>cmd</kbd>+<kbd>z</kbd>. We could wait until more people ask for this if we want to support it partially as @MKleusberg said.
  ### Details for the issue

<!--

Thanks for coming here to report an issue. :)

Please describe it in this section, fill out the correct check boxes
below with an "x", then click the "Submit new issue" button at the bottom

-->

When I select all the records in a big (~ 4000) table with <kbd>cmd</kbd> + <kbd>a</kbd> and hit the `Delete Record` (which should say `Delete Records` to be clear that it would delete multiple records) button, DB4S hangs for quite some time.

Firstly, if it really takes this long, it should show a progress bar.
Secondly, it would make sense to run `DELETE FROM table` if we notice that the user selected all the records, which would run very fast, instead of running one `DELETE` per record.
Also, wouldn't a transaction help?

### Useful extra information

<!-- The info below often helps, please fill it out if you're able to. :) -->

#### I'm opening this issue because:

- [ ] DB4S is crashing
- [x] DB4S has a bug
- [ ] DB4S needs a feature
- [ ] DB4S has another problem

#### I'm using DB4S on:

- [ ] Windows: ( _version:_ ___ )
- [ ] Linux: ( _distro:_ ___ )
- [x] Mac OS: ( _version:_ ___ )
- [ ] Other: ___

#### I'm using DB4S version:

- [x] 3.9.1
- [ ] 3.9.0
- [ ] Other: ___

#### I have also:

- [ ] Tried out the nightly version: https://github.com/sqlitebrowser/sqlitebrowser#windows
- [ ] Searched for an existing similar issue: https://github.com/sqlitebrowser/sqlitebrowser/issues?utf8=%E2%9C%93&q=is%3Aissue%20
 At first thought, yeah, that sounds like it would work.  At least for rowid tables anyway.

Want to submit a PR? :smile:
 It looks like that method is called for each row [here](https://github.com/sqlitebrowser/sqlitebrowser/blob/1ced89779353346548d2e71d8eb58dc4d278f1ca/src/sqlitetablemodel.cpp#L415), so maybe this is where the IDs array should be created and passed to a new method that builds the correct query.
 @MKleusberg What do you reckon?
 Can't we use the [`removeRows`][1] method instead?

  [1]: http://doc.qt.io/qt-4.8/qabstractitemmodel.html#removeRows @revolter Would you have time to see if this is working decently in the nightlies?  @innermous updated the deletion code to use `removeRows`, so in theory it should be ok now. :smile:  OSX is unlikely to ever get FTS4 support, as we already include FTS5 support and they seem to be mutually exclusive. üò¶ 

It's not super hard to build it with FTS4 instead of FTS5, if you really need it. (as per the issue you pointed out)

On a side note, I didn't realise our Windows builds include FTS4.  I'm not specifically doing anything there to include it... maybe it's getting pulled in as a side effect from something else (SQLCipher?).
 Hmmm, I'm not seeing FTS4 in there.  FTS3 and FTS5 yep, not 4:

&nbsp; &nbsp; https://github.com/xerial/sqlite-jdbc/blob/master/Makefile#L67-L69

Am I being blind? :smile:
 Cool, that looks pretty simple then. :smile:

Any interest in sending a Pull Request to the Homebrew team, adding those two options to the line here?
- https://github.com/Homebrew/homebrew-core/blob/688ee73bdff427227632b4dfaeb9463da873c041/Formula/sqlcipher.rb#L31

When DB4S gets built, we pull in SQLCipher via the Homebrew package.  Getting it added there means automatic support. üòÄ 
 Awesome @compengi, please "make it so". üòÅ :
 Excellent. Once that's merged, our nightly builds should automatically pick it up too, if that helps. :smile:
 In theory, it should be automatically included in our nightly builds at this point.

Do you have a few minutes to try one of the recently ones out to verify? :smile: Awesome @compengi, thanks for putting the effort in for this, and keeping on top of it through to completion. :smile:  Ahhh, this seems to be specific to Sierra.  We've had a few reports of this, but haven't yet tracked down what's causing it. üò¶ 
 Actually, I'm going to close this as it's a duplicate of #737.  So, probably best to keep an eye on progress there.  @esilverberg Ahhh, it's probably the default newline setting it set to blank in the Export dialog.

Would you be ok to try the export again, and double check the newline is set to "Windows" ?
 For reference: #842 :wink:
 You're welcome. :smile:
  Ahhh, interesting.  From memory this was fixed shortly after the 3.9.1 release.

Would you be ok to try out one of the nightly builds?

&nbsp; &nbsp; https://nightlies.sqlitebrowser.org
 @MarrinerDev Did you have a chance to try the nightly builds? :smile:
 Wow, I didn't even know about the "Browse Table" option! üò≤ 

Also, I don't think adding duplicates to the milestone would help much. It looks like #748 is the first one, followed by #757, #784, #849 and #873. Awesome, thanks Michael. :smile:  Ouch, that doesn't sound good. üò¶ 

Does it happen even when you save using a project file?
1. Open database
2. Change Pragma setting
3. **File** ‚Üí **Save Project** (then pick a filename to save as)
   
   ![screen shot 2016-10-27 at 12 21 06](https://cloud.githubusercontent.com/assets/406299/19765373/e8e53d30-9c3f-11e6-8b1c-3fdcfb6f13ba.png)
4. Close the database
5. **File** ‚Üí **Open Project**
   
   ![screen shot 2016-10-27 at 12 22 01](https://cloud.githubusercontent.com/assets/406299/19765385/0348c728-9c40-11e6-9399-c23a4d7bf31d.png)

In theory, settings are supposed to be saved ok when using project files.  They're a way to wrap "meta" information about a database in a safe way.

But, it's definitely possible that's not working properly for this. üò¶ 
 As a first thought: is the check box in View -> Preferences, Database, Foreign keys checked or unchecked? That's odd. You said it's also ignoring the pragma after manually turning it on. I assume you did click the Save button at the bottom of the window? Sounds like a stupid question but I sometimes forget that button :wink: If you're sure you saved the modified pragma settings. it seems like we have a general problem with foreign keys in your case. Not sure yet what to do then :smiley: I did some further research: you can't edit the foreign keys pragma inside a transaction (https://www.sqlite.org/pragma.html#pragma_foreign_keys). That makes it impossible to set that pragma from inside the SQL editor. Also, unlike other pragmas, it is not stored in the database file but must be set again each time a new connection is built (https://stackoverflow.com/a/15303742). This makes it impossible to set the foreign keys pragma in the Pragma editor and expect it to stay with that value. That's pretty stupid but we can't do much about that :frowning: 

The only question is why the the check box in the Preferences dialog doesn't work for you. However, I've just changed the settings handling a bit, so tomorrow's nightly build might be worth checking out. Can you give that a try? :smiley: If it's really needed to kept, we could store that pragma setting in the (per database) project file. Just added the foreign keys settings to the project file :smiley: I think that's all we can do at the moment. Awesome. :smile:

@tomcumming Would you have time to try out the nightly build (tomorrow), and check that the pragma setting works for you when the database is saved & loaded via project file? No worries, was a thought. :smile: Oops.  Sorry, wrong button. :wink:

@tomcumming Our automatic nightlies get built for OSX too if that helps?  Thanks for reporting this. :smile:

Not sure we'll be be able to look into this properly in the near future though. `ntdll.dll` seems to be Windows "catch all" kind of error thing, not really giving any useful detail.

As a thought, would you be ok to try these two nightly builds and see if either doesn't crash?
- https://nightlies.sqlitebrowser.org/win64/DB%20Browser%20for%20SQLite-2016-10-26-win64.exe
- https://nightlies.sqlitebrowser.org/win64/DB%20Browser%20for%20SQLite-sqlcipher-2016-10-26-win64.exe

The first one is a build with only SQLite support, not SQLCipher.  If that one doesn't crash, but the 2nd one does, at least that narrows things down. :smile:
 It would be worth seeing if it does it in safe mode.  Aditionally, you could also test for the problem when logged on as another user (which you may need to create for testing purposes).

I run DB4S on a Win 10 64bit machine at work and have never had this issue.  :(
 Hmmm, ok the next thing to try would be grabbing dependency walker and running that on the installed exe you're launching:

&nbsp; &nbsp; http://dependencywalker.com/

Note - The website for Dependency Walker looks like it was written in the 1980's... the tool itself though is fine, so don't get stressed by the website. :smile:

The tool itself is helpful for showing .dll problems.  Here's a screenshot from when I was looking into a problem a while ago:

![dependency_walker01](https://cloud.githubusercontent.com/assets/406299/19777975/92d06c16-9c72-11e6-8f68-60891f6a713d.png)
(that one was a mix-up of 32 and 64 bit dlls)

In your case the crash kind of sounds like a .dll problem, so I'm thinking it might be the right tool to investigate with. :smile:
 Interesting, sounds like we're making progress. :smile:

It seems like there's something missing on your system then.  If you have time, try to find out which Microsoft (or Qt) package includes them, and get that installed on your system.

It's really weird this is happening though, as the dependencies are supposed to be automatically installed already. üò¶ 

Hmmm... what happens if you manually run the vc_redist*.exe file?  It should be in a subdirectory of the DB4S installation.  If that gives an error, it might help explain what's going wrong. :smile:
 @chrisjlocke Any idea about the API-MS-WIN-CORE-SYNCH thing shown in the screenshot.  Searching online shows an informational MS page about Windows "API Sets", but not sure how (if) it's relevant here.
 Ok, well that's one possibility ruled out. :smile:
 Microsoft (was SysInternals) do a process monitor tool.
https://download.sysinternals.com/files/ProcessMonitor.zip

Its comprehensive, but a bit confusing.  I'll have to do a screencast tomorrow, if you want to go down that route.  The beauty of that program is that it shows all the files Windows has tried to run but failed.

I'll try and run DB4S on as 'basic' Win 10 machine I've got to try and replicate the issue.
 Awesome @chrisjlocke, that Sysinternals tool does sound useful.

If this works for finding a solution, we can probably use these tools for investigating future windows crash problems too. :smile:
 OK, so heres a quick screencast of the MS Process Monitor.  As shown, its 'noisy' and monitors everything, but I think at this stage, you only need to monitor file activity, so I've shown how to toggle the other buttons off.  At the bottom of the screencast is a CC button to turn on captions.  They don't work too well, and are distracting (by the time you've read them, the screen has moved on) so you might need to watch it more than once!

http://screencast-o-matic.com/watch/cD6uQyjHkL

Alternatively, if you're brave, you could install Teamviewer and I could remotely control your machine and have a look, but I can understadn the fear of some unknown having access to yuur machine...
 Excellent, that looks really useful for debugging this kind of thing. :smile:
 Not sure why (will have to test on another machine) but when I click the 'New Database', a squillion read requests are made.

![image](https://cloud.githubusercontent.com/assets/7872218/19857866/3dd5bea2-9f77-11e6-9642-4a7ce81ca539.png)

Haven't found a machine at work that DB4S crashes on yet...
As part of our 'install' for every machine, we put on .NET Framework.  Just as a test (or confirmation) do you have any .Net frameworks installed?  
 @softdev2016 Any luck with this? :smile:
 No worries, we definitely all get too-busy sometimes. :wink:
 @chrisjlocke Those read requests are probably for the 'Save file as' dialog, maybe some recently opened files or places. So that should be all fine. But other than that I'm afraid I can't say anything on this issue :/
 That's an interesting observation, @ibinshoid! :smiley: We've recently moved to Qt5-only, so it's worth trying again with the latest code and using Qt5. Closing this due to lack of response. üò¶   Thanks @bssthu. :smile:

@MKleusberg Do you have time to look at this?
 Thank you, @bssthu! Good work spotting this issue and thank you so much for even providing the proper fix :+1: If you should ever feel like fixing some more bugs you're very welcome to open more PRs :wink:
  ### Details for the issue

<!--

Thanks for coming here to report an issue. :)

Please describe it in this section, fill out the correct check boxes
below with an "x", then click the "Submit new issue" button at the bottom

-->

Testing the export of a database table issue on Windows, and noticed I can't get quotes around field contents with spaces in.  Have tried both quote options, and the 'Other'.  Nothing.

http://screencast-o-matic.com/watch/cD6T6ijEHX

Tried 3.9.1 and the latest nightly.  In my experiments with options, it did do quotes once, even putting quotes round fields that didn't need it.  I couldn't reproduce that though, so unsure if something is screwy somewhere.

Edit: Just filling in the info below, and noted I'm using the 64bit version.  Unsure if it'll make a difference, but will try on the 32bit version too.
### Useful extra information

<!-- The info below often helps, please fill it out if you're able to. :) -->
#### I'm opening this issue because:
- [ ] DB4S is crashing
- [x] DB4S has a bug
- [ ] DB4S needs a feature
- [ ] DB4S has another problem
#### I'm using DB4S on:
- [x] Windows: ( _version:_ 10 (64 bit)___ )
- [ ] Linux: ( _distro:_ ___ )
- [ ] Mac OS: ( _version:_ ___ )
- [ ] Other: ___
#### I'm using DB4S version:
- [x] 3.9.1 (64bit)
- [ ] 3.9.0
- [x] Other: _3.9.99__
#### I have also:
- [x] Tried out the nightly version: https://github.com/sqlitebrowser/sqlitebrowser#windows
- [ ] Searched for an existing similar issue: https://github.com/sqlitebrowser/sqlitebrowser/issues?utf8=%E2%9C%93&q=is%3Aissue%20
 Oh, interesting.  Something doesn't seem correct there.

It'd be really useful for us to add some kind of automatic testing for this to catch regressions.  Not sure how to achieve it though.
 32bit was the same, and on a different computer, so its not just me... ;)
Haven't tried older versions to pick out where it went wrong.  I'm sure it used to work...
Looked (briefly) through the code, but without debug info, its hard to find out whats going on .... it _should_ work.  Guess I'll add some...
 Interesting thought. :smile:

Thinking about this more, it sounds like Chris wants an option to "quote all fields", even if the quotes are not strictly needed.

Hmmm... trying to think of a use for that though... not sure what it would be useful for? :smile:
 Aah, might just be me then.  I was under the mis-conception that fields with spaces in would need quoting (not just escaping quote characters).  Thats why 'A' would not need quoting, but 'A A' would.  I must just be having a brain fart then.  I'll close this then, and revisit it if its an issue.  üòÑ 
 Cool. :smile:
  Some initial thoughts from my point of view: :smile:
1. **I was looking to see whether the intrinsic JSON1 extension could be turned on by default in the nightly builds _(at least the Windows version)_ of SqliteBrowser**?
   
   Yep, this would be welcome.  The current build process we use for Windows (via MSVC) is - as you said - overly complicated.  Having any kind of reliance on MSVC isn't something I personally like either. ;)
   
   The only thing which has stopped us from adding in the JSON1 support on Windows by default... is lack of time to try it compiling it in.
   
   If you have the time & desire to work out what we need to do - eg extra commands/steps to run - in our build process, we'll definitely try it out and likely adopt them wholesale. :smile:
2. **Would it make sense to enable seamless `make` of SqliteBrowser _(on any platform, but especially Windows)_ using `clang` as a supported _(possibly-default)_ choice for a fully cross-platform compiler build tool for SqliteBrowser**?
   
   Any (good quality) alternative to MSVC would be warmly welcomed. Our OSX builds already use clang, as that's what Apple's Xcode comes with.
   
   On Windows, we use CMake to generate MSVC "solution / project" files.  These can then be either used interactively via MSVC, or compiled in batch fashion using `devenv`.  One example is our [nightly Windows builds batch file](https://gist.github.com/justinclift/11cc926f214e882c8162f97c53929c07).
   
   CMake can be told to generate Makefiles and similar, so it might be quite possible to get things working with a native Clang install.
   
   If you have the time & desire to figure that out, we can definitely try building that way.

Personally, I'd be only too happy to completely remove MSVC from our requirements list, and completely remove it from our documentation. :smile:

Note - In both instances above the "If you have the time & desired to..." bit. That's because we're volunteer based, so the things that get done are whatever people put time into.  You're absolutely welcome to join in and attack things of interest. üòÅ 

Same for the side note - hosting related extensions could be done - it needs someone with the interest & desire to make it happen though.  If that's you, then great.  If not, then maybe someone else will.
 Cool!

Personally, I'm travelling at the moment, with only a Linux laptop.  No access to my normal development stuff.  I'll be back Friday evening/night, so should be able to get to this properly on the weekend or Monday. :smile:
 @dsimcg Good news.  The nightly builds on Windows - both with and without encryption - now include the FTS3, FTS4, FTS5, and JSON1 extensions.

They'll be in the next major Windows releases too. :smile:  Awesome @bssthu, it's now perfect. :smile:

For reference, these are the changed strings in operation:

![screen shot 2016-10-20 at 16 47 31](https://cloud.githubusercontent.com/assets/406299/19567404/6886c668-96e5-11e6-8999-9f9131d9e164.png)
![screen shot 2016-10-20 at 16 47 43](https://cloud.githubusercontent.com/assets/406299/19567401/6884437a-96e5-11e6-9961-e9afac02c8e6.png)
![screen shot 2016-10-20 at 16 49 08](https://cloud.githubusercontent.com/assets/406299/19567402/68850efe-96e5-11e6-95da-cf76bfe456aa.png)
![screen shot 2016-10-20 at 16 49 15](https://cloud.githubusercontent.com/assets/406299/19567403/68852aba-96e5-11e6-8f7a-fa9ac371f392.png)
 Is it ok if we contact you when we are near to our next major release?

We will probably make a few string changes between now and then, and it would be great to have everything 100% translated at release time. :smile:
 Awesome. :smile:
  Thanks @bssthu, I'll get the screenshots done in a bit, so you can double check before we merge this. :smile:
 This is every screenshot I could think of. :wink:

To me, this looks very good.  If you feel it is ready, I'm happy to merge this.  Just let me know. :smile:

![screen shot 2016-10-19 at 18 56 54](https://cloud.githubusercontent.com/assets/406299/19531555/0a6acc7e-9630-11e6-8711-8e3b007cbc98.png)
![screen shot 2016-10-19 at 18 57 00](https://cloud.githubusercontent.com/assets/406299/19531556/0a6b4334-9630-11e6-999d-06f4e394600e.png)
![screen shot 2016-10-19 at 18 57 15](https://cloud.githubusercontent.com/assets/406299/19531557/0a6b5b94-9630-11e6-886d-b80b89d53f4a.png)
![screen shot 2016-10-19 at 18 57 20](https://cloud.githubusercontent.com/assets/406299/19531558/0a6ec036-9630-11e6-9221-4a1247443e5f.png)
![screen shot 2016-10-19 at 18 57 27](https://cloud.githubusercontent.com/assets/406299/19531560/0a73e926-9630-11e6-93f8-9adf8ce5eae7.png)
![screen shot 2016-10-19 at 18 57 34](https://cloud.githubusercontent.com/assets/406299/19531559/0a717fd8-9630-11e6-99ce-d2b00d9f476e.png)
![screen shot 2016-10-19 at 18 57 39](https://cloud.githubusercontent.com/assets/406299/19531563/0a8575c4-9630-11e6-9cfa-8814df33d211.png)
![screen shot 2016-10-19 at 18 57 46](https://cloud.githubusercontent.com/assets/406299/19531561/0a813efa-9630-11e6-9181-b7eb41aad68b.png)
![screen shot 2016-10-19 at 18 57 52](https://cloud.githubusercontent.com/assets/406299/19531562/0a83ec0e-9630-11e6-8b9c-d762a9518df6.png)
![screen shot 2016-10-19 at 18 57 58](https://cloud.githubusercontent.com/assets/406299/19531564/0a869e2c-9630-11e6-87a2-8f5866f1f5a1.png)
![screen shot 2016-10-19 at 18 58 04](https://cloud.githubusercontent.com/assets/406299/19531566/0a8aa76a-9630-11e6-87b5-32b2ce6b36de.png)
![screen shot 2016-10-19 at 18 58 09](https://cloud.githubusercontent.com/assets/406299/19531565/0a892ce6-9630-11e6-89b0-a2bdb727cddc.png)
![screen shot 2016-10-19 at 18 58 34](https://cloud.githubusercontent.com/assets/406299/19531567/0a982fde-9630-11e6-9f8c-d4c80c3a308b.png)
![screen shot 2016-10-19 at 18 58 56](https://cloud.githubusercontent.com/assets/406299/19531569/0a9be944-9630-11e6-80ca-2da04020c567.png)
![screen shot 2016-10-19 at 18 59 03](https://cloud.githubusercontent.com/assets/406299/19531571/0aa4359a-9630-11e6-9790-47156b41baa8.png)
![screen shot 2016-10-19 at 18 59 11](https://cloud.githubusercontent.com/assets/406299/19531568/0a9bf6f0-9630-11e6-9b7d-ec92a7286269.png)
![screen shot 2016-10-19 at 18 59 16](https://cloud.githubusercontent.com/assets/406299/19531572/0aa5baa0-9630-11e6-81dd-5847d222e6b8.png)
![screen shot 2016-10-19 at 18 59 39](https://cloud.githubusercontent.com/assets/406299/19531570/0aa23646-9630-11e6-851e-3ecf7f205f76.png)
![screen shot 2016-10-19 at 18 59 55](https://cloud.githubusercontent.com/assets/406299/19531573/0aadac24-9630-11e6-8bc6-f0a7ec7265ef.png)
![screen shot 2016-10-19 at 18 59 59](https://cloud.githubusercontent.com/assets/406299/19531575/0ab59786-9630-11e6-83cf-1a89855926c8.png)
![screen shot 2016-10-19 at 19 00 05](https://cloud.githubusercontent.com/assets/406299/19531574/0ab21b88-9630-11e6-8bc1-4ea88c5d7db0.png)
![screen shot 2016-10-19 at 19 00 10](https://cloud.githubusercontent.com/assets/406299/19531576/0ab8872a-9630-11e6-91c7-b4c726601a86.png)
![screen shot 2016-10-19 at 19 00 16](https://cloud.githubusercontent.com/assets/406299/19531578/0abcb002-9630-11e6-8cb4-d07cb72e3be4.png)
![screen shot 2016-10-19 at 19 00 25](https://cloud.githubusercontent.com/assets/406299/19531577/0abbc4ee-9630-11e6-8152-f0fb5cc238f6.png)
![screen shot 2016-10-19 at 19 00 36](https://cloud.githubusercontent.com/assets/406299/19531579/0ac2058e-9630-11e6-9e47-7dbb2cf51ab2.png)
![screen shot 2016-10-19 at 19 00 42](https://cloud.githubusercontent.com/assets/406299/19531582/0ad07c40-9630-11e6-8e7f-8814298c44be.png)
![screen shot 2016-10-19 at 19 00 49](https://cloud.githubusercontent.com/assets/406299/19531580/0acb5332-9630-11e6-844c-d13c846b671e.png)
![screen shot 2016-10-19 at 19 00 57](https://cloud.githubusercontent.com/assets/406299/19531581/0accb542-9630-11e6-86a8-fb07428575da.png)
![screen shot 2016-10-19 at 19 01 04](https://cloud.githubusercontent.com/assets/406299/19531583/0ad20722-9630-11e6-9192-86dba26b136d.png)
![screen shot 2016-10-19 at 19 01 11](https://cloud.githubusercontent.com/assets/406299/19531585/0ad785ee-9630-11e6-9d9c-ea557cc70248.png)
![screen shot 2016-10-19 at 19 01 34](https://cloud.githubusercontent.com/assets/406299/19531584/0ad6f0a2-9630-11e6-9eb5-70e21775b968.png)
![screen shot 2016-10-19 at 19 01 43](https://cloud.githubusercontent.com/assets/406299/19531588/0ae6b0a0-9630-11e6-8c4b-8ec331bb3691.png)
![screen shot 2016-10-19 at 19 01 49](https://cloud.githubusercontent.com/assets/406299/19531586/0ae3c778-9630-11e6-916e-c3c0acaff2e8.png)
![screen shot 2016-10-19 at 19 01 55](https://cloud.githubusercontent.com/assets/406299/19531587/0ae524e2-9630-11e6-81d2-22041622bfd8.png)
![screen shot 2016-10-19 at 19 02 02](https://cloud.githubusercontent.com/assets/406299/19531589/0aea302c-9630-11e6-92be-ee423e2129d5.png)
![screen shot 2016-10-19 at 19 02 06](https://cloud.githubusercontent.com/assets/406299/19531590/0aeca78a-9630-11e6-8b00-3e80691dd06f.png)
![screen shot 2016-10-19 at 19 02 10](https://cloud.githubusercontent.com/assets/406299/19531591/0aee8b22-9630-11e6-883a-91f2d4b5900b.png)
![screen shot 2016-10-19 at 19 02 57](https://cloud.githubusercontent.com/assets/406299/19531593/0afa5060-9630-11e6-9f24-732bc1d38286.png)
![screen shot 2016-10-19 at 19 07 23](https://cloud.githubusercontent.com/assets/406299/19531592/0af9c672-9630-11e6-9280-3a7e7ff775ff.png)
![screen shot 2016-10-19 at 19 07 35](https://cloud.githubusercontent.com/assets/406299/19531594/0afcdef2-9630-11e6-86e2-3dc8fdc54d51.png)
![screen shot 2016-10-19 at 19 07 42](https://cloud.githubusercontent.com/assets/406299/19531595/0b015e1e-9630-11e6-9e0e-46d0718b0f74.png)
![screen shot 2016-10-19 at 19 07 58](https://cloud.githubusercontent.com/assets/406299/19531596/0b025d14-9630-11e6-9909-b86a9e7a955f.png)
![screen shot 2016-10-19 at 19 08 02](https://cloud.githubusercontent.com/assets/406299/19531597/0b03839c-9630-11e6-9361-491e2fc01f57.png)
![screen shot 2016-10-19 at 19 08 20](https://cloud.githubusercontent.com/assets/406299/19531598/0b0e0e66-9630-11e6-8012-de851dbe55ca.png)
![screen shot 2016-10-19 at 19 09 53](https://cloud.githubusercontent.com/assets/406299/19531599/0b0ecd1a-9630-11e6-859e-43e7d7c7b530.png)
![screen shot 2016-10-19 at 19 10 02](https://cloud.githubusercontent.com/assets/406299/19531600/0b11b390-9630-11e6-83f1-6b23de03b088.png)
![screen shot 2016-10-19 at 19 10 10](https://cloud.githubusercontent.com/assets/406299/19531601/0b167646-9630-11e6-8e1c-c9d6792f35e5.png)
![screen shot 2016-10-19 at 19 10 16](https://cloud.githubusercontent.com/assets/406299/19531602/0b16cb14-9630-11e6-889a-5696ba105a69.png)
![screen shot 2016-10-19 at 19 10 22](https://cloud.githubusercontent.com/assets/406299/19531603/0b1a91a4-9630-11e6-9c7f-e42760fc105e.png)
 Hmmm, I'll merge this in now instead.

That will mean the nightly build in a few hours will have the updated translation, so you can test them directly if you want. :smile:

If there are further adjustments to make, just put them in a new PR. :smile:
  The 'Write Changes' and 'Revert Changes' button don't have the proper translations ... is this v3.9?  Thought (sorry ... assumed) all translations for the UI had been completed...
 Can't reproduce it in HEAD revision.
Try nightly version. In such situations you should always try nightly versions.
 @chrisjlocke We didn't receive updated translations for either of the Chinese locales in time for 3.9.x. üò¶ 
 The "simplified Chinese" translation is being updated for the master branch in #840, so the nightlies should see some improvement there soon. :smile:
 Can you see chrisjlocke.co.uk?  I can duplicate them there for you.  Alternatively, I can email the latest over - they are approx 14 MB... so some email systems might baulk at that size.  Or I can lob some up at wetransfer.com...
 Excellent.  I've copied the 32 and 64bit versions (of both types ... normal SQLite and SQLCipher) to my site.
http://chrisjlocke.co.uk/db4s/

Hope it works! üòÑ 
 Awesome, thanks Chris. :smile:

It's interesting that our nightlies server is probably being blocked by the GFW.  It's running from my old personal VM in Linode, as I hadn't moved it to Rackspace.

I'll create a new VM in Rackspace, and lets see if that gets blocked or something too.
 /off-topic
GFW?  *blank look*
Global Force Wrestling?  Great Furry Wombles?  Grey Ferocious Weasels?

Edit: Thats boring.  "Great Firewall".  Prefer furry wombles...
 :wink:
 GFW == Great Firewall. The name commonly given to China's national-level firewall implementation.
 @firstrose I have just moved the "nightlies.sqlitebrowser.org" web server to a new data centre, and it's also now using HTTPS.

Does this link work for you?

&nbsp; &nbsp; https://nightlies.sqlitebrowser.org
 Awesome. :smile:
 ![image](https://cloud.githubusercontent.com/assets/7872218/19605147/69beabba-97b0-11e6-8107-b34246436be2.png)
  Yep, sounds useful. :smile:
  ### Details for the issue

<!--

Thanks for coming here to report an issue. :)

Please describe it in this section, fill out the correct check boxes
below with an "x", then click the "Submit new issue" button at the bottom

-->

Using the latest nightly.  Created a database fine.  However, if I edit a table and click 'Write Changes', an error is displayed.
Interestingly, the changes **are** saved.  Closing the database and re-opening it contains the modifications made.

![image](https://cloud.githubusercontent.com/assets/7872218/19479300/ed32f0ac-953d-11e6-821b-3e0da88df189.png)
### Useful extra information

<!-- The info below often helps, please fill it out if you're able to. :) -->
#### I'm opening this issue because:
- [ ] DB4S is crashing
- [ ] DB4S has a bug
- [ ] DB4S needs a feature
- [x] DB4S has another problem
#### I'm using DB4S on:
- [x] Windows: ( _version:_ _10 (64bit)__ )
- [ ] Linux: ( _distro:_ ___ )
- [ ] Mac OS: ( _version:_ ___ )
- [ ] Other: ___
#### I'm using DB4S version:
- [ ] 3.9.1
- [ ] 3.9.0
- [x] Other: _3.9.99 (64bit)__
#### I have also:
- [x] Tried out the nightly version: https://github.com/sqlitebrowser/sqlitebrowser#windows
- [ ] Searched for an existing similar issue: https://github.com/sqlitebrowser/sqlitebrowser/issues?utf8=%E2%9C%93&q=is%3Aissue%20
 Interesting.  Sounds like a side effect of https://github.com/sqlitebrowser/sqlitebrowser/commit/e76e5b3241af5e79474ae32fda393da921696d96.

@MKleusberg Probably of interest to you? :smile:
 Just an additional note too that clicking 'Close Database' and selecting 'Yes' to the 'Do you want to save changes?' doesn't display an error.  I guess that means that way of closing a database either isn't saving the savepoints like the 'Write Changes' button, or if it is, its not displaying any errors...
 V3.9.99 means it's a nightly build. What's the date of this version (file modified date)
Have you tried one of the latest nightlies?  Hmmm, looking at the testing ppa listing:

&nbsp; &nbsp; https://launchpad.net/~linuxgndu/+archive/ubuntu/sqlitebrowser

It seems to be saying the last build was 2016-08-24.

@NicoDupont You may need to attempt building from source yourself.  It should go fine, but if it doesn't then cut-n-paste any error message here and we'll probably be able to help. :smile: Oops, no.  I was looking at the "stable" one.  The testing one says it's last build was an hour ago:

&nbsp; &nbsp; https://launchpad.net/~linuxgndu/+archive/ubuntu/sqlitebrowser-testing

This might still be a bug we need to look into then. @NicoDupont Does the error occur for often / all the time, or just sometimes, or ?  If it happens often, is there a way to reliably trigger it? @NicoDupont Interesting.  That's an error message we - in theory - fixed a while ago.

I'll take some time this week to go through our Linux compiling instructions and update them, so you can then try compiling things yourself.  It should be pretty simple, once I've done the update. I'll close this issue because it has been solved by @prutz1311 and @innermous a while ago. The Ubuntu problem reported by @NicoDupont seems to be fixed, too. See issue #1008.

If it turns out to be still an issue, feel free to reopen the issue :smiley:  @bssthu Thanks, I'll get to this in a few hours, and take screenshots so you can double check things are ok. :smile:
 Lots of screenshots, with your updated translation included. :smile:

There are still a few places with English strings showing.  Are you interested in getting those done too?

![screen shot 2016-10-18 at 23 54 34](https://cloud.githubusercontent.com/assets/406299/19499417/80e4e846-958e-11e6-8b1a-8a6f5b9546ed.png)
![screen shot 2016-10-18 at 23 53 59](https://cloud.githubusercontent.com/assets/406299/19499418/80e63ae8-958e-11e6-93a1-59105deb740a.png)
![screen shot 2016-10-18 at 23 53 51](https://cloud.githubusercontent.com/assets/406299/19499415/80e3b4bc-958e-11e6-939d-4255153d1160.png)
![screen shot 2016-10-18 at 23 53 44](https://cloud.githubusercontent.com/assets/406299/19499425/81020552-958e-11e6-9cf2-56039bdb0cc1.png)
![screen shot 2016-10-18 at 23 53 40](https://cloud.githubusercontent.com/assets/406299/19499419/80e8c8ee-958e-11e6-8e65-be809494e85d.png)
![screen shot 2016-10-18 at 23 53 27](https://cloud.githubusercontent.com/assets/406299/19499416/80e4e558-958e-11e6-85fc-a8fe0cf3da1e.png)
![screen shot 2016-10-18 at 23 53 17](https://cloud.githubusercontent.com/assets/406299/19499423/80fdac1e-958e-11e6-81f7-f56a85b554fd.png)
![screen shot 2016-10-18 at 23 52 40](https://cloud.githubusercontent.com/assets/406299/19499422/80fc33ac-958e-11e6-819b-ee07991e1ad6.png)
![screen shot 2016-10-18 at 23 52 35](https://cloud.githubusercontent.com/assets/406299/19499421/80fbc6a6-958e-11e6-8c17-ef47319ee022.png)
![screen shot 2016-10-18 at 23 52 30](https://cloud.githubusercontent.com/assets/406299/19499426/81041b4e-958e-11e6-93a6-2bc3dd1c4b0e.png)
![screen shot 2016-10-18 at 23 52 25](https://cloud.githubusercontent.com/assets/406299/19499424/8100a964-958e-11e6-824f-1a5b667e188b.png)
![screen shot 2016-10-18 at 23 52 20](https://cloud.githubusercontent.com/assets/406299/19499428/81135a1e-958e-11e6-84c7-82a785d4af99.png)
![screen shot 2016-10-18 at 23 52 12](https://cloud.githubusercontent.com/assets/406299/19499427/8112b758-958e-11e6-8890-01976c52c761.png)
![screen shot 2016-10-18 at 23 52 07](https://cloud.githubusercontent.com/assets/406299/19499429/8114629c-958e-11e6-8271-be261d91f57c.png)
![screen shot 2016-10-18 at 23 52 01](https://cloud.githubusercontent.com/assets/406299/19499430/81148876-958e-11e6-8a36-d37932eb54f0.png)
![screen shot 2016-10-18 at 23 51 55](https://cloud.githubusercontent.com/assets/406299/19499431/81174d18-958e-11e6-8b65-8133e7ab28b0.png)
![screen shot 2016-10-18 at 23 51 49](https://cloud.githubusercontent.com/assets/406299/19499432/811c1cf8-958e-11e6-99f6-69f13f820792.png)
![screen shot 2016-10-18 at 23 51 28](https://cloud.githubusercontent.com/assets/406299/19499433/81280220-958e-11e6-952c-5ad294abefc6.png)
![screen shot 2016-10-18 at 23 51 22](https://cloud.githubusercontent.com/assets/406299/19499434/81292e70-958e-11e6-9697-0bbbfa50e700.png)
![screen shot 2016-10-18 at 23 51 15](https://cloud.githubusercontent.com/assets/406299/19499436/8129a1ca-958e-11e6-97d5-93afc0958587.png)
![screen shot 2016-10-18 at 23 51 08](https://cloud.githubusercontent.com/assets/406299/19499435/812984a6-958e-11e6-9141-34dbe1994785.png)
![screen shot 2016-10-18 at 23 51 02](https://cloud.githubusercontent.com/assets/406299/19499437/812bcb3a-958e-11e6-812d-40cb44b1681e.png)
![screen shot 2016-10-18 at 23 50 57](https://cloud.githubusercontent.com/assets/406299/19499438/813191dc-958e-11e6-8a80-317aed32e10c.png)
![screen shot 2016-10-18 at 23 50 47](https://cloud.githubusercontent.com/assets/406299/19499439/813cdf88-958e-11e6-8ea6-089176384806.png)
![screen shot 2016-10-18 at 23 50 43](https://cloud.githubusercontent.com/assets/406299/19499441/813e1d80-958e-11e6-9191-7e58ef7db7d7.png)
![screen shot 2016-10-18 at 23 49 58](https://cloud.githubusercontent.com/assets/406299/19499440/813e16e6-958e-11e6-8020-5c3aa67596e2.png)
![screen shot 2016-10-18 at 23 49 52](https://cloud.githubusercontent.com/assets/406299/19499442/813e2bfe-958e-11e6-85d4-84c670e31a7a.png)
![screen shot 2016-10-18 at 23 49 45](https://cloud.githubusercontent.com/assets/406299/19499445/81453d18-958e-11e6-8cd5-7e3bfb0fd579.png)
![screen shot 2016-10-18 at 23 49 37](https://cloud.githubusercontent.com/assets/406299/19499446/8146d9d4-958e-11e6-82d9-1c381bbbf4c6.png)
![screen shot 2016-10-18 at 23 49 31](https://cloud.githubusercontent.com/assets/406299/19499447/81532d9c-958e-11e6-9b55-82a739c807ab.png)
![screen shot 2016-10-18 at 23 49 27](https://cloud.githubusercontent.com/assets/406299/19499450/8158fe5c-958e-11e6-9dde-26d75bd1e572.png)
![screen shot 2016-10-18 at 23 48 54](https://cloud.githubusercontent.com/assets/406299/19499449/8154b536-958e-11e6-9cb7-9e18d6fb3cc5.png)
![screen shot 2016-10-18 at 23 48 48](https://cloud.githubusercontent.com/assets/406299/19499448/8153deae-958e-11e6-8ecc-fa3ef1e4ad1f.png)
![screen shot 2016-10-18 at 23 48 41](https://cloud.githubusercontent.com/assets/406299/19499451/8159e100-958e-11e6-9663-71afccca4687.png)
![screen shot 2016-10-18 at 23 48 32](https://cloud.githubusercontent.com/assets/406299/19499452/815d08d0-958e-11e6-9f0a-c481ff130c7e.png)
![screen shot 2016-10-18 at 23 48 22](https://cloud.githubusercontent.com/assets/406299/19499453/81681ce8-958e-11e6-9885-4cac1d52d9a0.png)
![screen shot 2016-10-18 at 23 48 11](https://cloud.githubusercontent.com/assets/406299/19499454/816b18f8-958e-11e6-9b44-8885512ac04b.png)
![screen shot 2016-10-18 at 23 48 08](https://cloud.githubusercontent.com/assets/406299/19499455/816d553c-958e-11e6-942b-e81a98abdc10.png)
![screen shot 2016-10-18 at 23 47 50](https://cloud.githubusercontent.com/assets/406299/19499457/816f2c90-958e-11e6-880c-1e930741231c.png)
![screen shot 2016-10-18 at 23 46 58](https://cloud.githubusercontent.com/assets/406299/19499456/816efa2c-958e-11e6-834e-46ce36746886.png)
![screen shot 2016-10-18 at 23 46 52](https://cloud.githubusercontent.com/assets/406299/19499458/817a67cc-958e-11e6-9476-ca14e1a376b4.png)
![screen shot 2016-10-18 at 23 46 47](https://cloud.githubusercontent.com/assets/406299/19499459/817d5608-958e-11e6-8a8c-90f6fd9a4424.png)
![screen shot 2016-10-18 at 23 46 41](https://cloud.githubusercontent.com/assets/406299/19499460/81804296-958e-11e6-9ea4-075b7dc955b3.png)
![screen shot 2016-10-18 at 23 46 34](https://cloud.githubusercontent.com/assets/406299/19499462/8186a10e-958e-11e6-827a-7d1c77f2d582.png)
![screen shot 2016-10-18 at 23 46 25](https://cloud.githubusercontent.com/assets/406299/19499463/81884a90-958e-11e6-8b9e-57bde24f1cd9.png)
![screen shot 2016-10-18 at 23 45 55](https://cloud.githubusercontent.com/assets/406299/19499461/8183a47c-958e-11e6-951a-509f8e89f6b6.png)
![screen shot 2016-10-18 at 23 45 44](https://cloud.githubusercontent.com/assets/406299/19499464/8190ab2c-958e-11e6-8620-7458b7ee7f0d.png)
![screen shot 2016-10-18 at 23 44 25](https://cloud.githubusercontent.com/assets/406299/19499465/81968c36-958e-11e6-87b8-502b18848716.png)
  Any chance of a copy of the database?  I've a database of 500,000+ rows, and recently had to export, and didn't have any issues...
Also, any chance of a copy of the file exported?
I can test with a test database, but if you're having issues, it would be handy to use the same database you're using, in case its something specific with the data.  You can email it to me, and I can confirm the database will be deleted after testing.  
 A quick export of 229,000+ rows worked fine.

![image](https://cloud.githubusercontent.com/assets/7872218/19466458/ed08b89a-9502-11e6-8844-b6139dbe83bb.png)
 And exporting a table (as opposed to exporting a database)

![image](https://cloud.githubusercontent.com/assets/7872218/19467598/ea7b10e4-9509-11e6-829c-6101521152f7.png)

Noticed there was an unnecessary blank line at the end, but certainly not 'unreadable'.
 whyaintthisworking@chrisjlocke.co.uk is great.  If you can send over the results you got too, that would be handy.... the CSV with goo in it.
Oh, and while there is probably only one way of doing it, the steps you performed to create the gooey CSV would also be handy.  üòÑ 
 CSV file received.  Issue 'solved'.

The CSV file has no carriage returns in it, so all the fields are on one line.
When you export, try setting the 'new line characters' to the Windows option.  I assume this setting is currently blank?

![image](https://cloud.githubusercontent.com/assets/7872218/19492198/a4cf9952-956d-11e6-821a-272275f1dd9f.png)

If no option is set for the quote character, then a NUL character is used.  This is the 'unreadable' characters you see in the final CSV.  

![image](https://cloud.githubusercontent.com/assets/7872218/19492420/8019cfc8-956e-11e6-864d-cdcbc05ad1d6.png)

So in summary, use these options.

![image](https://cloud.githubusercontent.com/assets/7872218/19492441/942b34de-956e-11e6-8da2-3b95646b38f6.png)

A quote character as a .... well, quote character, and CRLF (carriage returns and line feeds) for new line characters.  It'll work wonders! üòÑ 

Let us know how you get on.  üëç 
 Ahhh, this makes the third bug report for that same problem then.

@chrisjlocke Do you reckon we should change the default on Windows? (it's pretty easy to do)
 Yes, I would suggest so.  It appears this option is getting missed.  I would change the quote option (NUL characters isn't helpful - quote characters are more 'traditional') and the newline characters.  Added the 'enhancement' label...
 @Latorrer have you had a moment to verify the approach suggested by @chrisjlocke works?
 Thanks @Latorrer. :smile:

Good stuff @chrisjlocke, well done. üòÄ 
  Thanks Lev, we'll look into it. :smile:
 Sorry for the delay, @leventelist! Can you try again using the latest version from master? This should work now:
```
qmake
make
make install
``` @leventelist As a thought, it's probably a good idea to install Qt 5.7 from the Qt.io download site too, then complie DB4S using Qt Creator that comes with that.

I've been trying things out on Ubuntu 16.04 today, to investigate a few of the issues reported over time.  It turns out that Qt versions older than Qt 5.7 have some weird problems. üò¶

Qt 5.7 though seems fine. :smile:  Sort of. :smile:

When you install Qt 5.7 (eg in ~/Qt by default), it comes with it's own version of `qmake`. eg somewhere under ~/Qt/5.7/

If you run that version of qmake, it's supposed to automatically choose the correct Qt 5.7 versions of bits instead of the older ones.

Hmmm, as a temporary thing which might be helpful, I took a bunch of screenshots earlier today of the Qt install + compile process, but on Ubuntu 16.04. I haven't yet renamed them into sensible things + added good description, but if you follow the sequence by timestamp it be pretty self explanatory:

&nbsp; &nbsp; https://github.com/sqlitebrowser/db4s-screenshots/tree/master/wiki/ubuntu_16.04

With the Qt version... it just needs to be version 5.7 or later.  Thinking about it now, you might as well pick the latest one (5.8), as there's probably useful extra bug fixes in that anyway.  The screenshots are for 5.8 too anyway.  But, up to you. :smile: Thanks Lev. :smile:

I'm working through some `qmake` stuff at the moment, and yeah our CMake setup turns out to be more complete for Linux.

When CMake is used it puts the icon file, metadata, etc in the right places.  But our Qmake install doesn't.  I'm looking into it now, but it might take a few more days of mucking around with until it's correct. :smile:

I doubt either CMake nor Qmake will detect missing dependencies up front though.  It's normally the kind of thing which a configuration file does (eg ./configure, which we don't have)... or the end user when the compile busts. üòÅ  No worries Lev, thanks. :smile:  It's been pointed out in private email that CMake is broken for our 3.9.1 tarball builds, while qmake still works fine.

We might as well update the Linux compile instructions in BUILDING.md for Qt5 and qmake.
 Getting this done will probably address #803 too.
 Ahhh, interesting.  We're just about to switch to Qt5-only, so we'd better get that fixed sooner rather than later. :smile:
 Cool, no worries at all. :smile:
 @ergovia-mobile Interesting.  Was that just now?

I got things to compile on Ubuntu MATE 16.10 yesterday using these steps:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/issues/920#issuecomment-270742689

Maybe I should spin up a VM and go through the steps again... üòÅ  Cool.  I still have the VM, so I'll try it out now. :smile: k, just updated the VM I was using yesterday with our very latest source code.

It compiled without issue, so that's good news.

I'm downloading Kubuntu 16.0.4.1 now.  I'll put that in a VM and try out the steps from yesterday on it, and see if I can figure out a proper build process for updating our instructions with. :smile: Kubuntu looks interesting.  I've not tried KDE in many years (since 3.x?), so this seems like a very polished experience.  Looks like the KDE development Community has gone in a good direction (unlike my personal opinion of the Gnome direction). :wink: Yep, the existing (CMake) build instructions are failing for me in a new Kubuntu 16.0.4.1 VM:

```
[ 88%] Building CXX object CMakeFiles/sqlitebrowser.dir/src/sqlitetypes.cpp.o
In file included from /usr/include/x86_64-linux-gnu/qt5/QtCore/qglobal.h:74:0,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/qchar.h:37,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/qstring.h:41,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/QString:1,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.h:7,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.cpp:1:
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h: In instantiation of ‚Äòuint qHash(const T&, uint) [with T = QVector<QSharedPointer<sqlb::Field> >; uint = unsigned int]‚Äô:
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:952:18:   required from ‚ÄòQHash<Key, T>::Node** QHash<Key, T>::findNode(const Key&, uint*) const [with Key = QVector<QSharedPointer<sqlb::Field> >; T = QSharedPointer<sqlb::Constraint>; QHash<Key, T>::Node = QHashNode<QVector<QSharedPointer<sqlb::Field> >, QSharedPointer<sqlb::Constraint> >; uint = unsigned int]‚Äô
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:758:27:   required from ‚ÄòQList<T> QHash<Key, T>::values(const Key&) const [with Key = QVector<QSharedPointer<sqlb::Field> >; T = QSharedPointer<sqlb::Constraint>]‚Äô
/home/jc/sqlitebrowser/src/sqlitetypes.cpp:364:44:   required from here
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:103:5: error: no matching function for call to ‚ÄòqHash(const QVector<QSharedPointer<sqlb::Field> >&)‚Äô
     Q_DECL_NOEXCEPT_EXPR(noexcept(qHash(t)))
     ^
In file included from /usr/include/x86_64-linux-gnu/qt5/QtCore/qshareddata.h:39:0,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/qsharedpointer.h:39,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/QSharedPointer:1,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.h:8,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.cpp:1:
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:65:52: note: candidate: constexpr uint qHash(char, uint)
 Q_DECL_CONST_FUNCTION Q_DECL_CONSTEXPR inline uint qHash(char key, uint seed = 0) Q_DECL_NOTHROW { return uint(key) ^ seed; }
                                                    ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:65:52: note:   no known conversion for argument 1 from ‚Äòconst QVector<QSharedPointer<sqlb::Field> >‚Äô to ‚Äòchar‚Äô
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:66:52: note: candidate: constexpr uint qHash(uchar, uint)
 Q_DECL_CONST_FUNCTION Q_DECL_CONSTEXPR inline uint qHash(uchar key, uint seed = 0) Q_DECL_NOTHROW { return uint(key) ^ seed; }
                                                    ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:66:52: note:   no known conversion for argument 1 from ‚Äòconst QVector<QSharedPointer<sqlb::Field> >‚Äô to ‚Äòuchar {aka unsigned char}‚Äô
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:67:52: note: candidate: constexpr uint qHash(signed char, uint)
 Q_DECL_CONST_FUNCTION Q_DECL_CONSTEXPR inline uint qHash(signed char key, uint seed = 0) Q_DECL_NOTHROW { return uint(key) ^ seed; }
                                                    ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:67:52: note:   no known conversion for argument 1 from ‚Äòconst QVector<QSharedPointer<sqlb::Field> >‚Äô to ‚Äòsigned char‚Äô
In file included from /usr/include/x86_64-linux-gnu/qt5/QtCore/qshareddata.h:39:0,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/qsharedpointer.h:39,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/QSharedPointer:1,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.h:8,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.cpp:1:
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:68:52: note: candidate: constexpr uint qHash(ushort, uint)
 Q_DECL_CONST_FUNCTION Q_DECL_CONSTEXPR inline uint qHash(ushort key, uint seed = 0) Q_DECL_NOTHROW { return uint(key) ^ seed; }
                                                    ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:68:52: note:   no known conversion for argument 1 from ‚Äòconst QVector<QSharedPointer<sqlb::Field> >‚Äô to ‚Äòushort {aka short unsigned int}‚Äô
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:69:52: note: candidate: constexpr uint qHash(short int, uint)
 Q_DECL_CONST_FUNCTION Q_DECL_CONSTEXPR inline uint qHash(short key, uint seed = 0) Q_DECL_NOTHROW { return uint(key) ^ seed; }
                                                    ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:69:52: note:   no known conversion for argument 1 from ‚Äòconst QVector<QSharedPointer<sqlb::Field> >‚Äô to ‚Äòshort int‚Äô
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:70:52: note: candidate: constexpr uint qHash(uint, uint)
 Q_DECL_CONST_FUNCTION Q_DECL_CONSTEXPR inline uint qHash(uint key, uint seed = 0) Q_DECL_NOTHROW { return key ^ seed; }
                                                    ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:70:52: note:   no known conversion for argument 1 from ‚Äòconst QVector<QSharedPointer<sqlb::Field> >‚Äô to ‚Äòuint {aka unsigned int}‚Äô
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:71:52: note: candidate: constexpr uint qHash(int, uint)
 Q_DECL_CONST_FUNCTION Q_DECL_CONSTEXPR inline uint qHash(int key, uint seed = 0) Q_DECL_NOTHROW { return uint(key) ^ seed; }
                                                    ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:71:52: note:   no known conversion for argument 1 from ‚Äòconst QVector<QSharedPointer<sqlb::Field> >‚Äô to ‚Äòint‚Äô
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:72:52: note: candidate: constexpr uint qHash(ulong, uint)
 Q_DECL_CONST_FUNCTION Q_DECL_CONSTEXPR inline uint qHash(ulong key, uint seed = 0) Q_DECL_NOTHROW
                                                    ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:72:52: note:   no known conversion for argument 1 from ‚Äòconst QVector<QSharedPointer<sqlb::Field> >‚Äô to ‚Äòulong {aka long unsigned int}‚Äô
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:78:52: note: candidate: constexpr uint qHash(long int, uint)
 Q_DECL_CONST_FUNCTION Q_DECL_CONSTEXPR inline uint qHash(long key, uint seed = 0) Q_DECL_NOTHROW { return qHash(ulong(key), seed); }
                                                    ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:78:52: note:   no known conversion for argument 1 from ‚Äòconst QVector<QSharedPointer<sqlb::Field> >‚Äô to ‚Äòlong int‚Äô
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:79:52: note: candidate: constexpr uint qHash(quint64, uint)
 Q_DECL_CONST_FUNCTION Q_DECL_CONSTEXPR inline uint qHash(quint64 key, uint seed = 0) Q_DECL_NOTHROW
                                                    ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:79:52: note:   no known conversion for argument 1 from ‚Äòconst QVector<QSharedPointer<sqlb::Field> >‚Äô to ‚Äòquint64 {aka long long unsigned int}‚Äô
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:83:52: note: candidate: constexpr uint qHash(qint64, uint)
 Q_DECL_CONST_FUNCTION Q_DECL_CONSTEXPR inline uint qHash(qint64 key, uint seed = 0) Q_DECL_NOTHROW { return qHash(quint64(key), seed); }
                                                    ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:83:52: note:   no known conversion for argument 1 from ‚Äòconst QVector<QSharedPointer<sqlb::Field> >‚Äô to ‚Äòqint64 {aka long long int}‚Äô
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:84:42: note: candidate: uint qHash(float, uint)
 Q_CORE_EXPORT Q_DECL_CONST_FUNCTION uint qHash(float key, uint seed = 0) Q_DECL_NOTHROW;
                                          ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:84:42: note:   no known conversion for argument 1 from ‚Äòconst QVector<QSharedPointer<sqlb::Field> >‚Äô to ‚Äòfloat‚Äô
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:85:42: note: candidate: uint qHash(double, uint)
 Q_CORE_EXPORT Q_DECL_CONST_FUNCTION uint qHash(double key, uint seed = 0) Q_DECL_NOTHROW;
                                          ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:85:42: note:   no known conversion for argument 1 from ‚Äòconst QVector<QSharedPointer<sqlb::Field> >‚Äô to ‚Äòdouble‚Äô
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:87:42: note: candidate: uint qHash(long double, uint)
 Q_CORE_EXPORT Q_DECL_CONST_FUNCTION uint qHash(long double key, uint seed = 0) Q_DECL_NOTHROW;
                                          ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:87:42: note:   no known conversion for argument 1 from ‚Äòconst QVector<QSharedPointer<sqlb::Field> >‚Äô to ‚Äòlong double‚Äô
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:89:52: note: candidate: constexpr uint qHash(QChar, uint)
 Q_DECL_CONST_FUNCTION Q_DECL_CONSTEXPR inline uint qHash(const QChar key, uint seed = 0) Q_DECL_NOTHROW { return qHash(key.unicode(), seed); }
                                                    ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:89:52: note:   no known conversion for argument 1 from ‚Äòconst QVector<QSharedPointer<sqlb::Field> >‚Äô to ‚ÄòQChar‚Äô
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:90:41: note: candidate: uint qHash(const QByteArray&, uint)
 Q_CORE_EXPORT Q_DECL_PURE_FUNCTION uint qHash(const QByteArray &key, uint seed = 0) Q_DECL_NOTHROW;
                                         ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:90:41: note:   no known conversion for argument 1 from ‚Äòconst QVector<QSharedPointer<sqlb::Field> >‚Äô to ‚Äòconst QByteArray&‚Äô
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:91:41: note: candidate: uint qHash(const QString&, uint)
 Q_CORE_EXPORT Q_DECL_PURE_FUNCTION uint qHash(const QString &key, uint seed = 0) Q_DECL_NOTHROW;
                                         ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:91:41: note:   no known conversion for argument 1 from ‚Äòconst QVector<QSharedPointer<sqlb::Field> >‚Äô to ‚Äòconst QString&‚Äô
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:92:41: note: candidate: uint qHash(const QStringRef&, uint)
 Q_CORE_EXPORT Q_DECL_PURE_FUNCTION uint qHash(const QStringRef &key, uint seed = 0) Q_DECL_NOTHROW;
                                         ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:92:41: note:   no known conversion for argument 1 from ‚Äòconst QVector<QSharedPointer<sqlb::Field> >‚Äô to ‚Äòconst QStringRef&‚Äô
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:93:41: note: candidate: uint qHash(const QBitArray&, uint)
 Q_CORE_EXPORT Q_DECL_PURE_FUNCTION uint qHash(const QBitArray &key, uint seed = 0) Q_DECL_NOTHROW;
                                         ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:93:41: note:   no known conversion for argument 1 from ‚Äòconst QVector<QSharedPointer<sqlb::Field> >‚Äô to ‚Äòconst QBitArray&‚Äô
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:94:41: note: candidate: uint qHash(QLatin1String, uint)
 Q_CORE_EXPORT Q_DECL_PURE_FUNCTION uint qHash(QLatin1String key, uint seed = 0) Q_DECL_NOTHROW;
                                         ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:94:41: note:   no known conversion for argument 1 from ‚Äòconst QVector<QSharedPointer<sqlb::Field> >‚Äô to ‚ÄòQLatin1String‚Äô
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:98:32: note: candidate: template<class T> uint qHash(const T*, uint)
 template <class T> inline uint qHash(const T *key, uint seed = 0) Q_DECL_NOTHROW
                                ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:98:32: note:   template argument deduction/substitution failed:
In file included from /usr/include/x86_64-linux-gnu/qt5/QtCore/qglobal.h:74:0,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/qchar.h:37,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/qstring.h:41,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/QString:1,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.h:7,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.cpp:1:
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:103:5: note:   mismatched types ‚Äòconst T*‚Äô and ‚ÄòQVector<QSharedPointer<sqlb::Field> >‚Äô
     Q_DECL_NOEXCEPT_EXPR(noexcept(qHash(t)))
     ^
In file included from /usr/include/x86_64-linux-gnu/qt5/QtCore/qdebug.h:45:0,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/QDebug:1,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.cpp:6:
/usr/include/x86_64-linux-gnu/qt5/QtCore/qset.h:241:6: note: candidate: template<class T> uint qHash(const QSet<T>&, uint)
 uint qHash(const QSet<T> &key, uint seed = 0)
      ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qset.h:241:6: note:   template argument deduction/substitution failed:
In file included from /usr/include/x86_64-linux-gnu/qt5/QtCore/qglobal.h:74:0,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/qchar.h:37,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/qstring.h:41,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/QString:1,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.h:7,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.cpp:1:
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:103:5: note:   ‚Äòconst QVector<QSharedPointer<sqlb::Field> >‚Äô is not derived from ‚Äòconst QSet<T>‚Äô
     Q_DECL_NOEXCEPT_EXPR(noexcept(qHash(t)))
     ^
In file included from /usr/include/x86_64-linux-gnu/qt5/QtCore/qsharedpointer.h:42:0,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/QSharedPointer:1,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.h:8,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.cpp:1:
/usr/include/x86_64-linux-gnu/qt5/QtCore/qsharedpointer_impl.h:834:24: note: candidate: template<class T> uint qHash(const QSharedPointer<T>&, uint)
 Q_INLINE_TEMPLATE uint qHash(const QSharedPointer<T> &ptr, uint seed = 0)
                        ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qsharedpointer_impl.h:834:24: note:   template argument deduction/substitution failed:
In file included from /usr/include/x86_64-linux-gnu/qt5/QtCore/qglobal.h:74:0,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/qchar.h:37,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/qstring.h:41,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/QString:1,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.h:7,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.cpp:1:
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:103:5: note:   ‚Äòconst QVector<QSharedPointer<sqlb::Field> >‚Äô is not derived from ‚Äòconst QSharedPointer<T>‚Äô
     Q_DECL_NOEXCEPT_EXPR(noexcept(qHash(t)))
     ^
In file included from /usr/include/x86_64-linux-gnu/qt5/QtCore/qsharedpointer.h:39:0,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/QSharedPointer:1,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.h:8,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.cpp:1:
/usr/include/x86_64-linux-gnu/qt5/QtCore/qshareddata.h:283:24: note: candidate: template<class T> uint qHash(const QExplicitlySharedDataPointer<T>&, uint)
 Q_INLINE_TEMPLATE uint qHash(const QExplicitlySharedDataPointer<T> &ptr, uint seed = 0) Q_DECL_NOTHROW
                        ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qshareddata.h:283:24: note:   template argument deduction/substitution failed:
In file included from /usr/include/x86_64-linux-gnu/qt5/QtCore/qglobal.h:74:0,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/qchar.h:37,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/qstring.h:41,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/QString:1,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.h:7,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.cpp:1:
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:103:5: note:   ‚Äòconst QVector<QSharedPointer<sqlb::Field> >‚Äô is not derived from ‚Äòconst QExplicitlySharedDataPointer<T>‚Äô
     Q_DECL_NOEXCEPT_EXPR(noexcept(qHash(t)))
     ^
In file included from /usr/include/x86_64-linux-gnu/qt5/QtCore/qsharedpointer.h:39:0,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/QSharedPointer:1,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.h:8,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.cpp:1:
/usr/include/x86_64-linux-gnu/qt5/QtCore/qshareddata.h:278:24: note: candidate: template<class T> uint qHash(const QSharedDataPointer<T>&, uint)
 Q_INLINE_TEMPLATE uint qHash(const QSharedDataPointer<T> &ptr, uint seed = 0) Q_DECL_NOTHROW
                        ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qshareddata.h:278:24: note:   template argument deduction/substitution failed:
In file included from /usr/include/x86_64-linux-gnu/qt5/QtCore/qglobal.h:74:0,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/qchar.h:37,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/qstring.h:41,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/QString:1,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.h:7,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.cpp:1:
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:103:5: note:   ‚Äòconst QVector<QSharedPointer<sqlb::Field> >‚Äô is not derived from ‚Äòconst QSharedDataPointer<T>‚Äô
     Q_DECL_NOEXCEPT_EXPR(noexcept(qHash(t)))
     ^
In file included from /usr/include/x86_64-linux-gnu/qt5/QtCore/qshareddata.h:39:0,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/qsharedpointer.h:39,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/QSharedPointer:1,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.h:8,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.cpp:1:
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:144:49: note: candidate: template<class T1, class T2> uint qHash(const QPair<T1, T2>&, uint)
 template <typename T1, typename T2> inline uint qHash(const QPair<T1, T2> &key, uint seed = 0)
                                                 ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:144:49: note:   template argument deduction/substitution failed:
In file included from /usr/include/x86_64-linux-gnu/qt5/QtCore/qglobal.h:74:0,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/qchar.h:37,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/qstring.h:41,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/QString:1,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.h:7,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.cpp:1:
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:103:5: note:   ‚Äòconst QVector<QSharedPointer<sqlb::Field> >‚Äô is not derived from ‚Äòconst QPair<T1, T2>‚Äô
     Q_DECL_NOEXCEPT_EXPR(noexcept(qHash(t)))
     ^
In file included from /usr/include/x86_64-linux-gnu/qt5/QtCore/qshareddata.h:39:0,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/qsharedpointer.h:39,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/QSharedPointer:1,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.h:8,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.cpp:1:
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:102:34: note: candidate: template<class T> uint qHash(const T&, uint)
 template<typename T> inline uint qHash(const T &t, uint seed)
                                  ^
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:102:34: note:   template argument deduction/substitution failed:
In file included from /usr/include/x86_64-linux-gnu/qt5/QtCore/qglobal.h:74:0,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/qchar.h:37,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/qstring.h:41,
                 from /usr/include/x86_64-linux-gnu/qt5/QtCore/QString:1,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.h:7,
                 from /home/jc/sqlitebrowser/src/sqlitetypes.cpp:1:
/usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:103:5: note:   candidate expects 2 arguments, 1 provided
     Q_DECL_NOEXCEPT_EXPR(noexcept(qHash(t)))
     ^
CMakeFiles/sqlitebrowser.dir/build.make:606: recipe for target 'CMakeFiles/sqlitebrowser.dir/src/sqlitetypes.cpp.o' failed
make[2]: *** [CMakeFiles/sqlitebrowser.dir/src/sqlitetypes.cpp.o] Error 1
CMakeFiles/Makefile2:71: recipe for target 'CMakeFiles/sqlitebrowser.dir/all' failed
make[1]: *** [CMakeFiles/sqlitebrowser.dir/all] Error 2
Makefile:149: recipe for target 'all' failed
make: *** [all] Error 2
```

Next step, try with qmake instead. Same message with the version of qmake installed from the Kubuntu repos.  The error line in the message seems to be:

    /usr/include/x86_64-linux-gnu/qt5/QtCore/qhash.h:103:5: error: no matching function for call to ‚ÄòqHash(const QVector<QSharedPointer<sqlb::Field> >&)‚Äô
     Q_DECL_NOEXCEPT_EXPR(noexcept(qHash(t)))

Maybe there's a C++11 setting not being picked up?

I'll try with the latest Qt (from qt.io), and see if that makes a difference. Looks like this function is missing: https://doc.qt.io/qt-5/qvector.html#qHash
The documentation says it's introduced in Qt 5.6, so I assume Kubuntu 16.04 ships an older version? Yep, seems to be Qt 5.5.1. @MKleusberg What do you reckon the right approach here is?  Should we declare ourselves to be Qt 5.6 (and above) only, or should we consider alternative approaches to making the code work with older Qt5?

I'm kind of thinking Qt 5.6 and above is probably ok.  The existing "long life" distributions (eg *buntu LTS, CentOS/RHEL) will be providing older builds of DB4S anyway.  Anyone wanting to build the latest code can *probably* download Qt ok. (?) Well, this is interesting.  It's impossible to download the Qt 5.7.1 release *without* getting Qt Creator forcibly installed as well.

What kind of sleazy bullshit from the Qt team is that? ‚òπÔ∏è 

I liked Qt Creator right up until this point.  No longer a fan. ‚òπÔ∏è  @ergovia-mobile If you download [Qt 5.7.1 from qt.io](http://download.qt.io/official_releases/qt/5.7/5.7.1/qt-opensource-linux-x64-5.7.1.run), then compile through Qt Creator (open the sqlitebrowser.pro file with it), things compile fine.

Haven't managed to get it compiling from the command line though, and I need to move onto some other stuff.

Are you ok to try the newer Qt approach? I think Kubuntu 16.04 uses Qt 5.5, correct?
In this case we could try this:
1) Open ```src/sqlitetypes.h```
2) After line 9 (```#include <QVector>```) add a new, empty line and insert this:
```c++
template <typename T>
uint qHash(const QVector<T> &key, uint seed = 0)
    Q_DECL_NOEXCEPT_EXPR(noexcept(qHashRange(key.cbegin(), key.cend(), seed)))
{
    return qHashRange(key.cbegin(), key.cend(), seed);
}
```
3) Try to recompile. Does it compile now? If yes, are table constraints working? If not, has the error message changed?

Maybe we can add this one function and get the minimum Qt version required down to 5.5. Just added a comment about Qt 5.6 and C++11 to the BUILDING.md file :smiley:

@justinclift What do you reckon, can we leave it like this? Or do we need to suggest using qmake instead of cmake as well? I'm not entirely sure if cmake is still broken and/or on what systems it's broken. Oops.  Just added this to my ToDo list for investigating this week.

I'll try it out probably Saturday and see if we can make it work with Qt 5.5. :smile: @frispete Yeah, it's a right PITA at the moment. :wink:

As a thought, have you tried building from our master branch instead of the tarball?  Some of the problems should be fixed there, though not all. üò¶  @frispete No argument here.  We [changed the project name in CMakeLists.txt](https://github.com/sqlitebrowser/sqlitebrowser/commit/2957974974bb874b0219e52d63c198658c02f686) when we realised the scope of the problem.  It's now only "DB Browser for SQLite" for the OS's which have a need for that (OSX and Windows).

On OSX it's still a bit tricky, as there are two distinct use cases for it:

1. Launch via the GUI ("DB Browser for SQLite" is appropriate there)
2. Launch from the command line ("sqlitebrowser would be better there")

We don't have that fixed properly yet either.  We're only really catering to 1. above at present. ‚òπÔ∏è  @MKleusberg @innermous Any interest in getting the system provided QScintilla picked up?

I rarely use Linux (more into OSX, BSD), so it's not something I personally care about atm. :smile: @justinclift I hate that cmake file. But I will have a look at it, maybe even this evening.
So it's a deal, @frispete :wink: Ugh, the libscintilla2-dev package in Debian (and Ubuntu) is still built against Qt4. So unfortunately I can't test this that easily.

@frispete I've just pushed a largely untested commit which *might* work on openSUSE. Feel free to give it a try :smiley: @frispete Added some notes for compiling DB4S on OpenSuSE Leap 42.2 and Tumbleweed:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/wiki/Notes-for-compiling-on-OpenSuSE

Only tried with CMake so far.  As @MKleusberg points out, the QScintilla provided by the system isn't functional (for us).  So, even though we can point the compile at it, and it finishes without error... the result segfaults immediately on launch:

```
$ /usr/local/bin/sqlitebrowser
Segmentation fault (core dumped)
```

Adding `-DFORCE_INTERNAL_QSCINTILLA=ON` (as per Martin above) to the CMake line works:

```
$ cmake -DFORCE_INTERNAL_QSCINTILLA=ON
$ make
$ sudo make install
```

The resulting executable compiled from that works fine.  Tested just now.

Any idea if OpenSuSE is likely to provide a Qt5 version of QScintilla? :smile: @MKleusberg Your [suggested patch to sqlitetypes.h](https://github.com/sqlitebrowser/sqlitebrowser/issues/832#issuecomment-271159422) works, and lets DB4S build on Ubuntu 16.04.2 again.

Made a proper commit out of it [here](https://github.com/justinclift/sqlitebrowser/commit/c6fbb84773dc11bcc6a60d5e6d67f645068abe0b).

If that patch is your creation and you're happy with it, should we pull it across it across to master "as is"?  If it's a cut-n-paste from the Qt source though, we should at least change it a bit first to avoid licensing problems. :wink: An alternative that seems to work is installing Qt 5.6 through this PPA first:

&nbsp; &nbsp; https://launchpad.net/~ci-train-ppa-service/+archive/ubuntu/stable-phone-overlay

Compiling DB4S works after that, without the above patch.

If the patch approach is workable though, it's probably better as that'd also give us slightly wider compatibility in general (Qt 5.5). @justinclift Hmm, not much to change in these few lines ^^ I've changed the commit to include an ```#if``` in order to not break the build for anybody using Qt 5.6 or later and pushed it to master. If there aren't any more problems, building on Qt 5.5 should work now. Awesome. :smile:  At present, our Windows nightly builds aren't signed.  Mostly because I wasn't aware of a way to do it automatically. :wink:

StartCom support have emailed through some links with information on how it can be done:
- https://blogs.msdn.microsoft.com/winsdk/2009/11/13/steps-to-sign-a-file-using-signtool-exe/
- https://msdn.microsoft.com/en-us/library/windows/desktop/jj835835(v=vs.85).aspx

It's not urgent, but would be a good thing to get happening.
  Are you sure the _records_ are getting sorted, and not just the _view_ of them? I think in the newer version, the rowid is sorted descending, so newer records are at the top of the list. 

Records are not 'sorted' per se, but have a rowid column. Unless this is an auto increment field, rowids will get reused.
 @rvalk Ahhh... it sounds like there's a small misunderstanding with how databases work.

It should be pretty easy to make this work for you though. :smile:

With SQL databases, you control the order of rows using an "ORDER BY" statement in your SQL query:

&nbsp; &nbsp; http://www.w3schools.com/sql/sql_orderby.asp

With your application, what is the SQL query you are using at the moment?  We can probably suggest how to adjust it, so the order is how you want. :smile:
 There was a question recently on the sqlite mailing list that mentioned sorting, and someone wanted to specifically insert a record between two rowids, so 'shuffle down' the other rowids.  Thats not what the rowid column is for.  So this was a good explanation:

> You see, in the relational database model there is no such things as "records".  What you have above (a table) consists of a "bag of tuples".  There is no order to them.  They are merely a "bag" (known mathematically as a set).  When you issue a query (SELECT) you project sets and conditions and obtain a set of data as a result (another bag of data).
> 
> If you wish an order, you tell it what order to put it in (using an ORDER BY clause).  Due to the inherently sequential nature of modern computing technology most programming languages are unable to deal with the data in its native form (a set) and therefore you retrieve and work on them one after each, in forward order only, in the order you requested presentation using the ORDER BY clause.
> 
> The "integer primary key" (whether you use autoincrement of not) is simply a unique key in each record that is derived sequentially (unless you provide it) based on the previous (or biggest ever previously used, if you use autoincrement) number in that field, to uniquely identify the contents of that tuple.  It does not contain any useful information which you should be manipulating in any way other than using it as a linkage to perhaps other related tuples in other tables.
 @justinclift i think he means db sctructure tab.
 Hmmm, that's possible too. :wink:
 @rvalk Cool. :smile:

You will probably need to update the SQL query to be:

```
Select * from adapter ORDER BY something_goes_here;
```

The **something_goes_here** is a new column, with a row number in it, so that the order is always given in the row number.  Kind of like this:

| something_goes_here | field1 | field2 | field3 |
| --- | --- | --- | --- |
| 1 | abc | def | ghi |
| 2 | jkl | mno | pqr |
| 3 | stu | vwx | yz1 |

Does that make sense?

By the way, pick a better column name than "something_goes_here". :smile:
 @rvalk I understand.  It's a pain that this has changed from your point of view. üò¶ 

The problem is that SQL databases _never_ guarantee an order for their results without being told to (eg using ORDER BY).  SQL databases aren't really a spreadsheet, even though they can look like it at first.

With SQL, you really, really, really need to know how to grab the exact bit of data you want.  Using a row order like a spreadsheet is kind of um... playing with fire?
 @rvalk As an alternative approach, instead of using an order like the above example... do each of your configuration lines have a unique name or something?
 Ahhh.  Yeah.  It sounds like adding an index will probably be the best idea then. :smile:
 Thanks @rvalk. :smile:
  Both of those issues were definitely fixed... Now they're popping again.
 **UPD**: 

> Also when I switching through the tabs, the table that I selected in "Browse Data" tab suddenly relocated to the first table of the db.

It works fine since gbeff43a revision. Happy hacking!
 Hi @roxx 

If you download the latest 'night;y' build of DB4S:
http://sqlitebrowser.oldsch00l.com/sqlitebrowser.exe.zip

these issues should be fixed in that version.... theoretically.... 
 @chrisjlocke they are not.
 > If I want to browse the data which I select from "Database Structure Tab"
> It opens the first table of the database, not the one I selected. 

This was working couple months ago, after some of @MKleusberg 's commits. Real question is what was that commit exactly.
 > @chrisjlocke they are not.

Aah, sorry.  

> Also when I switching through the tabs, the table that I selected in "Browse Data" tab suddenly relocated to the first table of the db.

This doesn't occur in the latest nightly.  
 Yeah, it doesn't. But I am talking about another bug he mentioned. He mentioned 2 bugs.
 Yup, got that. Just reporting my findings... :smile:
 Isn't this the same as #879, which is caused by #748? @revolter Sounds like it.  The carriage return isn't set automatically for us Windows users... I presume you've found that option now! :smile:
 @chrisjlocke Should we change this default for Windows users?
 I think it's just making the option more prominent. If have to check on a fresh install, but I think the option is blank, which doesn't help, so it's easy to miss. 
 No worries.  It should be pretty trivial to change the default for Windows. :smile:

If it does turn out to be needed, file an issue and someone can probably get it done pretty quickly.
  ### Details for the issue

<!--

Thanks for coming here to report an issue. :)

Please describe it in this section, fill out the correct check boxes
below with an "x", then click the "Submit new issue" button at the bottom

-->

I had a database with a 'database image is malformed' as my application crashed during importing.  DB4S was able to create an export of the database.  Back in DB4S and I clicked **New Database** and **Import Database from SQL**.  So far, for a 80 MB SQL file (approx 501,000 lines) its taken an hour and its on 2%.  CPU for DB4S is approx 26%, but the disk is chuggin' away.  

Edit: Cancelled it.  It had done 20,000 rows in that hour.

Edit 2: Just pasted the 80 MB SQL file in the 'Execute SQL' tab, and now regret that decision.  Thats worse than the import (wondered if the Execute SQL would obey the 'BEGIN' and 'COMMIT' transaction but don't think it will...) as its now got no progress.

If anyone wants to experiment, the 80 MB .SQL file is here:
https://we.tl/sTRssetyAB
(link will expire in one week... will upload it somewhere else by then)

This links to issue #568 and was first 'identified' in that, but todays 'experience' has reminded me to open another issue about it...
### Useful extra information

<!-- The info below often helps, please fill it out if you're able to. :) -->
#### I'm opening this issue because:
- [ ] DB4S is crashing
- [ ] DB4S has a bug
- [ ] DB4S needs a feature
- [x] DB4S has another problem
#### I'm using DB4S on:
- [x] Windows: ( _version:_8 and 10 ___ )
- [ ] Linux: ( _distro:_ ___ )
- [ ] Mac OS: ( _version:_ ___ )
- [ ] Other: ___
#### I'm using DB4S version:
- [ ] 3.9.1
- [x] 3.9.0
- [ ] Other: ___
#### I have also:
- [x] Tried out the nightly version: https://github.com/sqlitebrowser/sqlitebrowser#windows
- [x] Searched for an existing similar issue: https://github.com/sqlitebrowser/sqlitebrowser/issues?utf8=%E2%9C%93&q=is%3Aissue%20
 This might be a good way for us to experiment with profiling stuff for DB4S.

If it turns out the problem bits are in our code, instead of in SQLite/SQLCipher, then it's something we could probably affect.

With PostgreSQL, performance for things like this can be hugely changed by adjusting buffers and some PostgreSQL settings prior to an initial import.  There might be similar things we can do for SQLite/SQLCipher, as this performance problem has been mentioned multiple times before.  It's probably a good thing for us to get fixed. :smile:
 I'll knock up my own VB app pumping this stuff into a database, comparing one transaction to a series of transactions.  Its mentioned that a series of inserts without a transaction is effectively a series of individual transactions, which is extremely costly, performance-wise.
 OK, so while adding records into my 'bloat' database to help tinker with another issue, I tweaked it to add 'test' into a database.  My program can import about 10 records a second.  Disk IO is also quite high, as its committing each insert to disk each time.  It'll take 8 to 10 minutes (and a new hard drive...) to import 5000 records.  While there is one connection, it is creating a new 'transaction' (simply an insert statement) for each record.  To clarify for the avoidance of doubt, I am not using BEGIN/COMMIT around the insertion of this one record.
After wrapping the whole routine of importing 5000 records in a BEGIN and COMMIT, the initial insert of 5000 records takes 4 seconds and approx 3 seconds of a disk splurge at the end to commit the data.  

From this experiment, I can conclude the import from DB4S is not using transactions.
I'll amend my program to read the DB4S table export and see how long that takes...
 Cool.  That's definitely something we can control then. :smile:

The question is now "why is it doing that?", as we've previously put effort into making sure imports happen in a transaction.
 @chrisjlocke If you have a few minutes to try, would you be ok to try importing with DB4S again, but try manually setting the synchronous PRAGMA to OFF (via execute SQL tab) first?

&nbsp; &nbsp; https://www.sqlite.org/pragma.html#pragma_synchronous

Kind of thinking that might be a useful workaround for now.
  Updated patch here, developed by [Alan Garny](https://www.riverbankcomputing.com/pipermail/qscintilla/2016-October/001167.html):

&nbsp; &nbsp; https://github.com/Homebrew/homebrew-core/pull/5877

Haven't tried it yet as I'm focused on other bits.  If no-one gets to it before me, I'll try it out in the next few days. :smile:
 @justinclift Any update on this? :smiley: I'm kind of thinking this probably isn't an issue now, since (I think) the [update for qscintilla you pushed yesterday](https://github.com/sqlitebrowser/sqlitebrowser/commit/bddae31bf12b3ad050104352851d7a0b25886613) takes care of things.

@agarny Thoughts?  Does the latest qscintilla release solve the problem properly? :smile: @MKleusberg Ugh... it seems like QScintilla have switched their codebase to be GPLv3 ***only*** with no prior warning (?): https://github.com/opencor/opencor/issues/1301

I'm kind of thinking we'll either needs to drop back to the version prior to that change, or pick a different library. üò¶  Further reference:

* https://www.riverbankcomputing.com/pipermail/qscintilla/2016-March/001105.html
* https://www.riverbankcomputing.com/pipermail/qscintilla/2017-May/001203.html Same problem here. We have some (minor) problems with QScintilla and I hope that the new version (or some future version) might fix them. And since I don't know about any good alternative we'll probably have to stick with QScintilla...

Same for qcustomplot by the way. That seems to be licensed under GPL v3, too, and that not just for the latest version. @agarny Thanks. :smile:

@MKleusberg I likely jumped the gun with worrying about the QScintilla license change.  The MPLv2 part of our licensing looks like it's compatible, so we're ok:

&nbsp; &nbsp; https://www.mozilla.org/en-US/MPL/2.0/FAQ/#mpl-and-lgpl Closing this, as it seems solved. üòÅ  Cool :smiley:

This license chaos always reminds me of [this article](http://250bpm.com/blog:82) :wink: Oh wow, that's a fairly awesome article.  Hadn't come across it before and it raises a concept I'd not yet seen. :smile:  Heh Heh Heh, that's interesting plotting. :smile:

This request makes sense.  Personally I have no idea how to implement it, but hopefully someone else in the team does. üòÄ 
 I don't even understand why is this happening :/
 I'll just drop this link here as a reminder for myself:
http://www.qcustomplot.com/documentation/classQCPCurve.html  Hmmm, this seems like it might be do-able using straight SQL.  Probably something like using a temporary table along with an auto-increment key.

I don't have the time/inclination to try it out personally just yet, but in theory (!) it should work. :smile:
 There are at least two ways to realise this in SQL:
1) Create a temporary table like with the results of your select statement. Then plot the data from that table instead of directly plotting the select results.

``` sql
CREATE TEMPORARY TABLE tmp AS SELECT total_vol, jname FROM jhem, jdata WHERE jhem.jid=jdata.jid ORDER BY total_vol;
SELECT rowid,* FROM tmp; -- <- Plot this!
```

2) Modify the query to include a row counter. But this makes the query a lot more complicated.

``` sql
SELECT (SELECT COUNT(*) FROM jhem x, jdata y WHERE x.jid>a.jid AND x.jid=y.jid ORDER BY y.total_vol) AS rownum, b.total_vol, a.jname FROM jhem a, jdata b WHERE a.jid=b.jid ORDER BY b.total_vol;  -- <- Haven't tested this but you might get the idea.
```

Still, I think @struck89's suggestion to have it in the UI makes some sense. None of these approaches is very userfriendly and I am almost certain that I made a mistake or two in the SQL for the second approach.
 @struck89 Sorry for the delay but I believe this is fixed now :smiley:

The gear button you discovered was actually buggy. It is supposed to load all data (for large datasets only a part is loaded, so there would be data missing in the plot) but it did this only for the Browse Data tab. When there was a plot based on a manual SQL query like you had it would load the data from the Browse Data tab and show that. This data included the rowid but was not connected to your query in any way. This is fixed now: the gear button should always load the correct data now.

I've also added a 'Row #' column to the column selection view. In simple cases this is the same as the rowid but is way more reliable for what you want :smiley:

Do you have the time to give tomorrow's nightly build a quick test and report back if it's working for you? :smiley: 
 @struck89 Sorry to hear that you're unemployed now :crying_cat_face: But thank you so much for opening all those issues concerning the plot feature :+1:  We'll try our best to implement those features one by one in the near-ish future.

Also thank you for testing the nightly build and confirming that it's working now :smiley: I'll close this issue then. By the way, out of curiosity: what sort of data were you working on there? I was wondering, especially when seeing the loop in the 'order by' issue :smiley:  As a thought, have you tried adjusting things in `Preferences` ‚Üí `SQL`?
![screen shot 2016-10-12 at 16 57 38](https://cloud.githubusercontent.com/assets/406299/19317481/0e86600e-909d-11e6-9a4a-ef43f76cd244.png)
In theory, the "SQL editor font" and the font size field below it should control that.

If that's not working for you, let us know so we can investigate. :smile:
 No worries at all.  We all do things like that occasionally. :wink:
 I remember I had the same problem when I first installed DB4S. Could we bump up the default size?
 For sure! Here it is: #737. I also noticed it too while working on another issue. Needs to be solved.
 Ahhh, so the black on black thing wasn't just a one-off something.  Seems like there's something about Sierra which is triggering it.

We'll probably need to raise the priority of it then, as Sierra is now in use by people.
 @revolter If you want to increase the default font size, go for it. :smile:
 As a curiosity, @OneMHz, what font size did you use?
 I was thinking to bump it up to 12 too. I'll wait for more opinions then I'll do it, thanks!
 I have it on 8 and it is still quite large?! Using the Bitstream Vera Sans Mono font. Writing text on a computer screen is so weirdly complicated.. ^^
 Hmm, I use 12 on a MacBook Pro Retina and an older iMac and it's not too small and not too large :-?
 Heh Heh Heh, it might be practical to #ifdef the default to be OS specific.
 Might be necessary. But I'm not entirely sure if it depends on the OS or if it's even more random.
 This is Courier New on OSX at size 15 for me.  It's not a HiDPI screen:

![screen shot 2016-10-12 at 22 48 22](https://cloud.githubusercontent.com/assets/406299/19328936/17bf8e76-90ce-11e6-94c0-fe20bd7459ed.png)
 We should probably try it out on a few different OS's with the exact same font, and see what the results are.
 Bitstream Vera Sans Mono seems to be available here:

&nbsp; &nbsp; http://www.dafont.com/bitstream-vera-mono.font

It uses the Open Font License, so we're ok to test with it. :smile:
 This is with Bitstream Vera Sans Mono, at size 15 (on OSX, using a [Cintiq 27QHDT](http://www.wacom.com/en-gb/products/pen-displays/cintiq-27-qhd-touch#Specifications) monitor - 2560 x 1440px resolution, not HiDPI):
![screen shot 2016-10-12 at 22 53 53](https://cloud.githubusercontent.com/assets/406299/19329083/e1d80f4e-90ce-11e6-9bd1-1139edbae6dc.png)
 Here is Bitstream Vera Sans Mono on 8pt:
![8](https://cloud.githubusercontent.com/assets/3153504/19329713/8e1d57fe-90da-11e6-9d28-dd3a8d973c8c.png)
And here on 15pt:
![15](https://cloud.githubusercontent.com/assets/3153504/19329723/94adf146-90da-11e6-8226-f97a6fd2d1a7.png)

I'm running on Debian Linux using KDE and a 1680x1050 monitor, no zoom or anything.
 Interesting.  That 8pt text would be "too small" for me.  The 15pt probably "too big". :wink:
 `Lucida Grande @12px` on MacBook Pro Retina:

<img width="1185" alt="screen shot 2016-10-13 at 01 41 00" src="https://cloud.githubusercontent.com/assets/5748627/19330281/271ed5ee-90e6-11e6-812a-ad2cf1563ab6.png">
 @revolter Try with [Bitstream Vera Sans Mono](http://www.dafont.com/bitstream-vera-mono.font)?
 I can't install it :(
 Error message, or something else?
 Nothing, `Font Book` opens, but the font isn't in the list nor in the DB4S's fonts dropdown after restarting it.
 Guess what, it works now. I added it from the `Font Book`'s `File` menu
 Cool. :smile:
 Font size 15:

<img width="1185" alt="screen shot 2016-10-13 at 02 15 59" src="https://cloud.githubusercontent.com/assets/5748627/19331077/0c6e3cd0-90eb-11e6-8f4a-0ca78fde622f.png">

Font size 12:

<img width="1185" alt="screen shot 2016-10-13 at 02 16 11" src="https://cloud.githubusercontent.com/assets/5748627/19331083/16de315c-90eb-11e6-9eb1-b4b3ebfe67a7.png">

I personally find 15 to be too big with either font.
 k, for OSX lets make the default 12?

The others can probably remain whatever they are for now. :smile:
 Just added a commit to make 12pt the default on OSX: https://github.com/sqlitebrowser/sqlitebrowser/commit/980429debd4cfb358333b8f86967349dac08b7a6.
 Sounds like a good first step :smiley: It's only affecting new users though. Might be a good idea to try to do some poll via Twitter or so to ask long time users what settings they use there. Not sure if that's a good idea or just producing more confusing data.
 Just joining the sharing party with a Windows inclusion... (also so there is a comparison)

15pt:
![image](https://cloud.githubusercontent.com/assets/7872218/19349994/e1f03676-914d-11e6-8bf0-58f9bd9d822a.png)

12pt
![image](https://cloud.githubusercontent.com/assets/7872218/19350036/0cc25050-914e-11e6-8c51-2700f56b0752.png)

8pt:
![image](https://cloud.githubusercontent.com/assets/7872218/19350025/fe566182-914d-11e6-8291-175b00955404.png)

So for me, 10 or 11pt would be my chosen size.  
 Heh Heh Heh.  @chrisjlocke Pick one? :wink:
 @whamsy That's a little bit unclear.  Are you meaning for DB Browser for SQLite (DB4S), or for a different application? :smile:

If you're meaning for DB4S, the font size can be changed in `Preferences`.  We don't have any key combinations to change them live though... but now that you mention it, that's not a bad idea for us to think about. üòÅ 
 @whamsy As an extra thought, for the applications which use <kbd>‚åò</kbd>+<kbd>-</kbd> to shrink the font size, some of them use <kbd>‚åò</kbd>+<kbd>+</kbd> to increase it.  Guessing you've already tried that?
 No worries. :smile:

With DB4S there are two settings for font size in `Preferences`, each affecting different things.

To change the font size for the Browse Data tab, go to `Preferences` ‚Üí `Data Browser` ‚Üí `Font` ‚Üí `Font size`:
![screen shot 2016-10-14 at 01 44 31](https://cloud.githubusercontent.com/assets/406299/19372005/ef71fb6a-91af-11e6-8fc7-eda403db38e4.png)
To change the font size for the `Execute SQL` tab, go to `Preferences` ‚Üí `SQL` ‚Üí `SQL editor font size`:
![screen shot 2016-10-14 at 01 45 19](https://cloud.githubusercontent.com/assets/406299/19372004/ef7114d4-91af-11e6-8e26-c3cb30acd14a.png)
Does that help?
 Ironically... I didn't know/remember about the <kbd>‚åò</kbd>+<kbd>-</kbd> key combination. :wink:

Testing it here now though... and yep it works.  At a guess, it _might_ be something we inherit from one of the widgets we embed (QScintilla).  But not sure.

Trying out <kbd>‚åò</kbd>+<kbd>+</kbd>, it works for me if I use the <kbd>+</kbd> key on the number pad (I'm using a full sized PC keyboard via usb).  But it doesn't work for me using the <kbd>+</kbd> key on the main keyboard. :frowning:
 > it works for me if I use the + key on the number pad but it doesn't work for me using the + key on the main keyboard

There's a similar quirk in Windows.  With date picker controls (eg:
![image](https://cloud.githubusercontent.com/assets/7872218/19376755/980fd4d6-91d8-11e6-94ec-da773c35b5df.png)
You can click on the day and use the + and - to go forward/back a day.... unless you use the +/- on the main keyboard, when it does nothing.  Annoyingly it doesn't work on my laptop either.  üëé 
 @chrisjlocke I'd like to close this issue, as the default font size on OSX has been adjusted.

If you pick new font size for Windows, we can change it as well. :smile:
 @ghellquist Yeah, this was added after the 3.9.1 release, so (in theory) it should be in the nightly builds from a few weeks after that release. No worries at all.  Sorry if I was a bit abrupt, it's been one of those days... üò¶ 

The download locations for our nightly builds are on the front page of our repo if that helps. :smile: Closing this now, as it seems to be fixed. :smile:

(if that's not the case, this is welcome to be reopened)  You can lower the `prefetch` setting that specifies how many rows to load in advance. You can find it in `Preferences > Database > Prefetch block size`. The minimum value is `255`. Let me know if it improves the load speed or not.
 Is this linked to #761 where a large amount of text (eg, BLOBs) is in the table?
@afbpinheiro- irregardless of the number of rows, have you fields containing a large amount of text? (> 30,000 characters)
 @afbpinheiro Just to check... does it speed up if you choose a smaller number in `Preferences` ‚Üí `Data Browser` ‚Üí `Content` ‚Üí `Symbol limit in cell`?

  ![screen shot 2016-10-01 at 17 27 46](https://cloud.githubusercontent.com/assets/406299/19015944/0b954b48-8806-11e6-8710-644bdbbab6ab.png)

If you make it something really low, like `1` just to experiment with, it would be interesting to know if that makes a difference. :smile:
 Thanks, that's useful to know. :smile:

It's definitely not the text rendering then. :wink:
 Are you able to send us the database you are using? Or remove sensitive information and send it? Or only the schema and the number of rows in it?
 @mafagafogigante Manually did it, using a really old version of [Snag It](https://www.techsmith.com/snagit.html). :smile:
 How big is the physical database (MB) ?  To solve another issue (fields with >300,000 characters) that database has thousands of rows (about 20,000), and while my laptop initially struggles to open it (compared to 'normal' databases) its only about 20 seconds.  This database is about 800 MB.
I assume during the two minutes it takes to open the database, the disk IO is going through the roof?  The details from the task manaager would be handy - memory usage of DB4S and disk IO rate.
 Closing this due to lack of response. üò¶   If you double click on the coloured bar in the Y column, a colour picker should appear allowing you to pick an alternative colour.

Oh, and no, if you save the database as a project, the plot colours aren't saved, so if you do spend an hour picking lovely colours, they'll be lost when you close the database.  So don't ever close the database.  Ever.

Oh, and welcome to GitHub / DB Browser for SQLite, etc.  Your first ticket was a great one!  Welcome to the group!
 Interesting.  Trying out the plot stuff now (it's not something I've used much personally) looks useful.  The filters in the Browse Data table affect it too, which is good for displaying specific things.

At the very least, we should save the plot colours into project files, and restore them when loaded.

Trying to think how best to solve the "default colours" problem though.  Maybe we need to add yet another set of Preferences :wink:, this time holding the default colours to be used for the `y` column.  Something like:
- Row 1 = blue
- Row 2 = red
- Row 3 = magenta
- ... (for say, 16 rows)

I _think_ this would achieve the general goal, and if combined with saving colours in project files, would let people override things for specific databases too.

Thoughts? :smile:
 Hmmm, I fear having colors preferences is a bit of an overkill. We could create a constant common sense palette of colors and use those, _and_ save the user's overwrites in the project file.

We can also generate them using HSL instead of RGB, by changing only the hue while maintaining a constant saturation and lightness like [this answer](http://stackoverflow.com/a/470747/865175).
 @revolter Sounds workable to me.  Want to get it done? :smile:
 I could try, sure üòÑ
 Should this be a #hacktoberfest thing?
 @struck89 The speed stuff gets done at can be fairly arbitrary.  If something looks interesting to muck around with, the chances of it getting done sooner are much higher than stuff that seems super boring. üòâ 
 @struck89 First of all a warm welcome to Github from my side as well :smiley: Thanks for opening this issue!

I've just opened a pull request (#819) with which the plot information will be stored internally. This will have two effects:
1. When configuring a plot, changing the current table, and then coming back to the first table you'll see your plot again with all the colours you have defined.
2. And (hopefully) all the plot information will be stored in the project files. You will still get yellow plots from time to time but at least your personal colour settings can be stored this way. And as far as I understand, Iulian is working on a better colour selection algorithm, too.

Also, feel free to open as many issues as you like, no matter whether plotting related or not. Maybe not every issue will get as much attention as this one - we're all having our private lifes - but it's good to know what we can do to improve DB4S even further :smiley: 
 @MKleusberg Any idea how easy/difficult it would be to have some kind of image export for the plot area?  eg "Save to PNG" (or maybe something scalable like SVG?)
 There already is :wink: 
![spectacle ra7843](https://cloud.githubusercontent.com/assets/3153504/19328548/70c6027e-90d4-11e6-8a7e-8a44f372dcb0.png)
 Oops. üòÅ 
 No problem :smiley: 
 @struck89 and others, what do you say about this:

<img width="489" alt="screen shot 2016-10-13 at 03 05 40" src="https://cloud.githubusercontent.com/assets/5748627/19332142/0902f8cc-90f2-11e6-9399-020ea5daa2ff.png">

?
 Well, it was 3AM when I did that. I was hoping of achieving these colors programmatically, but sadly, I didn't get it right, as you noticed. I'll try to fiddle with it and see if I get it right. The advantage of this method is that the colors are the same every time for a given table (actually, for a number of rows).
 @revolter Maybe look for an algorithm which determines "colour distance"?  eg how much difference there is between two given colours

Then use your first piece of code from above to generate an initial colour list, + use a "colour distance" algorithm to make sure similar values aren't grouped near each other?
 I tried using the algorithm from [this article](http://martin.ankerl.com/2009/12/09/how-to-create-random-colors-programmatically) too but there are some 2 similar colors pairs.
 No worries.  If all else fails we can just pick a suitable (say) 20 values and hard code them. :wink:
 @struck89 Just merged that PR. So if you're using the project files or plan to do so, with tomorrow's nightly build the plot settings (including the colours!) will be saved in the project file.
 Well, I couldn't get it well by generating the colors programmatically :( I wanted for them to be generated based on the number of columns. So, for a table with say 10 columns, they would get the same color every time, not completely random.
 If you set the same seed value every time, wouldn't the randomness disappear?
 Didn't thought about that :-?
 :wink:
 I've just pushed a commit which adds a static colour table of 12 colours (taken from the LibreOffice chart colours). Until we come up with a working algorithm this hopefully improves the situation a bit :) As a data point for choosing colours, this site might be useful:

&nbsp; &nbsp; http://colorbrewer2.org

Their GitHub repo:

&nbsp; &nbsp; https://github.com/axismaps/colorbrewer/

The "downloads" link there has a list with 165 palettes.  If desired, we could get pretty fancy with things. üòÄ   ### Details for the issue

<!--

Thanks for coming here to report an issue. :)

Please describe it in this section, fill out the correct check boxes
below with an "x", then click the "Submit new issue" button at the bottom

-->

Pressing <kbd>alt</kbd> + <kbd>backspace</kbd> white in the _Execute SQL_'s editor, it starts to undo modifications instead of deleting words.
Pressing <kbd>alt</kbd> + <kbd>left arrow</kbd> correctly jumps through words.

Is is the same on Linux and Windows too?
### Useful extra information

<!-- The info below often helps, please fill it out if you're able to. :) -->
#### I'm opening this issue because:
- [ ] DB4S is crashing
- [x] DB4S has a bug
- [ ] DB4S needs a feature
- [ ] DB4S has another problem
#### I'm using DB4S on:
- [ ] Windows: ( _version:_ ___ )
- [ ] Linux: ( _distro:_ ___ )
- [x] Mac OS: ( _version:_ 10.11.6 )
- [ ] Other: ___
#### I'm using DB4S version:
- [x] 3.9.1
- [ ] 3.9.0
- [ ] Other: ___
#### I have also:
- [x] Tried out the nightly version: https://github.com/sqlitebrowser/sqlitebrowser#windows
- [ ] Searched for an existing similar issue: https://github.com/sqlitebrowser/sqlitebrowser/issues?utf8=%E2%9C%93&q=is%3Aissue%20
 Alt+Backspace deletes everything in Windows.
Alt+Left arrow does nothing.

In Windows, Ctrl+Left arrow jumps backwards to the beginning of the previous word.
 <kbd>alt</kbd> + <kbd>backspace</kbd> on macOS is <kbd>ctrl</kbd> + <kbd>backspace</kbd> on Windows. Sorry I forgot to mention this.

Same with <kbd>left arrow</kbd>.
 @revolter When you say "instead of deleting words" where is that expectation coming from?

Asking because <key>alt</key> + <key>backspace</key> behaviour isn't one I'm familiar with.  Kind of wondering if maybe it's zsh specific or something? :smile:

Note - I'm no shortcut expert, so it's completely possible it's a well known thing and I've just somehow never learned it (until now). :wink:
 @justinclift, Really? It's a standard keyboard, default system one, works in almost any editor. I was using it since having a Windows machine.

And I just read your disclaimer üòÜ Yes, it's well known. Only that is <kbd>ctrl</kbd> on Windows but <kbd>alt</kbd> on macOS.
 No worries.  It's not the first one I've somehow never known about. :wink:
 As an initial thought, I'm kind of suspecting it might be related to QScintilla.  Other key binding stuff seems weird when on the Execute SQL tab, so this might be related.
 I thought so too. I'll look into QScintilla's documentation some time soon, but this annoyed me tens of times since I started using DB4S but delayed creating an issue.
 I think it's built into QScintilla :-? The problem seems to be in this line and the next one:
https://github.com/sqlitebrowser/sqlitebrowser/blob/master/libs/qscintilla/src/KeyMap.cpp#L131

So it's not a Qt problem but not exactly a QScintilla problem either because this file is part of the underlying Scintilla library, not part of the Qt wrapper around it. Might be worth it to check if they changed these lines in their latest version and, if not, open an issue upstream.  How come it's not? From what I can tell tabs on your screenshot can be scrolled, so you are able to switch between them.
There's no _expected behavior_ explained, so there's no subject currently. If you could provide some suggestions how it should handle different density displays, we would discuss further details.
 The general font size looks large, compared to the caption and menu font size.  Shouldn't they all be the same?  All fonts looks the same size on my system...

![image](https://cloud.githubusercontent.com/assets/7872218/19231237/d6a7538c-8ed0-11e6-88fa-e68c4284a32d.png)
 @chrisjlocke, I think that's @roman-ku's problem actually. What Windows version are you two using?
 I'm on Windows 10, but with a 'standard' display.  I don't have access to a high-res display system to test this.  
 Interesting.  It could mean we need to do some extra handling for system fonts on windows, similar to what we needed to do for the sql editor and data browser fonts a while ago: https://github.com/sqlitebrowser/sqlitebrowser/commit/f64afff9861ebf5c2d0dc9287ca6ce90ca129524 https://github.com/sqlitebrowser/sqlitebrowser/commit/ec2d060df6439dfe0030802496ae274276b1f4c3
 This sounds like a Qt bug :(
 @revolter Yep, that's possible too.

If some kind of event is fired when the window is dragged to a new screen, then it may be possible to work around the problem.  eg by detecting the dpi of the new err... display screen, then reloading/repainting the fonts in the UI.

No idea if that would actually work though, and it sounds like a lot of effort to investigate. üò¶ 
  No worries at all.  I'm starting to think a manual - or at least an intro wiki page pointing out stuff like this - might be useful for people.

Thoughts? :smile:
  Awesome!  You're welcome @mrexodia. üòÄ 
 We do accept PR's too btw (hint hint). :wink:
 And beer.
 @mrexodia Thank you so much for letting us know :heart: I'm really happy when we can help people by providing our little tool :smiley: 
  Could you explain it better or better yet, post some screenshots with the problem you're having? It would help us understand it better.
 Are you meaning this?

![image](https://cloud.githubusercontent.com/assets/897883/17920618/a07dcc70-69a3-11e6-95eb-6ef112923287.png)
(Copied from: https://github.com/sqlitebrowser/sqlitebrowser/issues/737#issuecomment-241970969)
 @revolter It's possible this is another report of what was happening for @MarqueIV on macOS Sierra.
 Could be, but the title doesn't say 100% what the problem is, so we need a reply from @kokoar to know for sure.
 Agreed. :smile:
 Closing this due to lack of response.  While testing out silent mode install on Windows for #804, something interesting showed up.

After installation, the "vcredist_64.exe" file was still left in place.  It looks like theres a bug with this line:

https://github.com/sqlitebrowser/sqlitebrowser/blob/5dddffd7a0eb8698885c324bd4f2080b9fb9fb21/CMakeLists.txt#L409
 I doubt any other software package does it after uninstall.
What if another application uses redistributable too?
 Nah, it works a bit differently from that.  The thing which needs to be removed - and isn't being - is the vc_redist*.exe installer itself.

During the DB4S installation process we run that installer silently in the background, which installs the redistributables.  Once that's done, the vc_redist*.exe package isn't needed, and (in theory) should be getting removed automatically anyway (by us).
 As a data point, I tried the batch file approach yesterday.  eg we run a batch file at the end of the installation process, and it does a `del /F vs_redist??.exe` (with the correct file name), then rmdir's the redistributable's subdirectory.

The deletion command always fails with a "permission denied" error, so it seems like vc_redist*.exe is being installed using Admin priviledges, but the batch file is being run with user level priviledges.

Didn't investigate any further.  The next step will probably be to use a batch file to run the vs_redist*.exe installer, because the batch file would need Admin already to install things.  The same batch file - already running as Admin - should (in theory) be ok to delete to the redistributable and it's sub-directory afterwards.  Thanks @firateski, that's awesome. :smile:

Do you want me to take screenshots, so you can verify things before it gets merged?
 Ok, give me a few minutes. :smile:
 Here's the output of the `--help` option:

``` bash
$ DB\ Browser\ for\ SQLite --help
DB Browser for SQLite [options] [db] 
Muhtemel komut satƒ±rƒ± arg√ºmanlarƒ±: 
  -h, --help        Komut satƒ±rƒ± se√ßeneklerini g√∂ster 
  -s, --sql [file]  Veri tabanƒ±nƒ± a√ßtƒ±ktan sonra bu SQL dosyasƒ±nƒ± i≈üle 
  -t, --table [table]   Veri tabanƒ±nƒ± a√ßtƒ±ktan sonra bu tabloyu g√∂r√ºnt√ºle 
  -q, --quit        Scriptleri √ßalƒ±≈ütƒ±rdƒ±ktan sonra programƒ± kapat 
  [file]        SQLite veritabanƒ±nƒ± a√ß
```
- In that, is the "[options]" word correct?

Screenshots (ordered similar to the changes in this PR):

![screen shot 2016-10-06 at 16 27 27](https://cloud.githubusercontent.com/assets/406299/19160051/70bece48-8be6-11e6-9e0f-0ab32ecc022e.png)
![screen shot 2016-10-06 at 16 27 40](https://cloud.githubusercontent.com/assets/406299/19160050/70bea0b2-8be6-11e6-9a94-e3fbbcc7b3c7.png)
![screen shot 2016-10-06 at 16 29 02](https://cloud.githubusercontent.com/assets/406299/19160049/70be3f32-8be6-11e6-8765-080ba5e2c849.png)
![screen shot 2016-10-06 at 16 29 06](https://cloud.githubusercontent.com/assets/406299/19160052/70bf1312-8be6-11e6-9691-3941496b1e05.png)
![screen shot 2016-10-06 at 16 30 00](https://cloud.githubusercontent.com/assets/406299/19160053/70c07194-8be6-11e6-812b-3874b2eefe82.png)
![screen shot 2016-10-06 at 16 30 18](https://cloud.githubusercontent.com/assets/406299/19160054/70c4cf46-8be6-11e6-8a1e-19679517253a.png)
![screen shot 2016-10-06 at 16 30 43](https://cloud.githubusercontent.com/assets/406299/19160056/70d486e8-8be6-11e6-84c5-c9330cf1c5db.png)
![screen shot 2016-10-06 at 16 31 32](https://cloud.githubusercontent.com/assets/406299/19160055/70d3e33c-8be6-11e6-97cf-a551364a706e.png)

This one seems to be missing a space after a full stop at the end of a sentence:
![screen shot 2016-10-06 at 16 35 50](https://cloud.githubusercontent.com/assets/406299/19160060/70de3634-8be6-11e6-90a2-874564929a32.png)
![screen shot 2016-10-06 at 16 36 45](https://cloud.githubusercontent.com/assets/406299/19160058/70d9c6ee-8be6-11e6-8a68-03373e7c6378.png)
![screen shot 2016-10-06 at 16 37 17](https://cloud.githubusercontent.com/assets/406299/19160057/70d93710-8be6-11e6-9e9e-76601bea75fb.png)
![screen shot 2016-10-06 at 16 37 39](https://cloud.githubusercontent.com/assets/406299/19160059/70de2a5e-8be6-11e6-9023-39e5146b4f70.png)
![screen shot 2016-10-06 at 16 39 15](https://cloud.githubusercontent.com/assets/406299/19160062/70e87180-8be6-11e6-8b29-e18df0e8d457.png)
![screen shot 2016-10-06 at 16 40 42](https://cloud.githubusercontent.com/assets/406299/19160063/70e97e9a-8be6-11e6-9789-de875b325b54.png)
![screen shot 2016-10-06 at 16 41 24](https://cloud.githubusercontent.com/assets/406299/19160064/70ee88a4-8be6-11e6-84bd-965a33900be9.png)
![screen shot 2016-10-06 at 16 42 14](https://cloud.githubusercontent.com/assets/406299/19160073/7114bba0-8be6-11e6-9c43-ec04242d6ea3.png)
![screen shot 2016-10-06 at 16 42 59](https://cloud.githubusercontent.com/assets/406299/19160065/70f2b460-8be6-11e6-8f6d-ceabb9f69d07.png)
![screen shot 2016-10-06 at 16 43 40](https://cloud.githubusercontent.com/assets/406299/19160066/70f6ecd8-8be6-11e6-8510-cbae2f101c81.png)
![screen shot 2016-10-06 at 16 50 49](https://cloud.githubusercontent.com/assets/406299/19160067/70fc72ca-8be6-11e6-8ee6-0a8d81b5f50a.png)
![screen shot 2016-10-06 at 16 51 07](https://cloud.githubusercontent.com/assets/406299/19160068/70fcc7fc-8be6-11e6-8fe3-3da93575c182.png)
![screen shot 2016-10-06 at 16 51 27](https://cloud.githubusercontent.com/assets/406299/19160069/7104a31e-8be6-11e6-8fff-92a15e75d323.png)
![screen shot 2016-10-06 at 16 51 34](https://cloud.githubusercontent.com/assets/406299/19160070/7107c7a6-8be6-11e6-92a7-5a528f397b3a.png)
![screen shot 2016-10-06 at 16 51 56](https://cloud.githubusercontent.com/assets/406299/19160071/710d15e4-8be6-11e6-8403-1728206e029d.png)
![screen shot 2016-10-06 at 16 52 02](https://cloud.githubusercontent.com/assets/406299/19160072/71111b9e-8be6-11e6-87f0-a08ecac648fd.png)
![screen shot 2016-10-06 at 16 54 27](https://cloud.githubusercontent.com/assets/406299/19160074/71166194-8be6-11e6-941b-338074b6f0c2.png)
![screen shot 2016-10-06 at 16 55 13](https://cloud.githubusercontent.com/assets/406299/19160075/711b100e-8be6-11e6-869b-bb7364c67585.png)
![screen shot 2016-10-06 at 16 55 53](https://cloud.githubusercontent.com/assets/406299/19160076/711e07aa-8be6-11e6-9f18-46f0eb4a4d14.png)
![screen shot 2016-10-06 at 16 56 15](https://cloud.githubusercontent.com/assets/406299/19160078/71266008-8be6-11e6-9982-f320d40e84fb.png)
![screen shot 2016-10-06 at 16 56 28](https://cloud.githubusercontent.com/assets/406299/19160077/7125a348-8be6-11e6-813d-21823057674c.png)
![screen shot 2016-10-06 at 16 57 20](https://cloud.githubusercontent.com/assets/406299/19160079/712c47f2-8be6-11e6-8859-f33e97e1fec8.png)
![screen shot 2016-10-06 at 16 58 09](https://cloud.githubusercontent.com/assets/406299/19160080/712ca896-8be6-11e6-9687-a283df43e24b.png)
![screen shot 2016-10-06 at 16 58 25](https://cloud.githubusercontent.com/assets/406299/19160081/7130db14-8be6-11e6-9fc7-dfe6fd079387.png)
![screen shot 2016-10-06 at 16 58 40](https://cloud.githubusercontent.com/assets/406299/19160082/7135bb70-8be6-11e6-9af9-8db562ce05ad.png)
![screen shot 2016-10-06 at 16 58 55](https://cloud.githubusercontent.com/assets/406299/19160083/713a400a-8be6-11e6-92e3-4598adcfed61.png)
![screen shot 2016-10-06 at 16 59 48](https://cloud.githubusercontent.com/assets/406299/19160084/713c7028-8be6-11e6-87cc-8480bffd4cc7.png)

I **think** all of the main changes are there. :smile:
 Cool.  More screenshots needed, or should this be merged, or ? :smile:
 Thanks @firateski, merged. üòÅ 

And yeah, screenshots do seem to be useful.  Easily worth the time/effort needed for me to take them. :smile:
  Thanks.  I'll try it out in a VM later to see what's wrong. :smile:
 As a thought, what happens if you try qmake instead of cmake? eg:

``` bash
$ qmake
$ make
```
 In theory, they both should work... however, that's not always the case. üò¶ 
- The config file for CMake is [CMakelists.txt](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/CMakeLists.txt).
- The config file for qmake is [src/src.pro](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/src/src.pro).

It's totally possible for one config file to be changed, breaking one system, but leaving the other completely fine.

For us, CMake seems mostly useful on Windows, with qmake more useful everywhere else.  And I have a bad habit of introducing Windows-isms to the CMake config. üò¶ 

It would probably be better if we update the Fedora/CentOS build instructions then, to use qmake. :smile:
 Yeah, master should keep good. :smile:
 Just updated the building instructions slightly for CentOS/Fedora:

* https://github.com/sqlitebrowser/sqlitebrowser/blob/06398be8840d7b9f7f36334446caa8e6c20d771e/BUILDING.md#centos--fedora-linux

Tested here on Fedora 25 x64.  I still haven't looked into how to override paths yet, for example when providing a custom compiled newer version of SQLite... but I should get that figured out over the next few days. :smile:  Ouch, I'll take a look later.  It sounds like something which might be BSD specific.

Is this translation good to merge as-is though?  It seems ok here, from looking over it visually.
 Ahhh sorry.  I mis-remembered you as running BSD. :smile:

Which OS are you on?  I'll merge the translation now too btw.
 Thanks. :smile:
  Awesome, thanks @lulol. :smile:
  Thanks @schdub. :smile:

@MKleusberg is this of interest to you?
 @schdub Are you sure you have built the latest source from master? If so, are you using Qt4 or Qt5?
At least I cannot reproduce this at the moment, but the latest changes to foreign key handling are making use of some Qt5-only features. I tried to make it work for Qt4, too, but couldn't test it. So that would be my current guess.
 Awesome, thanks for testing :) Now that we've 'officially' dropped Qt4 support there should at last be no confusion as to what works with which version.  Thank you @FriedrichFroebel. :smile:

Do you want me to take screenshots?
 Awesome, thanks. :smile:
  Excellent @progh2, thank you. :smile:

Do you want me to take screenshots, so you can double check?
  This looks like something I can test tomorrow on Windows too. :smile:
 Thanks @schdub. Tested it here on Windows 7, and it works perfectly. :smile:
  Thanks @schdub, that looks good for the master branch. :smile:

Do you have time to do the translation for the v3.9.1 branch too?
 Spaseebo!
 I guess that mean "Oops"? :smile:
 No, it means "Thank you"
 Thanks. Spaseebo indeed then. :smile:
 Just copied and pasted the changes to v3.9.x branch: https://github.com/sqlitebrowser/sqlitebrowser/commit/d95f9aa4095fa2d863f2d78b63db05858365c80f :smile:
  Fantastic @lulol, thank you very much. üòÄ 
 Oh, I forgot to ask... do you want me to take screenshots, so you can double check?
 Cool, I'll get it them done soon.  Updating some other things first. :smile:
 Screenshots: :smile:

![screen shot 2016-10-02 at 14 54 53](https://cloud.githubusercontent.com/assets/406299/19021060/e80bbc06-88b0-11e6-96dd-6c9f00d64852.png)
![screen shot 2016-10-02 at 14 55 00](https://cloud.githubusercontent.com/assets/406299/19021063/f5c2ded8-88b0-11e6-9c41-65cef2ce7a47.png)
![screen shot 2016-10-02 at 14 59 08](https://cloud.githubusercontent.com/assets/406299/19021067/09b87920-88b1-11e6-970a-3db1dfcbcf99.png)
![screen shot 2016-10-02 at 14 58 31](https://cloud.githubusercontent.com/assets/406299/19021066/09b7ed48-88b1-11e6-98ce-e4c1a8b88aa4.png)
![screen shot 2016-10-02 at 14 58 22](https://cloud.githubusercontent.com/assets/406299/19021068/09ba980e-88b1-11e6-9236-dd9a10162536.png)
![screen shot 2016-10-02 at 14 55 21](https://cloud.githubusercontent.com/assets/406299/19021069/09bb6680-88b1-11e6-81ac-57c0206eee63.png)
 Thanks @lulol, just merged it. :smile:

No further string changes will be happening for 3.9.1, which I'll start building packages for in a few hours, and we'll probably release tonight.
 Thanks.  The master branch isn't important yet.  When it starts to be important though, I'll email you again. :smile:
  > large CSV tables.  

Out of interest, how large is large?  How many fields per line, and how many records?  Is this after one import, or after a series of imports?
 Well, that definitely sounds like a bug. :smile:

Guess we'll need to come to grips with Valgrind & similar soon. :wink:
 It looks like the memory leak is happening [on this line](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/src/DbStructureModel.cpp#L155), but I can't figure out what's the problem. Maybe @MKleusberg or @innermous have some ideas?
 Hmm, looking at it quickly:

```
QTreeWidgetItem* itemTables = new QTreeWidgetItem(itemAll);
```

If that method is called multiple times, then maybe "itemTables" is given a brand new QTreeWidgetItem() on each call, and nothing frees the memory of the old QTreeWidgetItem() from the previous call?
 Thanks, that's helpful. :smile:
 I've fixed all the memory leaks that Valgrind would tell me about after opening a database, importing some CSV into it, and then closing the application. Here's the commit 7b86b17788cadb7ec08a7bed39aa214dcc42b526. This also fixes the memory leak that Iulian observed.
However, none of these are related to CSV. The one mentioned by Iulian was the only one that was happening during the actual import. But it happened only once - after creating the new table - and didn't leak enough memory to be noticeable at first. Other than these, there are no memory leaks reported by Valgrind (well, except for a smaller one in QHexEdit). So this might just be caused the behaviour of the memory manager of the operating system but I'm not sure.

Either way, the CSV import uses _way_ too much memory. That's where I'd start at least. Maybe don't use Qt objects in there. And maybe we shouldn't read the entire file into memory first; for large files it might be better to INSERT the rows every now and then and free the memory.
 The memory leak still occurs, for example, when I import a 200M csv file, sqlitebrowser uses something like 2.4 Gb of RAM (60%) and does not release it after the import. Maybe that's due to the way `QTextStream` and `QFile` work. In contrast `.import` command of the command-line tool `sqlite3` uses only about 0.1% of my 4Gb RAM (`ps aux` output). Would it be a good idea to try to include their implementation of import? @prutz1311 could you provide data set, please?
Nvm, I think any dataset is viable. Something like that https://drive.google.com/open?id=0B0ARB4SyceKZN2JtdVAzVFJDZVU  Hmmm, interesting.  It _sounds_ like a bug, but we'll probably need to investigate more before we're sure. :smile:
 @gjijon Which pragmas do you mean? All of them, including e.g. the ```user version``` pragma? Or just some of them, e.g. the ```foreign keys``` pragma?

The reason I'm asking is that some pragmas aren't stored in the database file at all by SQLite, they are only saved for the current connection. So closing and opening the database again will reset them. Foreign keys are one example. In this case that's just the way SQLite works. Others are stored permanently in the database file, for example the user version. If these aren't saved either, then it's definitely a bug in our code :smiley: Closing due to lack of response. ‚òπÔ∏è   Ahhh, that's interesting.  We did make some changes to the cut-n-paste code, so this is definitely useful feedback.
 By the way, does this happen for every value, or just certain things?
 üò¶ 
 As a workaround, click the cell once to set the focus, and click it again to go into 'edit mode'.  The cell contents will be highlighted.  Right click this selection, and select 'Copy' (or press Ctrl+C).
Alternatively, double click the cell contents, and the contents will be displayed in the 'Edit Cell' pane.  Again, the contents will be highlighted.  Copying this text as in the above manner will not be quoted.
 Until you mentioned it, I'd never tried pressing Ctrl+C in a cell.  I normally go by menu options, so as there is no 'Edit' | 'Copy', I assumed there was none.
Highlighting two cells gives quoted values, separated by a tab character.  Wonder how long before we have another option to change that to a comma, or some other user-defined character.... ;)
 @swinster, I added a commit that should fix this. Thought copying multiple cells still quotes the contents, so only copying single cells will leave the contents unquoted. Are you able to build the project yourself? @justinclift could point you out to the instructions. If not, a nightly build containing this fix will be available tomorrow.
 @swinster If you're feeling adventurous, it's definitely workable to compile things yourself instead of waiting for the auto-generated nightly builds: :smile:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/wiki/Setting-up-a-Win64-development-environment-for-DB4S
 @swinster Do you have time to try out our latest nightly release? (download locations are on the front page, if that helps)

This should be fixed in both our recent 3.9.1 release, and a few further things fixed in our latest nightly builds.  Verification from your point of view would be cool. :smile:
 Closing this due to lack of response. üò¶  Thanks @swinster. :smile:  Being able to switch tabs in the Main Window interface using keyboard shortcuts (eg Alt+1, Alt+2, etc) would be useful.

@innermous has implemented it in https://github.com/sqlitebrowser/sqlitebrowser/commit/11558a86b45a65e01d49a46b6cf4ec0231f36aff & https://github.com/sqlitebrowser/sqlitebrowser/commit/45e17c9b497eafa8000c73eb60fcfce5c419d151.

Just to be careful, before merging that into 3.9.1 we should test the result under both Windows and OSX to ensure we're not conflicting with existing key bindings.
 Testing here on OSX, Alt+[number key] isn't working.  I'll dig into it a bit later on.
 @justinclift :open_mouth: 
Why wouldn't it work on OSX?
 Yeah, I have no idea.  Looking at it visually, nothing seems wrong.

I'll dig into this properly fairly soon.
 I'll stay tuned, this is important issue.
 Looking into this at the moment.  It _seems_ like `QKeySequence` might be better than `QKeyEvent` for this.  Not sure yet, still reading.

As a first investigation thing, I changed the current code to this:

```
int keyPressed = event->key();

switch (keyPressed)
{
case Qt::Key_1:
    tab = Tabs::StructureTab;
    break;
case Qt::Key_2:
    tab = Tabs::BrowseTab;
    break;
case Qt::Key_3:
    tab = Tabs::PragmaTab;
    break;
case Qt::Key_4:
    tab = Tabs::ExecuteTab;
    break;
default:
    break;
}
```

With a breakpoint on the `keyPressed` variable to see what it shows.  It keeps coming back with a value of `0x01000023`.  So, it's catching the initial press of the Alt key.
 Reading the `QKeySequence` and `QShortcut` class docs, they seem better suited to multiple-key combinations.

Something like (say) `QKeySequence(Qt::ALT + Qt::Key_1)` might work, added to a `QShortcut`.
 One approach (only tested on OSX) is this: https://github.com/justinclift/sqlitebrowser/commit/5a0ac4685e2d37ce39fd54b462ff0662e94cde21
That still needs work though:
- The key combo doesn't always work straight away.  Sometimes tabs need to be manually changed first, and **then** all of the key combo's work.  This is weird, and obviously not going to be workable as-is. üò¶ 
 It's nonsense, you are doing something wrong.
Switch block captures value only **once**.
 @justinclift 

> The key combo doesn't always work straight away. Sometimes tabs need to be manually changed first, and then all of the key combo's work. This is weird, and obviously not going to be workable as-is.

This happens if something else is focused, this is normal.
 It's definitely possible I'm doing something wrong. :smile:

The keyPressEvent() though is definitely firing as soon as the alt key is pressed, and not waiting for the full key sequence.
 @justinclift and the next keyPressEvent is fired as soon as you press another key holding alt.
 Ahhh, I see what you're meaning.  Ok, a better way for me to debug this might be to printf() the keys to stdout or something.
 @justinclift if you will introduce any changes to this code, don't forget to add `return;` statement after `setCurrentIndex`. This will be safer.
 Like this?

```
    ...

    if (event->modifiers() & Qt::AltModifier && tab != -1) {
        ui->mainTab->setCurrentIndex(tab);
        return;
    }

    QMainWindow::keyPressEvent(event);
}
```
 Yeah. There's no need to capture event by default QMainWindow event processor if event we are interested in was already processed.
 This is the adjusted function to printf() keyboard output:

```
void MainWindow::keyPressEvent(QKeyEvent* event)
{
    int tab = -1;

    int keyPressed = event->key();
    printf("0x%x\n", keyPressed);

    switch (keyPressed)
    {
    case Qt::Key_1:
        tab = Tabs::StructureTab;
        break;
    case Qt::Key_2:
        tab = Tabs::BrowseTab;
        break;
    case Qt::Key_3:
        tab = Tabs::PragmaTab;
        break;
    case Qt::Key_4:
        tab = Tabs::ExecuteTab;
        break;
    default:
        break;
    }

    if (event->modifiers() & Qt::AltModifier && tab != -1) {
        ui->mainTab->setCurrentIndex(tab);
        return;
    }

    QMainWindow::keyPressEvent(event);
}
```

This is the output from it, when pressing Alt+1, Alt+2, Alt+3, Alt+4, then Cmd-Q to quit:

```
0x1000023
0x1ffffff
0x1000023
0x1ffffff
0x1000023
0x1ffffff
0x1000023
0x1ffffff
0x1000021
```

The number keys aren't being detected properly.  Any ideas?
 I don't understand this, tbh. I mean, AFAIK, mac's don't even have Alt keys, right?
Btw, use qDebug(), you are working in Qt environment after all :) There's no place for c-style printf's.
 ???

Why wouldn't they have Alt keys?
 That being said, I use a Mac Mini.  They don't have an inbuilt keyboard, instead relying on people to use their own.  I'm using a standard everyday 101-key keyboard with it, using US layout.
 @justinclift I don't know, I never seen Mac keyboard. I just heard they have **this stuff** with CMD button.
 Ahhh.  The Cmd key is (on mine) mapped to the Windows key.
 @justinclift hm.
Did @revolter  try this commit? I hope he uses Macbook not Mac Mini.
 Ahhh, not yet.  He wanted me to build him a .dmg for testing with.  I'll do it now.
 @justinclift alright alright...
I am gonna investigate how QtCreator handles tabulation.
 @innermous, Yes, I'm using a MacBook and I can test a built binary if provided. And yes, Apple keyboards have the <kbd>alt</kbd> key too.
 @revolter .dmg here: http://nightlies.sqlitebrowser.org/osx-onceoffs/DB%20Browser%20for%20SQLite-issue788v1.dmg

Didn't use the pretty .dmg creator though. :wink:

Noticed a weird behaviour.  The Alt+[number key] works before a database is loaded.  After loading a database though... they don't work any more.
 @innermous Hmmm, is there any way that the load of a database could remove the capture of keystrokes?  eg breaking the keybinding, or changing the object behind it or something
 @justinclift Thanks! Yes, it works ok up until opening a database.
 Cool.  It sounds like we're at least on the path to finding a solution. :smile:
 Yes, it's losing focus after opening the database.
 If I:
- open DB4S
- hit <kbd>alt</kbd>+<kbd>2</kbd>
- hit <kbd>alt</kbd>+<kbd>1</kbd>

it works ok. Then if I:
- open a database
- switch to another window like `Finder`
- switch to DB4S
- hit <kbd>alt</kbd>+<kbd>2</kbd>
- hit <kbd>alt</kbd>+<kbd>1</kbd>

it works again.
 Interesting yeah.  That does kind of work.

On the "Execute SQL" tab though, the number keys go into the SQL window. :wink:
 Moving this to 3.10.0 for now, just in case. :smile:
 What's the status of this?
  The Serverless project has an interesting way to show contributors:

&nbsp; &nbsp; https://github.com/serverless/serverless#contributors

We might want to do similar.  Even for release notes. üòÄ 

Thoughts?
 Looking at the source for their README.md, they seem to be embedding HTML directly.

eg, this is their first entry:

```
| [<img src="https://avatars.githubusercontent.com/u/2752551?v=3" width="75px;"/><br /><sub>Austen </sub>](http://www.serverless.com)<br /> |
```

So, one of those per person, with the various bits tweaked to match (eg avatar, name, URL).
 What's the point in that, after all? 
 Some people like having their picture on things they do.  It's a different form of giving recognition.
 @justinclift what's wrong with "Contributors" tab? It's just for that.
 Nothing in particular wrong with it, it's just having stuff on the README.md will appeal to some. :smile:
 Yeah, the `Contributors` tab seems nicer, with graphs and stuff.

Having them in the `README` seems a duplication of info, bloating the file, and requiring often syncs.
As probably some people don't know about the tab's existence, we could add a `Contributors` section in the `README` like this:

## Contributors

You can see the list by going to the [**Contributors** tab](https://github.com/sqlitebrowser/sqlitebrowser/graphs/contributors).
 No worries at all.  Let's close this. :smile:
  Thanks Richard.  We'll be making a 3.9.1 release in the near future, which is probably a good time for getting this fixed. :smile:
 Awesome. üòÄ 
 @RH-Euronext Just tried this here on a CentOS 7-1511 install.  Both `cmake` and `make` compiled fine (no errors), though I did have to install both `cmake` and `gcc-g++` which our docs were missing (now fixed).

Only tried with our latest development source code though, not the previous 3.9.0 release tarball.

Is it feasible for you to compile from git source?
 CMake 3.6.1 is fine.  :smile:

With the bug in this issue, I _think_ it's a duplicate of https://github.com/sqlitebrowser/sqlitebrowser/issues/758.  That was fixed ~1 month ago in our master branch in git, with https://github.com/sqlitebrowser/sqlitebrowser/commit/2957974974bb874b0219e52d63c198658c02f686.

If you want to try compiling with our git head, it should "just work". :smile:

We're also putting out a minor bug fix release (3.9.1) soon (maybe tonight), if that's useful.

---

On a side note, CMake 3.6.0 and earlier can generate windows binaries with a (low risk) [security problem in them](https://cmake.org/pipermail/cmake-developers/2016-July/029039.html).

Your version (3.6.1) has the main fix for that problem in it, so no worries there.
 Closing this, as I'm really sure it's a duplicate.  @RH-Euronext If if your testing it turns out not to be, you're definitely welcome to reopen this so it can be investigated. :smile:
  Ouch, that doesn't seem good. :smile:

Would you have time to try the latest nightly build?  We have been fixing some of the problems with our handling of constraints (and similar), so there's a fairly good chance it's already been solved.

The download locations for nightly builds are on our front page, if that helps. :smile:
 Aaarrgh.  That's right, we busted the build yesterday.  Sorry, I completely forgot.

The build was fixed earlier today though, so a new one should be automatically generated tonight.

Umm... would be ok to try it out tomorrow? (sorry for the hassle)
 Heh Heh Heh

Sorry, I'm focused on other stuff over the last few days, and probably until early next week.  Thus my leaving it to the automatic builds. :smile:
 Arrrgh. üò¶ 

Thanks for checking. :smile:  This is definitely a bug we need to look into then.

Is there anything strange or unusual with your table structure?  Are you able to share the database, or it's structure with us, so we can try to replicate the problem?
 Thanks @dragonstar0828.  Yeah.  We're using GitHub, which has it's own ideas of what files are and aren't allowed in attachments. :smile:
 Replicated the issue here.  Simply created a new table with just one new field of an autonumber.  No index created.

http://screencast-o-matic.com/watch/cDQZr4jr3E

"wtf are you adding records into the sqlite_sequence table for?!"
"shaddup."
 Sounds like people might hit this fairly commonly. üò¶ 
 It's unlikely to be fixed in the next few days, and probably not in the next week or so.

There are many other SQLite tools around.  At least one of them should work for you well enough for now. :smile:
 ...or create the index manually.  Its not _that_ difficult... üòâ 
Once you realise you have to create them manually, its an easy workaround...
The indexes can be created later and the databases will work (albeit a millisecond slower) without them.
 Good point. :smile:
 So should an index be created for every table with autoincrement column?
 Interesting.  Technically you don't need a primary key autoincrement field, as this is just an alias for the ROWID column anyway.
https://www.sqlite.org/autoinc.html

...and that doesn't have an index.  So I'd argue its not needed.  Haven't read the whole page yet though, as .... well, other things to do...! :wink:
 I knew that, but the code I'm working on never used the rowid, and I got used to the "primary key autoincrement `id` column" so I started using it in sqlite too, but I don't think it **has** to have an index too. Aren't indexes optional?
 Ok, I know understood what you guys meant, and a colleague confirmed this behaviour too. Didn't know about this at all.
 Just a note that the following SQL **does** create an index.

`CREATE TABLE test (id TEXT PRIMARY KEY ASC)`

This was on v3.9
 Actuallly I lied.  It creates an index, but they're empty.

![image](https://cloud.githubusercontent.com/assets/7872218/18904545/75da2b02-8556-11e6-99b4-d333a2690dc5.png)

This was using the 'execute sql' tab.
 I haven't read the entire conversation here to be honest but here are just some thoughts.

We get the indices list directly from SQLite. You can check it, too. Just run `select * from sqlite_master where type='index'`. Now the point is that SQLite doesn't add primary keys to that list. They are sort of implicit indices that are there and are used as an index but aren't an index object like manually created indices.

So to avoid confusion in other places I would tend to leave it the way it is, i.e. rely on SQLite's behaviour here. Maybe we can highlight primary keys in some other way? Any suggestions would be welcome here. At the moment, if you expand the table tree and list all the columns, the PK will have a different icon. But that's it :smiley: 
  This issue was already reported here: #757.

It was fixed and will be available in the next 3.9.1 release. üòÑ 
 ...or the next nightly, assuming that gets resolved before 3.9.1 is released... :wink:
 Not a problem. And as @chrisjlocke mentioned, you can try the nightly version until the release, which, AFAIK, contains the fix.
  Yeah, we do see a number of unusual messages like this on the output.  Some seem to be generated by DB4S, and others generated by Qt itself.

We've not yet put time into tracking down and fixing the one which don't sound critical though.
 That does seem odd.
  Hmmm, that doesn't seem happy at all. üò¶ 

Which version of OSX is this happening on?
 As an experiment, would be ok to try compiling it yourself?

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md#building-an-app-bundle

If you have OSX Homebrew already installed, it's very easy. (5-10 mins max)

Asking because that's something I do fairly often, then use `open` (as you show above) to start it up.  This has generally worked for me... but it could be my system is configured strangely. üòá 
 No worries at all.  And yeah, that sounds like a weird one. :wink:
  We had something similar with FTS support and OSX.  (See #762).  Wanna change your OS? :wink:
@justinclift started mentioning homebrews and stuff - think he might have got confused with his whiskey collection.  None of that really helps you, but can only assume DB4S for Windows can be 'tweaked' to include FTS support....  @justinclift will bounce along soon and either confirm or ... something else.
 Yeah.  Sorry about this @aludee 

On Windows the version of SQLCipher (a encryption enhanced replacement for SQLite) we used was compiled without any of the SQLite extensions.

It's only due to a lack of time for researching if/how to compile them in.  It's completely possible the FTS5 module is easy to add, it's just no-one's yet looked into it.

If someone with a working DB4S build system has time to investigate, then provide steps to SQLCipher with FTS5, that would make including it easy for future releases. :smile:
 You're on the right track. :smile:

With our Windows release, I compiled SQLCipher myself using the instructions here:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/wiki/Win64-setup-‚Äî-Compiling-SQLCipher

The exact code I used is here:

&nbsp; &nbsp; https://github.com/justinclift/sqlcipher

It's a fork of the SQLCipher repository, with the changes made to it as written in that doc.  That repository has a branch each for 32-bit and 64-bit Windows, as there were slightly different path changes needed.

For FTS5 support on Windows, we just need someone to spend some time doing that compile again, then figuring out how to add FTS5 to it.  It might not be difficult, it's just that none of us have looked into it yet.

If you have the time/inclination to get that done, we're _absolutely_ open to including FTS5 in our next releases. :smile:

Does that help?
 You're welcome.  We all help out where we can. :smile:
 Updated the windows build scripts just now.

The nightly builds on Windows - both with and without encryption - now include the FTS3, FTS4, FTS5, and JSON1 extensions.  Fixed in 1257134. It was the German translation who had this typo.
  Ahhh, well spotted.  Yeah, that should be fixed. :smile:
 @wodim This should be fixed now. :smile:
![screen shot 2016-09-27 at 15 24 23](https://cloud.githubusercontent.com/assets/406299/18878023/0d370fbe-84c7-11e6-8e73-b132242da2db.png)

Would you be ok to try the nightly build (tomorrow), to verify it from your point of view? :smile:
 Excellent.  Thanks for verifying and getting back to us @wodim. :smile:
  Updated my system last night with "XCode 8", without thinking it though. üò¶ 

Now, DB4S compile fails when used with Qt5:

```
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang++ -c -pipe -stdlib=libc++ -std=c++11 -DENABLE_SQLCIPHER -DCHECKNEWVERSION -O2 -std=gnu++11 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk -mmacosx-version-min=10.8 -Wall -W -fPIC -DQT_NO_DEBUG -DQT_PRINTSUPPORT_LIB -DQT_WIDGETS_LIB -DQT_MACEXTRAS_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -I. -I/usr/local/opt/sqlcipher/include -isystem /usr/local/include -I../libs/antlr-2.7.7 -I../libs/qhexedit -I../libs/qcustomplot-source -I../libs/qscintilla/Qt4Qt5 -I../../sqlitebrowser -I../../../Qt/5.7/clang_64/lib/QtPrintSupport.framework/Headers -I../../../Qt/5.7/clang_64/lib/QtWidgets.framework/Headers -I../../../Qt/5.7/clang_64/lib/QtMacExtras.framework/Headers -I../../../Qt/5.7/clang_64/lib/QtGui.framework/Headers -I../../../Qt/5.7/clang_64/lib/QtNetwork.framework/Headers -I../../../Qt/5.7/clang_64/lib/QtCore.framework/Headers -Irelease -I/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk/System/Library/Frameworks/OpenGL.framework/Headers -I/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk/System/Library/Frameworks/AGL.framework/Headers -I.ui -I../../../Qt/5.7/clang_64/mkspecs/macx-clang -F/Users/jc/Qt/5.7/clang_64/lib -o release/PreferencesDialog.o PreferencesDialog.cpp
In file included from MainWindow.cpp:2:
In file included from .ui/ui_MainWindow.h:43:
../libs/qcustomplot-source/qcustomplot.h:448:26: error: implicit instantiation of undefined template 'QPointer<QCPLayerable>'
  QPointer<QCPLayerable> mParentLayerable;
                         ^
../../../Qt/5.7/clang_64/lib/QtCore.framework/Headers/qmetatype.h:1339:1: note: template is declared here
QT_FOR_EACH_AUTOMATIC_TEMPLATE_SMART_POINTER(QT_FORWARD_DECLARE_SHARED_POINTER_TYPES_ITER)
^
../../../Qt/5.7/clang_64/lib/QtCore.framework/Headers/qmetatype.h:215:7: note: expanded from macro 'QT_FOR_EACH_AUTOMATIC_TEMPLATE_SMART_POINTER'
    F(QPointer)
      ^
In file included from MainWindow.cpp:2:
In file included from .ui/ui_MainWindow.h:43:
../libs/qcustomplot-source/qcustomplot.h:1465:21: error: implicit instantiation of undefined template 'QPointer<QCPAxis>'
  QPointer<QCPAxis> mKeyAxis, mValueAxis;
                    ^
../../../Qt/5.7/clang_64/lib/QtCore.framework/Headers/qmetatype.h:1339:1: note: template is declared here
QT_FOR_EACH_AUTOMATIC_TEMPLATE_SMART_POINTER(QT_FORWARD_DECLARE_SHARED_POINTER_TYPES_ITER)
^
../../../Qt/5.7/clang_64/lib/QtCore.framework/Headers/qmetatype.h:215:7: note: expanded from macro 'QT_FOR_EACH_AUTOMATIC_TEMPLATE_SMART_POINTER'
    F(QPointer)
      ^
In file included from MainWindow.cpp:2:
In file included from .ui/ui_MainWindow.h:43:
../libs/qcustomplot-source/qcustomplot.h:1465:31: error: implicit instantiation of undefined template 'QPointer<QCPAxis>'
  QPointer<QCPAxis> mKeyAxis, mValueAxis;
                              ^
../../../Qt/5.7/clang_64/lib/QtCore.framework/Headers/qmetatype.h:1339:1: note: template is declared here
QT_FOR_EACH_AUTOMATIC_TEMPLATE_SMART_POINTER(QT_FORWARD_DECLARE_SHARED_POINTER_TYPES_ITER)
^
../../../Qt/5.7/clang_64/lib/QtCore.framework/Headers/qmetatype.h:215:7: note: expanded from macro 'QT_FOR_EACH_AUTOMATIC_TEMPLATE_SMART_POINTER'
    F(QPointer)
      ^
```

It's compiling and running perfectly fine against Qt4 though.

Anyone have suggestion on what it could be caused by?
 Removed Xcode 8, and re-installed Xcode 7.3.1.  DB4S compiles without issue.

Looks like an Xcode 8 specific problem.
 [This answer](http://stackoverflow.com/a/39499500/865175) says that it will be fixed in Qt 5.6.1.
 Nah, that answer is for a different Xcode 8 problem.  It's for an incompatibility with Qt 5.6.0/5.7.0 and Xcode 8.

When starting Qt Creator 5.7.0 with Xcode 8 installed.  This error is displayed:

```
Project ERROR: Xcode not set up properly. You may need to confirm the license agreement
by running /usr/bin/xcodebuild.
```

The link you gave has a working fix.

The compile problem I'm reporting here isn't fixed by that. üò¶ 
 @joshua-meng Hmmm, that didn't work for me.  I had already made that fix to get past the initial Xcode 8 warning.

Is it working for you?
 Thanks.  I'll look back into this again later, I must have been doing something wrong first time around. :smile:
 Yeah.  Use Xcode 7.3.1 instead for now.  Not a great solution, but it works. :smile:
 Sure, will do.  Will get the Xcode 8 install happening again shortly to test with. :smile:
 I'll test this tonight too.
 @ilovezfs, I guess that it worked for you with that patch, right?
 @revolter This is the patch from @ilovezfs, adjusted to work with our QScintilla: https://github.com/justinclift/sqlitebrowser/commit/4590ff6bf749ca389e66423740c0c199d1b1492d
 @ilovezfs Any idea if it's upstream, or been submitted there?  @revolter Asked on their mailing list in regards to XCode8 compile troubles, and no-one bothered to respond. üò¶ 
 Heh Heh Heh üòà 
 So if it's a C++ issue and not related to Xcode 8, why does it build in Linux?
 XCode 8 probably has a different level of C++ support than XCode 7.x.

To investigate it more closely, we could check what version of clang is bundled with each, compare C++ support reported by those, then check what your compiler on Linux says it supports.
 Yep, it's compiling here perfectly now. :smile:

Tested with XCode 8 on both Qt4 and Qt5.

I'll merge the patch into both master and our v3.9.x branches shortly.
 @ilovezfs Thank you heaps. üòÄ 
 Awesome! Do you think it's a good idea to update `QScintilla` before applying the patch?
 Hmmm, good point.  I'll test with XCode 7.3.1 again shortly. :smile:
 @revolter Sure.  Probably make it a PR though instead of directly pushing it, so we can do a bit of testing on it first.
 I tried updating it hoping it will solve the build problem and I remember it updated with no conflicts or anything. So I'll make a PR sometime soon.
 @ilovezfs Just tested it here with Xcode 7.3.1 as well.  Still compiling fine with both Qt4 and Qt5, on OSX 10.11.6.

Looks like a good solution. :smile:

Btw, this is the commit applied to both our active branches: https://github.com/sqlitebrowser/sqlitebrowser/commit/969e263e5bf71e63df8ee908cb4a2014b9a55c9b
 @revolter Sounds good. :smile:
 I can't believe this works, and I can finally build it again, and it was such a small fix. Thank you a lot, @ilovezfs!
 @ilovezfs, btw, ilovebrew! I really do ‚ù§Ô∏è 
 @ilovezfs Do you want to submit the patch to upstream QScintilla?  If you're feeling lazy, we can do it. :smile:
 @ilovezfs No worries at all. :smile:

@revolter You up for it, or should I?
 @justinclift I have no idea where the QScintilla source code is
 @revolter No worries, I'll get it done. :smile:
 Initial communication to upstream QScintilla in progress:

&nbsp; &nbsp; https://www.riverbankcomputing.com/pipermail/qscintilla/2016-October/001160.html
 It builds for me too (again ‚ù§Ô∏è).
 Thanks @joshua-meng, that's an interesting thought.  Have you seen this?
- https://www.riverbankcomputing.com/pipermail/qscintilla/2016-October/001167.html
- https://github.com/opencor/opencor/commit/70f3944e36b8b95b3ad92106aeae2f511b3f0e90

Not sure which approach to go with. :smile:
 @agarny Sounds like yours is the way to go then. :smile:

I'll look at reverting the initial patch we applied here then, and using yours instead. :smile:
 @justinclift Is this related to #824? @MKleusberg Yep, same (now fixed) issue.  Well spotted. :smile:  It would have helped if you completed the issue template and not remove it. So, what version? What operating system?
 @elyorm Thanks for reporting it, we will need more info though so we can investigate. :smile:

As well as what @revolter mentions (it's important), info about when/where it crashed would help.  For example, did it crash as soon as you opened it, or did it crash in the middle of doing something, (or something else)?

Are you ok to help us out with that info, so we can try figuring it out? :smile:
 @elyorm ping?
 @elyorm Is it happening every time you click `Open Database`?
@justinclift Do you have time to test this on your VM?
 > Windows 10

64bit?

Works fine for me.  I can only assume (as is usual) Windows will try and open the last used location.  If this is on media that no longer exists, DB4S might be getting confused?  Is there a registry entry telling DB4S where to open, or does it just rely on Windows?

I assume double clicking a .db file opens the file correctly in DB4S.  If you close DB4S, re-open it and _then_ click 'Open Database', does that work? (ie, it has stored its last used location...)
 Nonetheless, it should not crash. Are you able to force the last path to a non-existing path and reproduce this?
 I've set it to weird paths, wrong paths and even 'cannot access' paths.  It'll default to the program directory if it can't.  A 'cannot access' path correctly comes up with a warning.
![image](https://cloud.githubusercontent.com/assets/7872218/18547230/387e7bb2-7b3a-11e6-8702-9dca32ecfd3a.png)

I can't reproduce this, so this may not be the cause. :cry: 
Even deleted the whole registry leg for DB4S and it just recreated what it needed.
I'm currently logged on as an administrative user (so not Administrator, but I have admin privileges).  so not sure if a 'normal' user would have a different experience.  Will check.
 Great job! Shame that the news is bad :(

@elyorm We need more info in order to reproduce this.
1. Did you use DB4S before this crash?
2. Do you have admin privileges on your current account?
 Deleting the DB4S registry leg could also be an option.  I can knock up a VB program to do that, as I was just creating a program to reset the file associations.
 We might want to add some debugging info / error handling to the "Open Database" method, even in just a once-off temporary build, to try and understand why it's crashing.
 I've a Windows 10 64bitty PC at work, so will try with a non-admin user.  
 @drescherjm Thanks for mentioning it.  It was sounding like a one-off thing until then. :smile:
 @elyorm @drescherjm Would you be ok to screenshot the error information?

For me, when a crash happens on Windows, a dialog comes up that sometimes has useful information about the crash.  If that happens for you (eg giving a .dll name), that would help us fix this. :smile:
 Unfortunately, the 'stopped working' dialog doesn't give any information, apart from 'its dead, Jim'.

![image](https://cloud.githubusercontent.com/assets/7872218/18579693/2f29f64e-7bef-11e6-8818-688ccaf42f0a.png)

The event viewer sometimes gives a bit more detail, but not really that helpful... just the .exe and memory location ... can't really debug with such little information.
 @chrisjlocke Thanks.  Maybe the info is directed elsewhere then.  Does crash information from DB4S show up in Event Viewer?
 @elyorm @drescherjm Would you have time to try our latest nightly 32 + 64 bit builds, and let us know if they still have this crash problem?

&nbsp; &nbsp; https://nightlies.sqlitebrowser.org/latest/ Thanks @drescherjm, that's interesting.

My first guess is there's some kind of dll conflict.  There are some tools around to show which dlls are being used by a program, so we should be able to compare what your system is using with a "known good" one.

But yeah, it'll need you to have the laptop in hand.  Ping us when you're ok on your end and we can take a look at this. :smile:  Good catch. :smile:
 I wonder how people find these bugs... I thought I am the special one.
 Yeah.  On a similar note, if you want to see weird things happen (and you use Libvirt for anything), make some VM's with unusual unicode characters in (eg) the VM name, paths to their storage, etc.

Note - Don't do that with anything running important data.  Just saying. :wink:
 Just chippin' in, but I don't think or regard this as a bug per se.  If I type this:
`create table‚Å™‚Å™‚Å™‚Å™‚Å™‚Å™‚Å™‚Å™‚Å™‚Å™‚Å™  ¬†¬†¬†¬†    jack¬†¬†¬†¬†¬†¬†      (id text);`
`create index¬†¬†¬†¬†¬†jack2¬†¬†¬†¬†¬†    on jack (id);`

Then the table 'jack' and index 'jack2' are created as expected (well, as semi-expected - without whitespace).
If I enclose that in quotes, then yes, the whitespace is created.  However, as its explicitly set, DB4S is doing what I'm asking.  There may be a specific reason I want a table called "jack " (with spaces) and it would annoy me (and I'd consider it more of a bug) if I asked for one using "jack " and DB4S changed that to "jack".  I haven't tested the official sqlite3 commandline program, but I'm sure that would do as it was told!
As `create index 'jack ' on jack (id)` works, and `drop index 'jack '`, I personally don't see this as a bug.
I can happily type `mkdir " jack"` in Windows, but trailing spaces are removed.

I would further argue that DB4S clearly shows whitespaces in table and index names.
![image](https://cloud.githubusercontent.com/assets/7872218/18700563/da95b4a8-7fcf-11e6-9ef0-51edc825970a.png)

Again - just my opinion. :smile: 
 Creating tables/indexes/(etc) with spaces isn't really the problem.  The problem is DB4S failing to work with those tables/indexes/(etc) afterwards.

eg select the "jack " index, choose to delete it... and the delete will fail.  In the code for the deletion, there seems to be the equivalent of a trim() function happening on the object name before it's getting deleted.

I took a quick look at this just after @mafagafogigante reported it, but the reason isn't obvious.  The code to determine the object name so it can be deleted receives the name already without whitespace.  I didn't have time/energy to dig further then.
 Yep, that's clear. :smile:
 Aah, through the GUI.  Apologies - so used to using the 'Execute SQL' tab, I do all the work through that.
 @mafagafogigante Martin has just added a fix for this to the master branch in git.

Would you have a few minutes to compile the latest code to verify from your point of view? :smile:
 Awesome @mafagafogigante!

Thanks for both reporting, and verifying this. :smile:
  Awesome @mafagafogigante, thank you. :smile:

We're likely to create a `3.9.1` release in the next few days, with a few bug fixes and improvements over `3.9.0`. Should these updates be applied to the `v3.9.x` branch for that too?  
 Trying out the Preferences tab now, those two weird blocks in the top right aren't showing up on my desktop (MacOS X 10.11.16).  Tried with both Qt4, and Qt5.  They look identical:
![screen shot 2016-09-11 at 10 52 13](https://cloud.githubusercontent.com/assets/406299/18416465/ee7e099e-780d-11e6-9917-ec8eef424b09.png)
Not sure what could be causing it on your system.  Sounds like further investigation is needed?
 No worries, I can test that shortly. :smile:
 Do these help?

When compiled with Qt4:
![screen shot 2016-09-11 at 12 13 45](https://cloud.githubusercontent.com/assets/406299/18416888/5b6ed42e-7819-11e6-894f-53b7ae9c4871.png)
![screen shot 2016-09-11 at 12 13 58](https://cloud.githubusercontent.com/assets/406299/18416890/61ce289c-7819-11e6-939c-c1d9f2ade917.png)

When compiled with Qt5:
![screen shot 2016-09-11 at 12 19 16](https://cloud.githubusercontent.com/assets/406299/18416915/07013bba-781a-11e6-92ae-ff5e0acabf0f.png)
![screen shot 2016-09-11 at 12 19 23](https://cloud.githubusercontent.com/assets/406299/18416916/0af8d480-781a-11e6-8ebd-00e70f8c9568.png)
 No worries. :smile:

Is it ok to merge this PR then?
 Excellent, merged. Thanks for keeping on top of this @mafagafogigante. :smile:
 Cool. :smile:
  > Arrg I don't know where the text I just typed went.

Oops.  When you wrote it out, you put it inside the `<!--` and `-->` tags.  Browsers don't show stuff between those tags, so it effectively disappeared.  I've just removed those two tags from around what you typed, so it shows up now. :smile:

Btw, would you be ok trying the NOT NULL foreign key support with our very latest code from the `master` branch?  @MKleusberg was improving our foreign key support last week, so there's a chance that's working now.  (I'd call it 50/50 :wink:)
 Excellent, thanks for testing it and letting us know @dflogeras. :smile:

@MKleusberg Sounds like this will be of interest to you. :smile:
 Hmm, this is going to be an interesting issue :wink: What I can do is print an error message when trying to save, i.e. when doing the COMMIT. At least this way you'd know that there is an error and that the DB wasn't actually saved as expected. However, the only error message we can get is "FOREIGN KEY constraint failed" but not any details.
 Yep, working on it right now :smiley:
 I've just pushed a commit which changes the behaviour here. Now it prints an error message when trying to save the database. Can you test this by just building the latest source from master, @dflogeras, and confirm if it's working for you? :smiley:
 Thanks for reporting back so quickly, @dflogeras :+1: Also good working finding this bug - I honestly would have never found it :wink: Are we ok to close this issue then?
 @sqlitebrowser/developers, As the actual issue is not fixed, wouldn't help to open a new issue with this and hopefully get it fixed sometimes? We do want to support all SQLite features in the future, right? @revolter Yeah, that makes sense. @justinclift Care to create it yourself please? üòÑ  Maybe later.  My head is buried in other stuff at the moment.  Interesting.  Version 3.8.0 is a bit old now, and we've made a **lot** of changes for the recent 3.9.0 release.

Are you comfortable with compiling things yourself?  If so, the instructions for Ubuntu **might** "just work":

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md#ubuntu-linux

As an alternative idea, @deepsidhu1313 may have suggestions.  He creates our official Debian/Ubuntu packages, and may find [Maru OS](https://github.com/maruos/maruos) interesting. :smile:
 @pchtsp ping?
 @deepsidhu1313 Any idea about building 3.9.0 for Maru? (eg Debian on ARM) :smile:
 Thanks @deepsidhu1313. :smile:
 Awesome @pchtsp, that's good news. :smile:

Out of curiosity, which repository had 3.8.5 in it, so we can investigate?
  If FireDAC provides a drop-in-replacement for the sqlite3.dll which we could use, this might be an option.  Any idea? :smile:
 Ahhh.  I was asking a different thing. :wink:

With SQLCipher, they provide a drop in replacement .dll for the SQLite one.  With that, it meant our code didn't need much changing to add a few specific SQLCipher calls to get the encryption working.

I'm wondering if FireDAC can do the same thing, as it's hard to see from that link what kind of suitable download they provide. üò¶ 
 Thanks, that's easier to grok. :smile:

We'll probably not add support for FireDAC (Delphi) encryption then.

If at some point they add support for encryption with shared library (non-static) builds, we can look at it again. :smile:
 Yeah, it might be feasible to do, with some digging.

Would you have the time/inclination to look into it? :smile:
  Is this a DB4S issue, and not a SQLite issue?

> SQLite does not have a storage class set aside for storing dates and/or times. Instead, the built-in Date And Time Functions of SQLite are capable of storing dates and times as TEXT, REAL, or INTEGER values
> 
> Each column in an SQLite 3 database is assigned one of the following type affinities:
> - TEXT
> - NUMERIC
> - INTEGER
> - REAL
> - BLOB

So if you stored your date as text or numeric, its up to your program to convert the data?  In my .Net apps, I normally use `dateVariableImUsing=cdate(sqlreader("dateFieldInDatabase").value.tostring)`
 Interesting.  Trying to visualise how it's not working, but I'm kind of failing. üò¶ 

Is it feasible to show a screenshot or record a screencast or something of the bit that's not working?
 Looking at the table in section 3.2 [here](https://www.sqlite.org/datatype3.html), it seems like "DATETIME" is automatically treated by SQLite as the "NUMERIC" type.

If you define a field as "NUMERIC", instead of using SQL to create it as "DATETIME", does that allow the .NET DB provider objects to work with it properly?
 Thanks @Plutonix, that definitely helps show the problem. :smile:

From my perspective, I'd call this a bug in our handling of the field definition values.  We're not detecting when a person has typed their own value (eg `DATETIME`) into the Type field.  Instead, we just blindly use the string value before it was overwritten.  eg `INTEGER`, `TEXT`, `BLOB`, etc.

If we change the code so it uses the manually entered string value, would that solve the problem from your perspective? (assuming the .Net provider then does it's bit correctly :wink:)
 Cool, this is probably doable. :smile:
 Just a query, but when you type 'datetime' in the text field, are you pressing Enter?  If I do that, 'DateTime' is set for the field...

![1](https://cloud.githubusercontent.com/assets/7872218/18304097/5efa590e-74d8-11e6-839c-4cbda0abfb13.gif)

Hard to see in a GIF when I press Enter, but .... if it helps, I can make a 'tap' sound... not that you'd hear that either :wink:
 We need to update the create statement with the current `Type`'s value on blur too, not only when pressing <kbd>Enter</kbd>.
 When you say "on blur", what do you mean? :smile:
 Well, blur is the opposite of focus, so it is when a control loses focus, irrespective of where it goes to
 Thanks, makes sense. :smile:
 Never knew that either...
  Ahhh, interesting thought.  The OSX version includes SQLCipher, compiled using OSX Homebrew.  I didn't add the "--with-fts" option for the SQLCipher command line though. üò¶ 

If you have Homebrew installed, it's very simple to build a version with FTS support included (5-10 mins max):

```
$ brew install sqlcipher --with-fts
$ brew install qt
$ git clone https://github.com/sqlitebrowser/sqlitebrowser.git -b v3.9.x
$ cd sqlitebrowser
$ qmake CONFIG+=sqlcipher
$ make
```

The "DB Browser for SQLite" .app should now be in the src/ subdirectory.  You can drag it to /Applications or run it in place, etc. :smile:

Note in case it's useful, the above is a mash up of these two:
- https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md#macos-x
- https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md#build-with-sqlcipher-support
 Ahhh, just found something relevant.  Looking at the SQLCipher formula in Homebrew, the "--with-fts" option includes FTS5 not FTS4:
- https://github.com/Homebrew/homebrew-core/blob/47d7f56c299bf965cda82ae342763c683d183086/Formula/sqlcipher.rb#L30

Is it feasible to update your query for FTS5?
 Yep.  In theory, changing the line in sqlcipher.rb file to say `-DSQLITE_ENABLE_FTS4` instead of `-DSQLITE_ENABLE_FTS5` should work.

eg: `brew remove sqlcipher`, then change the file, then `brew install sqlcipher --with-fts`.

The sqlcipher.rb file is probably in this location:
- /usr/local/Library/Taps/homebrew/homebrew-core/Formula/sqlcipher.rb

Make a backup of it first, and replace it when done (to be safe). :smile:
 Just tested that change here and it seems ok:

```
$ brew install sqlcipher --with-fts
==> Using the sandbox
==> Downloading https://github.com/sqlcipher/sqlcipher/archive/v3.4.0.tar.gz
Already downloaded: /Users/jc/Library/Caches/Homebrew/sqlcipher-3.4.0.tar.gz
==> ./configure --prefix=/usr/local/Cellar/sqlcipher/3.4.0 --enable-tempstore=yes --with-crypto-lib=/usr/local/opt/openssl --enable-load-extension --disable-tcl CFLAGS=-DSQLITE_HAS_CODEC -DSQLITE_ENABLE_FTS4
==> make
==> make install
üç∫  /usr/local/Cellar/sqlcipher/3.4.0: 11 files, 2.2M, built in 39 seconds
```

The `FTS4` bit on the end of the `./configure` line looks like it's in effect.

Didn't try the rest of the build steps though.  Will leave that to you. üòÄ 
 You're welcome @pbtura. :smile:
 Oh, it's probably a good idea to run `macdeployqt` on the .app after you're built it too.  That will copy the OpenSSL, SQLCipher, and Qt shared library files from the Homebrew directory into your new "DB Browser for SQLite" app bundle.

```
$ cd /Applications
$ macdeployqt DB\ Browser\ for\ SQLite.app -verbose=2
```

With that done, if you uninstall OpenSSL, SQLCipher, or Qt from Homebrew, the .app won't suddenly stop working. :smile:
  Define "doesn't seem to handle it to well". What's exactly happening? UI freeze?
 Is it a locally attached database, or on a network?
Although only 90 MB, how many tables and rows within those tables are there?
Is it just when you change tabs? You said 'updating the db' - can you give more detailed steps to reproduce?

I created a table with four fields and filled it with 549,000 rows.  The fields just had 'a' as a content.  The only real lag I see is changing a field type, eg, from text to integer. 
Switching to the 'Browse Data' tab creates 5 SQL queries (2 of which are possibly superfluous, but may not be) or possibly more, if the connection has closed ... is this a point of delay for you?
 @abhilash1in Just to check, which version are you using, and which OS is it running on?

We made _some performance_ enhancements with the recent 3.9.0, but if you're using that one and it's still not great it sounds like more effort is probably needed.

As a second thought, if you're on Windows or OSX, would you be ok to try the latest nightly build?  That has some internal changes which should make some operations faster, so it **might** help. :smile:
 Any chance of a copy of the database?  Only ask to test it on another machine.  Such a lag sounds 'odd' so wanted to check it here...
From the schema you've provided, I could knock up a 'possible duplicate', but just wanted to cut a corner or two! :wink:
 @chrisjlocke This one is yours for in-depth investigation (eg knock up the duplicate for testing, or email @abhilash1in, etc). :smile:

@abhilash1in As a thought, do you have the "Edit Database Cell" panel open?  If so, see if turning that off makes a difference.  If it doesn't something else to investigate is this:
1. Make a copy of the database
2. In the copy, empty out the image column.  eg `UPDATE slides SET img = NULL`, and see if the performance noticeably changes
3. Also try the same "empty out X column" with other ones too, just to test.  It might also be useful to just empty out **some** of the images (use a WHERE clause), to see if there's a threshold where things change

Those should at least be decent steps to gather useful info with. :smile:
 Feel free to ZIP the database and email it to me at chris@chrisjlocke.co.uk

I can knock up a program which wipes out blocks of X records (eg, 10 or 20) and see what happens.
 I've just amended my database with about 30,000 characters in each of the four fields, and while there was no lag, DB4S did 'cough' and thus, showed no data.

![image](https://cloud.githubusercontent.com/assets/7872218/18209358/4e6fd092-712b-11e6-93a2-c047a693f313.png)

Will try with BLOBS, as that seems to be the performance 'issue'.
 Can confirm long strings in a field make DB4S cough.  Have attached a small database.  Shove 100,000 characters in a field, and DB4S struggles browsing data or viewing records via the 'Execute SQL' tab.

It didn't make much difference having a long continuous line of text or text with spaces in it (thought the grid would prefer the latter).  As the grid can only display X characters, would it be worth the grid only showing the first X characters of the field?  Or would that have too much of a speed impact to be worth it?
Creating a SQL query without the long field (so 'select _rowid_ from a') is speedy.  'select \* from a' is not.  This would point to it being a 'displaying the data' issue rather than 'DB4S can't cope with large blobs of data' issue.

The problem isn't twice as bad with 200,000 characters in each field, but it is worse.  I just changed the database to 200,000 chars in each record, and its a lot slower.  (bloat1b.zip)
Obviously, if you're storing 300 KB pictures in a database (as per @abhilash1in) this would explain the even longer delays.

Using `select substr(a,1,40000) from a` works, but only in the 'Execute SQL' tab - it would be handy if the 'browse data' tab could 'truncate' data, with the 'Edit Data Cell' pane obviously showing the full data.

[bloat1.zip](https://github.com/sqlitebrowser/sqlitebrowser/files/453013/bloat1.zip)
[bloat1b.zip](https://github.com/sqlitebrowser/sqlitebrowser/files/453019/bloat1b.zip)
 Interesting.  As a test, it's probably worth checking whether monospaced fonts (eg Courier) make a difference.

With the hex view in the Edit Cell panel, they're noticeably faster than non-monospaced fonts.

That's unlikely to be the complete solution though. :wink:
 I wonder whether we should default to only pulling back part of a very large field and then go back for everything only when needed. Easier said than done I know! I used to work with a database that was pretty much like that.
 Changing the font to a fixed width font has no effect - either positively or negatively.
As there is no benefit of displaying 300,000 characters in a grid cell, maybe there should be a display limit, so that the 'edit cell' pane is used for full editing.
In the above screenshot, I linked to where DB4S displayed 'Inf' instead of the cell contents.  Its worth noting that even the 'Edit Cell' pane displayed 'Inf' and said the cell contained 3 bytes, rather than the full cell contents and the correct number of bytes.
 Just a note too that the memory usage is phenomenal while using the above database.  The .exe was using about 1 GB, but on my 16 GB machine, I noticed I was using 91% of it.  Closed the database, and it all came back... unsure which 'process' had it (will play with that some more)

![image](https://cloud.githubusercontent.com/assets/7872218/18225470/5ecd7308-71ea-11e6-80d0-e170422a8176.png)
 I still didn't get answer to my question. Is it _just_ UI, or mix of both back-end and front-end lags?
 @abhilash1in can you send me a copy(or just a part) of database? That's needed to localize the trouble.
 @abhilash1in alright, thanks.
**UPD:** Alright, I see what you are talking about. 
 What's surprising me - paging is not helping much.
By the way, folks... Don't even try to copy data from cells :D
 @abhilash1in 173 is memory taken by rows displayed on your screen. 
Honestly, it's not essential. Both your original and @chrisjlocke 's modified tables are causing troubles that should be fixed... 
 Well, I found a way to optimize it. I am working on pull request. Someone won't probably like it though, that's why I don't push it straight to master. So we'll have a discussion.
 @abhilash1in just adding limit. Partly solves the problem, since table still needs lots of performance improvement (not mentioning filtering and sorting, those will just hang the app when using such a big data).
But this solves the trouble for you, at least. Test it with latest commit, please.
 @abhilash1in did it work for you?
 > @chrisjlocke the memory usage is a bit strange! Was it with the bloat1, bloat1b or with the original one I shared?

It was mine, but I was playing with various tabs in the 'Execute SQL' tab, so each tab was using another 300 MB of memory.  Task Manager showed the .exe was only using about 200 MB, so Windows was using it elsewhere...
 Check the nightly from here:
http://sqlitebrowser.oldsch00l.com/

It appears to only display/retrieve the first 5,000 characters from the field.  So the good news is that it displays in the grid much quicker, but the downside is that you can no longer view/edit the full field contents.  Consider it a temporary tweak... :wink:

Aah, go to 'Preferences' and 'Data Browser' and there is a 'Content' group box.  Change the value as required.
![image](https://cloud.githubusercontent.com/assets/7872218/18237913/0c4e6d26-732f-11e6-995a-d3311cb51e15.png)

Aah, again.  Don't try changing the value.  It has no effect yet.  Sorry - I'm jumping the gun and giving details on bits and pieces that haven't been completed yet ... thats why they're nightlies! :wink:
 Do you reckon it would be a useful if we take small screenshots of new things (like in your post just above), and add them to a page on the wiki named something like "New features in DB4S 3.10.0" ?  It'd be useful reference info, and we could probably use it as source materials (eg cut-n-paste :wink:) for the 3.10.0 release notes. :smile:
 The wiki certainly could do with padding out... :wink:
 @abhilash1in Did you have a chance to try out the latest Windows nightly build?  (if it helps, the download locations are listed on our front page)
 @chrisjlocke I was confused by this, too :smiley: For me at least the problem was that the minimum value for this field is 1000. If you set a value below that (I was trying 5 for testing purposes) Qt recognises it as an invalid value and changes it back to 5000. Other than that I couldn't see any problem with the settings dialog.
 ```
It appears to only display/retrieve the first 5,000 characters from the field. So the good news is that it displays in the grid much quicker, but the downside is that you can no longer view/edit the full field contents. Consider it a temporary tweak... :wink:
```

This should be fixed by 4b79f92eaac280c621244cb36c6954f0976c5142. So the next nightly build might be worth checking out :smiley: 
 That's awesome @MKleusberg.  I was wondering how to distinguish between the two different uses for the same data() call.

As you've just shown... that's what roles are for. :smile:
 @MKleusberg because I set minimum to 1k :)
@chrisjlocke do you really think 5k symbols can be displayed handy? Editor is just for that, grid is preview stuff...
 No, I don't think 5000 characters is handy ... The grid can only show at tops 20, and as its truncated, shouldn't be edited, so I was entering low values, and it was being reset to 5000. . I didn't realise the 'edit cell' pane was showing the full text either... It only displayed '5000 characters' in its status. I didn't test it any further or deeper as I thought it was work in progress...

I assume that's what you meant by 'do you really think 5k symbols can be displayed handy?' - did you think I wanted more??
 @chrisjlocke feel free to change it?

And yeah, 1k is lower limit. As I said, feel free to change it, even via github. Say, to 1.
 Yeah, 1 makes sense to me as a lower boundary.  If people want to choose that, we might as well let them, it's shouldn't hurt anything. :smile:
 Any updates on this issue? From memory of ages ago, I changed the lower limit to be 1 (as in a singular character).

Haven't followed up though to check for performance differences. :wink: You're right, looks like the minimum is 1 now. But I'm not sure if that helps performance-wise either :wink:   ### Details for the issue

<!--

Thanks for coming here to report an issue. :)

Please describe it in this section, fill out the correct check boxes
below with an "x", then click the "Submit new issue" button at the bottom

-->

I know the 'Database Structure' shows the database schema, and I print this out a lot when working on various databases.  I work in Windows, so its easy to do a printscreen, slap it in Word or something, and print it out.  However, one of the systems I'm working on is 17 tables, with one of these having 17 fields.  Nothing 'major', but it means printing it from the 'Database Structure' is a pain.  I use PicPick to help print scrollable windows, but it struggles on Qt widgets, so can't be used with DB4S.

In desperation, I knocked something up in VB.

![image 3](https://cloud.githubusercontent.com/assets/7872218/18174821/e0f688a4-7066-11e6-875a-f60a90efc5fe.png)

This pulls in the database schema and creates a form of treeview controls.  Its still manual, as I have to 'screenshot' it still, but PicPick is able to scroll it for me and capture it as one image.  It also fills the page left to right, rather than the 'Database Structure' view, which for me, is just one long column - not efficient with paper usage.

Requirements for this for other users might be low, so just 'throwing it out there' to see what others think, but a schema view thats printable could be quite useful.
### Useful extra information

<!-- The info below often helps, please fill it out if you're able to. :) -->
#### I'm opening this issue because:
- [ ] DB4S is crashing
- [ ] DB4S has a bug
- [x] DB4S needs a feature
- [ ] DB4S has another problem
#### I'm using DB4S on:
- [x] Windows
- [ ] Linux: ( _distro:_ ___ )
- [ ] Mac OS
- [ ] Other: ___
#### I'm using DB4S version:
- [x] 3.9.0
- [ ] 3.8.0
- [ ] Other: ___
#### I have also:
- [ ] Tried out the nightly version: https://github.com/sqlitebrowser/sqlitebrowser#windows
- [ ] Searched for an existing similar issue: https://github.com/sqlitebrowser/sqlitebrowser/issues?utf8=%E2%9C%93&q=is%3Aissue%20
 Seems like a good feature to have.

@chrisjlocke So.. this might be a good starter project for your C++/Qt learning? :smile:
 Oh crap....  :wink:
  As a thought, would you be ok to try the build with `qmake` instead of `cmake`?

That's a curiosity thing on my part, just to understand if `qmake` works ok on DragonFly BSD. :smile:

Regardless of that, I've just pushed a commit to the `master` branch which should fix the CMake issue.  In theory.  If you have the time/inclination to test that, it would be cool. :smile:
 Damn. üò¶ 

Just to double check, did you reset & clean the git tree before attempting those? eg:

```
$ git reset --hard HEAD
$ git clean -dffx
```

That's just me hoping the build failed due to left over files from the previous run. üòÅ 

If that's definitely not the case, then what happens if you roll the git repo back a few commits, to just before the change I made? eg:

```
$ git reset --hard e12e043
$ git clean -dffx
[then qmake / cmake, etc as appropriate]
```
 Excellent. :smile:
  This is linked to #744 which has recently been fixed.  However, we usually have 'nightly builds' which have the latest fixes and tweaks in them, but unfortunately, due to one of the latest fixes and tweaks having a mind of its own, the program isn't compiling properly, so the nightlies aren't available.  However, check back in a couple of days, and theoretically, this issue might have been fixed.  Give @justinclift a hug (in a virtual sense, of course.....) :smile: 

Oh, and thanks for reporting this by the way!  Always good to get feedback, whether good or bad!
 Sorry @appjeanne, I accidentally broke our automatic nightly builds while adjusting some settings.

In theory (!) it's fixed now, so the new nightly build tomorrow should be fine to use.  Though, we'll need to double check again anyway, just in case something else is still making it unhappy. üëº 
 @appjeanne, Can you test the [latest nightly build](http://sqlitebrowser.oldsch00l.com) and confirm that this is fixed?
 Awesome.  Thanks for letting us know @appjeanne. :smile:
  Just as a 'workaround', could you not run multiple copies of the application?  Not a fantastic solution (and probably not even a solution) but I've tried it a couple of times and it sorta worked...
 Nice thinking, it does sound like something we should be doing
 Reading through this, the concept sounds fine.  If we can do it in a way which keeps the UI simple for newcomers, it's probably a good thing to make happen.

The tabbed main window approach is probably a good thing for newcomers.  eg it's fairly simple to get the idea of.  We could add a checkbox in Preferences to switch from the tabbed view, to a "multi-panel" (best term I could think of) view instead.

For a multi-panel view, we'd probably have each of the main window tabs being in their own dockable/floating panel.  Similar to how the "Edit Database Cell" panel works in 3.9.0.

For a first attempt, each panel would probably have just the one instance. eg no capability to have multiple "Browse Data" panels open at the same time, each with a different view.

But, that could come later, after the separate panel code itself is known to work. :smile:
 Interesting thought, that's a useful sounding approach. :smile:
  Thank @jungle-boogie.  It's likely the result from changing CMake config in `master` branch yesterday.

Emailing @rp- now, to see if it's fixable. :smile:
 Haven't heard back from @rp-, so took a different approach instead as pointed out by @MKleusberg: https://github.com/sqlitebrowser/sqlitebrowser/commit/2957974974bb874b0219e52d63c198658c02f686

I **think** the nightly build will be ok again now.  At least until we switch to Qt5, by which time we'll need to have a Qt5 compatible version of it running. :smile:
 The logs from the nightly build seems to say it succeeded.

Haven't personally tried the resulting package though. :wink:
 Just tested the nightly, and it works.  Compared the 'about' box with 3.9, and noticed 3.9 doesn't show a SQLite version?

3.9
![image](https://cloud.githubusercontent.com/assets/7872218/18156266/ee5e7754-700c-11e6-9726-b38b1977cab0.png)

3.9.99
![image](https://cloud.githubusercontent.com/assets/7872218/18156272/fe1d2e60-700c-11e6-8096-b78c6d12bc21.png)

Also, the icons for both are different - 3.9.99 is a lighter grey... Wasn't sure if these 'differences' should be there...
 @chrisjlocke Yeah, the version info shown for our SQLCipher builds is a bit wonky.  We query the SQLCipher library for it's version number... but instead of telling us the correct info, it just returns the version of SQLCipher it's based on.  That info is probably helpful for some people (maybe feature detection?), but doesn't really match up with how we're doing things.

We do have an open DB4S issue about fixing the version number displayed for SQLCipher, but I'm not finding it right at the moment. üò¶ 
 Aah, pull 585...  
https://github.com/sqlitebrowser/sqlitebrowser/pull/585
 Thanks.  That's why I missed it... only looked in the Issues. :wink:
 But the icon didn't change, right?
 The builds for windows have been working for some time. Closing now. :)
 @justinclift, Why does this Windows issue have the `linux` label? üòÜ
 The Windows nightly builds (at the moment) are cross compiled on an Arch Linux box. :wink:
  Sorry @rvalk, that's my fault.  I changed the default installation directory to include the version number (eg `3.9.0`) in the path name.  It turns out that was a bad idea. üò¶ 

You can fix the problem manually though.  If you're ok with using regedit, you can adjust things yourself using @chrisjlocke's instructions here:
- https://github.com/sqlitebrowser/sqlitebrowser/issues/279#issuecomment-242426297

There is some older info here, but Chris's instructions are probably better: :smile:
- https://github.com/sqlitebrowser/sqlitebrowser/wiki/Windows-File-Associations
 Note - We're also working out a proper "more permanent" fix for this in #279.  We'll probably add something in the Preferences dialog so people can set file associations there.

It hasn't been added yet, but research is happening. :smile:
 In Windows, you can also right click the file, select 'Open with...', tick the ticky box, and click 'More apps' (if on Windows 10) then find where you installed DB4S.
http://chrisjlocke.co.uk/associations/

You said, "even after browse and select," so it sounds like you've tried this?  What version of Windows are you on?

Nirsoft also provide a comprehensive file type manager.
http://www.nirsoft.net/utils/file_types_manager.html

This program doesn't need installing and is simply an .exe file.
 @rvalk Was any of the above useful to get it working again? :smile:
 Cool.  Hopefully we'll have a proper solution working for the next major version. :smile:
 @chrisjlocke Just tried watching the video on your /associations/ page.  For me, it's not working through the Jplayer thing on the website.  [Downloading it directly](http://chrisjlocke.co.uk/wp-content/uploads/2016/08/31_0750.mp4) and watching with VLC works fine though. :smile:  
 Hmm, that's interesting. Must be a poor player. Worked ok on my Chrome. :disappointed: 
  Ahhh, that's interesting. :smile:

In theory, that's **supposed** to be happening already in a few places:
- File ‚Üí "Import database from SQL" dialog. (code [here](https://github.com/sqlitebrowser/sqlitebrowser/blob/684958b29ce3d26684d9142d73df773b11189d54/src/MainWindow.cpp#L1132))
- "Open SQL File" button in the Execute SQL tab. (code [here](https://github.com/sqlitebrowser/sqlitebrowser/blob/684958b29ce3d26684d9142d73df773b11189d54/src/MainWindow.cpp#L1517))

Sounds like it's not working for you though, or it needs to be added in other places too?
 Would you be ok to attach the screenshot using the web interface?

GitHub doesn't recognise images in attachments, so they just get dropped. üò¶ 
 Thanks, yep that worked. :smile:

With your `.sql` files, are they databases or saved SQL statements?  Asking because it's **unusual** to use the file extension `.sql` for actual database files.

Note - there's nothing technically stopping that from working though.

As a thought, this request can probably be considered a part of #659.  Once that's implemented, you'll be able to set any file extensions you want. :smile:
 > They are sqlite3 files. I don't like such a long file extension

SQL is a language, and as such its 'common' for .sql files to contain SQL commands, thus the reason they're used in database import/export dialogs, etc.
A database isn't a collection of SQL commands, but instead, a collection of data.  It makes more 'sense' to use a .db extension to denote a database, rather than a collection of SQL commands.

As Justin says though, you can do whatever you want, but was just pointing out the 'reasons' why .sql isn't in that dialog by default.  As you like short extensions, changing to '.db' solves two problems - its in the dialog, and its a shorter file extension! :wink:
 Yeah, this is a hard call.  If someone came along and suggested an extension that's not commonly used for a different purpose, there's a good chance we'd add it.  After all, it's would be unlikely to have a negative impact on anyone.

... but ".sql" isn't like that.  It's commonly used (including by us) for a specific purpose as **not** a database file. :wink:

This is **sort** of like if someone asked us to add ".doc" in the extension list for our opening/saving dialogs.  There's nothing technically stopping it working... but ".doc" is widely used for something else.

All is not lost though. :smile:

There are two potential solutions coming to mind, depending on how much effort you're ok with:
1. Adding new file extensions yourself is fairly simple.  There's only one line to you'd need to change:
   - https://github.com/sqlitebrowser/sqlitebrowser/blob/684958b29ce3d26684d9142d73df773b11189d54/src/FileDialog.h#L20
   
   You will need to compile DB4S yourself (with that line changed).  There are full, end to end instructions [here](https://github.com/sqlitebrowser/sqlitebrowser/wiki/Setting-up-a-Win64-development-environment-for-DB4S) for installing the needed software (including the needed settings), and it walks through the entire process.
   
   It's not complicated at all, it's just time consuming the first time around to download the bits, run their installers, etc.  We're happy to answer questions, if you're up for this and need assistance at points. :smile:
2. Wait for issue #659 to be completed.  With that done, you'll be able to add/remove the file extensions yourself through the Preferences dialog.

Workable? :smile:
 Cool, no worries at all @bobatwhidbey. :smile:
  Ouch.  Yep, that does sound like a bug.

@MKleusberg One for you?
 This seems to be a bug in the SQLCipher encryption dialog. I've increased the max page size to 65536 (and the min page size from 1 to 512). Should be all good now :smiley: We don't have nightly builds for Windows with SQLCipher support yet, but if you want to test the changes, @TheOriginalWinCat, you can ask @justinclift to build you a once-off. He'll only need to know if you're running a 32bit or 64bit Windows installation :smile: 
 Awesome @MKleusberg, thank you. :smile:
 @TheOriginalWinCat Would you have a few minutes to try out this build?
- http://nightlies.sqlitebrowser.org/win64-onceoffs/DB%20Browser%20for%20SQLite-issue752v1-win64.exe

That has @MKleusberg's fix in it.  In testing here, it accept encryption key page sizes up to 65536 now, and the same works when unlocking a database too.

Verifying it from your point of view would be nifty. :smile:

@MKleusberg As a side note... noticed something strange when testing with the old maximum (typo) value of "8092".  On Win64, encrypting a database with a page size of "8092" (not 8192) seems like it goes ok.  However, when re-opening the encrypted database (using 8092 page size), DB4S crashes.

Maybe the page size needs to be a proper power of two or something?  We can ask the SQLCipher people if that would be useful too. :smile:
 @TheOriginalWinCat Ahhh, yeah.  We don't support System.Data.SQLite databases at this stage.

We **probably** won't either, unless someone submits patches to add the support (which we'll happily accept).

Don't suppose you're a C++ developer? :smile:
 Heh Heh Heh, no worries at all. :wink:

Btw, this is a related issue also about System.Data.SQLite from just a few days ago: #739 

It mentions a GUI called [SQLite2009 Pro](http://sqlite2009pro.azurewebsites.net), which seems like it would work.  It's home page shows was updated in 2014 as well, so it's not _completely_ ancient. :smile:
 SQLite Studio is open source (and cross platform).  Haven't tried it with SDS created databases.  
http://sqlitestudio.pl/
 Closing this now, as the reported issue is fixed (in testing here), and we're unlikely to add support for System.Data.SQLite any time soon.
  It seems to be having a problem with `&oacute;`.  Is that a typo for `&acute;` ?
 To answer my own question... it's a real thing:

&nbsp; &nbsp; http://www.fileformat.info/format/w3c/htmlentity.htm
 Ahhh, good thinking. :smile:
 Thanks @lulol, that looks good. :smile:
  ### Details for the issue

When built with Qt5 on OSX, DB4S isn't showing all of the table data.

The table info shows the correct total number of records, but the scroll bar isn't correctly scrolling to the bottom of them, and the page buttons don't work properly either.

It's a bit hard to describe using just words, so I'll do some screenrecording later today to show the problem in action.

This doesn't happen on Windows, and it also doesn't happen for Qt4 on OSX.  So, there's possibly something OSX specific about the problem.

This is a blocker to going Qt5 only. üò¶ 
### Useful extra information

<!-- The info below often helps, please fill it out if you're able to. :) -->
#### I'm opening this issue because:
- [ ] DB4S is crashing
- [x] DB4S has a bug
- [ ] DB4S needs a feature
- [ ] DB4S has another problem
#### I'm using DB4S on:
- [ ] Windows
- [ ] Linux: ( _distro:_ ___ )
- [x] Mac OS
- [ ] Other: ___
 Yep, this is the one.  Figured it best to put in a separate issue, so we can track this one down as it's own thing.

Which reminds me, this really needs some screenrecording things of the bug in action to properly convey the problem.

Don't suppose you'd have the time/interest to do some?  If not, no worries, I will get around to it. :smile:
 Ahhh.  I'm suspecting this is a different issue, though probably related.  But, both should be looked into.
 @justinclift Did you have a chance to do a screen recording of the scrolling behaviour yet?
Also, does this happen for each table in every database, or just for some of them? Does it depend on the number of rows in a table or the size of the window (i.e. the number of rows shown on the screen)? Is it sort of random or are always the same rows missing?

Lots of questions, I know :wink: But I'm trying to narrow this down for easiest debugging since I don't have a OS X system available here.
 Ahhh yeah, I really need to get around to that.

It happens for every table in the database, regardless of # of rows, table size, window size, etc.

My suspicion is it's something to do with the way we're paging things in the backend.  But no more idea than that.

Give me a bit, I'll compile it again and record it now.
 k, screen recording here:

&nbsp; &nbsp; http://nightlies.sqlitebrowser.org/issue_uploads/DB4S_Issue_750v1.mp4
 There is only one table in the database, so I wasn't able to show it with multiple tables, but it should be clear enough to show the problem.

Can provide the database too if that helps. :smile:
 Ah interesting :smiley: Not entirely sure how to track this down though. Can you do me a favour and tell me the value in Preferences -> Database -> Prefetch block size as well as recording this again with the SQL log opened?
 Yep, can do.  1 min. :smile:

Prefetch block size is "50000".

I'll do another recording now with the SQL log open.
 With the SQL Log open:
- http://nightlies.sqlitebrowser.org/issue_uploads/DB4S%20Issue%20750v2-50%25.mp4
- http://nightlies.sqlitebrowser.org/issue_uploads/DB4S%20Issue%20750v2-75%25.mp4

Not sure how wide your screen is.  If the 75% one doesn't fit, try the 50% one.  The smaller one is kind of blurry though. üôÅ 
 @MKleusberg As a thought towards debugging, maybe we should add some println() style statements to the SQL Log, showing the values of whatever seems appropriate?  I'm completely ok with compiling stuff and recording again.  I just don't know which things we'd be interested in. :wink:
 @justinclift Yes, let's do that :smiley: To be honest, I still don't see the source of the problem, though it definitely feels like we're getting closer.

Can you try this hacky patch? Just scroll all the way down and paste the SQL log. No screen record needed this time :smiley: 

``` diff
diff --git a/src/ExtendedTableWidget.cpp b/src/ExtendedTableWidget.cpp
index 42c9b1f..aa202b9 100644
--- a/src/ExtendedTableWidget.cpp
+++ b/src/ExtendedTableWidget.cpp
@@ -330,6 +330,8 @@ void ExtendedTableWidget::updateGeometries()
     }
 }

+#include "MainWindow.h"
+
 void ExtendedTableWidget::vscrollbarChanged(int value)
 {
     // Cancel if there is no model set yet - this shouldn't happen (because without a model there should be no scrollbar) but just to be sure...
@@ -337,8 +339,12 @@ void ExtendedTableWidget::vscrollbarChanged(int value)
         return;

     // Fetch more data from the DB if necessary
-    if((value + numVisibleRows()) >= model()->rowCount() && model()->canFetchMore(QModelIndex()))
+    int nvr = numVisibleRows();
+    if((value + nvr) >= model()->rowCount() && model()->canFetchMore(QModelIndex()))
+    {
+        dynamic_cast<MainWindow*>(model()->parent())->logSql(QString("ExtendedTableWidget::vscrollbarChanged -> value=%1, numVisibleRows=%2, modelRowCount=%3.").arg(value).arg(nvr).arg(model()->rowCount()), kLogMsg_App);
         model()->fetchMore(QModelIndex());
+    }
 }

 int ExtendedTableWidget::numVisibleRows()
```
 Done. :smile:

```
PRAGMA foreign_keys = "1";
SELECT type,name,sql,tbl_name FROM sqlite_master UNION SELECT type,name,sql,tbl_name FROM sqlite_temp_master;
PRAGMA encoding
SELECT COUNT(*) FROM (SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC);
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 0, 50000;
ExtendedTableWidget::vscrollbarChanged -> value=50093, numVisibleRows=15, modelRowCount=50000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 50000, 50000;
ExtendedTableWidget::vscrollbarChanged -> value=100186, numVisibleRows=14, modelRowCount=100000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 100000, 50000;
ExtendedTableWidget::vscrollbarChanged -> value=151501, numVisibleRows=14, modelRowCount=150000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 150000, 50000;
ExtendedTableWidget::vscrollbarChanged -> value=201594, numVisibleRows=15, modelRowCount=200000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 200000, 50000;
ExtendedTableWidget::vscrollbarChanged -> value=259018, numVisibleRows=15, modelRowCount=250000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 250000, 50000;
ExtendedTableWidget::vscrollbarChanged -> value=300558, numVisibleRows=14, modelRowCount=300000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 300000, 50000;
ExtendedTableWidget::vscrollbarChanged -> value=351874, numVisibleRows=14, modelRowCount=350000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 350000, 50000;
ExtendedTableWidget::vscrollbarChanged -> value=401967, numVisibleRows=15, modelRowCount=400000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 400000, 50000;
ExtendedTableWidget::vscrollbarChanged -> value=454503, numVisibleRows=14, modelRowCount=450000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 450000, 50000;
```
 It seems like the table inside the enclosing widget knows the full table size.  It's just the outside scroll thing seems clueless. üò¶ 

It's completely possible to scroll to this false "end" (eg row 16670), then use the cursor keys to keep moving down.  The view window still doesn't move down though (eg still shows only up to row 16670).
 Yeah, the problem seems to be with the scrollbar itself :confused: Let's do some further testing. Here's an updated patch. It needs to be applied on a clean head, i.e. not on the last patch. Again, I only need the SQL log.

``` diff
diff --git a/src/ExtendedTableWidget.cpp b/src/ExtendedTableWidget.cpp
index 42c9b1f..3504ec4 100644
--- a/src/ExtendedTableWidget.cpp
+++ b/src/ExtendedTableWidget.cpp
@@ -315,6 +315,8 @@ void ExtendedTableWidget::keyPressEvent(QKeyEvent* event)
         QTableView::keyPressEvent(event);
 }

+#include "MainWindow.h"
+
 void ExtendedTableWidget::updateGeometries()
 {
     // Call the parent implementation first - it does most of the actual logic
@@ -326,7 +328,10 @@ void ExtendedTableWidget::updateGeometries()
         // If so and if it is a SqliteTableModel and if the parent implementation of this method decided that a scrollbar is needed, update its maximum value
         SqliteTableModel* m = qobject_cast<SqliteTableModel*>(model());
         if(m && verticalScrollBar()->maximum())
+        {
+            dynamic_cast<MainWindow*>(model()->parent())->logSql(QString("ExtendedTableWidget::updateGeometries -> totalRowCount=%1, numVisibleRows=%2.").arg(m->totalRowCount()).arg(numVisibleRows()), kLogMsg_App);
             verticalScrollBar()->setMaximum(m->totalRowCount() - numVisibleRows() + 1);
+        }
     }
 }

@@ -337,8 +342,12 @@ void ExtendedTableWidget::vscrollbarChanged(int value)
         return;

     // Fetch more data from the DB if necessary
-    if((value + numVisibleRows()) >= model()->rowCount() && model()->canFetchMore(QModelIndex()))
+    int nvr = numVisibleRows();
+    if((value + nvr) >= model()->rowCount() && model()->canFetchMore(QModelIndex()))
+    {
+        dynamic_cast<MainWindow*>(model()->parent())->logSql(QString("ExtendedTableWidget::vscrollbarChanged -> value=%1, numVisibleRows=%2, modelRowCount=%3.").arg(value).arg(nvr).arg(model()->rowCount()), kLogMsg_App);
         model()->fetchMore(QModelIndex());
+    }
 }

 int ExtendedTableWidget::numVisibleRows()
```
 Sure. :smile:

```
PRAGMA foreign_keys = "1";
SELECT type,name,sql,tbl_name FROM sqlite_master UNION SELECT type,name,sql,tbl_name FROM sqlite_temp_master;
PRAGMA encoding
SELECT COUNT(*) FROM (SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC);
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 0, 50000;
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::vscrollbarChanged -> value=51315, numVisibleRows=14, modelRowCount=50000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 50000, 50000;
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::vscrollbarChanged -> value=101408, numVisibleRows=14, modelRowCount=100000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 100000, 50000;
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::vscrollbarChanged -> value=150280, numVisibleRows=14, modelRowCount=150000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 150000, 50000;
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::vscrollbarChanged -> value=200373, numVisibleRows=14, modelRowCount=200000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 200000, 50000;
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::vscrollbarChanged -> value=250466, numVisibleRows=15, modelRowCount=250000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 250000, 50000;
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=15.
ExtendedTableWidget::vscrollbarChanged -> value=301780, numVisibleRows=14, modelRowCount=300000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 300000, 50000;
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::vscrollbarChanged -> value=351874, numVisibleRows=14, modelRowCount=350000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 350000, 50000;
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::vscrollbarChanged -> value=403189, numVisibleRows=14, modelRowCount=400000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 400000, 50000;
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::vscrollbarChanged -> value=450839, numVisibleRows=15, modelRowCount=450000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 450000, 50000;
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=15.
```
 Hmmm, those row values in the bottom left.  eg: `16657 - 16670 of 499723`

Looking at the .ui and source, that "to" value (the middle one), seems to be getting involved with the false maximum:
- https://github.com/sqlitebrowser/sqlitebrowser/blob/969e263e5bf71e63df8ee908cb4a2014b9a55c9b/src/MainWindow.cpp#L680

The code for that line is:

``` cpp
int to = ui->dataTable->verticalHeader()->visualIndexAt(ui->dataTable->height()) - 1;
```

Perhaps either `dataTable->height()` is returning the wrong value, or the `visualIndexAt()` method isn't getting things correct.  Maybe some println() from that would help? :smile:

Actually, I'll try adding a few here and see what shows up. :smile:
 I think the code in MainWindow.cpp is working correctly. All it does is getting the row numbers of the first and the last visible row in the table view. And as far as I can tell from your videos it's doing that correctly. So the problem must be in the table view somewhere and the fale maximum value at the bottom is just an effect of that.

The scrollbar is also being set as expected. Looking at your screen recordings now, it seems like the scrollbar is doing exactly what it's supposed to do, triggering prefetches where it's at least plausible to do so. But the table view seems to be lagging and getting out of sync.
 You're probably right.  If it helps though, this is the output from scrolling to the end of the table, using this [simple patch](https://github.com/justinclift/sqlitebrowser/commit/def049a8d314f8e4f6cd5fdfca76c6d6077ffcfc) on top of your 2nd one:

```
dataTableHeight = 30, to = -2
PRAGMA foreign_keys = "1";
SELECT type,name,sql,tbl_name FROM sqlite_master UNION SELECT type,name,sql,tbl_name FROM sqlite_temp_master;
PRAGMA encoding
SELECT COUNT(*) FROM (SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC);
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 0, 50000;
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
dataTableHeight = 429, to = 13
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
dataTableHeight = 429, to = 94
dataTableHeight = 429, to = 420
dataTableHeight = 429, to = 502
dataTableHeight = 429, to = 583
dataTableHeight = 429, to = 664
dataTableHeight = 429, to = 746
dataTableHeight = 429, to = 827
dataTableHeight = 429, to = 868
dataTableHeight = 429, to = 950
dataTableHeight = 429, to = 1031
dataTableHeight = 429, to = 1112
dataTableHeight = 429, to = 1194
dataTableHeight = 429, to = 1275
dataTableHeight = 429, to = 1357
dataTableHeight = 429, to = 1479
dataTableHeight = 429, to = 1560
ExtendedTableWidget::vscrollbarChanged -> value=51315, numVisibleRows=14, modelRowCount=50000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 50000, 50000;
dataTableHeight = 429, to = 1723
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
dataTableHeight = 429, to = 2049
dataTableHeight = 429, to = 2131
dataTableHeight = 429, to = 2171
dataTableHeight = 429, to = 2253
dataTableHeight = 429, to = 2334
dataTableHeight = 429, to = 2416
dataTableHeight = 429, to = 2497
dataTableHeight = 429, to = 2579
dataTableHeight = 429, to = 2660
dataTableHeight = 429, to = 2782
dataTableHeight = 429, to = 2864
dataTableHeight = 429, to = 3027
dataTableHeight = 429, to = 3108
dataTableHeight = 429, to = 3189
dataTableHeight = 429, to = 3271
ExtendedTableWidget::vscrollbarChanged -> value=100186, numVisibleRows=14, modelRowCount=100000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 100000, 50000;
dataTableHeight = 429, to = 3352
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
dataTableHeight = 429, to = 3719
dataTableHeight = 429, to = 3882
dataTableHeight = 429, to = 3963
dataTableHeight = 429, to = 4004
dataTableHeight = 429, to = 4085
dataTableHeight = 429, to = 4248
dataTableHeight = 429, to = 4330
dataTableHeight = 429, to = 4493
dataTableHeight = 429, to = 4574
dataTableHeight = 429, to = 4696
dataTableHeight = 429, to = 4859
dataTableHeight = 429, to = 4941
ExtendedTableWidget::vscrollbarChanged -> value=150280, numVisibleRows=14, modelRowCount=150000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 150000, 50000;
dataTableHeight = 429, to = 5022
dataTableHeight = 429, to = 5104
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=15.
dataTableHeight = 429, to = 6081
dataTableHeight = 429, to = 6325
dataTableHeight = 429, to = 6407
dataTableHeight = 429, to = 6610
ExtendedTableWidget::vscrollbarChanged -> value=202816, numVisibleRows=14, modelRowCount=200000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 200000, 50000;
dataTableHeight = 429, to = 6773
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
dataTableHeight = 429, to = 7058
dataTableHeight = 429, to = 7832
dataTableHeight = 429, to = 7954
dataTableHeight = 429, to = 8199
ExtendedTableWidget::vscrollbarChanged -> value=252909, numVisibleRows=14, modelRowCount=250000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 250000, 50000;
dataTableHeight = 429, to = 8443
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
dataTableHeight = 429, to = 8647
dataTableHeight = 429, to = 8728
dataTableHeight = 429, to = 8891
dataTableHeight = 429, to = 9135
dataTableHeight = 429, to = 9258
dataTableHeight = 429, to = 9543
dataTableHeight = 429, to = 9787
dataTableHeight = 429, to = 9828
dataTableHeight = 429, to = 9909
dataTableHeight = 429, to = 9991
ExtendedTableWidget::vscrollbarChanged -> value=301781, numVisibleRows=14, modelRowCount=300000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 300000, 50000;
dataTableHeight = 429, to = 10072
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
dataTableHeight = 429, to = 10520
dataTableHeight = 429, to = 10765
dataTableHeight = 429, to = 10846
dataTableHeight = 429, to = 11009
dataTableHeight = 429, to = 11090
dataTableHeight = 429, to = 11213
dataTableHeight = 429, to = 11294
dataTableHeight = 429, to = 11375
dataTableHeight = 429, to = 11579
ExtendedTableWidget::vscrollbarChanged -> value=350652, numVisibleRows=14, modelRowCount=350000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 350000, 50000;
dataTableHeight = 429, to = 11701
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
dataTableHeight = 429, to = 12108
dataTableHeight = 429, to = 12271
dataTableHeight = 429, to = 12312
dataTableHeight = 429, to = 12394
dataTableHeight = 429, to = 12556
dataTableHeight = 429, to = 12638
dataTableHeight = 429, to = 12719
dataTableHeight = 429, to = 12801
dataTableHeight = 429, to = 12964
dataTableHeight = 429, to = 13004
dataTableHeight = 429, to = 13086
dataTableHeight = 429, to = 13167
dataTableHeight = 429, to = 13330
ExtendedTableWidget::vscrollbarChanged -> value=401967, numVisibleRows=15, modelRowCount=400000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 400000, 50000;
dataTableHeight = 429, to = 13412
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=15.
dataTableHeight = 429, to = 14104
dataTableHeight = 429, to = 14226
dataTableHeight = 429, to = 14308
dataTableHeight = 429, to = 14471
dataTableHeight = 429, to = 14552
dataTableHeight = 429, to = 14633
dataTableHeight = 429, to = 14715
dataTableHeight = 429, to = 14878
dataTableHeight = 429, to = 15000
ExtendedTableWidget::vscrollbarChanged -> value=452059, numVisibleRows=14, modelRowCount=450000.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 450000, 50000;
dataTableHeight = 429, to = 15081
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
dataTableHeight = 429, to = 15489
dataTableHeight = 429, to = 15611
dataTableHeight = 429, to = 15692
dataTableHeight = 429, to = 15774
dataTableHeight = 429, to = 15855
dataTableHeight = 429, to = 16018
dataTableHeight = 429, to = 16100
dataTableHeight = 429, to = 16140
dataTableHeight = 429, to = 16303
dataTableHeight = 429, to = 16385
dataTableHeight = 429, to = 16466
dataTableHeight = 429, to = 16548
dataTableHeight = 429, to = 16670
```
 Next try:

``` diff
diff --git a/src/ExtendedTableWidget.cpp b/src/ExtendedTableWidget.cpp
index 42c9b1f..ee8b439 100644
--- a/src/ExtendedTableWidget.cpp
+++ b/src/ExtendedTableWidget.cpp
@@ -315,6 +315,8 @@ void ExtendedTableWidget::keyPressEvent(QKeyEvent* event)
         QTableView::keyPressEvent(event);
 }

+#include "MainWindow.h"
+
 void ExtendedTableWidget::updateGeometries()
 {
     // Call the parent implementation first - it does most of the actual logic
@@ -326,7 +328,10 @@ void ExtendedTableWidget::updateGeometries()
         // If so and if it is a SqliteTableModel and if the parent implementation of this method decided that a scrollbar is needed, update its maximum value
         SqliteTableModel* m = qobject_cast<SqliteTableModel*>(model());
         if(m && verticalScrollBar()->maximum())
+        {
+            dynamic_cast<MainWindow*>(model()->parent())->logSql(QString("ExtendedTableWidget::updateGeometries -> totalRowCount=%1, numVisibleRows=%2.").arg(m->totalRowCount()).arg(numVisibleRows()), kLogMsg_App);
             verticalScrollBar()->setMaximum(m->totalRowCount() - numVisibleRows() + 1);
+        }
     }
 }

@@ -337,8 +342,14 @@ void ExtendedTableWidget::vscrollbarChanged(int value)
         return;

     // Fetch more data from the DB if necessary
-    if((value + numVisibleRows()) >= model()->rowCount() && model()->canFetchMore(QModelIndex()))
+    int nvr = numVisibleRows();
+    if((value + nvr) >= model()->rowCount() && model()->canFetchMore(QModelIndex()))
+    {
+        dynamic_cast<MainWindow*>(model()->parent())->logSql(QString("ExtendedTableWidget::vscrollbarChanged -> value=%1, numVisibleRows=%2, modelRowCount=%3.").arg(value).arg(nvr).arg(model()->rowCount()), kLogMsg_App);
+        dynamic_cast<MainWindow*>(model()->parent())->logSql(QString("ExtendedTableWidget::vscrollbarChanged -> position_before=%1.").arg(verticalScrollBar()->value()), kLogMsg_App);
         model()->fetchMore(QModelIndex());
+        dynamic_cast<MainWindow*>(model()->parent())->logSql(QString("ExtendedTableWidget::vscrollbarChanged -> position_after=%1.").arg(verticalScrollBar()->value()), kLogMsg_App);
+    }
 }

 int ExtendedTableWidget::numVisibleRows()
```
 Hmmm, looking at my output first (I'll try your patch in a second), that visualIndexAt() call is definitely returning incorrect values.
 k, I'll try your patch next.  Gimme a minute. :smile:
 The dataTableHeight value in your log is constant. No idea if it's correct but it looks plausible. And it definitely should be constant as long as you don't resize the window. So as far as that goes it looks all good. The to value is wrong of course, but that's ok as long it's correct in relation to the from value: it should be the from value plus 14 or 15 in your case.
 Why not use qobject_casts?
 Yeah, the "from" value is 16658, the "to" value is 16670.  No worries with that then. :wink:

@MKleusberg Output from your patch:

```
PRAGMA foreign_keys = "1";
SELECT type,name,sql,tbl_name FROM sqlite_master UNION SELECT type,name,sql,tbl_name FROM sqlite_temp_master;
PRAGMA encoding
SELECT COUNT(*) FROM (SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC);
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 0, 50000;
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::vscrollbarChanged -> value=53759, numVisibleRows=15, modelRowCount=50000.
ExtendedTableWidget::vscrollbarChanged -> position_before=53759.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 50000, 50000;
ExtendedTableWidget::vscrollbarChanged -> position_after=53759.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=15.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=15.
ExtendedTableWidget::vscrollbarChanged -> value=101408, numVisibleRows=14, modelRowCount=100000.
ExtendedTableWidget::vscrollbarChanged -> position_before=101408.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 100000, 50000;
ExtendedTableWidget::vscrollbarChanged -> position_after=101408.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::vscrollbarChanged -> value=150280, numVisibleRows=14, modelRowCount=150000.
ExtendedTableWidget::vscrollbarChanged -> position_before=150280.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 150000, 50000;
ExtendedTableWidget::vscrollbarChanged -> position_after=150280.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::vscrollbarChanged -> value=204038, numVisibleRows=14, modelRowCount=200000.
ExtendedTableWidget::vscrollbarChanged -> position_before=204038.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 200000, 50000;
ExtendedTableWidget::vscrollbarChanged -> position_after=204038.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::vscrollbarChanged -> value=251688, numVisibleRows=14, modelRowCount=250000.
ExtendedTableWidget::vscrollbarChanged -> position_before=251688.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 250000, 50000;
ExtendedTableWidget::vscrollbarChanged -> position_after=251688.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::vscrollbarChanged -> value=303003, numVisibleRows=14, modelRowCount=300000.
ExtendedTableWidget::vscrollbarChanged -> position_before=303003.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 300000, 50000;
ExtendedTableWidget::vscrollbarChanged -> position_after=303003.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::vscrollbarChanged -> value=351874, numVisibleRows=14, modelRowCount=350000.
ExtendedTableWidget::vscrollbarChanged -> position_before=351874.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 350000, 50000;
ExtendedTableWidget::vscrollbarChanged -> position_after=351874.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::vscrollbarChanged -> value=405633, numVisibleRows=14, modelRowCount=400000.
ExtendedTableWidget::vscrollbarChanged -> position_before=405633.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 400000, 50000;
ExtendedTableWidget::vscrollbarChanged -> position_after=405633.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::vscrollbarChanged -> value=452060, numVisibleRows=14, modelRowCount=450000.
ExtendedTableWidget::vscrollbarChanged -> position_before=452060.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 450000, 50000;
ExtendedTableWidget::vscrollbarChanged -> position_after=452060.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
```
 Nope, this didn't reveal anything :crying_cat_face: I'm running out of ideas now. But let's try this slightly modified patch:

``` diff
diff --git a/src/ExtendedTableWidget.cpp b/src/ExtendedTableWidget.cpp
index 42c9b1f..b823803 100644
--- a/src/ExtendedTableWidget.cpp
+++ b/src/ExtendedTableWidget.cpp
@@ -315,6 +315,8 @@ void ExtendedTableWidget::keyPressEvent(QKeyEvent* event)
         QTableView::keyPressEvent(event);
 }

+#include "MainWindow.h"
+
 void ExtendedTableWidget::updateGeometries()
 {
     // Call the parent implementation first - it does most of the actual logic
@@ -326,7 +328,10 @@ void ExtendedTableWidget::updateGeometries()
         // If so and if it is a SqliteTableModel and if the parent implementation of this method decided that a scrollbar is needed, update its maximum value
         SqliteTableModel* m = qobject_cast<SqliteTableModel*>(model());
         if(m && verticalScrollBar()->maximum())
+        {
+            qobject_cast<MainWindow*>(model()->parent())->logSql(QString("ExtendedTableWidget::updateGeometries -> totalRowCount=%1, numVisibleRows=%2.").arg(m->totalRowCount()).arg(numVisibleRows()), kLogMsg_App);
             verticalScrollBar()->setMaximum(m->totalRowCount() - numVisibleRows() + 1);
+        }
     }
 }

@@ -337,8 +342,14 @@ void ExtendedTableWidget::vscrollbarChanged(int value)
         return;

     // Fetch more data from the DB if necessary
-    if((value + numVisibleRows()) >= model()->rowCount() && model()->canFetchMore(QModelIndex()))
+    int nvr = numVisibleRows();
+    if((value + nvr) >= model()->rowCount() && model()->canFetchMore(QModelIndex()))
+    {
+        qobject_cast<MainWindow*>(model()->parent())->logSql(QString("ExtendedTableWidget::vscrollbarChanged -> value=%1, numVisibleRows=%2, modelRowCount=%3.").arg(value).arg(nvr).arg(model()->rowCount()), kLogMsg_App);
+        qobject_cast<MainWindow*>(model()->parent())->logSql(QString("ExtendedTableWidget::vscrollbarChanged -> position_before=%1.").arg(verticalHeader()->visualIndexAt(0)), kLogMsg_App);
         model()->fetchMore(QModelIndex());
+        qobject_cast<MainWindow*>(model()->parent())->logSql(QString("ExtendedTableWidget::vscrollbarChanged -> position_after=%1.").arg(verticalHeader()->visualIndexAt(0)), kLogMsg_App);
+    }
 }

 int ExtendedTableWidget::numVisibleRows()
```

In this I've also changed the cast to qobject_cast for Vlad :wink: 
 No worries, will try in a second.

Does it help that I can breakpoint on things, and potentially go poking around for values to look at? eg:

![screen shot 2016-10-08 at 18 27 01](https://cloud.githubusercontent.com/assets/406299/19214838/fb5109e6-8d84-11e6-9993-a8d935f0fbb0.png)
 Output from the new patch:

```
PRAGMA foreign_keys = "1";
SELECT type,name,sql,tbl_name FROM sqlite_master UNION SELECT type,name,sql,tbl_name FROM sqlite_temp_master;
PRAGMA encoding
SELECT COUNT(*) FROM (SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC);
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 0, 50000;
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::vscrollbarChanged -> value=51315, numVisibleRows=14, modelRowCount=50000.
ExtendedTableWidget::vscrollbarChanged -> position_before=1710.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 50000, 50000;
ExtendedTableWidget::vscrollbarChanged -> position_after=1710.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::vscrollbarChanged -> value=106295, numVisibleRows=14, modelRowCount=100000.
ExtendedTableWidget::vscrollbarChanged -> position_before=3543.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 100000, 50000;
ExtendedTableWidget::vscrollbarChanged -> position_after=3543.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::vscrollbarChanged -> value=155167, numVisibleRows=14, modelRowCount=150000.
ExtendedTableWidget::vscrollbarChanged -> position_before=5172.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 150000, 50000;
ExtendedTableWidget::vscrollbarChanged -> position_after=5172.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::vscrollbarChanged -> value=202816, numVisibleRows=14, modelRowCount=200000.
ExtendedTableWidget::vscrollbarChanged -> position_before=6760.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 200000, 50000;
ExtendedTableWidget::vscrollbarChanged -> position_after=6760.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::vscrollbarChanged -> value=256575, numVisibleRows=14, modelRowCount=250000.
ExtendedTableWidget::vscrollbarChanged -> position_before=8552.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 250000, 50000;
ExtendedTableWidget::vscrollbarChanged -> position_after=8552.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::vscrollbarChanged -> value=316442, numVisibleRows=14, modelRowCount=300000.
ExtendedTableWidget::vscrollbarChanged -> position_before=10548.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 300000, 50000;
ExtendedTableWidget::vscrollbarChanged -> position_after=10548.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::vscrollbarChanged -> value=362870, numVisibleRows=14, modelRowCount=350000.
ExtendedTableWidget::vscrollbarChanged -> position_before=12095.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 350000, 50000;
ExtendedTableWidget::vscrollbarChanged -> position_after=12095.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::vscrollbarChanged -> value=411741, numVisibleRows=15, modelRowCount=400000.
ExtendedTableWidget::vscrollbarChanged -> position_before=13724.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 400000, 50000;
ExtendedTableWidget::vscrollbarChanged -> position_after=13724.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=15.
ExtendedTableWidget::vscrollbarChanged -> value=456947, numVisibleRows=14, modelRowCount=450000.
ExtendedTableWidget::vscrollbarChanged -> position_before=15231.
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 450000, 50000;
ExtendedTableWidget::vscrollbarChanged -> position_after=15231.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
```

The position_\* values seem like we're getting closer. :smile:
 The only question is why they aren't even close to the `value` value.

Can you try setting the Prefetch value in the Preferences dialog to 500000 and see what happens? If there are still problems it's definitely not the prefetching that's causing trouble here.
 Same problem.  Damn. üò¶ 

And the output from it, just to verify the prefetch is 1/2 mill:

```
PRAGMA foreign_keys = "1";
SELECT type,name,sql,tbl_name FROM sqlite_master UNION SELECT type,name,sql,tbl_name FROM sqlite_temp_master;
PRAGMA encoding
SELECT COUNT(*) FROM (SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC);
SELECT `_rowid_`,* FROM `download_counts` ORDER BY `_rowid_` ASC LIMIT 0, 500000;
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
ExtendedTableWidget::updateGeometries -> totalRowCount=499723, numVisibleRows=14.
```
 And there are no more appearances of `ExtendedTableWidget::vscrollbarChanged` lines in the log I guess? Also I'm now online in Gitter, so we can chat there :smiley:
 @MarqueIV Makes sense to me. :smile:
 I was thinking about something similar, too. But it looks like we're not really interfering with the scrolling in any way. As long as the window isn't resized and there are no prefetches to be made (we disabled that by setting the block size to 500k), we're not doing anything that would affect scrolling. At least I think so.
 @MKleusberg ahaha :smile:  I was just saying. 
 üéâ   Fixed by @revolter in https://github.com/sqlitebrowser/sqlitebrowser/commit/e5bca9d2dbeb92cc18cda9d0d217a8480e871a08. üéâ  üòÅ 
 Well, there are the nightly builds.

Are you waiting on something in particular? :smile:

There is a possibility of us doing a 3.9.2 release in the near future, with stuff like this + memory leaks and some other minor stuff included.  But, that's not guaranteed to happen, it's just an idea being considered. :smile:
 No worries at all. :smile:

Aside from a potential 3.9.2 release, the next major release will be 3.10.0, and we don't really have a firm timeline for that yet.  The main thing's we're wanting to get into 3.10.x are better [foreign key/constraint support](https://github.com/sqlitebrowser/sqlitebrowser/projects/2), and also "reasonably ok" integration with our new [DBHub.io](https://dbhub.io) project.

Coding on DBHub.io hasn't even begun, so it's hard to tell.  Probably have the very first alpha(s) in a few weeks though (~start of November?), mostly to get people testing DBHub integration + report back bugs / suggestions. :smile:
  @karim Thanks for pointing this out.  This is happening here too on a freshly installed system.

It sounds like we need to adjust how the default font values are chosen and displayed in Preferences, so that it's not blank/incorrect like in your screenshots.
 @karim is `font` value empty in your .conf file, after you click OK? It's just `font=` right?
 @karim if I send a fix in next few minutes(via PR), are you able to test it?
 @karim I am not a windows user...
@justinclift says he can reproduce it, so I hope he will test changes.
 @innermous Yep, I can test it here. :smile:

I can also build a package for @karim to test with on Windows too.  One of my VM snapshots has everything set up for building, I just need to give it updated source code. üòÄ 
 Building it now.  Gimme 15+ minutes, as the build server isn't super fast. :wink:
 @karim As a side note, if you're ever interested in building it yourself, we added step-by-step instructions to set up the development environment then do the build here:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/wiki/Setting-up-a-Win64-development-environment-for-DB4S

It's not tricky at all... just very time consuming the first time around. üòº 
 @karim Try this one out: :smile:
- http://nightlies.sqlitebrowser.org/win64-onceoffs/DB%20Browser%20for%20SQLite-3.9.0-issue749v1-win64.exe

It's the 3.9.0 release + @innermous's potential fix.
 @innermous It works for me, testing on a fresh Win 8.1 VM.

It fixed the blank "Font" field in the "Data Browser" tab.  The concept seems good. :smile:

The same adjustment needs to be done for the "SQL editor font" in the "SQL" tab too, when you commit it.
 Fixed [here](https://github.com/sqlitebrowser/sqlitebrowser/commit/b15c7f20a5c735f6e059d6e5a7a91df435a3526a).
 We need to get the other field fixed too. :wink:
 @karim We can probably get this properly fixed (eg with the Execute SQL one too) in the next day or so.

As a thought, if you use the binary editing mode in the "Edit Database Cell" panel much, try setting the "Data Browser" Font field to Courier.  Or any other fixed width font really.

The binary editing mode seems to look weird using a font that's not fixed width, at least on my system. :wink:
 No worries at all.  I use keyboard navigation a lot too when editing text data. :smile:
 @karim If you have a few minutes, would you be ok to try this build out?
- http://nightlies.sqlitebrowser.org/win64-onceoffs/DB%20Browser%20for%20SQLite-3.9.0-issue749v2-win64.exe

In theory, that should be fixed for both of the font fields. :smile:
 Hmmm, from memory, it should be controllable through the Preferences.  I **think** it's the "SQL editor font" option in the "SQL" tab, but don't quote me on that. :wink:

I'd have to look at the code to be sure, and I've closed down that VM.

If it's important to you though, I can look over it in the morning to refresh my memory.  Just let me know. :smile:
 You're welcome @karim.  Thanks for reporting this and testing the fixes.  It definitely helps. :smile:
  Thanks for pointing this out @geoffblack, that does look like a bug related to #744. :smile:

@innermous Will your fix for #744 solve this one too?
 1. Not related to #744, it was about schema tree structure.
2. It is already fixed a week ago, use nightly build.
 @geoffblack Interestingly, this does seem to be already fixed in our latest development code. :smile:

Would you be ok to try out [the latest nightly build for Windows](https://github.com/sqlitebrowser/sqlitebrowser#windows), and let us know if it's fixed for you?

The download locations are on our front page, if that helps.
 Awesome. :smile:
 I'll close this now then, as the code is available in our nightlies, and will be in the next major release too. :smile:
  Ahhh, that's interesting.  We changed the name of the command from "sqlitebrowser" to "DB Browser for SQLite".

But, that might not have been a great idea for people used to launching it from the command line. üò¶ 

Depending on which shell you have configured, it **might** be possible to launch it by typing `DB` then hitting tab for autocompletion.

If that doesn't work, it's probably possible to create a `sqlitebrowser` soft link to the new "DB Browser for SQLite" executable.  eg using something like:

```
$ cd bin
$ ln -s "/path/to/new/DB Browser for SQLite" "sqlitebrowser"
```

As long as the "sqlitebrowser" soft link is in your PATH, it should work.

Does that help?

Btw, out of curiosity, did you update using the .dmg from the release page?
 Yep, please share it.  It's better to see the error, just in case it is important. :smile:
 Thanks.  That warning isn't a problem, you can ignore it. :smile:
 Ahhhh.  Try using `qmake` instead of `cmake`, using the steps here:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md#building-an-app-bundle

The `qmake` then `make` commands at least should work (in theory).

It will generate an .app bundle though, which I'm not sure you want. üò¶ 
 Cool. :smile:

Yeah, the new DB<tab> approach is probably the way to go. :wink:
  Yep, in theory this should work.

However... it seems like I broke the file extensions again with this release by changing the installation path. üò¶ 

We have a now-outdated wiki entry for the old location:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/wiki/Windows-File-Associations

The concept mentioned in it is correct, although the paths need updating for this new release.

I'll spin up a Windows VM now, and see if I can figure it out. :smile:
 Actually, I think this might be a duplicate report for an existing (much older) report of the same breakage.  But, lets get this fixed for now, and we can figure out the duplicate-or-not later.
 Hmmm, investigating this more, it seems like association with file extensions isn't something we've **yet** done automatically (or given an option for).

But, because almost everyone uses file extensions for this exact purpose :smile:, everyone has been creating the extensions manually (eg using Windows Explorer).

Two bits of thought arise for this:

a) Changing the installation path - which I did for this release - will probably break the existing (manually created) file associations everyone has set up.  Ouch. üò¶ 

b) We really should offer to set up the file associations, either during installation, and/or through our "Preferences" dialog.  That should solve a) above too. :smile:

@AdamPS I can investigate the this stuff, but it's not going to generate an immediate solution.  In the meantime, you should be able to manually create the association from whichever extensions you want, to DB4S.

If you're not sure how, let me know.  I just took a bunch of screenshot for the process while trying things out, and can put them somewhere useful as an step-by-step sequence. :smile:
 Found it, #279 is the older issue about this too.
 @AdamPS I'll close this issue now as a duplicate, and we can continue to get a solution in place through the older issue. :smile:
  Thanks for reporting this @Swabek, this is definitely a bug.

It's happening here on OSX too, so this isn't just a Windows thing either.
 @justinclift it's not even close to bug, it's intended behavior by someone who've written that code.
Every time on changing current tab it wipes whole dbstructuremodel and fills it from scratch.
 Heh Heh Heh

It sounds like they may have tried to "keep it safe", and got it wrong. :wink:
 Should be more or less fixed by 684958b29ce3d26684d9142d73df773b11189d54 which I committed yesterday. The DB schema view will still reset as soon as the DB schema actually changes but at least it doesn't happen on each and every tab change anymore :wink:
@Swabek Currently our nightly builds are broken but I hope they'll be up and running this or the next night. As soon as that's done you'll be able to test the changes and report back if it's working for you :smiley: 
 As the initial issue was solved, can we close this? And maybe @Swabek opens a separate issue for the last problem (if one wasn't already created).
 Moved this to 3.10.0 instead of 3.9.1, as the commit makes a _lot_ of changes.  It doesn't apply cleanly to current 3.9.x source, and doing it manually isn't really appealing. :wink:
  Ouch, that doesn't sound good at all.

Is the database you're doing this on private or sensitive?  Asking because I'm wondering if you could maybe email it to me?  That way tomorrow I'll try and get the problem to happen for me, so we can fix it. :smile:

If not, no stress, I can still try tomorrow using a made up database here. :smile:
 Thanks @rudolf323.

I'll install Chrome in a VM tomorrow and see what's going on. :smile:

We might be releasing a v3.9.1 in near future after all. :wink:
 Just in case it turns out to make a difference, which version of Windows are you running?
 Thanks @rudolf323. :smile:
 @rudolf323 With this, I haven't yet tried out the Chrome extension.  Something popped into mind though, which might explain the problem.

In the export dialog (_File_ ‚Üí _Export_ ‚Üí _Export data as CSV_), the drop down option at the bottom is "New line characters":
![screen shot 2016-08-25 at 15 02 08](https://cloud.githubusercontent.com/assets/406299/17972022/380802ea-6ad5-11e6-9fc5-89aa25f863e7.png)

For that, does the corruption go away if that's set to the Windows option?

The corruption you describe, is (I think) what would happen if the newline characters are completely missing.  When them missing, the Import dialog just sees everything as one big line and doesn't know where they each end.

Do you have time to give that a try, and let us know if it helps? :smile:
 Awesome, that's good news. :smile:
  @goozak Thanks for pointing this out.

I remember seeing this as well when testing the NSIS package, but completely forgot about it.

We'll investigate this in time for the next release.  In the meantime... damn. üò¶ 
 In theory, it's probably just something simple in our NSIS package generation variables:
- https://github.com/sqlitebrowser/sqlitebrowser/blob/efba2eb388cec6260cd24d6077ce357d1d6a3fd9/CMakeLists.txt#L374-L406

It'll just take some experimentation to find out exactly what's wrong, and fix it.
 @goozak Would you have a few minutes to try out this build?
- http://nightlies.sqlitebrowser.org/win64-onceoffs/DB%20Browser%20for%20SQLite-201608291559-win64.exe

With that build - for me - the correct entry is now appearing again in Add/Remove programs.

It'd be really helpful if you have time to verify it from your point of view. :smile:
 Thanks @goozak that's one bit solved at least. :smile:

With the uninstaller not checking for files in use... ouch. üëø 

Not sure if it's something we can control, but I'll take a look and find out. :smile:
 @goozak There doesn't seem to be any good way to have the uninstaller abort if the files are in use, or even mark them for removal with the next system restart. üò¶ 

The NSIS (3.0) uninstaller itself has exactly the same problem.

It _might_ be fixable by using a different Windows packaging mechanism (eg [WiX](http://wixtoolset.org) or [Inno Setup](http://jrsoftware.org/isinfo.php)), but we're unlikely to change over in the near/medium future.

Going to close this now, as there's probably not much more we can do at this stage. :smile:
 Ahhh, that's interesting.  Hadn't seen that. :smile:

I'll bear them in mind later, when I next need to dig into the installer again. (unfortunately, it's not standard NSIS, we use a combination of CMake/CPack to drive NSIS.  Turns out that's painful for adding things onto üò¶ )
  Here's a task for all who want to contribute but don't feel ready to start C++-coding.

Our grammar parser needs some more stress-testing, I think. The grammar parser is the part that tries to understand the `CREATE TABLE ...` statements and extract all the information on the table. So testing it is as simple as creating a new database, adding a table (via SQL), opening it in the Edit Table dialog and see the SQL code it prints. If there is something missing, that's a bug. Or if you have a database and notice that some existing table isn't fully parsed, it's a bug, too, of course.

If you are more of a systematic person, you can check out the diagrams at https://sqlite.org/lang_createtable.html and try out the various combinations and keywords mentioned in there.

There are some features which we know are missing. These are:
- [x] Named constraints (names for unique/primary key/foreign key constraints)
- [ ] Sorted indices (ASC/DESC in primary key/unique constraints)
- [ ] The COLLATE keyword and all its uses
- [x] Primary keys with multiple columns in it

But there are certainly more :smiley: So I want to encourage everybody who stumbles upon another issue to open a new issue for it.

Also there are some parts that our parser understands (multiple columns in a unique constraint for example) but you aren't able to create or edit using the UI - only using SQL. Every one of these is worth opening an issue, too :wink: Just make it clear whether it's a problem with the parser or the dialog.

Thanks to all helping to make the grammar parsing as complete as possible for the next release :smiley: 
 @MarqueIV With the behaviour you're describing, how recent a build of DB4S is that?

Asking because @MKleusberg has been improving the constraints handling code over the last few days, including adding a warning message when our parser can't understand all of the constraints.

If you've the time/interest, trying the nightly build out (tomorrow) and seeing if that problem still happens would be useful. :smile:
 Awesome. :smile:

The nightly builds for OSX are here:

&nbsp; &nbsp; http://nightlies.sqlitebrowser.org/osx/
 @MarqueIV Yes, this might be related. But either way it definitely sounds like a bug :smiley: Unfortunately I can't reproduce this using one of my test database. So I'm afraid you have to send me that 20MB file; maybe you can zip it though or upload it somewhere.
 In the latest nightly (9 Sep) the parser seems broken for multiple lines...

![image](https://cloud.githubusercontent.com/assets/7872218/18404358/174da74e-76e2-11e6-86f9-350352d50168.png)

This occurs if you click the 'Execute current line' button.  Previous versions parsed the line to be up to the next semi colon.
This only seems a recent 'breakage'...
 It might be from this commit by @revolter yesterday: https://github.com/sqlitebrowser/sqlitebrowser/commit/55d8905b904ac57cf759db3b235b1ce27ab8c8a5
 Oops, now I feel guilty...:wink:
 Ups, sorry. So should a line mean a text line or an SQL line (up until the first semi colon)?
 A line should be up to a semi-colon, so lines can be split.  Its more readable creating a table like:
`create table blah (`
`id text,`
`dinDang real,`
`piddlePop integer,`
`diddleIDo text);`

but thats just me... :wink:
 I'm working now on a fix.
 Well, It didn't work ok in 3.8.0 too. I'm working of a proper fix.
  Thanks @lulol, that's fantastic. :smile:
 Also merged this into the master branch (after running `lupdate` on it).

Looks good there too. :smile:
  Hmmm, it's unlikely.  Out of curiosity, do you know if that part of .Net is one which MS have Open Sourced?
 Ahhhh sorry, my bad.  Are you meaning this?

&nbsp; &nbsp; https://system.data.sqlite.org/index.html/doc/trunk/www/index.wiki
 @Disactive Looking at the website, it seems like an alternative approach to opening SQLite files.

What does the "protected with RS" bit mean in your request? :smile:
 Ahhhh.  I understand part of it.

The System.Data.SQLite software can add RSA encryption to files.

Do you know if it uses [the official "SEE" encryption](https://www.sqlite.org/see/doc/trunk/www/index.wiki), or if it uses something else?
 Thanks @Disactive, it's making sense now. :smile:

We've taken a quick look at the System.Data.SQLite bits... and it doesn't really seem like there's much benefit to implementing that in DB4S.

It might be possible to adjust our SQLite layer to use that, but it's probably a fair amount of work.  It would only give us version basic encryption too, unlike the strong encryption in SQLCipher.

If you have C++/Qt skill though, and are willing to do the work, we're happy to accept good patches. :smile:

What do you think?
 Hmmm. It sounds like a lot of work needed on our part. üò¶ 

Sorry, but this is very unlikely to happen unless someone willing to do the work themselves gets involved.  I'm going to close this issue, but if someone **is** willing to do the needed work to implement this, they're welcome to reopen it and get it done. :smile:
 Just a nod that this (or similar) came up recently on the system.data.sqlite mailing list.  Dr Richard Hipp mentioned System.data.sqlite can be recompiled to use SEE, rather than its own encryption library.

> I am working on a project using the System.Data.SQLite .net Classes. I
> use the encryption available with this classes.
> Is the encryption used by System.Data.SQLite when setting a password
> compatible with the encryption used in the SEE version of SQLite?

No.  Databases encrypted by the legacy encryption mechanism in SDS are
not readable or writable with SEE, and vice versa.
SDS can be recompiled to use SEE.
 Hmmm, if System.Data.SQLite could be recompiled to use SQLCipher, that might make things easier.

It's not something I'm personally interested in, but @Disactive may want to ask about it on [the SQLCipher forums](https://discuss.zetetic.net/c/sqlcipher).
  Thanks @MarqueIV, that's a very timely report. :smile:

We have an open ToDo list item for [signing our releases](https://github.com/sqlitebrowser/sqlitebrowser/issues/711), but weren't thinking to get it done just yet.

Sounds like it should be a higher priority.  I'll spend some time looking into it today/tomorrow, and see if it's possible to get tomorrow's release signed in time.

For macOS Sierra itself... might be time to get my Apple Dev Membership renewed, and start looking through the beta too.  Not sure when though. :wink:
 Thanks Mark. :smile:

It looks like the Apple Developer staff work on weekends, and they just sorted out the paperwork for that side of things.  Now.. reading time. :smile:
 It's taken some doing, but I **think** signing on OSX is working ok now.

@MarqueIV If you have a few minutes to try it, please grab this latest build (3.9.x series) and test if OSX throws up a warning when trying to run it:

&nbsp; &nbsp; http://nightlies.sqlitebrowser.org/osx-prerelease/DB%20Browser%20for%20SQLite-3.9.0-beta2.dmg

In theory the signature is all good, OSX is happy, etc.  But... would prefer some people (other than me) test it first, just to be on the safe side. :smile:
 @MarqueIV Tested the latest nightly build on macOS Sierra (newly installed "Version 10.12 Beta (16A239m)") just now:

&bull; &nbsp; https://nightlies.sqlitebrowser.org/osx/Older%20Versions/Aug%202016/DB%20Browser%20for%20SQLite-sqlcipher_20160822.dmg

Two fairly concerning problems show up immediately, though both seem more like bugs with Sierra.

When trying to mount the .dmg on Sierra through Finder, it claims the .dmg is damaged and should be moved to the trash.  The .dmg is actually fine, as mounting it from the command line poses no issue:

```
$ hdiutil attach DB\ Browser\ for\ SQLite-sqlcipher_20160822.dmg 
Checksumming Protective Master Boot Record (MBR : 0)‚Ä¶
Protective Master Boot Record (MBR :: verified   CRC32 $252B40D3
Checksumming GPT Header (Primary GPT Header : 1)‚Ä¶
 GPT Header (Primary GPT Header : 1): verified   CRC32 $61E08442
Checksumming GPT Partition Data (Primary GPT Table : 2)‚Ä¶
GPT Partition Data (Primary GPT Tabl: verified   CRC32 $303E3D74
Checksumming  (Apple_Free : 3)‚Ä¶
                    (Apple_Free : 3): verified   CRC32 $00000000
Checksumming disk image (Apple_HFS : 4)‚Ä¶
..................................................................................................................................
          disk image (Apple_HFS : 4): verified   CRC32 $22F28C10
Checksumming  (Apple_Free : 5)‚Ä¶
                    (Apple_Free : 5): verified   CRC32 $00000000
Checksumming GPT Partition Data (Backup GPT Table : 6)‚Ä¶
GPT Partition Data (Backup GPT Table: verified   CRC32 $303E3D74
Checksumming GPT Header (Backup GPT Header : 7)‚Ä¶
  GPT Header (Backup GPT Header : 7): verified   CRC32 $61F46220
verified   CRC32 $96EB1D9F
/dev/disk1              GUID_partition_scheme           
/dev/disk1s1            Apple_HFS                       /Volumes/Install DB4S Nightly build
```

After dragging and dropping the DB4S icon to Applications... DB4S refuses to start, claiming it's damaged.  Again, this is just plain wrong, as launching it directly from the command line works fine:

```
$ /Applications/DB\ Browser\ for\ SQLite.app/Contents/MacOS/DB\ Browser\ for\ SQLite
[the application starts fine, seems to work ok, and preferences are stored between runs]
```

It's signature seems ok too:

```
$ codesign --verify --verbose /Applications/DB\ Browser\ for\ SQLite.app
/Applications/DB Browser for SQLite.app: valid on disk
/Applications/DB Browser for SQLite.app: satisfies its Designated Requirement
```

Judging by Sierra's flat out inaccuracy above... it might be best to wait for a few more betas... :wink:

Note - I haven't tried with any of the older, unsigned builds.  It's completely possible they'll have different behaviour.
 Hmmm, Sierra is saying there is a new update available (Beta 7).  Going to give that a try too, just in case it fixes the bugs seen above.
 Thanks, @MarqueIV. :smile:

It's interesting about the 3.9.99 nightly build not properly browsing data.

Something like that happened on my system a while back.  eg In a database with 140,000+ records... The Browse Data tab would only show (say) up to the ~18,000th one using the slider and/or the controls.  Literally no way to see all of the data. üò¶ 

That wasn't happening for anyone else though, so I thought it was just something on my system.

From memory, when building using um... Qt4 I think... that problem went away.

I'll look into it again.  It might be another Qt4/Qt5 difference we need to solve before switching to Qt5-only.
 Interesting.  Sounds like the code around this needs a bit of love and attention.

Will take a look in a few days. :smile:
 Found the reason for the weird error with Sierra claiming the .dmg and .app were damaged.  It's because Sophos anti-virus was installed prior to the upgrade.  Seems like it doesn't work with Sierra (or at least doesn't survive the upgrade process), but leave enough of it's remnants behind to break application launching.

After redoing the upgrade without Sophos, that problem has gone away.  The signed version of DB4S seems happy too.

Haven't investigated the default preferences yet, nor tried out the newer "beta 7".  Will probably do so later on today.
 Not sure what the root cause is yet, but the problem of all data not being shown does go away when building with Qt4.

We'll probably build this release with Qt4 then, and figure out the proper cause/fix afterwards.
 As a data point, this bug with all of the data not being shown isn't happening on Win64.

Seems like it might really be an OSX-only bug. üò¶ 
 @MarqueIV Would you have time to test this?

&nbsp; &nbsp; http://nightlies.sqlitebrowser.org/osx-prerelease/DB%20Browser%20for%20SQLite-3.9.0-beta3.dmg

That one should allow you to see all of the data.  The only real change is that it's using Qt4 instead of Qt5.

But, Qt4 is "good enough" for the moment.  We'll do the switch to Qt5 when all of the potential issues are resolved.
 @MarqueIV Ouch.  Yeah, that doesn't look great.

I'll look through our preferences code now, to see if something obvious jumps out.  Otherwise, this will have to be figured out at a later time.  It sounds like a Sierra-only bug, and may not be affecting everyone.

With your Sierra setup, is it a VM, or physical hardware, or ?

Just wondering on the details, in case something springs to mind from them. :smile:
 @justinclift, All the background colors (`*_bg_colour`) are [defaulting to white](https://github.com/sqlitebrowser/sqlitebrowser/blob/078c48d6791238c68c370c5d8b15968db9e43706/src/PreferencesDialog.cpp#L296-L305), so it looks like maybe it's a Qt bug?
 @revolter Yep, that's possible.  It's going to be hard to figure out the problem unless we can replicate it.

As an alternative thought @MarqueIV, would you be interested in building DB4S to investigate?

Your CV shows in-depth programming skills, including C++.  So, it's probably right in your skill set. üòÄ 

Setting up a DB4S development environment on OSX is fairly easy, if that helps.
 No idea why it's black on black. The default, in the case that there is no config file, is black on white (https://github.com/sqlitebrowser/sqlitebrowser/blob/master/src/PreferencesDialog.cpp#L282). How are settings stored on MacOS anyway? Do they have config files or something like a Windows registry? In the latter case Sierra could at least in theory send Null values which we wouldn't notice because 0 is not no value.
 Ah @revolter was faster ^^
 @MKleusberg That Null thought is interesting.  Maybe we should adjust our code to detect that, and if it's Null then return the default value instead?
 @MarqueIV Wiping the preference files is an interesting thought.

For my OSX 10.9.5 desktop, this is where they are for my user:

```
$ ls -la Library/Preferences/*sqlitebrowser*
-rw-------  1 jc  staff  8286 25 Aug 11:25 Library/Preferences/com.sqlitebrowser.sqlitebrowser.plist
-rw-------  1 jc  staff   203 23 Aug 15:54 Library/Preferences/net.sourceforge.sqlitebrowser.plist
-rw-------  1 jc  staff   101  7 May 15:39 Library/Preferences/sqlitebrowser.plist
```

And yeah... spread out.  Trying to maintain compatibility with historical releases, so people (in theory) don't have to setup their preferences again just because they upgraded. :wink:

Checking Sierra, they're in the same place too.  Deleting those files should just mean they're recreated on the next run.  But yeah, one way to find out. :smile:

For Windows and El Cap, it doesn't hurt to check.  Personally, I'm not expecting those to have the issue, but heck since you're offering to try them out "why not?". üòÉ 

If you're still up for that, try with the installers from yesterday's 3.9.0 official release:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/releases/tag/v3.9.0
 @justinclift, Did / Can you test this on El Capitan?
 I can, but not right now. :wink:
 Nope, not yet.  @revolter was just meaning I should test it on El Capitan to see if it's a Sierra only thing. :wink:
 As an initial workaround (emailed to me directly, thanks Roger! :smile:), this seems to effectively force DB4S to use the defaults for each session:

```
$ rm ~/Library/Preferences/com.sqlitebrowser.sqlitebrowser.plist
$ ln -s /dev/null ~/Library/Preferences/com.sqlitebrowser.sqlitebrowser.plist
$ ls -l ~/Library/Preferences/com.sqlitebrowser.sqlitebrowser.plist
lrwxr-xr-x  1 roger  staff  9 22 Nov 18:36 /Users/roger/Library/Preferences/com.sqlitebrowser.sqlitebrowser.plist -> /dev/null
```

Hopefully I have to look into this properly in a few weeks to get it fixed "the right way". :smile: Interesting.  If I update the OSX utils on the build box, are you ok to try out the tomorrow's nightly build? Awesome. Just finished updating everything on the build server, then ran a new build manually instead.

When you have a minute, please try out these two and let me know if they're ok:

* https://nightlies.sqlitebrowser.org/osx-prerelease/DB%20Browser%20for%20SQLite_3.9.1v2.dmg
* https://nightlies.sqlitebrowser.org/osx-prerelease/DB%20Browser%20for%20SQLite-sqlcipher_3.9.1v2.dmg

If they are, we can add them to the 3.9.1 release page and point the Sierra users towards those. :smile: Excellent Gunnar, that's good news.  I'll add the new build to the 3.9.1 release tomorrow (need sleep atm).

The build itself was done from the 3.9.x branch, which is pretty much the same as 3.9.1 but (from memory) with a few translation updates as well.  It should be fairly similar to the existing 3.9.1, with no real possibility of extra bugs introduced. The 3.9.1 Releases page is now updated with the new OSX binary, and the website points to it now too.

@MarqueIV, @highPlainsSailor, @compengi, @brozikcz - That might be of interest to you as well. :smile:
 Cool, closing this now then.  If it turns out to still be a problem after all, I'm sure someone will make an Issue for it. üòÅ  Thanks for the effort you've put in to chase this problem Gunnar, it's definitely helped. :smile: @ghellquist A big thanks from me too! @jtlowe Excellent, that's good info. :smile: As @jtlowe said, I think you need to delete the preferences file (while DB4S is closed), as they might be corrupted or something. You can do so from terminal by running this command in terminal:

    rm ~/Library/Preferences/com.sqlitebrowser.sqlitebrowser.plist

or by simply going to that location and manually removing that file.

@jtlowe, Correct me if I'm wrong. Interesting.  It sounds like the Qt fix might not be as complete as we were thinking.

@nkahnfr Would you be ok to try one of our recent nightly builds and see if that makes a difference? (download location is listed on the front page of this project, if that helps) But maybe there is a bug that caused `@Variant(` to be saved instead of an actual color. Thanks all. :smile:

@revolter @jtlowe Yep, that does sound like a new bug.  Seems like a serialisation problem.  Do either of you have time to create an Issue for it? (if not, I can do it) :smile: @justinclift, Done. Excellent, thanks @revolter. :smile:  Thanks @progh2, I will go through this soon. :smile:
 @progh2 Well done, this looks very good. :smile:

There is one small piece I'm not sure about.  In the "Edit Pragmas" tab in MainWindow.ui, some of the English strings seem to be untranslated.

If that's how they're supposed to be though, that's not a problem. :smile:
- [x] Menus

![screen shot 2016-08-19 at 13 22 22](https://cloud.githubusercontent.com/assets/406299/17809680/3c6d4f62-6610-11e6-9340-957661f4cc78.png)
![screen shot 2016-08-19 at 13 22 29](https://cloud.githubusercontent.com/assets/406299/17809677/3c697f54-6610-11e6-9d14-c0b62361d9a1.png)
![screen shot 2016-08-19 at 13 22 41](https://cloud.githubusercontent.com/assets/406299/17809679/3c6bd27c-6610-11e6-9de4-0e0252a682c4.png)
![screen shot 2016-08-19 at 13 22 47](https://cloud.githubusercontent.com/assets/406299/17809682/3c74e09c-6610-11e6-9902-fd005b215381.png)
![screen shot 2016-08-19 at 13 22 53](https://cloud.githubusercontent.com/assets/406299/17809678/3c6b3948-6610-11e6-9382-5710363b312f.png)
![screen shot 2016-08-19 at 13 22 58](https://cloud.githubusercontent.com/assets/406299/17809681/3c6ed576-6610-11e6-93c0-d795f1c86f5a.png)
![screen shot 2016-08-19 at 13 23 03](https://cloud.githubusercontent.com/assets/406299/17809683/3c842eee-6610-11e6-8f15-2731c6e5a940.png)
- [x] AboutDialog.ui
  ![screen shot 2016-08-19 at 12 56 54](https://cloud.githubusercontent.com/assets/406299/17809140/7c7fd8c6-660c-11e6-9c15-bacb0ec298f9.png)
- [x] CipherDialog.ui
  ![screen shot 2016-08-19 at 12 58 01](https://cloud.githubusercontent.com/assets/406299/17809154/951982ec-660c-11e6-90f4-532ed3c6277b.png)
- [x] ColumnDisplayFormatDialog.ui

![screen shot 2016-08-19 at 12 58 45](https://cloud.githubusercontent.com/assets/406299/17809182/b2c871fe-660c-11e6-8b0c-4fdad5d3de63.png)
- [x] CreateIndexDialog.ui

![screen shot 2016-08-19 at 12 59 20](https://cloud.githubusercontent.com/assets/406299/17809196/cf7d0666-660c-11e6-87a1-3e68515ae5ec.png)
- [x] EditDialog.ui

![screen shot 2016-08-19 at 13 00 15](https://cloud.githubusercontent.com/assets/406299/17809231/0d6463de-660d-11e6-947f-a373b2110d01.png)
![screen shot 2016-08-19 at 13 00 22](https://cloud.githubusercontent.com/assets/406299/17809234/0d6cccf4-660d-11e6-8911-9376e69c41f9.png)
![screen shot 2016-08-19 at 13 00 38](https://cloud.githubusercontent.com/assets/406299/17809232/0d68516a-660d-11e6-8abc-da83be750330.png)
![screen shot 2016-08-19 at 13 00 46](https://cloud.githubusercontent.com/assets/406299/17809233/0d6b1076-660d-11e6-8088-75ee4a9a872b.png)
- [x] EditTableDialog.ui
  ![screen shot 2016-08-19 at 13 02 21](https://cloud.githubusercontent.com/assets/406299/17809250/2bddcb0c-660d-11e6-99e6-5739dc10dac2.png)
- [x] ExportCsvDialog.ui
  ![screen shot 2016-08-19 at 13 02 50](https://cloud.githubusercontent.com/assets/406299/17809291/60c5e37c-660d-11e6-9fbf-258db2826cc6.png)
  ![screen shot 2016-08-19 at 13 02 55](https://cloud.githubusercontent.com/assets/406299/17809290/60c459ee-660d-11e6-88d7-4ed1ccca959c.png)
  ![screen shot 2016-08-19 at 13 03 14](https://cloud.githubusercontent.com/assets/406299/17809289/60c3eea0-660d-11e6-8be9-7ffe525da3b9.png)
  ![screen shot 2016-08-19 at 13 03 32](https://cloud.githubusercontent.com/assets/406299/17809288/60c37c36-660d-11e6-92bc-d7a201f7d604.png)
- [x] ExportSqlDialog.ui
  ![screen shot 2016-08-19 at 13 04 20](https://cloud.githubusercontent.com/assets/406299/17809301/8180cc8a-660d-11e6-9521-6518eb8ce34f.png)
  ![screen shot 2016-08-19 at 13 04 25](https://cloud.githubusercontent.com/assets/406299/17809302/81869048-660d-11e6-956b-57de35a0fb35.png)
- [x] ImportCsvDialog.ui

![screen shot 2016-08-19 at 13 05 20](https://cloud.githubusercontent.com/assets/406299/17809329/c41b1726-660d-11e6-9922-6901fb925fbe.png)
![screen shot 2016-08-19 at 13 05 23](https://cloud.githubusercontent.com/assets/406299/17809330/c41bf5b0-660d-11e6-9acf-a1343c106de9.png)
![screen shot 2016-08-19 at 13 05 45](https://cloud.githubusercontent.com/assets/406299/17809327/c419c024-660d-11e6-8214-68e764c8bfa5.png)
![screen shot 2016-08-19 at 13 06 08](https://cloud.githubusercontent.com/assets/406299/17809328/c41b2d2e-660d-11e6-9dea-611289878105.png)
- [ ] MainWindow.ui
  ![screen shot 2016-08-19 at 13 07 23](https://cloud.githubusercontent.com/assets/406299/17809404/482ab328-660e-11e6-83ea-4eedae2ba2af.png)
  ![screen shot 2016-08-19 at 13 07 29](https://cloud.githubusercontent.com/assets/406299/17809405/482a8cd6-660e-11e6-89e8-69dbdfbe0614.png)
  ![screen shot 2016-08-19 at 13 07 34](https://cloud.githubusercontent.com/assets/406299/17809408/482fad60-660e-11e6-9201-3cc7430164f8.png)
  ![screen shot 2016-08-19 at 13 07 38](https://cloud.githubusercontent.com/assets/406299/17809403/482a99c4-660e-11e6-9bc4-45bb0c6d46f3.png)
  ![screen shot 2016-08-19 at 13 07 57](https://cloud.githubusercontent.com/assets/406299/17809406/482b6412-660e-11e6-8b73-68d911a9414b.png)
  ![screen shot 2016-08-19 at 13 08 18](https://cloud.githubusercontent.com/assets/406299/17809407/482cc6f4-660e-11e6-9a8b-ae61acffa811.png)
  ![screen shot 2016-08-19 at 13 08 40](https://cloud.githubusercontent.com/assets/406299/17809508/0801409a-660f-11e6-8a0a-bd0428651303.png)
  ![screen shot 2016-08-19 at 13 09 09](https://cloud.githubusercontent.com/assets/406299/17809514/1112a944-660f-11e6-8326-e2621b8a44a1.png)
  ![screen shot 2016-08-19 at 13 09 56](https://cloud.githubusercontent.com/assets/406299/17809513/1111dc80-660f-11e6-9315-06e64d4076f0.png)
- [x] PreferencesDialog.ui
  ![screen shot 2016-08-19 at 13 19 33](https://cloud.githubusercontent.com/assets/406299/17809612/b98d8e72-660f-11e6-8903-96acc4d5f85d.png)
  ![screen shot 2016-08-19 at 13 19 37](https://cloud.githubusercontent.com/assets/406299/17809616/b9958ea6-660f-11e6-89ae-3d074f1b9bd9.png)
  ![screen shot 2016-08-19 at 13 19 51](https://cloud.githubusercontent.com/assets/406299/17809614/b9907ad8-660f-11e6-856a-21317b04136c.png)
  ![screen shot 2016-08-19 at 13 19 58](https://cloud.githubusercontent.com/assets/406299/17809613/b98e9c36-660f-11e6-920b-94711c432f1d.png)
  ![screen shot 2016-08-19 at 13 20 06](https://cloud.githubusercontent.com/assets/406299/17809617/b99606d8-660f-11e6-95b6-b72e33149aea.png)
  ![screen shot 2016-08-19 at 13 20 10](https://cloud.githubusercontent.com/assets/406299/17809615/b99102fa-660f-11e6-8d21-50f16831de70.png)
- [x] VacuumDialog.ui
  ![screen shot 2016-08-19 at 13 21 06](https://cloud.githubusercontent.com/assets/406299/17809621/cc82a486-660f-11e6-91bc-774733a2ac6c.png)
 Excellent.  Happy to hear they help too. üòÅ 
 Thanks @progh2. :smile:

Should I take screenshots again, or just merge this in?
 Hmmm, I'm going to merge this now.

@progh2 If something else needs changing or adjusting, further PR's are very welcome. :smile:
  Thanks @FriedrichFroebel, that's excellent! :smile:

I'll go through this soon.
 Thanks @FriedrichFroebel, this looks really good. :smile:

The only bit I'm unsure of is the "Edit PRAGMAs" tab in MainWindow.ui.

The terms on the left are in English, however the drop down options for them are in German.

With the other translations, it's been either one or the other, so the mix is a bit strange.  If that's the best way however, it's fine here. :smile:
- [x] Menus

![screen shot 2016-08-17 at 17 57 59](https://cloud.githubusercontent.com/assets/406299/17745616/6e3040bc-64a4-11e6-9575-dc6c79d629da.png)
![screen shot 2016-08-17 at 17 58 08](https://cloud.githubusercontent.com/assets/406299/17745617/6e31713a-64a4-11e6-9ff1-d93d72348a5a.png)
![screen shot 2016-08-17 at 17 58 18](https://cloud.githubusercontent.com/assets/406299/17745615/6e2f841a-64a4-11e6-9206-7435b466fc60.png)
![screen shot 2016-08-17 at 17 58 23](https://cloud.githubusercontent.com/assets/406299/17745614/6e2f5328-64a4-11e6-95c3-dd0f671c0c42.png)
![screen shot 2016-08-17 at 17 58 28](https://cloud.githubusercontent.com/assets/406299/17745618/6e32c562-64a4-11e6-93b3-6ea93482f836.png)
- [x] AboutDialog.ui
  ![screen shot 2016-08-17 at 17 37 24](https://cloud.githubusercontent.com/assets/406299/17744932/c28d6d7c-64a1-11e6-87e2-a9c7ce99906c.png)
- [x] CipherDialog.ui
  ![screen shot 2016-08-17 at 17 48 21](https://cloud.githubusercontent.com/assets/406299/17745185/ce496de0-64a2-11e6-93ce-df367eadfb94.png)
- [x] ColumnDisplayFormatDialog.ui
  ![screen shot 2016-08-17 at 17 49 04](https://cloud.githubusercontent.com/assets/406299/17745214/ecd304ec-64a2-11e6-92cd-f750cf86bdd4.png)
- [x] CreateIndexDialog.ui
  ![screen shot 2016-08-17 at 17 50 18](https://cloud.githubusercontent.com/assets/406299/17745263/1998c11a-64a3-11e6-8605-49ac153af45e.png)
- [x] EditDialog.ui
  ![screen shot 2016-08-17 at 17 51 09](https://cloud.githubusercontent.com/assets/406299/17745298/3f91be1c-64a3-11e6-9a48-71a052a91ed1.png)
  ![screen shot 2016-08-17 at 17 51 17](https://cloud.githubusercontent.com/assets/406299/17745299/3f92c280-64a3-11e6-831c-f3c2e5e657bb.png)
  ![screen shot 2016-08-17 at 17 51 21](https://cloud.githubusercontent.com/assets/406299/17745300/3f96f166-64a3-11e6-8fdb-be1e86b61bdf.png)
- [x] EditTableDialog.ui
  ![screen shot 2016-08-17 at 17 52 20](https://cloud.githubusercontent.com/assets/406299/17745340/5b9fcf04-64a3-11e6-896c-ab9bca433e80.png)
- [x] ExportCsvDialog.ui
  ![screen shot 2016-08-17 at 17 52 53](https://cloud.githubusercontent.com/assets/406299/17745414/971933b8-64a3-11e6-823d-6d9810e40963.png)
  ![screen shot 2016-08-17 at 17 53 06](https://cloud.githubusercontent.com/assets/406299/17745415/971c6fd8-64a3-11e6-81d0-6e399d24a0fb.png)
  ![screen shot 2016-08-17 at 17 53 18](https://cloud.githubusercontent.com/assets/406299/17745412/9718a9de-64a3-11e6-95bd-bf5663a3ac75.png)
  ![screen shot 2016-08-17 at 17 53 32](https://cloud.githubusercontent.com/assets/406299/17745413/97189836-64a3-11e6-84df-ea0653874840.png)
- [x] ExportSqlDialog.ui

![screen shot 2016-08-17 at 17 54 45](https://cloud.githubusercontent.com/assets/406299/17745459/b7c1f780-64a3-11e6-9e39-3532f424de84.png)
- [x] ImportCsvDialog.ui
  ![screen shot 2016-08-17 at 17 55 47](https://cloud.githubusercontent.com/assets/406299/17745515/f52507b6-64a3-11e6-8031-2879d8128f32.png)
  ![screen shot 2016-08-17 at 17 55 51](https://cloud.githubusercontent.com/assets/406299/17745517/f526909a-64a3-11e6-9d7c-74b9b7d1d4b4.png)
  ![screen shot 2016-08-17 at 17 56 03](https://cloud.githubusercontent.com/assets/406299/17745514/f52367d0-64a3-11e6-8fcd-3486db5c9367.png)
  ![screen shot 2016-08-17 at 17 56 21](https://cloud.githubusercontent.com/assets/406299/17745516/f5255ff4-64a3-11e6-9a36-881185452e33.png)
- [ ] MainWindow.ui
  ![screen shot 2016-08-17 at 17 37 54](https://cloud.githubusercontent.com/assets/406299/17745006/1b123266-64a2-11e6-9a46-731dd234c621.png)
  ![screen shot 2016-08-17 at 17 38 00](https://cloud.githubusercontent.com/assets/406299/17745005/1b0f0a64-64a2-11e6-8cb9-9fbe62960abd.png)
  ![screen shot 2016-08-17 at 17 38 05](https://cloud.githubusercontent.com/assets/406299/17745017/29299e52-64a2-11e6-84fd-c087db15fdee.png)
  ![screen shot 2016-08-17 at 17 38 09](https://cloud.githubusercontent.com/assets/406299/17745018/2929a10e-64a2-11e6-8241-cd63fbeaaab5.png)
  ![screen shot 2016-08-17 at 17 38 32](https://cloud.githubusercontent.com/assets/406299/17745019/2929dd2c-64a2-11e6-8d45-60abd88f1a6e.png)
  ![screen shot 2016-08-17 at 17 38 50](https://cloud.githubusercontent.com/assets/406299/17745020/292aa36a-64a2-11e6-92fb-12426a84f214.png)
  ![screen shot 2016-08-17 at 17 39 04](https://cloud.githubusercontent.com/assets/406299/17745021/292c3392-64a2-11e6-8c85-3f5e211778b5.png)
  ![screen shot 2016-08-17 at 17 39 17](https://cloud.githubusercontent.com/assets/406299/17745022/292c5e08-64a2-11e6-877d-27cfee1fab9e.png)
  ![screen shot 2016-08-17 at 17 40 16](https://cloud.githubusercontent.com/assets/406299/17745023/29419214-64a2-11e6-837d-346ec1687e34.png)
- [x] PreferencesDialog.ui
  ![screen shot 2016-08-17 at 17 46 00](https://cloud.githubusercontent.com/assets/406299/17745132/97e97808-64a2-11e6-9281-abdc023379d2.png)
  ![screen shot 2016-08-17 at 17 46 03](https://cloud.githubusercontent.com/assets/406299/17745134/97ebf9f2-64a2-11e6-930f-60ba42666c5e.png)
  ![screen shot 2016-08-17 at 17 46 19](https://cloud.githubusercontent.com/assets/406299/17745136/97ef585e-64a2-11e6-8d79-ee0c4c6d7e70.png)
  ![screen shot 2016-08-17 at 17 46 26](https://cloud.githubusercontent.com/assets/406299/17745133/97ea1862-64a2-11e6-82c6-30396508046d.png)
  ![screen shot 2016-08-17 at 17 46 36](https://cloud.githubusercontent.com/assets/406299/17745135/97ee9dce-64a2-11e6-962d-ed62589b603b.png)
  ![screen shot 2016-08-17 at 17 46 40](https://cloud.githubusercontent.com/assets/406299/17745137/98047252-64a2-11e6-9780-398eb32f49d7.png)
- [x] VacuumDialog.ui
  ![screen shot 2016-08-17 at 17 47 18](https://cloud.githubusercontent.com/assets/406299/17745150/a7adfd18-64a2-11e6-9953-6c04cc7c13c7.png)
 Thanks @FriedrichFroebel, that's really excellent. üòÅ 

![screen shot 2016-08-18 at 11 26 17](https://cloud.githubusercontent.com/assets/406299/17770629/a0eb9d7a-6536-11e6-9d4b-0ffb643bf006.png)
![screen shot 2016-08-18 at 11 22 06](https://cloud.githubusercontent.com/assets/406299/17770599/7c0473ce-6536-11e6-9122-1cf16c568675.png)
![screen shot 2016-08-18 at 11 22 10](https://cloud.githubusercontent.com/assets/406299/17770598/7c043c24-6536-11e6-846a-3ce11f592d65.png)
![screen shot 2016-08-18 at 11 22 25](https://cloud.githubusercontent.com/assets/406299/17770597/7c02d7d0-6536-11e6-8d97-ec3343a55f06.png)
![screen shot 2016-08-18 at 11 22 50](https://cloud.githubusercontent.com/assets/406299/17770600/7c04fcf4-6536-11e6-8dd1-c1b5b7d61cd6.png)
![screen shot 2016-08-18 at 11 23 09](https://cloud.githubusercontent.com/assets/406299/17770601/7c079d7e-6536-11e6-94d1-bbe46affc2c4.png)
![screen shot 2016-08-18 at 11 23 32](https://cloud.githubusercontent.com/assets/406299/17770602/7c088afe-6536-11e6-8d18-213da9bed61b.png)

Merging this in now. :smile:
  ### Details for the issue

<!--

Thanks for coming here to report an issue. :)

Please describe it in this section, fill out the correct check boxes
below with an "x", then click the "Submit new issue" button at the bottom

-->

When entering multi-line data in DB4S, the data is changed so that CRLF is changed to LF.
Possibly.

Please see this screencast.
http://screencast-o-matic.com/watch/cDjo29iM8o

I enter 123 456 789 (split on 3 lines) from my Windows program.  This loads and saves fine.  DB4S shows this as 3  lines.  If I add a further line, 000, my program now sees it as one string.  HOWEVER, if I press the right arrow at a set interval (not easy to pick up as there is no audio!) you can see the cursor 'stick' where the new lines should be - the textbox is seeing a LF but being Windows, doesn't know what to do with it.

Exporting the field to a text file and viewing that in Notepad++, shows LFs, not CRLFs.
Exporting the field the first time, showed CRLFs.
Notepad++ sees it as a 'Unix' file.
Viewing the field in DB4S correctly shows the 4 lines.  Copying that to the clipboard correctly shows CRLFs.  Its as if the data is wrong, but DB4S 'corrects' it.

![image](https://cloud.githubusercontent.com/assets/7872218/17668556/bf4aa1c6-6301-11e6-8da4-ab13dfd5f79f.png)

Additional testing.  Correcting the text in DB4S mangles it further.  A mix of CRLF and LF.  However, additional saving DOES NOT mangle it further (ie, editing does not compound the issue)  
![image](https://cloud.githubusercontent.com/assets/7872218/17668600/061560aa-6302-11e6-8d0c-877e59f5768b.png)
### Useful extra information

<!-- The info below often helps, please fill it out if you're able to. :) -->
#### I'm opening this issue because:
- [ ] DB4S is crashing
- [x] DB4S has a bug
- [ ] DB4S needs a feature
- [ ] DB4S has another problem
#### I'm using DB4S on:
- [x] Windows
- [ ] Linux: ( _distro:_ ___ )
- [ ] Mac OS
- [ ] Other: ___
#### I'm using DB4S version:
- [ ] 3.9.0 beta1
- [x] 3.8.0
- [ ] Other: ___
#### I have also:
- [x] Tried out the nightly version: https://github.com/sqlitebrowser/sqlitebrowser#windows
- [ ] Searched for an existing similar issue: https://github.com/sqlitebrowser/sqlitebrowser/issues?utf8=%E2%9C%93&q=is%3Aissue%20
 Ahhh, that's interesting.  As a quick thought, would you be ok to try the [3.9.0 beta1 for Windows](https://github.com/sqlitebrowser/sqlitebrowser/releases/tag/v3.9.0-beta1)?

A lot of the copy-paste code was changed around just before release, and it seemed to pass all of the (rather basic) testing we did on it.

I didn't specifically check for CR/LF characters being kept unchanged though, so this bug **_might**_ still be present.
 Just tried the beta with the same results.
http://screencast-o-matic.com/u/hnsz/stripped1

In further testing, I exported the field to a text file, converted it back to CRLF, imported it, confirmed all the fields in DB4S were showing OK, and exported again to show back to LF.
http://screencast-o-matic.com/u/hnsz/stripped2

Just to confirm, as someone will probably say, "the data is OK, but the exporting is borked", but my application doesn't like the data in the database, so the raw data is LF, not CRLF.  I've viewed the database in binary format and also confirmed this.
http://screencast-o-matic.com/watch/cDjDQmiLuY

One last screencast.  Promise.  I added 0d codes to the field so that it was od 0a (I understand thats binary for CRLF).  Switched to text and saw the World was good.  Switched back to binary, and SWITCHEROOO!  Clang!  Thanks DB4S! :wink:
http://screencast-o-matic.com/watch/cDjDQLiLuz

I entered 0e by purpose just to see if it was stripping characters anyway, but then added a random 0d on its own, and that was converted too.

Its a bit naughty its having to do any 'conversion' or data manipulation anyway, isn't it?  Surely if I want LFs or CRLFs, it should display that, as it must be there for a purpose.  For it to decide, "hey, you've got this data in your database.  I'll just tweak that for you..... " seems a bit scary.
 Thanks Chris. :smile:

The original screencast URL wasn't working for me at first yesterday, but seems to be now.  So, the new ones will probably be workable too.

I'll try them out in a bit, I just need to finish some other things first. :smile:
 Reading through this bit again:

> One last screencast.  Promise.  I added 0d codes to the field so that it was od 0a (I understand thats binary for CRLF).  Switched to text and saw the World was good.  Switched back to binary, and SWITCHEROOO!  Clang!  Thanks DB4S! :wink:
> http://screencast-o-matic.com/watch/cDjDQLiLuz

Yep, that's super clear.  It's a side effect of the data being stored in one format for the hex editor, [then being converted to plain text](https://github.com/sqlitebrowser/sqlitebrowser/blob/4d29271954c69148d7b61531202d29415ea56759/src/EditDialog.cpp#L124) for display in the text editor. ([and vice versa](https://github.com/sqlitebrowser/sqlitebrowser/blob/4d29271954c69148d7b61531202d29415ea56759/src/EditDialog.cpp#L354))

The central reason is these editor views have their own buffers... they can't share, and they require different data formats.

But, it may be possible to fix this.  It'll need some thinking about, and probably some experimentation to get right.

Almost no chance of this bit being fixed for 3.9.0, but the 3.10.0 release is possibly feasible. :smile:
 Can't the viewers just view 'as is' rather than 'converting'?  There may be a reason (especially if HTML code) for CRLFs and LFs.  Thats the nice thing with the binary view - WYSIRWYG!  (...really what you get!)
 It'd be fantastic if it was that simple. üòÅ 

For the hex editing view, that's the closest thing to what you describe.  It's a view into a literal array of bytes.  No weirdness involved.

The text editor though is [one of these](https://doc.qt.io/qt-4.8/qtextedit.html).  It has it's own internal buffer which seems to be a [very text oriented data type managed by Qt](https://doc.qt.io/qt-4.8/qtextdocument.html), and not a byte array.  The conversion problem seems to be biting when going between these two., as these two widgets can't just share data. üò¶ 

Well, that's my understanding of it so far.  It might turn out there are ways to accomplish it.  Just not sure at the moment.

In the worst case scenario, we **might** be able to subclass the QtTextEdit box that's used, to include some non-corrupting import/export functions.  No idea yet...

All help is welcome though, if you're keen to dig into it. üòÅ 
 _backs slowly away..._ :wink:  I was following you up to "simple"....
 Heh Heh Heh üòÅ 
 Would it be a good idea to always pass to `EditDialog::loadData(const QByteArray& data)` only the data from the database cell instead of taking it from some other buffer when changing editing mode? Though that would introduce questions like how to deal with unsaved data, i.e. when `Apply` has not been pressed.  Thanks, will do.  I'm going to get some sleep now, but will go through this in good detail tomorrow. :smile:
 This is pretty well done. :smile:

There is some kind of problem to do with the CipherDialog.ui menu option, for setting an encryption key.  The menu option isn't showing up at all, though it does for other languages.
This is a strange behaviour I haven't seen before.  Hopefully it's just a minor string problem or something, rather than a problem in our code.  I'll take a look later today, to see if I can figure it out.

With MainWindow.ui, the strings tab for editing Pragmas are a mixture of English and Brazilian Portuguese.  It looks kind of strange. :wink:

With the languages updated so far, the strings in that tab have generally been either all English, or all [the translated language].  So, yeah... unsure of the right approach here.  Would appreciate your thoughts. :smile:

## 
- [x] AboutDialog.ui
  ![screen shot 2016-08-15 at 11 44 59](https://cloud.githubusercontent.com/assets/406299/17662497/d2a2d8c0-62dd-11e6-8ce7-d89d01c891fb.png)
- [ ] CipherDialog.ui

Something seems to be wrong here, as the File menu option to set the encryption key is not showing up.  It shows up for other languages though.

I can investigate this later on today. :smile:
- [x] ColumnDisplayFormatDialog.ui
  ![screen shot 2016-08-15 at 11 50 42](https://cloud.githubusercontent.com/assets/406299/17662618/a87c5b88-62de-11e6-84e1-b4800d4b7efb.png)
- [x] CreateIndexDialog.ui
  ![screen shot 2016-08-15 at 11 52 28](https://cloud.githubusercontent.com/assets/406299/17662647/e9053828-62de-11e6-9355-76b258855e70.png)
- [x] EditDialog.ui
  ![screen shot 2016-08-15 at 11 55 01](https://cloud.githubusercontent.com/assets/406299/17662688/60a9bc1e-62df-11e6-9071-fc7ea237c80a.png)
  ![screen shot 2016-08-15 at 11 55 38](https://cloud.githubusercontent.com/assets/406299/17662691/6524d81e-62df-11e6-9393-015d997d96cb.png)
  ![screen shot 2016-08-15 at 11 55 46](https://cloud.githubusercontent.com/assets/406299/17662696/6ba3cba0-62df-11e6-94d0-9e81ac897e9d.png)
- [x] EditTableDialog.ui
  ![screen shot 2016-08-15 at 11 59 43](https://cloud.githubusercontent.com/assets/406299/17662746/cbf54556-62df-11e6-8877-7ae20a9203df.png)
- [x] ExportCsvDialog.ui
  ![screen shot 2016-08-15 at 12 00 39](https://cloud.githubusercontent.com/assets/406299/17662774/fe2590c6-62df-11e6-9c69-d0f4f00a16eb.png)
- [x] ExportSqlDialog.ui

![screen shot 2016-08-15 at 12 04 04](https://cloud.githubusercontent.com/assets/406299/17662847/66ba6ecc-62e0-11e6-81e3-d20b9a80bc2c.png)
- [x] ImportCsvDialog.ui
  ![screen shot 2016-08-15 at 12 06 04](https://cloud.githubusercontent.com/assets/406299/17662889/ae9c7e1a-62e0-11e6-9c1f-ad186ae0aeb3.png)
- [ ] MainWindow.ui
  ![screen shot 2016-08-15 at 12 06 47](https://cloud.githubusercontent.com/assets/406299/17662946/f56cc002-62e0-11e6-9fba-79703ef45437.png)
  ![screen shot 2016-08-15 at 12 06 57](https://cloud.githubusercontent.com/assets/406299/17662949/f9b83448-62e0-11e6-8fe2-c3f5656ba1b4.png)
  ![screen shot 2016-08-15 at 12 07 10](https://cloud.githubusercontent.com/assets/406299/17662952/fd9cb41c-62e0-11e6-8612-875dcd6733a1.png)
  ![screen shot 2016-08-15 at 12 08 58](https://cloud.githubusercontent.com/assets/406299/17663009/604869d0-62e1-11e6-922d-945cbfa930e9.png)
  ![screen shot 2016-08-15 at 12 09 15](https://cloud.githubusercontent.com/assets/406299/17663012/64a3d92e-62e1-11e6-8016-4fb9919e7f86.png)
  ![screen shot 2016-08-15 at 12 09 37](https://cloud.githubusercontent.com/assets/406299/17663016/698da096-62e1-11e6-9aab-ad608fa09e83.png)
  ![screen shot 2016-08-15 at 12 09 57](https://cloud.githubusercontent.com/assets/406299/17663023/6ec27fbe-62e1-11e6-8dbd-477062dadab5.png)
  ![screen shot 2016-08-15 at 12 10 14](https://cloud.githubusercontent.com/assets/406299/17663027/7308ab34-62e1-11e6-870a-2a72a90a2224.png)
  ![screen shot 2016-08-15 at 12 11 07](https://cloud.githubusercontent.com/assets/406299/17663030/77463572-62e1-11e6-84fc-f8f8b1950920.png)
- [x] PreferencesDialog.ui
  ![screen shot 2016-08-15 at 12 14 40](https://cloud.githubusercontent.com/assets/406299/17663108/028ed21a-62e2-11e6-956b-87abd83639c5.png)
  ![screen shot 2016-08-15 at 12 14 49](https://cloud.githubusercontent.com/assets/406299/17663109/0558cffa-62e2-11e6-944b-360745afe254.png)
  ![screen shot 2016-08-15 at 12 15 22](https://cloud.githubusercontent.com/assets/406299/17663112/09555268-62e2-11e6-9daf-32b51b676c55.png)
  ![screen shot 2016-08-15 at 12 15 28](https://cloud.githubusercontent.com/assets/406299/17663118/0ee9356e-62e2-11e6-9a9b-16513d12c6f3.png)
  ![screen shot 2016-08-15 at 12 15 33](https://cloud.githubusercontent.com/assets/406299/17663121/1339cdea-62e2-11e6-9209-1e4be43dc38d.png)
  ![screen shot 2016-08-15 at 12 15 47](https://cloud.githubusercontent.com/assets/406299/17663124/17e04144-62e2-11e6-922f-0ad22f0dbf7a.png)
- [x] VacuumDialog.ui
  ![screen shot 2016-08-15 at 12 16 46](https://cloud.githubusercontent.com/assets/406299/17663135/2c3aec0c-62e2-11e6-9320-240cb61a7155.png)
 Awesome @mafagafogigante.  I'll double check shortly, then take a look at the missing menu option.
 Yep, verified here too.  All good for that bit. :smile:
![screen shot 2016-08-15 at 14 03 35](https://cloud.githubusercontent.com/assets/406299/17665173/0fb7e0c6-62f1-11e6-8b04-8810ffae3b66.png)
 The cause of the missing menu item for `Set Encryption` seems strange.

The Brazilian Portuguese string is `Configurar Encripta√ß√£o`.

It turns out that **any** string starting with the word "Config" is being removed without any warnings/errors/etc.

Not sure exactly why this is happening.  Suspecting it is because Qt on OSX is confusing it with the string for "Preferences".  On OSX, Qt automatically moves the "Preferences" item to a separate menu.

As a possibly easy solution, is there an alternative translation string that could be used? :smile:
 Sure, no worries at all.

The exact string in English is:

```
&amp;Set Encryption
```

And yeah, it's definitely a cheap workaround. üò¶ 
 Ahhh, understood.  Screenshot coming up. :smile:
 Does this help?
![screen shot 2016-08-15 at 16 52 15](https://cloud.githubusercontent.com/assets/406299/17670241/e2fdfddc-6308-11e6-867c-25bd2a824a9c.png)
 Hmmm... come to think of it, screenshots of all the translated menus would probably help too. :smile:
 Just in case these are useful. :smile:

![screen shot 2016-08-15 at 16 56 23](https://cloud.githubusercontent.com/assets/406299/17670316/509950e4-6309-11e6-99d5-fdc0c32f9e4d.png)

The "Set Encryption" string is missing in the below screenshot.

![screen shot 2016-08-15 at 16 56 30](https://cloud.githubusercontent.com/assets/406299/17670324/5582e75a-6309-11e6-849d-f5c6b4505a77.png)
![screen shot 2016-08-15 at 16 56 39](https://cloud.githubusercontent.com/assets/406299/17670330/59b27854-6309-11e6-85bf-ea0ef5e79ac2.png)
![screen shot 2016-08-15 at 16 56 43](https://cloud.githubusercontent.com/assets/406299/17670336/5e30f676-6309-11e6-890f-0dd14154506c.png)
![screen shot 2016-08-15 at 16 56 48](https://cloud.githubusercontent.com/assets/406299/17670342/625e9ef6-6309-11e6-8af6-100326afc967.png)
 A possible better solution for the missing menu item has been suggested through the #qt channel on IRC:

```
15:50 <@peppe> justinclift: or, actually: give all of your action proper menu roles
15:50 <@peppe> because the default is doing that kind of weird heuristic, which is backfiring in your case
```

I'll try that shortly. :smile:
 `peppe` on IRC was correct.  Setting the "Menu Role" to `NoRole` for the the "Set Encryption" string (but translated) works fine.

No need to figure out an alternative approach. üòÅ 
 The fix has been added to the `master` and `v3.9.x` branches.
 @mafagafogigante Should I merge this into our code? :smile:
 Thanks heaps @mafagafogigante. :smile:

No need to sign anything at all.  I'll merge this here in a minute.  Hopefully that's one less thing to stress about!
   @mvt91 I'll go through this in detail soon, making screenshots to verify things, and look into the Plot view too. :smile:

(the other bits I'll answer via email :wink:)
 Thanks Michel, this also looks very complete. :smile:

There are a few strings I'm not sure of though:
- AboutDialog.ui - Missing space on the end of two strings?
- EditDialog.ui - Unsure about this.  The `:` seems to be in the wrong position, but both the .ts file and .cpp files seem to have it correct.  So I'm not sure what is going wrong. üòï 
  
  `tr("Type of data currently in cell: %1 Image")`
  
  ```
  <message>
     <location filename="../EditDialog.ui" line="187"/>
     <source>Type of data currently in cell</source>
     <translation>Type des donn√©es actuellement dans la cellule</translation>
  </message>
  ```
- ExportSqlDialog.ui - Is the dialog heading correct?

The screenshots below might help.  I'll look into the plot settings shortly as well.  It's not an area of our code I have investigated before, but now is a good time to start. :smile:
- [ ] AboutDialog.ui
  ![screen shot 2016-08-13 at 12 51 53](https://cloud.githubusercontent.com/assets/406299/17643027/0782df20-6155-11e6-9719-459e5f09fb16.png)
- [x] CipherDialog.ui
  ![screen shot 2016-08-13 at 12 54 50](https://cloud.githubusercontent.com/assets/406299/17643033/242c9c9c-6155-11e6-8925-a45fe8afbfce.png)
- [x] ColumnDisplayFormatDialog.ui
  ![screen shot 2016-08-13 at 12 55 52](https://cloud.githubusercontent.com/assets/406299/17643037/5550b0d8-6155-11e6-837c-c9630f49dc6a.png)
- [x] CreateIndexDialog.ui
  ![screen shot 2016-08-13 at 12 57 14](https://cloud.githubusercontent.com/assets/406299/17643041/7f02fdd2-6155-11e6-9ef5-03b586bc425c.png)
- [ ] EditDialog.ui
  ![screen shot 2016-08-13 at 13 05 16](https://cloud.githubusercontent.com/assets/406299/17643100/5ea37dda-6157-11e6-85cf-9b8ff2533fcb.png)
  ![screen shot 2016-08-13 at 13 05 23](https://cloud.githubusercontent.com/assets/406299/17643101/6260ee3a-6157-11e6-8ca1-8e344f53bbb4.png)
  ![screen shot 2016-08-13 at 13 05 44](https://cloud.githubusercontent.com/assets/406299/17643102/66c7ab76-6157-11e6-9815-9f67a5c3f550.png)
- [x] EditTableDialog.ui
  ![screen shot 2016-08-13 at 13 35 40](https://cloud.githubusercontent.com/assets/406299/17643213/dfd8a71a-615a-11e6-8f60-b3d2bd5b2163.png)
- [x] ExportCsvDialog.ui
  ![screen shot 2016-08-13 at 13 37 18](https://cloud.githubusercontent.com/assets/406299/17643223/222c2452-615b-11e6-97b9-5c39da672ee5.png)
- [ ] ExportSqlDialog.ui
  ![screen shot 2016-08-13 at 13 38 24](https://cloud.githubusercontent.com/assets/406299/17643231/82adc9b6-615b-11e6-8526-a1921a77bac5.png)
- [x] ImportCsvDialog.ui
  ![screen shot 2016-08-13 at 13 41 46](https://cloud.githubusercontent.com/assets/406299/17643239/bdbbe9b6-615b-11e6-8475-3b136b20373b.png)
- [x] MainWindow.ui
  ![screen shot 2016-08-13 at 12 37 49](https://cloud.githubusercontent.com/assets/406299/17642950/007ee7fc-6153-11e6-9598-b7dc94589b2d.png)
  ![screen shot 2016-08-13 at 12 38 00](https://cloud.githubusercontent.com/assets/406299/17642952/06512690-6153-11e6-90a7-28deb6fa1a99.png)
  ![screen shot 2016-08-13 at 12 38 08](https://cloud.githubusercontent.com/assets/406299/17642953/0c05eb02-6153-11e6-8b00-942201d2c776.png)
  ![screen shot 2016-08-13 at 12 38 53](https://cloud.githubusercontent.com/assets/406299/17642954/11ccd352-6153-11e6-9659-09e699d112f6.png)
- [x] PreferencesDialog.ui
  ![screen shot 2016-08-13 at 12 41 10](https://cloud.githubusercontent.com/assets/406299/17642972/efec3baa-6153-11e6-8923-b8153023529b.png)
  ![screen shot 2016-08-13 at 12 41 13](https://cloud.githubusercontent.com/assets/406299/17642975/f762730e-6153-11e6-8ec3-5acca0275706.png)
  ![screen shot 2016-08-13 at 12 41 37](https://cloud.githubusercontent.com/assets/406299/17642978/fe0c8da2-6153-11e6-82f5-6a99a3c2bc47.png)
  ![screen shot 2016-08-13 at 12 41 48](https://cloud.githubusercontent.com/assets/406299/17642979/03189d2c-6154-11e6-9371-83a4c5bd1774.png)
  ![screen shot 2016-08-13 at 12 42 02](https://cloud.githubusercontent.com/assets/406299/17642980/08f81ace-6154-11e6-8e1f-30bf181ca0a8.png)
  ![screen shot 2016-08-13 at 12 42 18](https://cloud.githubusercontent.com/assets/406299/17642982/103496aa-6154-11e6-90b2-70f26dcf0819.png)
- [x] VacuumDialog.ui
  ![screen shot 2016-08-13 at 12 47 52](https://cloud.githubusercontent.com/assets/406299/17642992/2dc9a318-6154-11e6-98d5-9d7c8d9ea028.png)
 Ahhh, yeah.  We're creating the release packages for our new "3.9.0 beta 1" release right now.  That should be released later on today.  If no serious bugs show up, then the "3.9.0" full release will probably be next weekend. üòÅ 

Btw, a  separate branch ("[v3.9.x](https://github.com/sqlitebrowser/sqlitebrowser/blob/v3.9.x/src/translations/sqlb_fr.ts)") was created in git for this new 3.9.x series just a few days ago.

I should have applied your .ts file to that branch for the screenshots, but it's not important because there are no English string differences yet.  Between 3.9.x branch, and our current main development branch "master" for 3.10.x that is.

For compiling the program under Mint, in theory it should be the same as for Qt4:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md#ubuntu-linux

Just... see if there is a Qt5 version `libqt5-dev` (?) of the development files instead.  DB4S **should** compile with either Qt4, or Qt5.

But having both `libqt4-dev` & `libqt5-dev` on the same system at the same time might confuse it.  One way to find out. :smile:
 With the height of the SQLCipher window, we should be able to make it variable.  It does look too wide at the moment for almost every language.

So, feel free to put in some line breaks, and we can adjust the sizing of that window before the proper 3.9.0 release next weekend. :smile:
 This is looking Awesome now @mvt91! Thank you heaps! üòÅ 

With the Plot dock... I haven't looked at it yet.  It will need to be a task for tomorrow instead of today, as my brain is fairly melted from looking at the computer too long atm. üòá 
- [x] AboutDialog.ui
  ![screen shot 2016-08-14 at 19 35 04](https://cloud.githubusercontent.com/assets/406299/17651068/40689ada-6256-11e6-9810-67522492fd2d.png)
- [x] CipherDialog.ui
  ![screen shot 2016-08-14 at 19 35 58](https://cloud.githubusercontent.com/assets/406299/17651071/5bde0d2c-6256-11e6-8084-410141dfef2e.png)
- [x] ColumnDisplayFormatDialog.ui
  ![screen shot 2016-08-14 at 19 37 56](https://cloud.githubusercontent.com/assets/406299/17651086/ab41ecee-6256-11e6-922f-7afad50db388.png)
- [x] CreateIndexDialog.ui
  ![screen shot 2016-08-14 at 19 40 15](https://cloud.githubusercontent.com/assets/406299/17651105/f8b397c0-6256-11e6-854e-ee513543fcda.png)
- [x] EditDialog.ui
  ![screen shot 2016-08-14 at 20 11 54](https://cloud.githubusercontent.com/assets/406299/17651277/86f6dcdc-625b-11e6-9684-6f225716be26.png)
  ![screen shot 2016-08-14 at 20 11 59](https://cloud.githubusercontent.com/assets/406299/17651279/8ad037f4-625b-11e6-8102-dc83deb9b6cb.png)
  ![screen shot 2016-08-14 at 20 12 18](https://cloud.githubusercontent.com/assets/406299/17651281/8e938616-625b-11e6-9dd5-44afdcd532ec.png)
  ![screen shot 2016-08-14 at 20 12 28](https://cloud.githubusercontent.com/assets/406299/17651283/929f2be8-625b-11e6-83c0-ac74ef410f66.png)
- [x] EditTableDialog.ui
  ![screen shot 2016-08-14 at 20 14 44](https://cloud.githubusercontent.com/assets/406299/17651294/c86dd2c4-625b-11e6-8d0e-11b56c97ced8.png)
- [x] ExportCsvDialog.ui
  ![screen shot 2016-08-14 at 20 15 39](https://cloud.githubusercontent.com/assets/406299/17651299/f884c79c-625b-11e6-8132-38dcf8aab28f.png)
  ![screen shot 2016-08-14 at 20 15 45](https://cloud.githubusercontent.com/assets/406299/17651300/fc48f308-625b-11e6-96ff-c0e19afc1fe1.png)
- [x] ExportSqlDialog.ui

![screen shot 2016-08-14 at 20 17 32](https://cloud.githubusercontent.com/assets/406299/17651310/307c7e74-625c-11e6-96b9-cd8a6a2b90b5.png)
- [x] ImportCsvDialog.ui
  ![screen shot 2016-08-14 at 20 18 41](https://cloud.githubusercontent.com/assets/406299/17651316/514e80f2-625c-11e6-836a-dec3071f4063.png)
- [x] MainWindow.ui
  ![screen shot 2016-08-14 at 19 41 03](https://cloud.githubusercontent.com/assets/406299/17651202/ee8d0d46-6259-11e6-83dc-a79fd85ec51f.png)
  ![screen shot 2016-08-14 at 19 41 15](https://cloud.githubusercontent.com/assets/406299/17651203/f489eda4-6259-11e6-84d1-eb5e0ded1cc5.png)
  ![screen shot 2016-08-14 at 19 41 48](https://cloud.githubusercontent.com/assets/406299/17651204/f9b24ace-6259-11e6-8d54-b2149391dd5c.png)
  ![screen shot 2016-08-14 at 19 42 00](https://cloud.githubusercontent.com/assets/406299/17651210/018cc472-625a-11e6-8971-4136b2fff305.png)
  ![screen shot 2016-08-14 at 20 02 36](https://cloud.githubusercontent.com/assets/406299/17651233/6e97a15e-625a-11e6-8480-a424acbe820e.png)
  ![screen shot 2016-08-14 at 20 03 02](https://cloud.githubusercontent.com/assets/406299/17651234/735d1002-625a-11e6-8fab-55d5052cf0a5.png)
  ![screen shot 2016-08-14 at 20 03 22](https://cloud.githubusercontent.com/assets/406299/17651236/797ab804-625a-11e6-87cb-70317ba4b09f.png)
  ![screen shot 2016-08-14 at 20 03 45](https://cloud.githubusercontent.com/assets/406299/17651237/80f4ba1c-625a-11e6-8638-46060bb03e56.png)
  ![screen shot 2016-08-14 at 20 04 50](https://cloud.githubusercontent.com/assets/406299/17651238/85a00012-625a-11e6-964d-080008bab650.png)
- [x] PreferencesDialog.ui
  ![screen shot 2016-08-14 at 20 07 47](https://cloud.githubusercontent.com/assets/406299/17651252/f7aebf40-625a-11e6-93cb-6e1eb1f2ece7.png)
  ![screen shot 2016-08-14 at 20 07 52](https://cloud.githubusercontent.com/assets/406299/17651254/fcb788e6-625a-11e6-8b7b-c6c80d56c394.png)
  ![screen shot 2016-08-14 at 20 08 09](https://cloud.githubusercontent.com/assets/406299/17651256/01226f36-625b-11e6-847b-faecd5694413.png)
  ![screen shot 2016-08-14 at 20 08 15](https://cloud.githubusercontent.com/assets/406299/17651258/058a0c14-625b-11e6-8da5-ad5137609501.png)
  ![screen shot 2016-08-14 at 20 08 32](https://cloud.githubusercontent.com/assets/406299/17651262/0952f3d8-625b-11e6-81b2-876a5dcd67cf.png)
  ![screen shot 2016-08-14 at 20 08 37](https://cloud.githubusercontent.com/assets/406299/17651263/0d20b9f0-625b-11e6-923f-010213267693.png)
- [x] VacuumDialog.ui
  ![screen shot 2016-08-14 at 20 10 45](https://cloud.githubusercontent.com/assets/406299/17651268/35942872-625b-11e6-9f12-438df740ca93.png)
 Cool. :grin:

When you saw "Done", are you meaning "Justin, please check your email for an updated.ts file?"

Asking because if you tried to attach the file to this GitHub Issue, that doesn't work.  The GitHub Issue system seems to ignore email attachments. üò¶ 
 By the way, we created a "[Translators](https://github.com/orgs/sqlitebrowser/teams/translators)" team for the sqlitebrowser org here on GitHub.

It doesn't give write access to anything, but shows you're a "member of the team" for anyone that looks. :smile:

Any interest in being added to that?
 Adding these, just in case they're helpful. :smile:

![screen shot 2016-08-15 at 17 02 57](https://cloud.githubusercontent.com/assets/406299/17670509/40574f50-630a-11e6-8005-f2b26c61ef52.png)

![screen shot 2016-08-15 at 17 03 08](https://cloud.githubusercontent.com/assets/406299/17670514/45d61a38-630a-11e6-8a08-1eb71aab9d85.png)

![screen shot 2016-08-15 at 17 03 16](https://cloud.githubusercontent.com/assets/406299/17670517/4a7d97d2-630a-11e6-96c7-417f63128b0d.png)

![screen shot 2016-08-15 at 17 03 20](https://cloud.githubusercontent.com/assets/406299/17670523/4e65ed9a-630a-11e6-960d-656368a40cb7.png)

![screen shot 2016-08-15 at 17 03 24](https://cloud.githubusercontent.com/assets/406299/17670525/52d971da-630a-11e6-918e-7404adbc9e8d.png)
 Looking at the ExportCsvDialog, it seems ok to me. :smile:

![screen shot 2016-08-15 at 17 07 05](https://cloud.githubusercontent.com/assets/406299/17670609/c0ad8340-630a-11e6-9fd0-59f918b0520f.png)
![screen shot 2016-08-15 at 17 05 37](https://cloud.githubusercontent.com/assets/406299/17670618/cff38da4-630a-11e6-9ee9-17e38c8dda24.png)
![screen shot 2016-08-15 at 17 06 23](https://cloud.githubusercontent.com/assets/406299/17670628/d54bce2e-630a-11e6-8069-07d19f5c6ec2.png)
![screen shot 2016-08-15 at 17 06 41](https://cloud.githubusercontent.com/assets/406299/17670612/c54ba594-630a-11e6-8fa5-d2d8908806b3.png)

The `Field separator` drop down in English for comparison:

![screen shot 2016-08-15 at 17 09 17](https://cloud.githubusercontent.com/assets/406299/17670679/18b45c76-630b-11e6-9563-1660c85e1ff1.png)
 @mvt91 Is this ok to merge as-is? :smile:
 Fantastic!  Thank you for putting the time into this @mvt91. :smile:
  Ahhh, interesting.

Would you be ok to try the latest nightly build?  It has a **bunch** of bug fixes in it, some of which affect things like this.  There's a good chance this is already fixed in that. :smile:

As a side thought... are you using the 32-bit or 64-bit build on Windows?  Asking because I'm creating the Windows packages for our "3.9.0 beta1" release today.  If you have time to test for the bug in that, it would be nifty. üòÅ 
 Interesting about the schema.  Not sure we've done any fixes in that area of code, so it might still be present. üò¶ 
 Btw, with `4.` above, what drops the table before it gets re-created?
 Oh, I guess that's what you're meaning with `...`.  Didn't realise. :wink:
 It's possible that `Refresh Data` only refreshes the ... data üòÑ 
 @kimbar With "Behaviour as expected"... is that "bug still present" or "bug is fixed"? :wink:
 Clearly the bug is fixed. Remembered I had the same problem: #496 
 Awesome, thanks guys. :smile:
  Can you test the nightly build tomorrow?
 @revolter those were not related to hex editor in Editor Dock. 
 @innermous You're off by a day. :wink:

He was meaning the code before, where you fixed the Copy/Paste handling. üòÅ 
 @justinclift I don't understand what you are talking about.
 @innermous No worries. :smile:
 @justinclift, @innermous is right, this issue is about the Edit Dock, sorry!
 Oops. :smile:
 Thinking about this a bit more... could part of the problem be how we detect BLOB's?

eg Valid unicode text with \0 inside it
 Dude, it has nothing to do with anything like blobs or nulls or whatever you are thinking. This is just not related. This is not related to my commits either.
It's wrong behavior of textedit itself for some reason. Key word is _Unicode_...
 Sorry @innermous. üò¶ 
 Hm. I can't reproduce it here on archlinux. 
 It's possible this is only happening on Windows.  I can try giving it a shot here on a Windows PC in the next few days.
  Thanks @lulol, I'll go through it now. :smile:
 Excellent, this looks very complete. :smile:

Only two queries with it, though I'm being picky with them. :wink:
- For ImportCsvDialog.ui, there is an & in the text which I'm unsure of.
- With the 4th screenshot for the Preferences dialog, one of the lines doesn't start with a capital letter, unlike the rest.  It kind of looks strange (to me).  But if it's meant to be that way, then no worries. üòÄ 
- [x] AboutDialog.ui
  ![screen shot 2016-08-10 at 19 20 04](https://cloud.githubusercontent.com/assets/406299/17565463/7b7088ec-5f2f-11e6-8777-36a496862f09.png)
- [x] CipherDialog.ui
  ![screen shot 2016-08-10 at 19 27 10](https://cloud.githubusercontent.com/assets/406299/17565714/76bfd4f0-5f30-11e6-9055-ca4ef43dc1d7.png)
- [x] ColumnDisplayFormatDialog.ui
  ![screen shot 2016-08-10 at 19 27 59](https://cloud.githubusercontent.com/assets/406299/17565753/99c7179c-5f30-11e6-8fc1-da4339e897f4.png)
- [x] CreateIndexDialog.ui
  ![screen shot 2016-08-10 at 19 28 46](https://cloud.githubusercontent.com/assets/406299/17565773/b46c11e2-5f30-11e6-9bc6-a0e477d38eae.png)
- [x] EditDialog.ui
  ![screen shot 2016-08-10 at 19 31 28](https://cloud.githubusercontent.com/assets/406299/17565879/168c2538-5f31-11e6-8b64-932704463125.png)
  ![screen shot 2016-08-10 at 19 31 33](https://cloud.githubusercontent.com/assets/406299/17565884/1abaca92-5f31-11e6-91ab-e947c985f7e7.png)
  ![screen shot 2016-08-10 at 19 31 42](https://cloud.githubusercontent.com/assets/406299/17565887/1e86fd62-5f31-11e6-81e7-67ff82624265.png)
- [x] EditTableDialog.ui
  ![screen shot 2016-08-10 at 19 29 36](https://cloud.githubusercontent.com/assets/406299/17565809/d0ab3f2c-5f30-11e6-927b-851254964bb1.png)
- [x] ExportCsvDialog.ui
  ![screen shot 2016-08-10 at 19 33 20](https://cloud.githubusercontent.com/assets/406299/17565933/553469bc-5f31-11e6-904b-12b76982b791.png)
- [x] ExportSqlDialog.ui
  ![screen shot 2016-08-10 at 19 34 32](https://cloud.githubusercontent.com/assets/406299/17565991/854f1b2e-5f31-11e6-9f7c-f462d27d00da.png)
- [x] ImportCsvDialog.ui
  ![screen shot 2016-08-10 at 19 38 22](https://cloud.githubusercontent.com/assets/406299/17566203/6064f846-5f32-11e6-81ac-048f032599e2.png)
- [x] MainWindow.ui
  ![screen shot 2016-08-10 at 19 08 18](https://cloud.githubusercontent.com/assets/406299/17565124/f87662a0-5f2d-11e6-8fda-4e43f7d47952.png)
  ![screen shot 2016-08-10 at 19 08 25](https://cloud.githubusercontent.com/assets/406299/17565134/feae3c2e-5f2d-11e6-9222-2d2191507b01.png)
  ![screen shot 2016-08-10 at 19 08 39](https://cloud.githubusercontent.com/assets/406299/17565141/04244720-5f2e-11e6-8e16-55bcf40c8ff1.png)
  ![screen shot 2016-08-10 at 19 08 52](https://cloud.githubusercontent.com/assets/406299/17565147/0b1e5ec6-5f2e-11e6-9e54-d28b951d3130.png)
- [ ] PreferencesDialog.ui
  ![screen shot 2016-08-10 at 19 21 16](https://cloud.githubusercontent.com/assets/406299/17565608/0f9b3012-5f30-11e6-92cc-5669d58ac24c.png)
  ![screen shot 2016-08-10 at 19 21 25](https://cloud.githubusercontent.com/assets/406299/17565618/156f9276-5f30-11e6-9a08-1e454e4b30e8.png)
  ![screen shot 2016-08-10 at 19 21 33](https://cloud.githubusercontent.com/assets/406299/17565623/1a544cc8-5f30-11e6-9fae-3376cbabba9b.png)
  ![screen shot 2016-08-10 at 19 21 39](https://cloud.githubusercontent.com/assets/406299/17565636/291e4b32-5f30-11e6-935d-3dfeb7f5358f.png)
  ![screen shot 2016-08-10 at 19 21 55](https://cloud.githubusercontent.com/assets/406299/17565627/20182ad0-5f30-11e6-932b-900680496e6e.png)
- [x] VacuumDialog.ui
  ![screen shot 2016-08-10 at 19 20 44](https://cloud.githubusercontent.com/assets/406299/17565485/8dc81ad2-5f2f-11e6-825e-ecf6708a6aca.png)
 Also noticed a slightly different problem, which I'm not sure how to fix.  It almost seems like a Qt bug, because this isn't a dialog we have layout control over.
![screen shot 2016-08-10 at 19 37 56](https://cloud.githubusercontent.com/assets/406299/17566457/5c0af4a2-5f33-11e6-8fd1-aba44f362ee0.png)
As an idea, is there a shorter alternative for the words that might fit instead?
 Thanks, will double check them, then merge (assuming no problems seen here). :smile:

Going to get food first though. :wink:

With the  _"Ficheros de"_ problem (and the others in the same dialog), it sounds like it could be a problem in Qt4 then.

I'll rebuild this with Qt5 in a bit, and see if they still show up the same.  If they do... I'll file a bug with the Qt project, and see if something useful turns up there. :smile:
 @lulol why would you do that?
Make changes and force push. Or just add another commit to branch (I hope Justin will do squash merge :smile: )
 Heh Heh Heh

Yeah, I'll squash these into one commit.  I've learned my lesson about that. üòÅ 
 Excellent stuff @lulol.  It's all good here, so merging now: :smile:
![screen shot 2016-08-10 at 21 33 03](https://cloud.githubusercontent.com/assets/406299/17569906/188a22de-5f42-11e6-9a79-5ce40c4943be.png)
![screen shot 2016-08-10 at 21 34 20](https://cloud.githubusercontent.com/assets/406299/17569946/44c943ac-5f42-11e6-9e47-46cf62c409f3.png)
 @innermous Hey look... squashed commit! üòã 
 When built using Qt5, the dialog doesn't have the _"Ficheros de"_ problem:
![screen shot 2016-08-10 at 21 47 31](https://cloud.githubusercontent.com/assets/406299/17570466/6b4b2598-5f44-11e6-80bb-1c17a4f5d3ca.png)
However, the buttons are not translated.  They might be using up the system language (still English) rather than the DB4S language.  I'll try changing my system-wide language to Spanish later, and see what happens.
 The text on the buttons seems to be set from the system language.  When OSX is set to use Spanish as it's primary/default language, they seem ok:
![screen shot 2016-08-10 at 22 01 48](https://cloud.githubusercontent.com/assets/406299/17570938/4ced28ce-5f46-11e6-8986-efe388a356d0.png)
Looks like we're in good shape after all. :smile:
 By the way, yesterday we created a "[Translators](https://github.com/orgs/sqlitebrowser/teams/translators)" team for the sqlitebrowser org here on GitHub.

It doesn't give write access to anything, but shows you're a "member of the team" for anyone that looks. :smile:

Any interest in being added to that?
 @lulol No worries at all about the Translators team thing.  Some people care about it, some don't.  And it doesn't hurt the project to give people the option. üòÅ 

With the untranslated tooltip problems, I'll take a look over the next few hours.  At a guess, they're probably strings embedded in our .ui files.  If that's the case... investigation for a fix will be needed.

The Delete table tooltip is hopefully something simpler.  Will find out too. :smile:

For the release itself, technically it could be done right now.  The code is in a decent state, and apart from the stuff you've just pointed out above :wink:, the translations seem in an ok place too.

People have been pointing out a few times recently, that having our releases "unsigned" throws up warnings for people downloading on Windows, and for people installing on OSX.  So, I submitted paperwork yesterday to get signing certificates.  As soon as they arrive (hopefully Monday/Tuesday), then we'll make the release.  With signed binaries. üòÅ 
 Yeah. :smile:
 Oh, if possible, do the PR against the `v3.9.x` branch. The code in that will be used for the release.
 Sure.  It might be better timing though to wait until we know for sure why those bits aren't being translated.  It's fairly likely some of the code will need updating before you do a new PR.

So, forking after the code has been adjusted is probably the easiest approach. :smile:
 @lulol Sorry, I didn't get around to investigating this stuff today.  Instead, I learned how to sign our builds on OSX, then updating our nightly build system scripting to do it automatically.

I'll try to get this done tomorrow instead. :smile:
 @lulol, I often went back to [this answer](http://stackoverflow.com/a/7244456/865175) to sync a fork. I finally learned how to do it, but after 20-30 visits on that page.
 @lulol Looking at this now.

> Are the Delete Table, Delete View and Delete Trigger tooltips configured independently? Seems that all show the same tooltip set for Delete Table. Don't know if it's meant to be this way.

Yeah, that doesn't sound good.

The `Delete Table` tooltip is defined here:
- https://github.com/sqlitebrowser/sqlitebrowser/blob/21b1fbe79362e9876c09a3b7eda2fe4f4eb4f74e/src/MainWindow.ui#L1556

And yeah, it looks like that doesn't get updated even when something other than a table is selected.  The corresponding (non-tooltip) text which **does** change, seems to be this:
- https://github.com/sqlitebrowser/sqlitebrowser/blob/21b1fbe79362e9876c09a3b7eda2fe4f4eb4f74e/src/MainWindow.cpp#L1212-L1219

That can be updated to change the tooltip text at the same time.  They should allow translation for those ones. :smile:

## 

The "Close Tab" one is proving to be more tricky.  I'm not finding the source of those words either... still looking though.
 The `Delete Table` tooltip problem should be fixed in this: https://github.com/sqlitebrowser/sqlitebrowser/commit/7c5f8743199137af594c685de6b7b860155b474c

The `Execute current line` one, I think it my fault.  I changed the tooltip a few days ago... but forgot to generate a new.ts file. üò¶ 
- https://github.com/sqlitebrowser/sqlitebrowser/blob/7c5f8743199137af594c685de6b7b860155b474c/src/MainWindow.ui#L1737

I'm still looking for the cause of the `Close Tab` one.
 While we're at it, there are a few other tooltips which need updating anyway: #721

I was going to put that off until the 3.10.0 release, but it might be better to make that change right away.

@lulol What do you think, is it best done for 3.9.0?
 @lulol Thanks. :smile:

For the 3.9.0 release, I'm mostly waiting on the security certificate to come through from StartCom.  Was kind of expecting it to arrive this morning... but haven't heard from there.  (have sent messages, no response)

In the meantime, it makes sense to do some extra "polishing" through small-ish tasks that shouldn't break anything. :wink:

With the "Close Tab" string... yeah, it's definitely not in our source code.  Looking through the Qt5 source code, this seems to be it:
- https://github.com/qt/qtbase/blob/0b9acb3e320b39f159c7638cb89f92017b4e91da/src/widgets/widgets/qtabbar.cpp#L2587

It's enclosed with `tr()`, so it should be translatable.  As a complete wild guess, it might be the Spanish translation hasn't been submitted to upstream Qt for that.
 Looking here, there doesn't seem to be a Spanish translation file for "qtbase" (the base Qt5 widgets):
- https://github.com/qt/qttranslations/tree/dev/translations

This seems to be the Qt4 equivalent:
- https://github.com/qt/qttranslations/blob/dev/translations/qt_es.ts#L60-L67

`Close Tab`isn't translated in this one either. üò¶ 

Technically it would be possible for us to compile Qt5 ourselves, including updated Spanish translations for those missing pieces.  Compiling Qt5 isn't something I've personally tried though (it has a reputation for being painful)... so... I'm thinking lets skip this for now. :wink:

If you have the time + interest to translate the missing terms in Qt itself, they'd likely welcome it.  And our future releases wouldn't have this particular problem. üòÅ 
 Yeah, apparently there aren't going to be any more new Qt4 point releases, so that would probably not be a productive use of time. :wink:
 @lulol, Probably it will be better for a Spanish translation for Qt to exist, even if not perfect, than not exist at all. I say you can help them translate if you want, without any fear.
 @lulol Just now pushed a new commit to the `v3.9.x` branch, containing regenerated .ts file for all languages: https://github.com/sqlitebrowser/sqlitebrowser/blob/v3.9.x/src/translations/sqlb_es_ES.ts

If you want to adjust the last few things, the updated file might be useful to grab.

Btw, in theory I should be able to sign the Windows executables tomorrow.  Once I've figured the process out properly, I'll do the final `3.9.0` release with whatever translations are ready at the time. :smile:
 Fantastic @lulol, thank you. :smile:
 @lulol Yeah, it's one of those tasks that sounds big enough to be literally worrying.

Possibly a weird idea, but if you know any other people who do Spanish translation, maybe it's a thing for discussion and spreading the effort out among a few people?
 @lulol Found this while waiting for some stuff to compile:

&nbsp; &nbsp; https://wiki.qt.io/Qt_Localization

They have .ts files generated daily, available for download here:

&nbsp; &nbsp; http://l10n-files.qt.io/l10n-files/

Maybe the correct approach is to only do the strings you're sure of, and let someone else do the one's you're not sure of?
 No worries @lulol.  Thank you for taking the time to investigate this deeply. :smile:
 Interesting.  I can check 3.9.0 on Windows pretty quickly, as I have that VM already running.

Looking now.
 The 3.9.0 release seems ok, which is a relief. :smile:

![3 9 0 spanish translation check](https://cloud.githubusercontent.com/assets/406299/18034666/b906d9b8-6d3a-11e6-9822-b388ed7464b6.png)

The problem can likely be mostly ignored for now then, as it'll just be in the nightly builds.  When we're closer to the next release, we can update the translations to 100% again in time for that. :smile:

That being said... if you do feel like translation strings which are on the `master` branch, then we'll definitely accept them. üòÄ 
 Hmmm, we can do it now.  It's simple to merge in after all.

That'll mean the nightly builds are more accurate until the next release anyway. :smile:
 Thanks @lulol, that's great. :smile:

As soon as Travis gives it the green light, I'll merge it in.
  It turns out that some key combinations are displayed via our tooltips.

However, they're not displaying the correct key combination on OSX, instead showing the Windows/Linux key combo.  For example, in [sqlitetablemodel.cpp](https://github.com/sqlitebrowser/sqlitebrowser/blob/538116c97b9dab60908199b82d4e58a3f8f757ac/src/sqlitetablemodel.cpp#L249):

```
return tr("References %1(%2)\nHold Ctrl+Shift and click to jump there")
  .arg(fk.table()).arg(fk.columns().join(","));
```

This should be reasonably simple to fix using something like `#ifdef Q_OS_MAC` or `#ifndef Q_OS_MAC`, such that the correct key combination is shown for each OS.
 Code which seems to have this problem:
- [tr("References %1(%2)\nHold Ctrl+Shift and click to jump there")](https://github.com/sqlitebrowser/sqlitebrowser/blob/538116c97b9dab60908199b82d4e58a3f8f757ac/src/sqlitetablemodel.cpp#L249)
- [tr("Ctrl+Return")](https://github.com/sqlitebrowser/sqlitebrowser/blob/538116c97b9dab60908199b82d4e58a3f8f757ac/src/MainWindow.cpp#L113)
- [tr("Ctrl+L")](https://github.com/sqlitebrowser/sqlitebrowser/blob/538116c97b9dab60908199b82d4e58a3f8f757ac/src/MainWindow.cpp#L157)
- [tr("Ctrl+P")](https://github.com/sqlitebrowser/sqlitebrowser/blob/538116c97b9dab60908199b82d4e58a3f8f757ac/src/MainWindow.cpp#L164)
- [tr("Ctrl+D")](https://github.com/sqlitebrowser/sqlitebrowser/blob/538116c97b9dab60908199b82d4e58a3f8f757ac/src/MainWindow.cpp#L164)
- [tr("Ctrl+I")](https://github.com/sqlitebrowser/sqlitebrowser/blob/538116c97b9dab60908199b82d4e58a3f8f757ac/src/MainWindow.cpp#L170)
- [tr("Ctrl+E")](https://github.com/sqlitebrowser/sqlitebrowser/blob/538116c97b9dab60908199b82d4e58a3f8f757ac/src/MainWindow.cpp#L178)

Additionally, these two have the problem, and are also missing `tr()` around them:
- ["Ctrl+R"](https://github.com/sqlitebrowser/sqlitebrowser/blob/538116c97b9dab60908199b82d4e58a3f8f757ac/src/MainWindow.cpp#L116)
- ["Ctrl+\""](https://github.com/sqlitebrowser/sqlitebrowser/blob/538116c97b9dab60908199b82d4e58a3f8f757ac/src/MainWindow.cpp#L152)

There are two occurrences in `MainWindow.ui` as well.  They may need to be set through code, instead of directly in the .ui file:
- [<string>Execute SQL [F5, Ctrl+Return]</string>](https://github.com/sqlitebrowser/sqlitebrowser/blob/538116c97b9dab60908199b82d4e58a3f8f757ac/src/MainWindow.ui#L1637)
- [<string>Execute current line [Ctrl+E]</string>](https://github.com/sqlitebrowser/sqlitebrowser/blob/538116c97b9dab60908199b82d4e58a3f8f757ac/src/MainWindow.ui#L1682)
 Wasn't it mentioned in some other thread/topic/issue/branch/sub thing about customising shortcut keys, etc?  If so, shouldn't the message be more 'generic' on its 'push the blah blah key' rather than specific?  Surely its bloating the code by adding in superfluous code 'if its this OS, do this, otherwise do that', etc...

Just my 2p's worth.... 
 Yeah, I know the Issue you mean, but can't find the number for it at the moment.  It's the issue raising the idea of moving all of the shortcut assignment keys out of the .ui files, and into a common piece of code.  Then we could add a tab to the preferences dialog box, so users can customise the key mapping to what they want.

And yeah, this would probably tie in with that.  Or get superseded by it. :smile:
 Aah, #682 be the jobbie...
 Thanks @chrisjlocke. :smile:
  ### Details for the issue

With DB4S git master (b7be134 as of 10th 2016), the "Import CSV" dialog isn't always displaying the preview image correctly.

This happens with at least when DB4S is using the Russian language, though it may also happen for other languages too (not yet tested).
![d2d3dd00-5f16-11e6-88b2-f091fd9e6ee7](https://cloud.githubusercontent.com/assets/406299/17561165/b0a747ac-5f1c-11e6-90f2-1769c5a9eda9.png)
 As a data point, noticed this when testing the new Russian translation.

https://github.com/sqlitebrowser/sqlitebrowser/pull/719#issuecomment-238903240

Some helpful points to try are mentioned in that issue.

Also worth noting, is that with a different CSV file to import the behaviour changed.  Instead of not displaying the preview, instead it displayed what seems like corrupted data:

![screen shot 2016-08-10 at 17 17 00](https://cloud.githubusercontent.com/assets/406299/17561535/6bd9ace4-5f1e-11e6-8da7-04296970c48b.png)

That's from a CSV export of a database with some PNG files in their cells.  The PNG data seems to be quoted (though I've not checked it's correctness), so it's possible either the export or import function isn't handling binary data well.
 As a data point, the [CSV RFC](https://tools.ietf.org/html/rfc4180) doesn't define a way to encode binary data.

Wonder what it would take to create a follow up RFC, filling in some of these edge cases we've noticed are missing:

* encoding of binary data (eg probably base64 encode it)
* clearly establish NULL vs "no value provided for this field" (so use the default value): https://github.com/sqlitebrowser/sqlitebrowser/issues/195#issuecomment-78546221  Awesome @schdub, this looks very complete! üòÄ 
- [x] AboutDialog.ui
  ![screen shot 2016-08-10 at 15 59 30](https://cloud.githubusercontent.com/assets/406299/17558746/89c8392e-5f13-11e6-8bec-4b3cc0c04c93.png)
- [x] CipherDialog.ui
  ![screen shot 2016-08-10 at 16 01 09](https://cloud.githubusercontent.com/assets/406299/17558783/ae7fc49e-5f13-11e6-8a91-3160d612adda.png)
- [x] ColumnDisplayFormatDialog.ui
  ![screen shot 2016-08-10 at 16 11 20](https://cloud.githubusercontent.com/assets/406299/17559185/27e042b8-5f15-11e6-8fca-2050f98aa790.png)
- [x] CreateIndexDialog.ui
  ![screen shot 2016-08-10 at 16 12 31](https://cloud.githubusercontent.com/assets/406299/17559213/4f2c6856-5f15-11e6-962a-7317be6ff2ac.png)
- [x] EditDialog.ui
  ![screen shot 2016-08-10 at 16 14 02](https://cloud.githubusercontent.com/assets/406299/17559269/8bc4d6a4-5f15-11e6-918e-b6f7c6d91354.png)
  ![screen shot 2016-08-10 at 16 14 08](https://cloud.githubusercontent.com/assets/406299/17559275/90855786-5f15-11e6-9d39-f5b0e37244fb.png)
  ![screen shot 2016-08-10 at 16 14 19](https://cloud.githubusercontent.com/assets/406299/17559278/94602066-5f15-11e6-9b0e-b1b9f73f2eab.png)
- [x] EditTableDialog.ui
  ![screen shot 2016-08-10 at 16 16 29](https://cloud.githubusercontent.com/assets/406299/17559345/d66ac0e2-5f15-11e6-9c5b-3174213f4003.png)
- [x] ExportCsvDialog.ui
  ![screen shot 2016-08-10 at 16 18 15](https://cloud.githubusercontent.com/assets/406299/17559416/17f77d8e-5f16-11e6-918b-94c97eb61c86.png)
- [x] ExportSqlDialog.ui
  ![screen shot 2016-08-10 at 16 19 17](https://cloud.githubusercontent.com/assets/406299/17559458/384e26f0-5f16-11e6-861f-b3cef66ec7a7.png)
- [x] ImportCsvDialog.ui
  ![screen shot 2016-08-10 at 16 23 28](https://cloud.githubusercontent.com/assets/406299/17559627/d2d3dd00-5f16-11e6-88b2-f091fd9e6ee7.png)
- [x] MainWindow.ui
  ![screen shot 2016-08-10 at 16 02 52](https://cloud.githubusercontent.com/assets/406299/17558894/1375efa4-5f14-11e6-945d-54bf1dbc3e69.png)
  ![screen shot 2016-08-10 at 16 02 59](https://cloud.githubusercontent.com/assets/406299/17558898/18b892a0-5f14-11e6-9172-1ba9683fb66e.png)
  ![screen shot 2016-08-10 at 16 03 23](https://cloud.githubusercontent.com/assets/406299/17558927/32d8c614-5f14-11e6-80ec-6dc7e0ef7bf2.png)
  ![screen shot 2016-08-10 at 16 03 45](https://cloud.githubusercontent.com/assets/406299/17558934/38dc3d16-5f14-11e6-9db4-8da234508cf7.png)
- [x] PreferencesDialog.ui
  ![screen shot 2016-08-10 at 16 05 50](https://cloud.githubusercontent.com/assets/406299/17558987/68405ef2-5f14-11e6-90d7-10bf6ecdd7ff.png)
  ![screen shot 2016-08-10 at 16 05 56](https://cloud.githubusercontent.com/assets/406299/17558993/6d937f74-5f14-11e6-8413-1e5debaea742.png)
  ![screen shot 2016-08-10 at 16 06 04](https://cloud.githubusercontent.com/assets/406299/17559000/74b48988-5f14-11e6-90d6-1fdbf6913e7f.png)
  ![screen shot 2016-08-10 at 16 06 11](https://cloud.githubusercontent.com/assets/406299/17559010/7abc267e-5f14-11e6-94f9-fdfe069a9670.png)
  ![screen shot 2016-08-10 at 16 06 18](https://cloud.githubusercontent.com/assets/406299/17559015/809f3248-5f14-11e6-89d0-c41029a62638.png)
- [x] VacuumDialog.ui
  ![screen shot 2016-08-10 at 16 08 52](https://cloud.githubusercontent.com/assets/406299/17559089/c790e34a-5f14-11e6-9d88-0418948b84be.png)
 One strange thing occur when making the screenshots above.  It seems like the "Import CSV" dialog doesn't display the contents correctly.

It could be a bug in our code, or it could just be my system.

Do you have a second to check if that dialog displays things correctly for you? :smile:
 Thanks @schdub. :smile:

Yes, that's not supposed to happen. üò¶ 

I'll file a new bug about it.
 Ahhh, that could be it.  I'll try that now.

It might not be a bug after all. üòÄ 
 It was worth trying, but it doesn't seem to be that. :wink:

When testing with an empty "Other" line separator here (created by "Export CSV"), a preview is always shown for the import.  Even if it's just one very long line of header:
![screen shot 2016-08-10 at 17 11 57](https://cloud.githubusercontent.com/assets/406299/17561386/97847db6-5f1d-11e6-8a0c-ed0c712e00d0.png)
![screen shot 2016-08-10 at 17 12 03](https://cloud.githubusercontent.com/assets/406299/17561396/9d0a6e62-5f1d-11e6-9f26-b1a26539910e.png)

For now, created a new Issue #720 about it.  It can be investigated at a later date (after 3.9.0 release). :smile:
  Thanks @schdub, I'll look into it now. :smile:
 With:

```
for FK's with 0 index
```

I'm having a bit of trouble understanding that. :wink:

The concept of a foreign key with "0 index" is confusing me.

Would you be ok to take a screenshot of the database structure or similar, so I can see what you mean?  If the database file has no sensitive data, maybe email it to me and I'll try that way? :smile:
 Thanks @schdub, I can see the problem now. :smile:
 Sorry for the delay with this.  Today I've been learning about Qt's Model/View approach, which I want to understand properly before debugging through the `sqlitetablemodel.cpp` code. :wink:
 Thanks for reporting this, @schdub I've just pushed the fix you've proposed. Can you test the next nightly build and report back if you find any remaining problems with this?
 @schdub ping? :smile:
 Thanks @schdub, that really helps. :smile:

I'll pull this into the v3.9.x branch now too.
 Done. :smile:
  Ahhh, that's an interesting observation. :smile:

It's **probably** because opening the database (using the SQLite library) does several setup and housekeeping type operations on the database, including creating temporary journaling files (and more).

From the database's point of view, it doesn't know ahead of time that no data will be changed.  So, it just does all the setup needed as if it will be.

If keeping the database completely unchanged is important to you, setting the "Read Only" property on the database file (eg using Windows Explorer) should work.  We added some code ages ago to work with "Read Only" databases (as set by the file system).

Does any of the above help? :smile:
 No worries. :smile:

Are we ok to close this issue?
 Well... we _could_ reset the timestamp of the file after access, but (sorry) it's probably a bad idea.

The SQLite library may have done other housekeeping tasks on the file meanwhile, and if we reset the timestamp then the file will appear as if it's been untouched (from a timestamp point of view).  Even though that's not really the case.

Personally, I can imagine some people being pretty annoyed with us :rage: if we reset the timestamp back to the original one, even when the file has been modified internally.

So... it's better if we skip that, at least for now. :smile:
  Ahh yeah, this frustrated me ages ago too, until I learned that OSX provides a key combo exactly for this situation. :smile:

When you've opened any applications's "Open File" (or similar file dialogs) press this key combination:

&nbsp; &nbsp; <kbd>Cmd</kbd>+<kbd>Shift</kbd>+<kbd>.</kbd>

The hidden files will then be shown in the dialog, allowing their selection/opening/etc.

Side note - This key combination doesn't work in Finder itself. üò¶   It's only for dialogs.

Finder can be configured to show all hidden files though, by using the `defaults` program from the command line:

```
$ defaults write com.apple.finder AppleShowAllFiles TRUE
$ killall Finder
```

The `defaults` command above turns on the display of hidden files, the `killall Finder` command reloads Finder without needing to logout/login nor restart the computer.  Use `FALSE` instead of `TRUE` in the command aboves to turn off display of hidden files.

Hopefully the above stuff helps. :smile:
 @justinclift, Can't we use [`QDir::Hidden`](http://doc.qt.io/qt-5/qdir.html#Filter-enum)?
 @revolter Reading over it, that sounds like it would work too. :smile:
 @justinclift, We're using `QFileDialog`, so I tried out [QFileDialog::setFilter](http://doc.qt.io/qt-5/qfiledialog.html#setFilter) to no avail :(.
 Is the code you tried in a branch somewhere?  I can try and beat it into shape too if you want. :smile:
  #### I'm opening this issue because:
- [x] DB4S needs a feature
- [ ] DB4S is crashing
- [ ] DB4S has a bug
- [ ] DB4S has another problem: ___
### Details for the issue

We have an Edit menu, but the standard Copy & Paste items are missing from it.

When our Copy/Paste code is in good shape, we should probably add them back in.
  Please try out the nightly version and let us know if it happens there too.
 @eeinfalt Thanks for reporting this.  We're **very close** to releasing a major new version 3.9.0.  There's a pretty good chance this is already fixed in that.

If you're ok to try out the nightly build (download locations are on our front page), it's the same code as our upcoming 3.9.0 release.

Are you ok to give that a go and let us know if the problem still happens?
 @eeinfalt ping?
 Closing this due to lack of response.
  Awesome, I'll give this a try here now. :smile:
 Four strings on the main window seem untranslated:
![screen shot 2016-08-05 at 18 46 01](https://cloud.githubusercontent.com/assets/406299/17445449/ee4e836a-5b3c-11e6-9242-1437a411c3ec.png)
It's most likely because I removed the "&amp;amp;" substring inside them just a few commits ago.  They didn't seem to be doing anything useful, instead making the lives of translators more difficult.

I can put them back (the "&amp;amp;") if that was an incorrect thing to do?
 Looking through the dialogs now.  It's 95% of the way there. :smile:
- MainWindow.ui needs discussion (as above).
- ImportCsvDialog.ui seems to have broken the filename filtering, such that files matching the filter aren't able to be selected.  Are you ok to investigate?
- [x] AboutDialog.ui
  ![screen shot 2016-08-05 at 18 51 48](https://cloud.githubusercontent.com/assets/406299/17445612/ace1cf62-5b3d-11e6-94b9-1ef3ffa0ef34.png)
- [x] CipherDialog.ui
  ![screen shot 2016-08-05 at 18 52 21](https://cloud.githubusercontent.com/assets/406299/17445663/c4edbef4-5b3d-11e6-94f9-687f0346ff44.png)
- [x] ColumnDisplayFormatDialog.ui
  ![screen shot 2016-08-05 at 18 53 54](https://cloud.githubusercontent.com/assets/406299/17445714/fef601ce-5b3d-11e6-9b7c-13bdf7516ba4.png)
- [x] CreateIndexDialog.ui
  ![screen shot 2016-08-05 at 18 54 29](https://cloud.githubusercontent.com/assets/406299/17445728/0ee57740-5b3e-11e6-9cd4-6fd1c87a3ba0.png)
- [x] EditDialog.ui
  ![screen shot 2016-08-05 at 18 55 08](https://cloud.githubusercontent.com/assets/406299/17445751/24fd5192-5b3e-11e6-8417-32541ded8398.png)
- [x] EditTableDialog.ui
  ![screen shot 2016-08-05 at 18 55 59](https://cloud.githubusercontent.com/assets/406299/17445797/47ddbc4c-5b3e-11e6-80ae-d01e284f636f.png)
- [x] ExportCsvDialog.ui
  ![screen shot 2016-08-05 at 18 57 52](https://cloud.githubusercontent.com/assets/406299/17445856/89e83392-5b3e-11e6-8bcf-700de745d5aa.png)
- [x] ExportSqlDialog.ui
  ![screen shot 2016-08-05 at 18 58 39](https://cloud.githubusercontent.com/assets/406299/17445886/a9007b54-5b3e-11e6-8ce8-d061234a7257.png)
- [ ] ImportCsvDialog.ui - **Something seems incorrect here, as the filters are no longer working.  Needs investigation**
- [ ] MainWindow.ui
  ![screen shot 2016-08-05 at 18 46 01](https://cloud.githubusercontent.com/assets/406299/17445449/ee4e836a-5b3c-11e6-9242-1437a411c3ec.png)
- [x] PreferencesDialog.ui
  ![screen shot 2016-08-05 at 19 01 12](https://cloud.githubusercontent.com/assets/406299/17445961/097d89f4-5b3f-11e6-9f2f-269b7a3c28ab.png)
  ![screen shot 2016-08-05 at 19 01 17](https://cloud.githubusercontent.com/assets/406299/17445963/0d2df516-5b3f-11e6-87c0-14c93de6ea0d.png)
  ![screen shot 2016-08-05 at 19 01 21](https://cloud.githubusercontent.com/assets/406299/17445967/1076667c-5b3f-11e6-8ce5-ada9d710c786.png)
  ![screen shot 2016-08-05 at 19 01 25](https://cloud.githubusercontent.com/assets/406299/17445968/132aded4-5b3f-11e6-86b5-5e5e665a101b.png)
  ![screen shot 2016-08-05 at 19 01 28](https://cloud.githubusercontent.com/assets/406299/17445971/1641d1a4-5b3f-11e6-8bde-6a5ddbd2ca9f.png)
- [x] VacuumDialog.ui
  ![screen shot 2016-08-05 at 19 02 20](https://cloud.githubusercontent.com/assets/406299/17445987/2c5e46ca-5b3f-11e6-9bdc-792fc86b77b8.png)
 Trying it now. :smile:
 Thanks @SafaAlfulaij, that's perfect! üòÅ  üëç 
 Don't forget the dialogs are just 10% of the translations.  The application throws up messages, etc, which also need to be translated, otherwise, its just a 'bodge job'.  It would be 'weird' having an application where you can select a language so the GUI changes, only for it to throw up a message ("Are you sure?") which you can't read...  and then the "Yes" and "No" are in the CORRECT languages..... argh!
 Sure, that's completely correct.  With Issue #643, we'll get the UI elements in each of the languages matched up to their existing translations.

Once we have 3.9.0 code frozen (should be soon - definitely next few days), we can then reach out to the individual translators for string updates.  That will solve the problem properly. :smile:
 @SafaAlfulaij The newest commit has added two new lines of text, both of which could be seen fairly often by users.  Would you be ok to translate them to Arabic?
- https://github.com/sqlitebrowser/sqlitebrowser/blob/a63da56a0d8a3bc4176ee8db063c6cdc5325e74d/src/EditDialog.cpp#L191
- https://github.com/sqlitebrowser/sqlitebrowser/blob/a63da56a0d8a3bc4176ee8db063c6cdc5325e74d/src/EditDialog.cpp#L219
  It's working for me :-? No idea how to reproduce it.
 @bakercp, Can you please test it in the [latest nightly](http://nightlies.sqlitebrowser.org/osx)?
 @bakercp üëç 
  Yeah, it's weird.  However... this seems to work.

@revolter Are you ok to test this on your retina display when you get back in front of it?
 @justinclift Of course.

@SafaAlfulaij, Looks like the `QHeaderView`'s height is equal to the filter widgets' heights. Did you try just removing the `5` and `2` additions? It should work too.
 The height is ok now. But the column names are cut out :(

<img width="651" alt="screen shot 2016-08-02 at 22 42 44" src="https://cloud.githubusercontent.com/assets/5748627/17342537/805b8560-5902-11e6-8563-c134f6c9c206.png">
 And there are now double borders.
 Hmmm, looking at this again on non-retina OSX, the filter heading (using the code for this PR), does seem a bit too short after all.  For example, the third field is DonegallQuay  The "g" and "y" have their lower pieces cut off.
![screen shot 2016-08-02 at 21 10 34](https://cloud.githubusercontent.com/assets/406299/17343473/c4eb4d8a-58f5-11e6-9f0d-94cb7dcd598b.png)
Didn't realise that before. üò¶ 
 Try sorting too, the arrows are now close to the upper margin instead of centered.
 Good point.  It's not so high up as to be a killer though. :smile:
![screen shot 2016-08-02 at 21 24 18](https://cloud.githubusercontent.com/assets/406299/17343840/96b9bc6a-58f7-11e6-9691-502459fb0a5f.png)
 But it's more up than before. Also, on my laptop it looks like this:

<img width="1305" alt="screen shot 2016-08-02 at 23 33 50" src="https://cloud.githubusercontent.com/assets/5748627/17344122/b9116d14-5909-11e6-809a-d6b526afe191.png">
 Ouch.  Yeah, that definitely looks _wrong_.
 After [discussion on Gitter](https://gitter.im/sqlitebrowser/sqlitebrowser?at=57a1f4519e85d3e82683520a), the general decision is we'll close this PR (without merging it) for now, and come back to it later likely for 3.10.0.

The fix in this PR does help with Qt5, and with Retina displays.  It's not really workable for Qt4 though, which we need to support.  So, we'll investigate in more depth again later.  For now, the grey bar will just have to do. :wink:
  There's a weird grey line showing up here:

![screen-shot-2016-08-01-at-12 08 45](https://cloud.githubusercontent.com/assets/406299/17336758/80f49ed8-58d7-11e6-9265-964cb5bbc36c.png)

Hopefully not too hard to resolve.
 As something to look into for this, maybe QFontMetrics would help us calculate an optimal size, based on the header and filter fonts in use:

&nbsp; &nbsp; https://doc.qt.io/qt-4.8/qfontmetrics.html
  In the binary (qhexedit) view inside the Edit Database Cell, there doesn't seem to be any way to switch panes from the left to right sides.

It would be useful to capture the tab key (or something similar), to let the user switch which side they're editing in.

![screen shot 2016-08-01 at 18 17 41](https://cloud.githubusercontent.com/assets/406299/17302610/e74dbf16-5814-11e6-9ce1-ddcd6e2c928d.png)
 I think that this would need a QHexEdit PR. Or a search for their API
 I'm not sure.  Kind of suspecting that the only reason it doesn't work at the moment, is that we capture the tab key for the window ourself.  It would surprise me if QHexEdit doesn't have this capability already.

Saying that because I've used [command line hex editors](http://rigaux.org/hexedit.html) before, and they (all?) support doing this.  So, I'm kind of expecting that QHexEdit does too. :smile:
 Oh, ok. It makes sense.
  This sounds like a useful enhancement, especially for people using JSON friendly languages.

If we add a command line option to drive this as well, people could use this headless in their toolchain. :wink:
 @thiagosantos As a side question... would you have time to try out our latest nightly build?

We've made a bunch of usability tweaks to it, and could really use some feedback. üòÅ 
(there is a crash bug when closing a database that I'm chasing down, but it's just annoying, not a data loss thing :wink:)
 Thanks.  With the crash we know it happens on OSX, but haven't tried others.  @revolter [has just provided a fix](https://github.com/sqlitebrowser/sqlitebrowser/pull/690), so the nightly builds from tomorrow onwards should be very stable.

For yourself, just try out the application itself and see if there are any really obvious silly bits. :grin:

Also, we've redesigned the "Edit Database Cell" window, to hopefully make it more useful.  If you could try that out, it would be great.

Just to be careful though, don't use it with live data if you keep binary info in the cells.  There's [a bug we need to fix](https://github.com/sqlitebrowser/sqlitebrowser/issues/674) in that situation before our next release.
 As a data point, this issue probably ties in with #677.
 @revolter have a chat to @schdub about this, as he's indicated via email that he's going to put time into this as well. :smile:
 We should implement this using Qt's JSON support, I think: http://doc.qt.io/qt-5/json.html
For export this makes things easier because it allows pretty printing or compact printing (http://doc.qt.io/qt-5/qjsondocument.html#JsonFormat-enum). Plus it would allow us relatively simple import of JSON, too.
Only caveat: it requires Qt 5.0+. But I see no reason to not drop Qt4 support for 3.10.0 :)
 I've just pushed a commit which adds basic JSON export support. There are a few things missing here and there (more menu entries for easier access throughout the program, an option to change from CSV to JSON format and back while being in the dialog, a way to export SQL query results as JSON, and exporting multiple tables into one JSON file). Other than that JSON export is there :smiley: 
However, unlike other changes this one won't be in the next nightly build as our nightly builds are still based on Qt4 which doesn't support JSON... If you use Windows, @thiagosantos, then @justinclift might be able to build a once-off for testing purposes. If you are a Mac user, I think you actually can use the normal nightlies :smiley: 
 Unfortunately, the OSX nightlies are back to using Qt4 again.

There's a problem with Qt5 on OSX, where it doesn't show all of the data in the tables. üò¶ 

Until we get that figured out... Qt4.

**_sigh**_

That aside, the basic JSON support is really welcome.  Windows builds will be able to use that. :smile:
 Created a new issue about the Qt5 problem on OSX, so we can investigate it properly: #750
 @MKleusberg JSon is not working correctly, it generates 11MiB files for 3 record table and file is just corrupted.
Tried with 3 different tables, actually.
  Could you please attach a screenshot? It would help us understand the problem easier and faster :smile:
 @huangjennifer947 Have you solved this problem yet? :smile:

If not, can you add a screenshot here to show the problem?
 Closing this due to lack of response.
  As pointed out by @bhj [here](https://github.com/sqlitebrowser/sqlitebrowser/issues/677#issuecomment-236206890), we should probably add some OSX developer docs too.

eg more than just the basic "How to compile" info [we have](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md#macos-x) already

@bhj What kind of docs are you wanting at the moment?  Something like an OSX version of [this](https://github.com/sqlitebrowser/sqlitebrowser/wiki/Setting-up-a-Win64-development-environment-for-DB4S)?
 The Mac section is still current. :smile:

The issue you mention used to happen occasionally.  No-one seems to have mentioned it (via these Issues) since adding the note though.  Unsure if that means it's not happening any more, or if people are reading the note and working around it. :wink:
 For OSX development, is using Qt Creator an ok thing for you?

eg If I create a wiki page with "How to set up a dev environment on OSX", my initial thought is to make it Qt Creator oriented
 Started adding info here (rough notes) as I remember them. :smile:
 Oops.  Completely forgot to include the link in my comment.  Thanks for fixing @bhj. :smile:
  @innermous You ok to review this? :smile:
 That's exactly how I were doing it. I don't have my code anymore, but it didn't work correctly on resizing for some reason.
Good job, @SafaAlfulaij .
  Oh, should've make it manually. It adds badge on new row, which is awkward
 I added it
 Awesome, very good idea. üòé 
 I have to admit, I knew it was added but could not see it for looking!
 Yes, thank you, I did find it but my point was if I knew it was there and could not see it, will anyone see it?
 @glawrence, What do you mean? Was the badge image missing for you?
 Personally, I think it's just not a very "stand out visually" kind of button.  I had to hunt for it too.

But for me, that's because I'm used to seeing "a piece of green in the upper left" of our README. md.   Two pieces of green instead of one wasn't noticeable without looking. :wink:
 Well, I think it's pretty "standard" to have the badges in a single line beneath the first header like [this](https://github.com/zeit/hyperterm) and many others.
  I normally use DB4S to create my databases, and when you create a new table, DB4S uses grave accents around each identifier.

![image](https://cloud.githubusercontent.com/assets/7872218/17189392/1f0813aa-5439-11e6-89d9-7a3b77a7278e.png)

This is also reflected in the schema column.
However, as soon as you modify the table, the schema column changes to double quotes around the table name.

![image](https://cloud.githubusercontent.com/assets/7872218/17189451/67001766-5439-11e6-9ef7-f79c20e3c2bb.png)

However, the 'create table' window at the bottom of the 'Modify Table' dialog still uses grave accents.

I remember reading recently about double quotes and apostrophes (single quotes), but can't find it now.  But I did see this about quoting, and it said using grave accents was purely for MySQL backwards compatibility.
https://www.sqlite.org/lang_keywords.html

It suggested using double quotes for identifiers.   I note the examples on the sqlite website doesn't use any quotes at all, apart from when to escape an apostrophe:
`INSERT INTO xyz VALUES('5 O''clock');`
Again, suggesting strings should be enclosed in single quotes rather than grave accents.

Should a standard be adopted, rather than a mix of bits?
 Yeah, being consistent in our approach is probably a good thing to make happen. :smile:
 But how do we decide wether to use ` or "? Or do we make yet another user preference setting for it?
 In theory :smile:, that shouldn't be **_too hard**_ to figure out:
1. If the SQLite approach is documented well enough to figure it out, use that
2. If there are spots that aren't completely clear from that, lets see if we can figure it out from the SQL standards
3. If that doesn't work then copy PostgreSQL's approach.  aka [What Would Postgres Do?](https://youtu.be/ZvmMzI0X7fE?t=3m8s)
 > But how do we decide whether to use ` or "? Or do we make yet another user preference setting for it?

From my understanding, there is no reason to use grave accents (`)
They are there solely for mySql compatability.  So we should be using double quotes and single quotes only.  No preferences needed.

`create table "blobby" ("field1" text, "field2" text);`
`insert into "blobby" ("field1", "field2") values ('my text values','my text values')`

The keyword list is not exhaustive, so don't think you can program for that.  If a user wants to use a table name called 'plan' or 'from' (which are keywords), the above still works fine.

`Query executed successfully: insert into "from" ("field1", "field2") values ('my text values','my text values') (took 0ms, 1 rows affected)`

![image](https://cloud.githubusercontent.com/assets/7872218/17238955/20e654be-5558-11e6-84f5-4a49ee193419.png)

So the schema column looks great,  Modify the table, and the 'create table' textbox in the dialog is using solely grave accents.  Save the table, and the schema is a mix again.
![image](https://cloud.githubusercontent.com/assets/7872218/17238980/5b364d5e-5558-11e6-96f6-f6920aabd667.png)
 This is related to #629 too.
 So an user preference setting as I said? :smile: So we don't bump into other users who want compatibility with MySQL.
 Looks like it? :wink:
 I guess so
 > So a user preference setting as I said?

Our preferences screen will look like this soon! :wink:
![image](https://cloud.githubusercontent.com/assets/7872218/17260603/49acddca-55c9-11e6-8a34-355a95fcc919.png)
 We could default it to quotes, and add the option to change it in an "Advanced" section, as to not clutter it (like in @chrisjlocke's SS :laughing:). And probably move the "escape character" and/or other settings in the "Advanced" section too while we're at it.
  We've been asked via Twitter if we have a list of keyboard shortcuts:

&nbsp; &nbsp; https://twitter.com/john_law_kelly/status/758061269702160384

We don't yet, but it would be very useful to create one, probably on the wiki.

@glawrence Any interest? :smile:
 I was thinking the other day of a `Keys` menu in `Preferences`. Where you could see **and** update the keyboard shortcuts. Like VLC has, for example, where you can even search through them.
 While going through the translation files, I noticed you could set the & shortcut wherever you wanted, and initially thought it worked the same as .Net, but noticed from @justinclift's code, this has to be 'hard coded' in Qt - shortcut keys have to be specifically coded.  I presume then that the accelerators defined by a & sign on labels, etc, are for cosmetic purposes only?
 If you have a menu item with the text `T&est`, does pressing `ALT + e` on **Windows** trigger it? I remember this is the way ampersand worked, though I don't know how it would work on mac.
 @chrisjlocke For the top drop down menu's (eg File, View, etc), adding an &amp; sign should in theory automatically create a platform-appropriate shortcut.

In reality, it seems to be a bit inconsistent for DB4S.  It might just be we're doing something weird, or out-of-order in our code base though. (unsure)
 @revolter If you want to add a user changeable "Keyboard Mapping" thing to the Preferences, that sounds really useful for people. :smile:
 @justinclift I know, it would be awesome. I searched for an already created library (widget) but couldn't find one :(

I stumbled upon [this package manager](qpm.io) though, but I'm not sure that [the packages page](https://www.qpm.io/packages.html) contains all of the available packages. I'll install it in a couple of days and see if I find something useful there.
 @revolter Cool.  Hadn't come across qpm.io.  Looks useful. :smile:
 Was thinking about this earlier.  If we remove the &amp; signs from **_all**_ of our strings, and instead create all of the keyboard shortcuts at program startup (eg [like this code](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/src/MainWindow.cpp#L178), that would probably benefit us in two ways:
- Translation of strings would probably be less complicated (eg #643)
- The keyboard shortcuts could then be stored/retrieved using PreferencesDialog::saveSettings()/getSettingsValue().  That would let them be mapped into a new tab in the PreferencesDialog for learning/changing.

In initial thinking through of that... depending how the "choose your new key sequence" bit is done, it could be simple to implement.
- If we go for the simple approach, such as a Line Edit field with "Ctrl-A" (or whatever) typed in manually, we could get an initial implementation done pretty quickly
- The most user friendly approach is probably one where the user gets to click a widget, then press their desired key combination, which the widget captures and converts to the appropriate Qt shortcut combination.  That doesn't sound like a particularly quick/easy/accurate thing to implement though.

Personally, I'd go with the first approach just to see how usable that turns out to be.  It'd probably be acceptable. :smile:
 @justinclift, I don't think is a good idea to let the users type the shortcut. Even in your example, you wrote "Ctrl-A" but I would have typed "CTRL+a".

Also, I think that a middle solution that's not complicated is to have ComboBox for the modifier keys and a 1 character limited text field like this:

![Sketch](https://imgur.com/XZvQonk.jpg)
 @revolter Heh Heh Heh, well for me yeah it wouldn't have worked like that... I would have had to figure out to use "+" instead of "-" (as you did properly).

Kind of thinking it wouldn't be a real issue though, as the fields would be pre-populated with the current keys.  Wouldn't that clue people into the correct format to use?

@SafaAlfulaij Well, that probably explains a few things. :wink:
 @justinclift, I personally wouldn't bet on that. There are a lot of people who don't pay attention, and we can't (and shouldn't) rely on them.
 k, was just an initial thought.  Your combo box idea does sound better, now I think about it more. :smile:
 @SafaAlfulaij Thanks. :smile:
 I've just created a Wiki page of Windows shortcuts.  I presume these are the same (albeit Control instead of Ctrl) for Mac and Ctrl (?) for Linux.
https://github.com/sqlitebrowser/sqlitebrowser/wiki/Windows-Keyboard-Shortcuts

I'll amend it so its 'Application Keyboard Shortcuts' and split by OS, rather than 3 separate pages for each OS.

Out of interest, Ctrl+D seems to be a dupe of Ctrl+P - showing and hiding the plot pane.  Is this correct?  Pressing Ctrl+D in the 3.9 build shows and hides the Plot pane, which Ctrl+P also does...
 @revolter why would user type a shortcut? He would just press it and apply settings.
 You guys really don't understand how it works, nobody enters shortcuts in text field.
 You worry about irrelevant things. Relevant thing is to create observer which would control all possible shortcuts in all possible classes where they are currently hardcoded.
If someone creates a list of those in wiki, I'll implement it.
**UPD**: list of shortcuts that _can_ be changed.
 Thanks @chrisjlocke. :smile:

With Ctrl+P, it's probably that way from when it was first implemented.  P == Plot or similar.

On the other hand though, Ctrl+P is commonly by programs to mean "Print". (eg send the document, view, whatever to a printer)

@innermous That's a bit confusing.  When you say "shortcuts that _can_ be changed", are you meaning some shortcuts can't be?
 @justinclift why would you change "Open file" shortcut, for example?
 Heh Heh Heh

Sure, I don't have a need to... but some people might. (possibly assistive devices maybe? but I really don' t know)

Anyway, isn't the whole point that we give people a choice, so if they want to change it they can? :smile:
 @justinclift never mind then, I don't like where it goes.
 No worries @innermous. :smile:
 I think once you have a system to change the keys ... someone likes Ctrl+R as thats what they're used to, but someone else is used to F5... then you can 'open the system' so people can change it all - you may as well change any key rather than just this one, that one or the other...

At work, we use the 'ICE' method of prioritising - impact, cost and ease.  The impact here is higher usability, but I'm not sure on the ease, so its hard to weigh this issue amongst all the others.  With VB, its quite easy to 'soft code' such doodlies.  I'm not sure if the same can be done in Qt.
 > @revolter why would user type a shortcut? He would just press it and apply settings.

@innermous, Where did I say that?
 @revolter 

> I don't think is a good idea to let the users type the shortcut.
 Anyway, I am already working on it. Help with testing would be really appreciated, as well as another wiki page for OS X shortcuts since those are beyond my conversance.
 I said that the users should **_not_** type the shortcuts.
 @revolter's solution (combo box and textbox) is the best solution - easier to validate what the user wants.  The Windows' method (ie, VB) is painful!

![image](https://cloud.githubusercontent.com/assets/7872218/18205376/9a08612a-7119-11e6-8c67-06d4134ef9c3.png)

Just because 'Ctrl' isn't in the right case, it throws a wobbly.
 Noticed SmartGit's solution for this, from which we might take some ideas:

![screen shot 2017-02-27 at 15 20 47](https://cloud.githubusercontent.com/assets/5748627/23362933/bbc3bef4-fd00-11e6-8e22-000734ed64b2.png)

It detects duplicated and shows a breadcrumb style name separated by `|`.

![screen shot 2017-02-27 at 15 22 30](https://cloud.githubusercontent.com/assets/5748627/23362951/d12abfe0-fd00-11e6-87c5-30700d4ec582.png)

Here I set shortcuts for `Check Out` and `Cherry-Pick` and the initial ones move to the `Default` column.

![screen shot 2017-02-27 at 15 22 38](https://cloud.githubusercontent.com/assets/5748627/23362978/f77544f4-fd00-11e6-8921-77b4289e7ca2.png)
  That extension looks useful. :smile:

What happens when you try to add it using Preferences ‚Üí Extensions?
 Cool, no worries at all. :smile:
 Yep, lets open another issue for it.
 Done. üòÑ 
 @justinclift Does the JSON extension need to be compiled or something?

If not, @bhj, can you manually add it in `Preferences` and let us know if it's working?
 @bhj Stumbled across info about this while investigating a different issue.  Including the JSON1 extension by default (on OSX) could be extremely easy.

If I create a test build with it, would you be ok to check that it works reasonably well from your point of view?
 @bhj Please give this one a go:

&nbsp; &nbsp; http://nightlies.sqlitebrowser.org/osx-onceoffs/DB%20Browser%20for%20SQLite-issue677v1.dmg

For OSX, we kind of cheat when building SQLite.  We just build it using [Homebrew](http://brew.sh).  For this experimental .dmg file, I just rebuilt SQLite with `--with-json1` included on the Homebrew command line.

There's a fairly decent chance that worked.  Not guaranteed, but definitely worth a shot. üòÅ 

If it did work, we can probably update our build & release process to include that from here on.
 @thiagosantos I'll go and add it to the script for the nightly builds on OSX now. :smile:

Done.
 Just added it to our main OSX build instructions too.

For OSX at least, this should be included in our releases from here on.
 Would it work on Windows too?
 The extension code itself should, as far as I know, as it's a "core" extension.  Though it would take a separate piece of time to look into it.
 Oops.  Just realised that the "3.9.0 beta1" build released today for OSX didn't include the JSON1 extension.

I'll need to investigate whether SQLCipher + the JSON1 extension go together ok.  If they do, it should be feasible to have them both in 3.9.0.
 @bhj The new release out today - 3.9.0 - doesn't have JSON1 included in it.  It's purely because we included SQLCipher by default in all builds, and I haven't yet had time to investigate how to build them both together.

It may turn out to be super easy... I just don't know (yet). :wink:

In the meantime, grabbing any of our nightly builds _without_ SQLCipher should work.  They have the JSON1 extension included as part of their automatic building. :smile:
 Heh Heh Heh

We definitely accept Pull Requests if you're up for it. üòÅ 
 Cool, that sounds easily doable then. :smile: @bhj @thiagosantos @slidertom @DjPasco Good news.  The nightly builds on Windows - both with and without encryption -now include the FTS3, FTS4, FTS5, and JSON1 extensions.

They'll be in the next major Windows releases too. :smile:  @deepsidhu1313 pointed out that the Ubuntu instructions [here](https://github.com/sqlitebrowser/sqlitebrowser#ubuntu-and-derivatives), are not on the front page of our sqlitebrowser.org website.

That needs to be fixed. :smile:
 @deepsidhu1313 In theory, this should be fixed now (by https://github.com/sqlitebrowser/sqlitebrowser/commit/5d9f0b0e0f2157fb16e30d34e095456c516a7795).

Would you be ok to take a look here, and let us know if something needs adjusting?
- http://sqlitebrowser.org/#ubuntu
- http://sqlitebrowser.org/#ubuntu-stable
- http://sqlitebrowser.org/#ubuntu-nightly
 Haven't heard back from @deepsidhu1313, but I'm pretty sure this is fixed decently now.  Closing this issue.

If it turns out there's more needing to be done for this issue, feel free to re-open this. :smile:
 Cool.  You're welcome @deepsidhu1313, thanks for pointing it out. :smile:
  While dabbling with the translation files, I noticed that when Arabic is selected, the language dropdown is mangled with text prefixed by an opening bracket instead of suffixed by a closing bracket.

![image](https://cloud.githubusercontent.com/assets/7872218/17024863/5d14f52e-4f51-11e6-9476-54f96cbd5e72.png)
 @0xbsec your commit is broken :anguished: 

Upd: I am sorry, I checked out  to commit before adding Arabic translation, issue is existing there.
 Hmmm, yeah that doesn't seem happy.

It's not a deal breaker, but if someone has an idea what could be causing that it would be useful. :smile:
 I think that the texts should remain left aligned, as they are in English.
 @revolter This shouldn't be hard to fix.  Looking here:
- https://doc.qt.io/qt-4.8/qwidget.html#layoutDirection-prop
- https://doc.qt.io/qt-4.8/qt.html#LayoutDirection-enum

The LayoutDirection enum has an "Auto" setting. `Qt::LayoutDirectionAuto`

If that doesn't work for us in practise, instead we could add a small bit of code in the constructor for each dialog to detect an RTL language, then switch the layout direction for the appropriate widgets.

Sounds kind of simple in theory... üòâ 
 Just tried out the 3 setLayoutDirection options on the Language selector drop down box.

It didn't seem to have any effect at all. üòï 

### LayoutDirectionAuto

![layoutdirectionauto-english](https://cloud.githubusercontent.com/assets/406299/17247473/723520d8-558b-11e6-98a3-04c1d383bd80.png)

![layoutdirectionauto-arabic](https://cloud.githubusercontent.com/assets/406299/17247494/89cea73c-558b-11e6-834b-f18e803e3df6.png)

### LeftToRight

![lefttoright-english](https://cloud.githubusercontent.com/assets/406299/17247515/a6bb8414-558b-11e6-9f94-97a2761daa47.png)

![lefttoright-arabic](https://cloud.githubusercontent.com/assets/406299/17247517/ac5dea06-558b-11e6-87fd-f2a884a82ae6.png)

### RightToLeft

![righttoleft-english](https://cloud.githubusercontent.com/assets/406299/17247521/b503b3e8-558b-11e6-90ee-74d3bb148dea.png)

![righttoleft-arabic](https://cloud.githubusercontent.com/assets/406299/17247527/b9db3850-558b-11e6-842c-9a51f3603227.png)

`setLayoutDirection` was set using the Design window in Qt Creator.

I'll try setting it manually in the PreferencesDialog constructor next.
 Ahhh, this might be what we need:

&nbsp; &nbsp; https://doc.qt.io/qt-4.8/qapplication.html#layoutDirection-prop
 Hmmm, adding this to Application.cpp definitely works to force most of the application to RTL:

```
QApplication::setLayoutDirection(Qt::RightToLeft);
```

... except that specific comboBox.

### English

![setlayoutdirection-rtl-english](https://cloud.githubusercontent.com/assets/406299/17247963/f6d31658-558e-11e6-89a9-1c3d424c2ff0.png)

### Arabic

![setlayoutdirection-rtl-arabic](https://cloud.githubusercontent.com/assets/406299/17247969/ff632182-558e-11e6-8313-c4ee8e7de581.png)

Wondering if there's something wrong with our code for setting up that Language comboBox?
 Cool.  Out of curiosity which OS are you using, and which version of Qt are you compiling against?

I might be able to spin up a VM to match, so verify on my end. :smile:
 Heh Heh Heh

I'm building against Qt 4.8.7 at the moment, but I have Qt 5.6.0 installed too.  I'll give that a go after getting some food, and see if it changes things. :smile:

For "I think another bug report should be filed ASAP!" are you meaning for us, or for Qt?  If for Qt... um... are you ok to do it?  I probably wouldn't even describe the issue clearly enough for them to fix it. üòß 
 Looking at:

&nbsp; &nbsp; https://bugreports.qt.io/browse/QTBUG-55012?focusedCommentId=327173&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-327173

That's just a comment on an existing issue. :wink:

If you want it fixed üòú , shouldn't it be a new issue so they can track/address it properly?
  Refresh is definitely supposed to work. :smile:

Which OS are you on, and which version of DB4S are you using? :smile:
 k.  Would you have a minute to try the latest nightly build and see if things are better there?

If so, download locations are listed on our front page. :smile:
 Wow.  Yeah, that's a new one on me to.

Something doesn't seem right. üò¶ 
 For added info, how are you (trying to do) the refresh?
 No worries at all.  We'll definitely look into this.  It might be a few days away though. üò¶ 
 Cool. Focused on some other issues at the moment, but may ping you for exactly that if it turns out to be needed. üòÅ 
 Out of curiousity (as works fine here) @MYeager1967- if you bring up the SQL log (Ctrl L) when you click the refresh button, does the log window populate?  (lines numbers on the left should increase)
If you create a new database, does the same thing occur?  Is it a local database (C drive) or on a network?
 @jtara, I didn't understand your last part. I am using DB4S for SQLite databases inside iOS apps running in simulator too. But I don't need to mount anything. The app's Documents folder is just a regular folder at a weird path.
 @jtara, I know, I'm using simPholders too, but not simPhuse though. And, indeed is strange that it didn't work.
 This definitely sounds like one of the stranger bugs. :wink:

No idea how to solve it just yet (haven't tried replicating it, so unsure what it will take).
 @jtara Would you have a minute to try out this version?

&nbsp; &nbsp; http://nightlies.sqlitebrowser.org/osx-onceoffs/DB%20Browser%20for%20SQLite-201607220858.dmg

It's our very latest code, plus some UI cleanup I was doing yesterday.  The refresh functionality in it is working ok (tested here on my desktop) according to the SQL log.

If you can get the problem to occur again (eg try trying on simPhuse with it), it'll be helpful for tracking down the cause then figuring out a more proper fix. :smile:
 Thanks @jtara, that really does help. :smile:
 Just moved the target for this to 3.10.0, instead of our next release (3.9.0), as it's doubtful we'd get it done in time.
  Sure.  In theory :smile:, they're pretty easy to add.  The list that's supposed to be showing up at the moment is this:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/src/FileDialog.h#L20

Though I kind of remember there have been issues on some OS's at times.  eg they don't show up correctly on some OSX versions, so we disabled them all there.  Made it *.\* for Mac.

Which extra extensions do you reckon would be useful? :smile:

Btw, which OS and version of DB4S are you using?
 Yep, sounds like the kind of thing that belongs in the Preferences dialog.

Shouldn't be super hard to code up. :smile:

@jmucchiello do you have C++/Qt programming skill (or interest to learn)? üòÅ 

If not, no worries, maybe @revolter would be interested?
 Yeah, time is generally the thing that's hard to come by. :smile:
 @jmucchiello Does this seem like it would cover all the needed bits?

![edit file extensions concept 1](https://cloud.githubusercontent.com/assets/406299/16976118/5978739a-4e44-11e6-92d4-f2fbb3b6a4c0.png)

It's just a [quick concept mock up in Balsamiq](https://balsamiq.com/free), so it's easy to change elements in if something needs changing. :smile:
 It's a little more work that the default row type preference feature, and as you know, I don't have time now :( So if no one gets it done in 3 weeks, I'll start working on it.
 @jmucchiello Like this?

![edit file extensions concept 2](https://cloud.githubusercontent.com/assets/406299/16976465/f4e025ba-4e46-11e6-88ec-0def11e1ed40.png)

@revolter Yeah, it's probably yours or @innermous's.  After I get #480 done, I have an idea of other stuff I need to focus on already. :smile:
 I would change the order of the OK and Cancel buttons... but only because I'm used to Windows.... :wink: 
 @chrisjlocke, Qt automatically puts the buttons in the OS's default order, so they won't show up exactly like in the mockup on Windows.
 Good ol' Qt! Saving the day again, one dialog window at a time!
Thanks for the clarification.  One needs that on a Thursday.
  Oh, that's not good.  From memory, we did have a bug in an older version where it wasn't recognising "Don't show again" had been ticked.

Which version is this happening to you on?
 @perfect1077 ping?
 @perfect1077 Errr... is this still happening for you?
 It won't happen in the newer versions as there are no newer versions for it to check against! :wink: 
You won't know until the next newer version and this newer version (now the older version) finds the newer version......! :wink:
:confounded: 
 @chrisjlocke, I think you can install some older version [from the releases page](https://github.com/sqlitebrowser/sqlitebrowser/releases) and be able to test this.
 Closing this due to lack of response from @perfect1077. üò¶ 
  Thanks @DelphiGit, that does look like it'll be the right kind of thing.

Tomorrow, I'll build a new Win64 package for the original bug reporter and ask them if they're ok to test/confirm it's good.  Assuming we get a positive answer back, I'll merge it after that. :smile:
 Built a Win64 package for testing here:

&nbsp; &nbsp; http://nightlies.sqlitebrowser.org/win64-onceoffs/sqlitebrowser-win64-issue621v1-201607142006.exe

The original reporter on Twitter has offered to test the proposed fix, so I'll point them at this now. :smile:
 Well, good and bad news. :wink:

&nbsp; &nbsp; https://twitter.com/Ug_0Security/status/753678028513968130

The quoted path for the install command is indeed fixed.  However, the same problem exists in the **uninstall** command and needs to be fixed.

![uninstaller-unquoted-problem](https://cloud.githubusercontent.com/assets/406299/16855555/bbe3feae-4a0d-11e6-9fbd-b9bddfacd461.jpg)

... which I kind of suspect might need to be addressed in the NSIS source code, not ours (unsure), as I don't think we can control its generation. üò¶ 
 From eyeballing the NSIS code, this seem to be the line that needs fixing:

&nbsp; &nbsp; https://github.com/kichik/nsis/blob/master/Source/build.cpp#L2305

The original reporter has tweeted the NSIS twitter account asking who to report stuff there too.  Hopefully the uninstaller part of things gets resolved by the NSIS people in near future.

In the meantime, lets merge this, as it fixes the part of the problem in our code.  The other half is a packaging problem. :wink:
  Some strings in the main UI aren't showing their translation.  eg:
![screen shot 2016-07-11 at 19 36 49](https://cloud.githubusercontent.com/assets/406299/16742251/d5da519e-479e-11e6-84fe-c7e10b28b334.png)
Apparently this happens for languages other than Arabic (eg [French](https://github.com/sqlitebrowser/sqlitebrowser/pull/642#issuecomment-231838973)), which makes it sound like a problem in our code.  Hopefully it's just a setting or something needing to be applied to the strings in the .ui file or similar.
 Translation files are one huge mess, lines specified in .ts files are outdated and do not match lines in .ui files.
Even those translation strings that are displayed correctly atm - have wrong line numbers in .ts files. This requires a thorough work :)
 I only know .NET programming, which is why I haven't gotten involved with programming/helping out before, but editing translation files sounds work I could be doing... matching up the lines and ensuring they're still valid?  I'm good at the laborious stuff, leaving others time to do the exciting bits!
 @chrisjlocke Any help with this would definitely be useful. üòÄ 
 With this particular issue, I kind of wondered if maybe the punctuation symbols in some strings were doing weird things for the translations.

After a bit of investigation, it does seem like this is at least part of the problem.

For the French language example, here is what the UI looks like before investigating the punctuation symbols:
![screen shot 2016-07-12 at 13 43 01](https://cloud.githubusercontent.com/assets/406299/16767703/a5ff30bc-4838-11e6-9a2f-32948c28d570.png)
Picking one of the strings that hasn't translated - "Revert Changes" - doing a grep for it through the src/ subdirectory shows it in [MainWindow.ui](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/src/MainWindow.ui#L1371):

```
<string>&amp;Revert Changes</string>
```

In the [French translation file](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/src/translations/sqlb_fr.ts#L1071) though, it's missing the `&amp;` at the start:

```
<source>Revert Changes</source>
```

After adding the `&amp;` string to the translation file here, then rebuilding the project, that string now translates correctly in the main interface:
![screen shot 2016-07-12 at 13 53 56](https://cloud.githubusercontent.com/assets/406299/16767725/ac18b338-4838-11e6-98a3-54863e008b03.png)
So, it looks like string matching problems between the .ui files and the translation files for at least some of this.

@chrisjlocke Is going through the translations files and getting these adjusted to string match correctly something you'd be up for in the next few days? :smile:
 As a data point, this doesn't look to be too complicated.  Just went through the French UI and fixed the main strings for the initial UI.  I'll commit the change to our repo in a minute too:
![screen shot 2016-07-12 at 14 08 20](https://cloud.githubusercontent.com/assets/406299/16768033/564465b8-483a-11e6-9ef3-3aa5af62970d.png)
 I'll set up a VM following your examples / instructions to create a Windows development area and have a go... going through the files sounds doable, but 'rebuilding the project' is something I've not done before... but I like a challenge!*

*If supplied with enough beer and sweets.
 Heh Heh Heh

The setup for the Win dev environment is kind of tedious.  Lots of downloading at the start to collect things, then lots of launching installers, picking the options (as given :smile:), then waiting for installers to finish.  The only challenge for that bit is patience. :wink:

Once you have that though, you're all set.  The instructions take you through building the project, so you'll find "rebuilding" the project itself super simple.

If you hit stumbling things, reach out. :smile:
 @chrisjlocke Had a chance to look at this?

We'll probably do our next release next week, so this needs to be completed (+ verified) by then. :smile:
 I'll set up a virtual machine this morning and follow your instructions. :)
 Excellent, that will really help. :smile:
 Yes, in the "Requirements" section, you need to add "4 days put aside to
install all this gumph"...  ;)
 Yeah, that's the tedious bit. üò¨ 
 Quick 'confirmation'.  I can't find details of 'DB Schema' in the translation files for the tabs along the bottom - DB Schema, Plot, SQL Log

![image](https://cloud.githubusercontent.com/assets/7872218/17021134/be7ada68-4f3d-11e6-95ac-164c2115b2cd.png)

Found 'Plot' and 'SQL Log'.
![image](https://cloud.githubusercontent.com/assets/7872218/17021539/882bce6a-4f40-11e6-8751-ec3ea27bcd67.png)

I assume there isn't a translation for every label?  Or should there be?
There's a 'schema' (<source>Schema</source>) but thats pointing to a different file...
 Confirmation No.2 ... noticed a window caption was translated, but not the main one.

![image](https://cloud.githubusercontent.com/assets/7872218/17021677/77f29dfc-4f41-11e6-8206-5f194532fa72.png)

Should the main caption be translated too?  I presume so.... ?
 Ahhh, co-incidentally I was looking at the dock labels earlier on as part of another change. :smile:

DB Schema is probably not showing up for you in a search because it has an &amp; embedded in its string. eg:
- https://github.com/sqlitebrowser/sqlitebrowser/blob/master/src/MainWindow.ui#L1277
 Hmmm, the main caption probably should be translated.  I'm not 100% sure though. üòÄ 

See if you can figure it out.  We can always circle back to it later when the bulk of the other UI elements are done. :smile:
 Thanks for the prompt reply. :smile: 
Did search for 'schem' and >db but no matches.  No matches in the sqlb_ar.ts for 'DB Sche&amp;ma'.  Will skip that one.... :wink: 

Will note down what I can't find so there is a list somewhere.  I'm sure there will be more ....
 Maybe chuck them in a comment here, using a "list style"? eg:

## Arabic
- foo
- bar
- baz

## French
- foo
- bar
- baz

etc

People can edit their own comments, so you can update/edit the comment as you go.

?

(though, I don't personally trust browsers with long running text fields, so I'd personally use a local text file too :wink:)
 OK... _scratches head_.  Last question.  Honest.  The *.ts files have <location> tags, with line=xxx parameters.  Are these critical?  
eg:
![image](https://cloud.githubusercontent.com/assets/7872218/17022223/a62be216-4f44-11e6-8561-e00f6411a9ea.png)

but the mainwindow.ui at those lines:
![image](https://cloud.githubusercontent.com/assets/7872218/17022039/b0c0f3f2-4f43-11e6-8d9c-1e93aa419ccd.png)

I assume (in the above example) the bottom 'message' relates to a tooltip, and the line numbers should match.  Slightly confused, as tooltips (translated) seem to be appearing, so didn't want to blindly change line numbers if that didn't matter...
 Definitely ignore the line numbers. :smile:

There's a tool called "lupdate" which actually updates them automatically.  It seems to do that by looking at the source files, then updating the .ts files to correct the line numbers for each string.

You can launch it if you want from Qt Creator by (from the top menu) Tools ‚Üí External ‚Üí Linquist ‚Üí Update translations (lupdate).
 While I'm dabblin', in the 'About Dialog', it says 'SQLite Database Browser is..."
Should this be changed to 'DB Browser for SQLite' ?  
 Ahhh yeah.  Definitely. :smile:
 Having gone through the Arabic and Chinese, and seeing the languages still to go, I'm going to attack this in two 'sweeps'.  First off I'll correct the obvious issues, so its at least presentable, ie, the &amp; mismatches stopping the translations appearing.  This will get the files ready for the planned release.  I'll then go back and thoroughly tidy up.  I've written a quick VB prog to check the .ui and .ts files for mismatches and help locate 'bugs', so they shouldn't be is such a mess as @innermous pointed out.
 ... the "DB Schema" tab title just changed in our source.

I removed the &amp; in it, as it was misplaced anyway.

Sorry for the extra work. üòá 
 Misplaced?
 Yeah, the &amp; is supposed to represent a shortcut key.  It wasn't on the correct key for DB Schema anyway, so I just removed it.
 OK, so after editing the .ts files and going back to Qt Creator, and doiing the lupdate and lrelease, its gone back and flagged a lot of the translations as 'unfinished'
`<translation type="unfinished">Version</translation>`
This stops the translations appearing.  Is there another step somewhere?  Manually editing the .ts files obviously isn't the right thing to do... :disappointed: 
 Here's where I wish I knew more about translation files. üò¢ 

Which of lupdate and lrelease is adding the "unfinished" type to them?
 Guessing you've already looked over this?

&nbsp; &nbsp; https://doc.qt.io/qt-4.8/linguist-translators.html
 This one is overview stuff, but doesn't seem to help with "how to mark things as finished":

&nbsp; &nbsp; https://doc.qt.io/qt-4.8/linguist-manager.html
 Oops.  I've been editing the raw .ts files.  There is a big button in Qt Linguist (which I hadn't previously installed)

![image](https://cloud.githubusercontent.com/assets/7872218/17077698/99896ef0-50d1-11e6-9fe0-3f71bbdc7464.png)

This should make things easier! :wink: 
 Green ticks.  Thats a good thing.

![image](https://cloud.githubusercontent.com/assets/7872218/17083260/af2f4228-5191-11e6-9081-b1b98f376c9a.png)

Progress being made!

Compared to an 'untouched' file...

![image](https://cloud.githubusercontent.com/assets/7872218/17083322/c14f37f8-5194-11e6-8ffb-95ed163c0afd.png)

And off we go again! :wink:
 Heh Heh Heh

Keep going @chrisjlocke, looks like you're nearly there! üéâ 
 Hmm.  Some weird things keep occurring.  Going throuhg the German file for instance, and the captions for the dialogs are appearing in Arabic.

![image](https://cloud.githubusercontent.com/assets/7872218/17083828/ebd1a416-51a3-11e6-938a-3e99666080b6.png)

I'm not used to Qt Linguist or Qt Creator, so not sure where (or if?) I should be looking... maybe its Linguist just getting confused, or the .de.ts file was copied from the .ar.ts file?
 Its OK.  Sorted it.  For some reason, it takes the current selected language from the _real_ program, and so because Arabic was the last language I tested, it was showing that in the preview.  Bit mad...
 Oh wow, yeah that's unexpected.

Guess it's part of the learning process. :wink:
 A lot of the translations have been corrected by me, due for 'release' soon.  Admittedly they're probably still not perfect, but the errors (like above) will have been addressed.  The main issue is that the program expects a shortcut key (so `&ampy` for ALT+Y, `&ampu for ALT+U, etc) so one has to be supplied, which doesn't always fit into the translation.  
I'm more than happy for you to assist me in this challenge if you would like! :wink:
 @SafaAlfulaij Yeah, would be optimal. üòÉ 

With this project, one important factor is that it's volunteer based effort.  All of the stuff you see (both good and bad) is the result of people willing to put their time into something, and they skill they have at it.

Importantly, people's skill level improves as they gain experience through practise and new challenges.

For example I'm personally a newbie with C++/Qt.  In no way am I good enough at it (yet) to make deep changes for this project. :wink:

However, [I can improve user visible dialogs](https://github.com/sqlitebrowser/sqlitebrowser/issues/673) decently (in my opinion üòà ).  Hopefully soon, my understanding of things will have improved enough that I can assist with the more fundamental changes we need. :bowtie:

You're right about the &amp; sign's in strings.  They're breaking a bunch of translated items throughout the user interface, and it seems to be across all languages.  @chrisjlocke is putting time into fixing that, using our current understanding of the problem.  Hopefully, this gets us most of the way to our translations being "usable", even if not 100% fantastic (yet). üòÅ 

Would you be ok to look over our Arabic translation once @chrisjlocke has the &amp; sign problem fixed?  It should be within the coming week.
 When you say your way of translation is different... are you meaning a different dialect of Arabic?
 Ahhh.  Not sure then.  Would you be ok to discuss it with @0xbsec, [who recently made our Arabic translation](https://github.com/sqlitebrowser/sqlitebrowser/pull/642)?
 Just a nod that I'm not just correcting the `&amp; but also the missing translations.  
![image](https://cloud.githubusercontent.com/assets/7872218/17251920/80408dae-55a2-11e6-8ce5-817dcdcfe0af.png)

This shows a large number of missing translations.  Some are just warnings of ellipses not correct, or full stops.  Its not just the dialogs, but messages displayed by the application.

Admittedly, its not going to be 100% - but I hope its not going to be as bad as this.... :wink:
http://static.boredpanda.com/blog/wp-content/uuuploads/funny-chinese-sign-translation-fails/funny-chinese-sign-translation-fails-10.jpg 
 Ahhh, ok. :smile:
 @chrisjlocke How's this progressing?  We're closing out the last few issues now... :smile:
 Going to try and fix the obvious UI elements somewhat quickly. :smile:

These are the translations we have at present:
- [x] sqlb_ar.ts - Arabic
- [x] sqlb_de.ts - German
- [ ] sqlb_en_GB.ts - British English
- [x] sqlb_es_ES.ts - Spanish
- [x] sqlb_fr.ts - French
- [ ] sqlb_ko_KR.ts - Korean - In a PR
- [x] sqlb_pt_BR.ts - Brazilian Portuguese
- [x] sqlb_ru.ts - Russian
- [ ] sqlb_tr.ts - Turkish
- [ ] sqlb_zh.ts - Chinese (Simplified?)
- [ ] sqlb_zh_TW.ts - Traditional Chinese

These are the UI's we have at present:
- <strike>AboutDialog.ui</strike> - **The text for this has changed, so needs an updated translation for all languages**
- CipherDialog.ui
- ColumnDisplayFormatDialog.ui
- CreateIndexDialog.ui
- EditDialog.ui
- EditTableDialog.ui
- ExportCsvDialog.ui
- ExportSqlDialog.ui
- ImportCsvDialog.ui
- MainWindow.ui
- PreferencesDialog.ui
- <strike>SqlExecutionArea.ui</strike> - **No strings needing translation**
- VacuumDialog.ui

So, each of the UI's need to be checked for each language.

This is pretty slow going stuff at present, while getting the hang of it.

Going to use one comment per language below, as it should make things easier to update.
 ## Arabic
- [ ] <strike>CipherDialog.ui</strike> - **No translated strings to work with**
- [ ] <strike>ColumnDisplayFormatDialog.ui</strike> - **No translated strings to work with**
- [x] CreateIndexDialog.ui - **Already ok**
  ![screen shot 2016-08-05 at 14 06 29](https://cloud.githubusercontent.com/assets/406299/17437611/93bdb40a-5b16-11e6-93fd-887082f9a9f5.png)
- [x] EditDialog.ui - **Mostly ok.  Needs the new UI strings translated**

![screen shot 2016-08-04 at 21 43 00](https://cloud.githubusercontent.com/assets/406299/17417694/80183bda-5a8c-11e6-8626-8b30fd2492ac.png)
- [x] EditTableDialog.ui - **Mostly ok.  Some strings still need translation**
  ![screen shot 2016-08-04 at 21 47 03](https://cloud.githubusercontent.com/assets/406299/17417793/15a4ac06-5a8d-11e6-893d-93ad5a9a9d6b.png)
- [x] ExportCsvDialog.ui - https://github.com/justinclift/sqlitebrowser/commit/4d419dc0cbdd15c16d199bae1a9c3ad6c07c0986 **Mostly ok.  Some strings still need translation**
  ![screen shot 2016-08-04 at 22 01 39](https://cloud.githubusercontent.com/assets/406299/17418198/22920038-5a8f-11e6-899e-d33cd8473ca5.png)
- [x] ExportSqlDialog.ui - https://github.com/sqlitebrowser/sqlitebrowser/commit/4e0733a38c469a509f0106435a8eee66ad68e80d **Most strings still need translation**
  ![screen shot 2016-08-04 at 22 12 13](https://cloud.githubusercontent.com/assets/406299/17418453/8dc5ca50-5a90-11e6-8872-7628c077a745.png)
- [x] ImportCsvDialog.ui - **Mostly ok.  Some strings still need translation**
  ![screen shot 2016-08-04 at 22 18 07](https://cloud.githubusercontent.com/assets/406299/17418634/6e5c2b22-5a91-11e6-870b-01445156be5d.png)
- [x] MainWindow.ui - https://github.com/justinclift/sqlitebrowser/commit/5ddc923f3305aca5715552a87bf1e9c548d46dec
  ![screen shot 2016-08-04 at 21 39 54](https://cloud.githubusercontent.com/assets/406299/17417591/01f0150c-5a8c-11e6-8a23-a01f504a2b30.png)
- [x] PreferencesDialog.ui - https://github.com/sqlitebrowser/sqlitebrowser/commit/63b131a9f830f6d7353302de60508426bcea343a **Most strings still need translation**
  ![screen shot 2016-08-04 at 22 40 20](https://cloud.githubusercontent.com/assets/406299/17419252/7dc548ca-5a94-11e6-8356-8a0b16b0ffe9.png)
  ![screen shot 2016-08-04 at 22 40 27](https://cloud.githubusercontent.com/assets/406299/17419254/8275fa0e-5a94-11e6-85de-9cf2f9ad2c70.png)
  ![screen shot 2016-08-04 at 22 40 31](https://cloud.githubusercontent.com/assets/406299/17419261/873d5546-5a94-11e6-92e8-b9ac2cb9d5c0.png)
  ![screen shot 2016-08-04 at 22 40 35](https://cloud.githubusercontent.com/assets/406299/17419267/8c4b7e1e-5a94-11e6-9e36-a21fb495bd6b.png)
  ![screen shot 2016-08-04 at 22 40 38](https://cloud.githubusercontent.com/assets/406299/17419278/90f48974-5a94-11e6-88a0-be95ad1b9baf.png)
- [x] VacuumDialog.ui - **Already ok**
  ![screen shot 2016-08-04 at 22 47 52](https://cloud.githubusercontent.com/assets/406299/17419541/da6151a4-5a95-11e6-9709-d00c7df0500f.png)
 ## Chinese (Simplified?)
- [ ] CipherDialog.ui
- [ ] ColumnDisplayFormatDialog.ui
- [ ] CreateIndexDialog.ui
- [ ] EditDialog.ui
- [ ] EditTableDialog.ui
- [ ] ExportCsvDialog.ui
- [ ] ExportSqlDialog.ui
- [ ] ImportCsvDialog.ui
- [ ] MainWindow.ui
- [ ] PreferencesDialog.ui
- [ ] VacuumDialog.ui
 ## Chinese (Traditional)
- [ ] CipherDialog.ui
- [ ] ColumnDisplayFormatDialog.ui
- [ ] CreateIndexDialog.ui
- [ ] EditDialog.ui
- [ ] EditTableDialog.ui
- [ ] ExportCsvDialog.ui
- [ ] ExportSqlDialog.ui
- [ ] ImportCsvDialog.ui
- [ ] MainWindow.ui
- [ ] PreferencesDialog.ui
- [ ] VacuumDialog.ui
 ## English (British)
- [ ] CipherDialog.ui
- [ ] ColumnDisplayFormatDialog.ui
- [ ] CreateIndexDialog.ui
- [ ] EditDialog.ui
- [ ] EditTableDialog.ui
- [ ] ExportCsvDialog.ui
- [ ] ExportSqlDialog.ui
- [ ] ImportCsvDialog.ui
- [ ] MainWindow.ui
- [ ] PreferencesDialog.ui
- [ ] VacuumDialog.ui
 ## Turkish
- [ ] CipherDialog.ui
- [ ] ColumnDisplayFormatDialog.ui
- [ ] CreateIndexDialog.ui
- [ ] EditDialog.ui
- [ ] EditTableDialog.ui
- [ ] ExportCsvDialog.ui
- [ ] ExportSqlDialog.ui
- [ ] ImportCsvDialog.ui
- [ ] MainWindow.ui
- [ ] PreferencesDialog.ui
- [ ] VacuumDialog.ui
 I'll commit later what I've got - I've gone through about 6 languages completely, not just fixing the dialogs.  Green ticks all round in Qt Linguist.
 Thanks @chrisjlocke that should help a bunch. :smile:

Make a PR for it though, don't just directly commit it.
 @chrisjlocke By the way, which ones are those 6?  I'll continue on with the others. :smile:
 Note, the Arabic translation has been redone completely today in #706.  Looks like 100% coverage too, which is pretty awesome. üòÅ 
 Write.  Sorry, right.  I can spend tomorrow doing some more languages.  I've seen most languages seem to have been completed, but unsure whether thats just the dialog or the full translations (I'm going through Qt Linguist, so doing the whole translation...) and I presume my 'bits' can't be merged with whats already been committed?  (Guess I could ignore the UI translations where they've been posted).  Sorry.  Rambling now...
If there is a specific language you want me to do next, let me know...
 Thanks Chris.  Yeah, drop this for now.  Several of the original translation authors responded positively to being contacted, and have either given us complete translations back or said they would.

There are a few who haven't, but it's probably something we can look at closer to the weekend.  We might just leave those ones as-is for now.  Thinking we'll call it at the time.
 Meh, we've done what we can for the 3.9.0 release.  It's "good enough for now".

:wink:
  Excellent, this seems like a good start. :smile:

One small problem with it is showing up... the flag seems to be missing in the drop down list:

![screen shot 2016-07-11 at 06 26 04](https://cloud.githubusercontent.com/assets/406299/16720690/d92e152e-4730-11e6-9a62-b7acc68ad380.png)

Are you ok to investigate and fix that?
 @justinclift  @0xbsec I already did that. Apply following patch via `git apply`

``` diff
 src/translations/flags/flags.qrc | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/translations/flags/flags.qrc b/src/translations/flags/flags.qrc
index 4d240dc..8b7615d 100644
--- a/src/translations/flags/flags.qrc
+++ b/src/translations/flags/flags.qrc
@@ -1,6 +1,6 @@
 <RCC>
     <qresource prefix="/flags">
-        <file alias="ar_AR">ar.png</file>
+        <file alias="ar_EG">ar.png</file>
         <file alias="de_DE">de.png</file>
         <file alias="es_ES">es.png</file>
         <file alias="en_US">us.png</file>
-- 
2.9.0
```
 @0xbsec Yep, the flag is showing up in the drop down list now:

![screen shot 2016-07-11 at 19 06 48](https://cloud.githubusercontent.com/assets/406299/16741344/c98d055c-479a-11e6-87a8-08cc65584a95.png)

Guessing you'll keep adding more translated strings to this issue?  If that's the case, just let us know when you're happy with things, and we'll merge it. :smile:
 Thanks @0xbsec, done. :smile:

(Btw, sorry team.  I forgot to choose the "squash commit" option for the merge. üò¶ )

@0xbsec As a thought, some of the main strings in the user interface still seem to be in English when I try it.  Is that how it should be?

![screen shot 2016-07-11 at 19 36 49](https://cloud.githubusercontent.com/assets/406299/16742251/d5da519e-479e-11e6-84fe-c7e10b28b334.png)
 Thanks @0xbsec.  Didn't know that was happening.  I've just created issue #643 about it, so we can investigate it properly. :smile:
 @justinclift oooops, latest commits are a bit messy now.
 Yeah, sorry @innermous.  I was tempted to manually merge them afterwards, then force push a single commit onto our main repo... but that's generally bad practise.  So I've resisted. üòß 
 @justinclift just imo, but in this special case it would be better than a pyle of commits with similar commit messages. Especially if you brought force push immediately before anyone ever fetched changes.
But what 's done that's done :smile: 
 Yeah, next time one of us forgets, it probably would be better to manually merge then force push. :smile:
 @justinclift I always check log via _tig_ three times before push :laughing: 
  Well, that definitely sounds like a bug. :wink:

Btw, which version is this on?
 I can't reproduce this with the latest build.

@justinclift, Wasn't it fixed after `3.8.0`?
@ejohn54, Could you please try [the latest nightly build](http://sqlitebrowser.oldsch00l.com/sqlitebrowser.exe.zip)?
 @revolter Just tried here with the latest build too, loading a table, then going to Browse Data, then running a UNION SELECT query on it via the Execute SQL tab, then going back to Browse Data.

The ordering is keeping constant for me.

@ejohn54 If you can spare the time to check the latest nightly build, it would really help.  If you need a Win64 package, then this one from earlier today (solving a different issue, but it's good) has our latest code:

&nbsp; &nbsp; http://nightlies.sqlitebrowser.org/win64-onceoffs/sqlitebrowser-win64-issue621v3-201607151423.exe
 @ejohn54 Thanks! :smile:

@revolter Looks like we still have the problem then. üò¶ 
 Is it a 64bit related issue? I have no idea what 64 implies (and breaks) related to code.
 Yeah... same here. üò¶ 

We'd probably need to look at our SQL statement generation code, and look at what controls the ASC/DESC piece.  It **could** be something like a bitmask going wrong, or maybe a variable being overwritten when it shouldn't be?  They sound like the potential data type screw ups that might happen with 32‚Üí64 bit.

Hmmm, Qt has some ability to "Set a watch on a variable" doesn't it?  That might be the go?
 @innermous Any idea / hints with this one?
 @revolter I am working on another rowid issue right now, can't help much.
  If you filter any column then toggle the Show rowid column, all the filter text fields are cleared but the data stays the same.

It should reload the table, or better yer, not clear (or reapply, depending on the implementation) the text fields.
 @innermous Is this related to #645 ?
 @justinclift, Not quite. As I understood, the refresh problem was just an UI issue. When minimizing and restoring the window, the column showed correctly.
  @karim If you try the latest nightly build (download locations are listed on the front page), does it happen with that too?

I kind of remember there being a bug about this, and am pretty sure we've fixed it.  Well... 50% sure. :wink:
 Ugh.  Well, that's not good. üò¶ 

Thanks for checking btw, and updating this issue about it. :smile:
 @justinclift Are you referring to #485?
 Errr no?
 It was a similar issue that caused the app to crash, and I thought that maybe could be related.
 Ahhh, good point.  Yeah, it could be related.  Whoever looks into this should probably check the fix for that one, while figuring things out. :smile:
 Exactly that I was thinking of, at least to find the source file that manages that context menu
 Just to confirm on Win 8.1 (64bit) this occurs for me too.  
http://screencast-o-matic.com/watch/cDiljqi4uR
Tried again with the latest nightly build with the same results.

Just played around with it some more, and when you view the rowId column the first time, it doesn't always display the rowId, but the previous column.... sorry, that probably doesn't make sense.  I did it once and took a while to recreate it.
http://screencast-o-matic.com/watch/cDilj5i4UO
View from 1:23.  First of all the rowId column isn't there - column 1 is still showing the 'x' from field1.  When I click where it should be, the display updates, so now I have two 'x's.  
If I change tabs or click in the first column, then it updates correctly.
 I have trouble explaining things properly sometimes ... wobble on with things I think are important, when sometimes a screen capture does the job quicker and easier!  "See - there - thats what I mean!"
 I'm pretty sure this is related to #510. It probably crashes because of an overflow or invalid data.
 Sorry, It didn't have anything to do with #510. I managed to reproduce and solve it in the latest PR. @karim can you test it? üòÑ 
 @karim Here's a once off Win64 build including the proposed fix by @revolter:

&nbsp; &nbsp; http://nightlies.sqlitebrowser.org/win64-onceoffs/DB%20Browser%20for%20SQLite-issue639v1-win64.exe

Does it still crash for you?
 According to Stack Overflow...

> the problem was caused by using dlls that were built with Visual Studio 2013 in a project compiled with Visual Studio 2012. The reason for this was a third party library named the folders containing the dlls vc11, vc12. One has to be careful with any system that uses the compiler version (less than 4 digits) since this does not match the version of Visual Studio (except for Visual Studio 2010).
> The Microsoft C++ runtime dlls use a 2 or 3 digit code also based on the compiler version not the version of Visual Studio.
> MSVCP120.DLL is from Visual Studio 2013
> Now if MSVCP120D.DLL is missing, this means that the application you are trying to run is built in Debug mode. As OP has mentioned, the debug version of the runtime is NOT distributable.
> Go to your Project's Debug configuration > C/C++ > Code Generation > Runtime Library and select Multi-threaded Debug (/MTd). This will statically link MSVCP120D.dll into your executable.
 Gah yeah... that's exactly the problem.  I remember thinking "Lets build this in Debug mode, the extra info might be useful for any crashes".  Without realising we'd need a debug version of other libraries too.

Well, so much for that idea. :wink:  Sorry about that. üò¶ 

I'll rebuild it in Release mode in a bit, so it uses the normal .dll.
 @karim In theory, this one should run for you (tested on a VM here without MSVC installed).  It's a Release build version including the fix by @revolter. :smile:

&bull; &nbsp; http://nightlies.sqlitebrowser.org/win64-onceoffs/DB%20Browser%20for%20SQLite-issue639v2-win64.exe
 Excellent. :smile:

Just merged the fix, so it should be in the nightly builds from tomorrow onwards.  @karim would you be ok to try one of the nightlies tomorrow, just to double confirm things?
 @karim Just tried it here, and you're completely correct.  For some unknown reason, the fix for #510 isn't working, even though it was included in the build.

I'll reopen #510, and continue this there.
  Hey Rich,

Sorry for the troubles.  Our foreign key handing (and constraints in general) needs a lot of work.  So, it's completely possible that you're doing things fine... and the application is just not where it needs to be.

As a thought though, we have made a few bug fixes and general tweaks to things over the last few versions.  There's a reasonable chance (but no guarantee üò¶  sorry) that the bug you're hitting has been fixed by our more recent versions.

As you're on Linux, it should be pretty simple to compile things from our latest source code, if that's something you're ok trying.  We have a build guide with general instructions for Linux, if that helps:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md#generic-linux-and-freebsd

Is that something you're ok to try out? :smile:
 No worries.  When you go to compile it again, try grabbing our latest source code ("master branch") from GitHub.

We're way overdue for a new release, and there have been a good number of bug fixes since 3.8.0. :wink:
 Sure, no rush here. :smile:
  Ahhh.  One useful way to see error messages is if you start it from the command line.

When it crashes, there should be output there.  Hopefully something useful.

Are you ok to try that, and let us know what it says? :smile:
 @uguraba ping?
 Closing this due to lack of response. üò¶ 
  Hmmm, that's interesting.  The ANTLR2 stuff is part of our source code.  We bundle it with the rest of our source here, and it's **supposed** to be found automatically by cmake.

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/tree/master/libs/antlr-2.7.7

Just as a curiosity thing, what happens if you run qmake instead of cmake?
 Yeah, it **could** be a path issue.

With cmake, it kind of has a macro like language, so the  "if(NOT ANTLR2 ..." clause you're talking about [here](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/CMakeLists.txt#L35-L38) shouldn't trigger, because it's coming after this line [here](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/CMakeLists.txt#L29):

```
find_package(Antlr2)
```

That "find_package()" macro runs this code, which seems to be where the problem is:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/cmake/FindAntlr2.cmake

The trick will be figuring out what and why. :wink:
 Btw, with qmake, run it in the main (root) checked out sqlitebrowser git source dir, then run `make` after it.  Like this:

```
$ git clone https://github.com/sqlitebrowser/sqlitebrowser.git
$ cd sqlitebrowser
$ qmake
$ make
[compiling stuff should happen here]
```

Note that sometimes when compiling this way on OSX it barfs after a while with an error about missing language translation files.  Running `make` again fixes the problem.  (yeah, someone needs to look into that, but it's a pretty minor problem)
 Sure no worries at all.  Wonder if this is somehow showing up a weird gcc bug or something?
 Yeah, that does sound kind of weird. üò¶ 
 @PSE-AG How did this go?
 Thanks.  Please keep us posted. :smile:
 @PSE-AG Any luck with this? :smile:
 No worries at all. :smile:

Healing well, and getting better is definitely of much higher importance. üòÅ 
 Cool, making progress. :smile:

With the `ANTLR2` warnings, there seem to be two distinct paths that can go down:

a) Warning message about it not being found, but DB4S compiles + works ok anyway
b) Warning message, then failure to compile

With a), it can be ignored.  It turns out there there are two different approaches for finding ANTLR2 in our CMake configuration, one of them is a fallback to the other.  The "ANTLR2 warning but still compiles" situation happens when one of the approaches doesn't work (generating a warning), but the other one does (without giving a "found it!" message üò¶ ).

With b) above... that's when it **really** can't be found.  You're not hitting that though, so it sounds like the build step is working "good enough" for you now. :smile:

With the focus problem, that's interesting.  It's not something I remember anyone mentioning before.  It's probably an unexpected interaction from something... but figuring out what exactly is the next challenge. :smile:

As a first thought, would you be ok to try compiling against our `v3.9.x` branch, instead of our `master` branch?

If the focus problem doesn't happen with the `v3.9.x` branch, then we'll know it's our recent code which introduced it.  That'll give us a much better idea of what to look at. :smile:
 @PSE-AG How'd this go? :wink:
 @shaoran Thanks. :smile:

Just to confirm I'm reading that correctly:
- When compiled for the `v3.9.x` branch, the focus problem **is** happening
- When compiled for the `master` branch, the focus problem **is not** happening

Is that right?
 Thanks, now it's clear.  It's something we've done between the 3.8.0 and 3.9.0 releases, and it's still happening.

Damn. üò¶ 
 We can probably take a brute force approach to working out why.  (eg manual bisect)

It's a bit time consuming, although very effective.  I won't have time for it personally for at least the next fortnight though. üò¶ 
 [It looks](http://stackoverflow.com/a/2242490/865175) like you can activate a window using the `QWidget::activateWindow` function, and we only call it [here](https://github.com/sqlitebrowser/sqlitebrowser/blob/55d8905b904ac57cf759db3b235b1ce27ab8c8a5/src/MainWindow.cpp#L788), but that shouldn't be a problem. So maybe it's an implicit behaviour caused by something else, rather than some explicit call?
 Sounds like the focus problem is the same as in #934. But the bi-sected commits mentioned there are from a later date. Maybe it's a connection of multiple things causing this behaviour, I don't know. Either way, if anybody feels like bi-secting this (earlier) problem, *please* do so :smiley:  Interesting.  We use SQLCipher for the encryption.  Is that what Navicat uses? (there are a few different SQL encryption options around)
 @venetasoft ping?
 Closing this due to lack of response from @venetasoft. üò¶ 
  As a thought, it might be worth trying the latest nightly build.  There are a tonne of bug fixes in that, and there's a chance this is already fixed.

On the other hand... I don't remember any window positioning bugs being worked on yet... so... the chance might not be huge. :wink:
 Just tweaked the topic title, to remove the "Windows 10" bit on the end.  Hope that's right.

Note - I'm focused on a personal project (last few weeks, and probably a few more) so not keeping all that close an eye on things here.  I will get back to this stuff though. :wink:
 Gah, wrong button. üòá 
 @DelphiGit Hmmm, any interest in building it yourself?  We have a detailed [Windows build guide](https://github.com/sqlitebrowser/sqlitebrowser/wiki/Setting-up-a-Win64-development-environment-for-DB4S) (best done in a VM) if you're interested.
 Interesting.  If you commit that code into a branch in your own fork, that would let others compile it pretty easily.  @jungle-boogie may be ok to try it on Linux, and I can also generate a once off OSX build for people to test, if that sounds useful. :smile:
 @DelphiGit Sorry for the delay, didn't notice your fork & commit.

Here's a build of it for OSX:

&bull; &nbsp; http://nightlies.sqlitebrowser.org/osx-onceoffs/DB%20Browser%20for%20SQLite-issue633v1.dmg

Built that on my desktop though, instead of our official buildbox, so it **might** segfault for people using older OSX than 10.9.5 though (unsure).  Can rebuild on it our official buildbox later, if it does turn out to be a problem. :smile:
 Sounds like a win all around then. üòÑ 

@DelphiGit Want to make this into a Pull Request, so we can merge it?
 Thanks @DelphiGit, that's awesome. üòÄ 

Any interest in tackling other things too?
 @DelphiGit Actually thinking this one: https://github.com/sqlitebrowser/sqlitebrowser/issues/621

Unless you want a C++/Qt one, to gain experience with that side of things?

And thanks. üòÄ 
 Sure. :smile:

The NSIS packaging part, kicked off by the `PACKAGE` solution in MSVC has its bits [here](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/CMakeLists.txt#L354-L386).

Looking at the screenshot from #621, the unquoted line is probably this one [here](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/CMakeLists.txt#L378).

Hopefully it's as simple a fix as it sounds, but sometimes in practise the simple ones turn out to be hairier than thought. :wink:

One way to find out... üòÅ 
  That's weird, I just tried it here (using latest nightly build), and it's working for me.  To minimise the application, what are you doing?  Clicking the orange icon in the top left of the window bar? (that's what I just tried)

For me, that minimises the running application down into the Dock.  To restore it, I click it in the Dock... which returns it to it's previous position.

Guessing you've tried that, but asking just in case. :smile:
 k.  Marking it as a bug, but I'm not sure when someone will get to it.  Personally, I have no idea what could be causing that (yet). :wink:

If you have the time to try it, grab the latest nightly build (download locations are listed on our front page), and give that a shot.  It has lots of bug fixes for various things, and there's a (small) chance this is fixed in it.
 @rvaneerd Would you have time to try out the new v3.9.1v2 binary for OSX, to see if this is fixed for you?

* https://github.com/sqlitebrowser/sqlitebrowser/releases/download/v3.9.1/DB.Browser.for.SQLite-3.9.1v2.dmg Awesome. :smile:

Thanks too @ghellquist!  Ahhh, interesting.  Thanks for reporting it. :smile:
 I am not familiar with RTL in Qt apps. Could you tell, please, how can I toggle it? Maybe then I could provide some solution to this issue.
 Well, the issue is caused [here](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/src/FilterTableHeader.cpp#L73)
My suggestion is to check the app is opened in RTL mode via

``` cpp
bool reverse = isRightToLeft();
```

And do some changes in adjusting algorithm for that case. I tried to do some, but they have some glitches on resizing.
 @SafaAlfulaij Cool, that's useful info. üòÅ 

@chrisjlocke That `--reverse` switch might be useful for you in testing the Arabic translation as you go through getting it fixed. :smile:
 @innermous Any idea if there's a difference between Qt4 and Qt5 for the resizing glitches?

If they don't happen when we build with Qt5, that would be another reason to move towards it. :smile:
 @justinclift don't know what are you talking about, honestly.
The problem causing this issue is that drawing method is hardcoded, and the code inside it is strictly left-to-right.
I tried to make workaround, it worked well, but when you try to resize it becomes a little messy.
 @innermous Sorry.  Was typing on a tablet before without really understanding. :smile:

Was thinking the "glitches on resizing" thing might have been Qt4/Qt5 related.  Guess not. :smile:

Looking at the code you point out, I see what you mean about the hard coded order and needing to do a workaround.  Would you be ok to throw that code into a branch so we can take a look and maybe figure out how to keep it ok when resizing?
  Interesting.  This shouldn't be too hard to implement. :smile:
 This should really be fixed I think :smiley: @lvbeck Can you test the latest version (3.9.1 or the nightly builds, whatever you prefer)? I'm pretty sure we quote all names using the ``` ` ``` quotes. Oh no I'm sorry, I was wrong. For the SQL dump we take the CREATE statement as is. This means it's quoted in the SQL export just like it's quoted in the original database. But I can fix that :smiley: @lvbeck Sorry for the confusion :smiley: If you're still interested in this, can you test tomorrow's nightly build and see if it's improving the situation for you? For triggers and views we don't have a chance to do this (yet) but tables and indices should be much better now. No worries :smiley: Just test it whenever you have the time for it. Thank you for your effort! :smiley: @lvbeck ping? @lvbeck Excellent, thanks for checking and letting us know. :smile: @MKleusberg just another tiny feature request, could you please add:
```
DROP TABLE IF EXISTS `Tablename`;
```
before CREATE TABLE syntax? 
This would be very helpful if the table existed in database. Thank you! @lvbeck Sure, no problem :smiley: I've added an additional option to the Export SQL dialog to enable this feature. So you'll need to set it up like this:
![spectacle lh5631](https://cloud.githubusercontent.com/assets/3153504/26000659/1275dc4c-372a-11e7-83a8-9c47cfb35cef.png)
Can you download the next nightly build (tomorrow) and check if it's working for you as expected? @MKleusberg I tested nightly build "DB Browser for SQLite-2017-05-15-win64.exe", it work exactly as expected, thank you for the amazing work!  Awesome. :smile:  Do we really need to write after each edit/insertion/removal? Why can't just user write changes whenever he wants or when database is closed?
App is tied to sql back-end too much, every action yields sql query triggered. Write for every action is redundant and application really suffers from it. Constraint bugs are hard to deal with update-per-action approach. In fact, if you look at other db managers - none of them writes every single change.
Currently, when we are adding new record - it's instantly written without letting user to input some data. It's so unnatural!
It's just my opinion, but maybe you can suggest something better.
 What's the better way to do this, do you reckon?

Should we have most stuff be kept "in memory" (without running the SQL) until the person hits the "Write Changes" button?

If that's the case, any idea where we should start?
 It's just my opinion, but keeping it in model and run SQL only on purpose sounds less error-prone.
@MKleusberg what do you think about it?
 Yeah.  The current code base is the way it is due to a long legacy.

But, if someone wants to make things better, we'll definitely merge/patch/etc things so everyone benefits.

Definitely no incentive to keep doing things the old/bad way "just because". üò¨ 
 I'd vote for sort of a middle way here.
The issue mentioned by @chrisjlocke should definitely be addressed. I don't think either that it makes any sense to do that whole operation each time a field is moved. The only reason why we do it that way is because it's been the easiest and least error-prone implementation and I never got around to improve it. What we probably should do instead is comparing the old and the new table schemas and calculate a 'fastest' transtormtion from the one to the other.

There are probably more cases like these where we can reduce the amount of SQL commands issued in some way. But other than these I'd leave it the way it is, that is relying on SQLite for all the operations. Here are some reasons:
- It's a lot easier to implement for us, e.g. enforcing foreign key constraints: currently we can just send a new cell value to SQLite; sure, maybe it fails but we can handle this error. On the other hand, doing the check by ourselves would involve making queries do the referenced table as well as checking if foreign keys are enabled for this database. Because of this I don't think we can gain any performance here. Because of all the special cases like multi-column keys or the like our code would probably also be more complex than it is now. So in short: more code and no better performance here.
- We'd have to implement and maintain all this functionality and given our current manpower this would probably eat up all the time we have and which would be better off spent in fixing existing bugs.
- Also we'd have to keep track with SQLite's development. If the SQLite developers decide to change the behaviour of some feature, we'd have to re-implement it on our side too, to keep in sync with them. Again, they are definitely faster than we are :wink: 

So to not reinvent the wheel I'd leave it the way it is. What we can and should do however is keep working on improving the way we use SQLite: @chrisjlocke 's suggestion is one example, but handling the errors SQLite generates when something fails in a better way, too. Also we should extend our SQL grammar parser to understand more ot the SQL commands by ourselves and not having to rely on SQLite for that.

I hope this makes some sort of sense :smiley: 
 @MKleusberg but how you wanna deal with situation where editing is locked due to instantly failed constraints(in various situations) and user being confused?
 We should really start working on this issue, since a great amount of constraint bugs have been reported so far.
Let's start from the very beginning. Imagine we have a table, that doesn't fail when you add new row in a table with all those possible weird constraints :smile: It gives you possibility to edit fields of new record.
Then, eventually, you change focus, or press enter, or whatever - and the new record passes. It passes all constraints and is successfully added to sql backend.
But what happens if it's not? Should the new _virtual_ (I like to call it this way :smile:) record be purged, or should it throw errors again and again until we input everything correct? What are the ways to undo that virtual row, besides explicit deletion?
All those questions should have answers before we actually start fixes.
 Timing wise... I'm kind of thinking we should do it after 3.9.0 is released - which I'm hoping to get done in maybe a week or 1.5 weeks.

Saying that because it sounds like changing the code in this way will give us a better foundation to build on... but at the same time is likely to show up lots of weird edge case bugs that we haven't fixed.  Better to do that for the release after 3.9.0 (4.0.0 maybe?), so we have more time to test, and not 250k people wanting to file new bugs. :wink:

Thoughts?
 My only thought is this is kinda highest priority issue. It's not cosmetic or some not game breaking glitch. But it really reminds about itself every time. I had some research on it a month ago, now I am back to it again. 
Help is really appreciated,  as I mentioned [here](https://github.com/sqlitebrowser/sqlitebrowser/issues/628#issuecomment-233172979).
But well it can wait till release. I think this one will require some significant changes in the code.
 Yep, same thought.  And the "wait one release"... think of it more like "wait just a few weeks". üëº 
  Thanks @tonypdmtr, that's an interesting catch. :smile:
 @schdub They seem like different things.  #241 seems to be about selecting several columns, then resizing all of the selected ones.

This issue seems to be about trying to resize a single column, but all columns are resized instead.

Am I reading it wrong? :smile: Ahhhh.  Yeah, I'm not sure of the best behaviour here.  @tonypdmtr ? Isn't that the case already? When I click Add Record the entire row is selected and highlighted just like when clicking the row number manually.
Another idea would be to only select the first column of the newly added row. This way the auto resizing won't happen. It would also make more sense for putting data into the row: when all columns are selected I can't just start typing and Tab-bing through the columns. The only downside of only selecting the first column that I can think of is that the new row is slightly less visible then. What do you think?  Ahhh yeah, that definitely sounds like the kind of thing that could happen.

Thanks for reporting it @AO-StreetArt. :smile:
 In  addition, I wanna say, when copying _NULL_ field and inserting it in another cell just inserts **NULL** as text.
 @innermous Awesome! üòÅ 

I've just reopened this because before we close stuff, we always ask the person who created the bug report to confirm it first.  That's because even though **most** of the time things are ok, sometimes fixes turn out to be not-quite-as-complete as we were expecting.  Or the bug reporter finds an unexpected side effect. :wink: So asking the bug reporter to verify things first leads to a better result.

@AO-StreetArt Would you be ok to try the latest nightly build (download locations are on the front page of our project) and let us know if it's working properly for you now? :smile:
 @AO-StreetArt Ping?
 Awesome, thanks heaps for testing it and getting back to us @AO-StreetArt. :smile:
 @AO-StreetArt Just noticed your question about no validation of entries based on data type.

Just in case you're still curious about it, yeah, this is intentional. :wink:

SQLite itself considers the flexibility of datatypes to be a feature, and we'd be opening a weird can of worms if we didn't follow with the official position with it. :smile:

&nbsp; &nbsp; https://www.sqlite.org/datatype3.html

Hope that helps. :smile:
  Awesome. :grin:

We'll need to get the Travis check working though before anything else.  It's failing on the sqlcipher install part, prior to the compiling:

```
$ sudo apt-get install -qq libqt4-dev libsqlite3-dev libsqlcipher-dev libantlr-dev

WARNING: The following packages cannot be authenticated!

  libsqlcipher0 libsqlcipher-dev

E: There are problems and -y was used without --force-yes

The command "sudo apt-get install -qq libqt4-dev libsqlite3-dev libsqlcipher-dev libantlr-dev" failed and exited with 100 during .

Your build has been stopped.
```

Maybe add `--force-yes` to the apt-get line in the [.travis.yml](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/.travis.yml#L9) file as part of the PR?

It's worth a try. :smile:
 Just amend it or add another commit and squash those into one.
 Yep, GitHub associates this branch in your fork with this PR, so all the changes you do in the fork are automatically "known" by GitHub to be for this PR.

It means you can completely redo all of the commits however you want them (as long as you keep them in the same branch), and they'll all be part of this PR.  Generally it's very convenient. :smile:

With that latest commit, that seems to have worked.  I haven't had a chance to test the code yet, but probably will tomorrow.

In the meantime, code wise it looks ok to me.  But I don't have much Qt/C++ experience yet.  Emailed @MKleusberg to review it, but haven't heard back yet.

Maybe @innermous would be ok to review it instead?  @innermous What do you reckon? :smile:
 Cool. :smile:
 You figured out how to update commits in PR? If not, write me in Gmail I'll explain if anything is wrong
 Trying this out now, the .ui sizing seems to be off.  This is on OSX 10.9.5, using a non-HiDPI monitor. :wink:

![screen shot 2016-06-16 at 23 35 16](https://cloud.githubusercontent.com/assets/406299/16135370/1ae687f4-341b-11e6-8ea8-cf1463fd344a.png)
Testing out the functionality itself... it's not working properly for me.

Created a brand new test database here "Untitled2.db", set the password to "abc123" with a page size of 2048.  Added a few rows of dummy data.

Manually opening the file (before setting password info in the preferences dialog) works fine, with the password & page size prompted, then the database opening correctly when they're given.

After setting the same values in the Preferences dialog, the file no longer opens correctly.  A dialog saying "Invalid file format." happens instead, and that's all.  (btw, it should probably prompt using the manual password dialog when the automatic ones fail)

![screen shot 2016-06-16 at 23 42 48](https://cloud.githubusercontent.com/assets/406299/16135553/43d04640-341c-11e6-9fc1-385dca21e59f.png)
![screen shot 2016-06-16 at 23 45 38](https://cloud.githubusercontent.com/assets/406299/16135583/7784d500-341c-11e6-96ad-424c83a93a7f.png)
I didn't attach a debugging to this to figure out what's going wrong.

Are you ok to investigate? :smile:

Can email the failing database file to you, if that would help?
 Just a couple of thoughts, has anyone tried building this on Windows? Oh and I tried reading the changes but I can't fathom where the passwords are being stored but I trust we are not storing these passwords in plain text are we?
 The first vital point, is "never roll your own crypto", so as long as we use some standard encryption library then we are fine. Not that you were proposing too but it is a point worth emphasising. Sorry, hope you don't mind.

I think the best approach is a "master password", a bit like Firefox, this password is then known by the user and used to decrypt, thus without it nobody can read the passwords. Remember, this is open source, so we need to make sure we protect passwords, so salting and hashing etc.

I appreciate this is a lot of work, so we could give people a statement to accept before using passwords stored in plain text. Then we have some time to consider a better solution. Does that make sense?

Sorry to be a pain and I know security is not always enjoyed but if we do this right and get it right, then we will get respect.
 ```
What do you mean by ".ui sizing"? The fact that I didn't managed to put the Add and
Delete buttons next to each other? üòÇ I did tried a lot but couldn't figure out how to
do this.
```

With that, if you're in Qt Creator you can go into the "Design" part of things to resize the various GUI elements for a dialog.  It looks like the part of the dialog to contain the database name, password, and page size, aren't big enough for OSX.

In theory, it **should** :smile: be a fairly simple fix.  You adjust things in the Qt Creator "Design" part, then with git you add the corresponding .ui file to the commit.

If that doesn't make sense, let me know and I'll try to screenshot things in the next few days to demonstrate. :smile:
 Ahhhh, no worries.  On the left side of the Qt Creator GUI there are tabs for coding (called "Edit"), vs GUI Design, vs meta info for the project, etc.  eg the Edit part:

![screen shot 2016-06-20 at 15 26 12](https://cloud.githubusercontent.com/assets/406299/16197851/8720d7ca-36fb-11e6-8fd0-bd602de116b5.png)

![screen shot 2016-06-20 at 15 28 07](https://cloud.githubusercontent.com/assets/406299/16197884/a8448e74-36fb-11e6-83b1-dffb457dbf8f.png)

To change GUI element sizing, double click on one of the .ui files (in the "Forms" subfolder), then the "Design" tab thing will become available.  eg:

![screen shot 2016-06-20 at 15 29 55](https://cloud.githubusercontent.com/assets/406299/16197942/dc89767c-36fb-11e6-9e85-51e24fc6ea18.png)

![screen shot 2016-06-20 at 15 30 27](https://cloud.githubusercontent.com/assets/406299/16197954/ef31d36e-36fb-11e6-9c1c-5d2bcbbc41a5.png)

In that, you can directly click on the **Database** tab (in the GUI itself), which will change things to show the GUI elements you're after:

![screen shot 2016-06-20 at 15 35 37](https://cloud.githubusercontent.com/assets/406299/16198126/ae83272c-36fc-11e6-9fc0-500969902aec.png)

Then drag their edges to resize.  eg:

_Ugh, the GUI elements aren't resizing for me now for some unknown reason_

Well, that sucks. :wink:

At a guess, I think the GUI elements you're trying to do might need to be contained in some kind of layout widget.

But, I could be wrong.  I'd need to experiment with it further to figure it out, and I don't have time today/tomorrow. üò¶ 

Maybe @innermous or @MKleusberg can offer pointers? :smile:
 I'll read through all the comment and review the code tomorrow or on Friday. Then I can provide some more help and feedback, too.

But as for the resiting of widgets: the answer is, you simply can't :wink: Instead they're resized automatically based on the surrounding layouts. You can fine-tune this by adding spacers (appearing as springs in the Qt Creator form designer) or by setting the sizePolicy, minimumSize, and maximumSize properties of the wdget.

Qt docs for Layouts: http://doc.qt.io/qt-5/layout.html
 @revolter I'm looking through your pull request now and will just write my notes into the diff or inside here. I hope that's fine for you :smiley: First of all, thanks a lot for picking up this issue - I think you chose a nice task there, not impossible to do but certainly not easy either. If you manage to get this done you'll definitely be fit to do any changes you like. And so far you're doing really good :smiley: 

Regarding the form layout: You can try all sorts of things here to make this look nice. For example you could try to make it look like the extensions list in the Extensions tab of the preferences dialog. I'll try to give you a step by step approach to this. If you have any trouble following me here, just let me know and I'll try to provide clearer instructions and/or screenshots. By the way: don't worry about having problems here. The Qt Creator UI designer often is super unintuitive to use :wink: Anyway, here we go:
1. Open the PeferencesDialog.ui file and switch to the Database tab
2. Right click on a free space inside the form (not on a widget). Click Lay out -> Break layout. Now you can freely move around the widgets and can do whatever you want with them. It's better not to so, however, because later we'll want to put them back into a layout.
3. Click the Add password button, hold the Ctrl key, and click the Remove password button.
4. When both buttons are selected, right click on of them. Click Lay out -> Lay out vertically.
5. Make sure the newly created layout is selected (i.e. the box around both buttons), then hold Ctrl, and click the saved password list box.
6. Right click on it, click Lay out -> Lay out horizontally.
7. Right click on a free bit of space somewhere in the form (having nothing selected) and click Lay out -> Lay out in a grid.
8. Right click again, click Lay out -> Lay out in a form layout.
9. Have a look on the widget list on the left: find the vertical spacer and pull it below the Delete password button but inside the layout surrounding the two buttons. This pushed them to the top.

Of course you can decide for another look and feel of the form, but however you want it to look like, I hope this will get you started :smiley: 

Some other remarks on the form here:
- With this small widget, you should set the hirizontalScrollMode propery of the password table widget to avoid having this 'jumpy' ScrollPerPxel scrolling.
- For selecting the file name it would be nice to have a file dialog. It might be best to just auto open one when clicking into a cell in the first column and/or when clicking the Add password button.
- When prompting the user for a password using the CipherDialog, it'd be nice to have a checkbox in there and - when the checkbox is set - save the password and page size automatically, without having to use the preferences dialog.
 @MKleusberg, are these ok? I didn't want to put the buttons on the right side as on the `Extensions` tab because the table would have been too narrow, even if I had icons instead of text.

<img width="763" alt="screen shot 2016-07-13 at 20 29 05" src="https://cloud.githubusercontent.com/assets/5748627/16813056/a59d0c4c-4938-11e6-8ef6-09c1751f3120.png">
<img width="1052" alt="screen shot 2016-07-13 at 20 29 16" src="https://cloud.githubusercontent.com/assets/5748627/16813057/a5a00d7a-4938-11e6-9c38-625553f9ff57.png">
 @MKleusberg, Currently, when pressing "Add password", the file dialog opens and inserts the file name (including the extension) in the appropriate column.

I don't know how to open it when trying to edit the cell manually though. But I'm inclined to leave it like this, thinking that for the user to edit a database name cell, it means he already pressed the "Add password" before, which let him choose a database.

What do you think?
 @revolter I believe we should make it clear to users that passwords are stored in plain text on their local hard drive, or maybe state the location. That way we are being open and honest and the user knows what is going on, with no surprises
 @glawrence, Agree. How will this show up in the UI?
 Anyone knows why the Travis failed? It looks like it failed here:

```
553 1: Test command: 
554 Unable to find executable: test-sqlobjects
555 1/2 Test #1: test-sqlobjects ..................***Not Run   0.00 sec
```
 Actually, I think it failed here:

```
CMakeFiles/test-sqlobjects.dir/__/sqlitedb.cpp.o: In function `DBBrowserDB::tryEncryptionSettings(QString const&, bool*, CipherDialog*&)':
sqlitedb.cpp:(.text+0x3745): undefined reference to `CipherDialog::isSavePasswordEnabled() const'
sqlitedb.cpp:(.text+0x3893): undefined reference to `CipherDialog::password() const'
sqlitedb.cpp:(.text+0x38eb): undefined reference to `CipherDialog::pageSize() const'
collect2: ld returned 1 exit status
make[2]: *** [src/tests/test-sqlobjects] Error 1
make[1]: *** [src/tests/CMakeFiles/test-sqlobjects.dir/all] Error 2
make: *** [all] Error 2
```

but don't know why :(
 Maybe add a bold text line above the "Add password" horizontal layout thing, saying something like?

```
   BE AWARE: These passwords are stored on your hard disk in plain text.  If someone
             gets access to your computer, they are easy to retrieve.
```
 @glawrence Your idea of a password vault thing seems decent.

eg We create a small SQLcipher encrypted database just for holding the passwords, and the user can enter a master password to open it up.

That being said... we'd want it to be the most thoroughly vetted/stable/unbuggy code anyone has ever seen.  Just the thought of an accidental bug corrupting such a vault for potentially several hundred thousand users gives me the shivers. üò± 

With plain text, hopefully that's less of an issue.

Hmmm... thinking about it more, we should probably encourage people to backup their vault regardless (whether text or encrypted database), just to lessen the chance of disaster. :smile:
 So what's the plan?

Also, if we use a small SQLCipher encrypted database, the password needed to access it would be in this open source code, so what would be the point of it?
 Nah, it'd be a "master password" set by the user.  Not something we'd generate and store in the code ourselves.
 Hmmm... I'm tending towards thinking the master password vault thing might be the best direction to go.

@MKleusberg @glawrence Opinions?
 Sorry, I didn't understand well the first time. It sounds good, but I don't know where I would start ü§î
 Ahhh, I probably explained the thought badly then. :smile:

So, imagine that the first time the user clicks the "Add Password" button, a dialog pops up and says something like:

```
   Hi, before storing your passwords we need to create a safe place to keep them.

   We'll do that by creating an encrypted database in [some path name], and we'll
   lock it with a master password of your selection.

                                     [OK][Cancel]
```

If they click OK, then it asks for a password to use for encrypting this "password vault" database.

This "password vault" database is a simple SQLite database (with SQLCipher encryption), containing the fields you are showing in the images above:
- Filename
- Password
- Page size

When the user has given the "master password" to use, the code (in this PR) creates the database and encrypts it.

From then on, when a user presses the "Add Password" button, the info gets stored into this database.

Is that making sense so far?
 Hmmm, anyone know of decent security people we could ping to get some advice about this?

I can email Bruce Schneier and see if it's his kind of thing if that would be useful.
 Well, I understood the thought pretty well, I was referring to the implementation of this üòÇ 

Also, with this idea, when a user opens a crypted database, will he be required to enter that master password? If yes, that would be the exact opposite of what I tried to achieve using this PR.

In my very own personal case, I have multiple databases in multiple locations, and I often switch between them, and I want to open them by just double click.

If you think this is a bad idea and/or not useful for other people, I'll just keep this version in my fork and periodically sync and install it (üò¢ ).
 Ahhh... yeah, the "user needs to enter their password every time" was the thought.

Agreed, it does completely remove the ease-of-use approach you were going for.

Maybe the plain text approach + warning is the right idea for this after all.
 I don't want to lead to bad decisions though. @sqlitebrowser/developers, would it be ok (do you have time) to discuss this and agree a safe solution for this, before the next release? üòÑ 
 Some thoughts on this...
- FileZilla stores passwords as Base64 encoded, this has been criticised by a lot of people, hence my concern about storing in plain text
- Adding a warning that we are storing passwords in plain text is a more open option
- If the data in a database needs a password then I am sorry but in my view access should not be convenient
- we should store passwords properly, plain text and a warning is not good
- the "master password" should be used to encrypt the passwords and hence without it they are unreadable
- other open source projects work with this, like Firefox and Chrome, so it is possible, just hard work
- I am now wondering what Oracle's SQL Developer does......
 Thank a lot for the feedback!

So, the database needs a password for it to be accessed in an iOS app, but when working on it, I would want to access it fast, while keeping it encrypted.

I am definitely not saying you are wrong or something, it was just my use case.

But I still find the master password a little too much. Any idea how is Thunderbird storing the email's passwords? I can easily accesess password protected account without the need of a password. Can we apply the same reasoning/logic/implementation in DB4S?
 Yeah, this is the classic security-vs-convenience dilemma.

On one hand, adding a text based password vault is maximum convenience.  But completely nukes security if someone has access to the local PC.

With a text based solution, the security of the databases doesn't sound like it would be compromised for the use case where they're really only intended for external distribution - eg to specific other people on different computers.  Only yourself (and the external people) should have the password.  Anyone else obtaining it (eg in transit) wouldn't have it.

I wonder if there's a better way?  eg support both approaches, and the user can pick the one that suits them?
 I think supporting multiple (different) solutions is an superfluous overhead for the project. Maybe we should drop this or delay it until: one great solution is found / I have time to implement it / more users asks for this feature.
 The Thunderbird source should be online somewhere.  Depending on how clear the code is, it **might** be feasible to look through that for ideas.  Or even the Firefox code?
 k, going to close this for now.  If we figure out a better solution at some point, we can open it again or make a new issue. :smile:
 If you read https://support.mozilla.org/en-US/kb/password-manager-remember-delete-change-and-import and https://support.mozilla.org/en-US/kb/master-password you get a good idea of what is going on. The interesting item is if you reset your master password you lose everything. This is because the master is used to encrypt, without it you are stuffed. Yes, the source code will provide the answers but I think as a high-level design this is what we should work towards.
 Well, I did take a look at Firefox's help page and started a draft comment which I'll post now as it is, not to forget about it at all, and we can discuss more when I get back from the vacation.
 It looks like Firefox is offering a master password as an optional feature as described [here](https://support.mozilla.org/en-US/kb/where-are-my-logins-stored):

> On the other hand, putting all your logins in one place, unprotected, can be risky. Theoretically, someone who has access to your computer could open and view your logins in the Firefox Password Manager and go on an Amazon shopping spree ! Fortunately, Firefox lets you use a master password to prevent others from accessing your logins without your permission.

and [here](https://support.mozilla.org/en-US/kb/password-manager-remember-delete-change-and-import):

> Even though the Password Manager stores your usernames and passwords on your hard drive in an encrypted format, someone with access to your computer can still see or use them. The Use a Master Password to protect stored logins and passwords article shows you how to prevent this and keep you protected in the event your computer is lost or stolen.

So Firefox (and probably others too) is storing the passwords on the disk encrypted, most probably with a key that's in the actual source code, so it won't need 0 difficulty to retrieve them at least. 
 Agreed. So without a "master" password the passwords are recoverable. However with a master password they are, I believe, encrypted with the master password, so lose that and they are all lost. This means those that are not too worried can store their passwords and easily get them. However the more concerned can encrypt the password store with a "master" password, making them readable, only with the master password. I trust that makes sense.

Like you I just brain dumped here. I think we might need to start a Wiki page or something and agree some workflows or something. No hurry though, all in good time.
  @virusmiha Hmmm, accidental Pull Request? :wink:
 This is pretty clearly an accidental PR, so closing it.
  This definitely sounds like something we should track down and fix prior to 3.9.0.
 @abvanliew, Changed the milestone for the release following the next one as it probably requires some major changes which I and @justinclift are not able to do for 3.9.0.
 Then I'll take care of this, been lazy for last two weeks.
 @innermous, I _think_ the problem is in the parser stuff (eg `grammar/*`). I thought that maybe the bug is in antlr and we should update it (though we can't, atm).
 Yep, the bug was in the `grammar/*` code, though not in the antlr code but in our grammar file which is then parsed by antlr. Should be fixed now :) 

@abvanliew Can you test the next nightly build and report back if the issue is fixed for you?
 @abvanliew Out of curiosity, would you have time to check if the fix @MKleusberg added works ok?

We have an upcoming release (3.9.0) this weekend, that would be good to get the fix into (if ok).

I can create a Windows build for you to test with, if that helps. :smile:
 @abvanliew Yep, can do.  Btw, windows can run as either 32-bit, or 64-bit.  Do you know which one yours is?

If you're not sure, I'll just make a build for each one, and you can try them both to see which one runs.  It's not much extra time to do for either of us. :smile:
 @MvGulik Yep, not a problem. :smile:

It's late here at the moment (I need sleep now), but I'll get into this tomorrow morning.

In the meantime if you need a possible solution, try the automatically generated nightly build linked from here:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser#windows

That's a 32-bit one, and has the fix in it.  It also has some recent (untested experimental) code in it for other things... so I'd say there's a 50/50 chance of it even being usable.  But.. if it does, it might be ok until tomorrow. (make a backup of your data first!) :smile:
 Using the same nightly, if I change the SQL to `CREATE TABLE subject_data_tmp (pid INTEGER PRIMARY KEY ASC, pr_id INTEGER NOT NULL DEFAULT .5)` it works as required.
I also created a text field with a default of .5 (technically '.5') and that worked as desired too - it didn't get expanded to a default of 0.5.
 Thanks guys, that's awesome. :smile:

I'll mark this as closed now, plus add the fix to the 3.9.x series code.

Official 3.9.0 will very likely be released this weekend, so it's not a long wait. :smile:
  It's a reasonable suggestion, but it's not something we'll implement.

SQLite itself considers the flexibility of the datatypes to be a feature, and we'd be opening a weird can of worms if we didn't follow with the official position with it. :smile:

&nbsp; &nbsp; https://www.sqlite.org/datatype3.html
  A minor security issue has been reported via Twitter:

&nbsp; &nbsp; https://twitter.com/Ug_0Security/status/740569774548213760

![ckcisjgwkaa3ici](https://cloud.githubusercontent.com/assets/406299/15933265/fcf4f326-2e56-11e6-927f-4573202958a4.jpg)
 Just created a new "security" label. :wink:

@innermous Is this something you'd be ok looking into?
 @justinclift not a windows user, unfortunately. I don't know about proper windows packaging, sorry.
 Not a problem, wasn't sure. :wink:

I'll try to look into it this weekend. :smile:
 As a data point, the reporter has asked if we can give public credit for this somehow when it's fixed.

We don't have a blog, so unless we start one, that could be difficult.

As an alternative thought, we're due to release version 3.9.0 in the near future, which this bug should be fixed in.  Maybe that's the correct place to give public credit in this case?
 This should be a simple case or adding " around the path used to launch the vc_redist executables and any other executables the installer launches.
 @glawrence Cool.  Want to give it a shot? :smile:
 @DelphiGit The most optimal solution is to chuck your changes into a separate branch.

eg from the command line:

```
$ git checkout -b some_new_branch_for_issue621
$ git add foo bar baz
$ git commit
```

"Branches" are used to keep groups of related commits together, so things are neat.  Then, when someone clones your repository they can switch to a given branch with one command and only have the commits you added in it.

So... make a new branch for it. :smile:
 Yep, you succeeded, that looks good. :smile:
 So, for this issue to be fully fixed, we need the NSIS guys to update their codebase such that the generated uninstallers don't have the problem too.  Once that's done, new/future packages should be created with that, and we should be good. :smile:

But, at least for now one part of it is solved. :wink:
 As part of a discussion with the original reporter via email and Amir Szekely (@kichik) from NSIS, Amir pointed out it seems like CMake is the one at fault in this instance.  CPack (part of CMake) generates the NSIS script used to generate the uninstaller.  The template for that script isn't properly quoting things.  eg:
- https://github.com/Kitware/CMake/blob/master/Modules/NSIS.template.in#L916
- https://github.com/Kitware/CMake/blob/master/Modules/NSIS.template.in#L655

There may be other occurrences too.

The original reporter is in process of contacting Kitware, the main sponsors for CMake.

Will add further relevant info here as comes to light. :smile:
 After experimenting with a few things, adding quotes to the first part of the ExecWait line pointed out by Amir fixed the issue: https://github.com/justinclift/CMake/commit/af65a04f690e1d6e6e2d3aa3467116689ab12b4f

Hopefully Kitware gets a new release out soon.  If not, we can just use a manually patched version of the template file in CMake when making our next release.
 This is being addressed on the CMake developers mailing list:

&nbsp; &nbsp; http://public.kitware.com/pipermail/cmake-developers/2016-July/029039.html

The fix should be in CMake 3.6.1.
 @DelphiGit You up for doing more stuff? :smile:
 CMake 3.6.1 has been released, which includes the fix for the unquoted path problem for the 2nd half of the problem (during uninstall):

&nbsp; &nbsp; https://blog.kitware.com/cmake-3-6-1-available-for-download/

This issue can probably be closed now. :smile:
 That's great news, assuming the place where we do builds for releasing has CMake 3.6.1.....
 @glawrence Good point.  I'm going to attempt doing the builds for 3.9.0, just to make sure we have the capability whenever needed. :smile:
  Hmmm, looking at your screenshot... not seeing what you mean?
 Adding this 3.10.0 milestone, as it wouldn't hurt for us to at least investigate the possibility. :smile:
 Just pushed a commit that reduces the margin in there. There's more we could do to make this look better but I'm not sure we should. One reason is that this would mean the Database Structure tab would start looking different from the rest of the application. Another reason is that Qt does all sorts of things to make applications appear in different ways on different platforms and I'm not sure how much we want to interfere with that.

That being said, what does everyone think of the reduced margin? :smiley: Looking at this again now, and the reduced margin seems fine to me. :smile: @dridk Do you have a few minutes to try out a recent nightly build, and let us know if the reduced margin is now how you were meaning? :smile: > this would mean the Database Structure tab would start looking different from the rest of the application.

The other areas are now looking 'different' to the database structure tab.  So the docked SQL Log, DB Schema, etc, now have the extra margin.  

Personally, I prefer 'some' margin.

So this is how it is currently (latest nightly)

![image](https://cloud.githubusercontent.com/assets/7872218/24762914/bb4fa64a-1ae7-11e7-9199-03ca0c1fd808.png)

In my opinion, this would look odd:

![image](https://cloud.githubusercontent.com/assets/7872218/24763026/0cb12cac-1ae8-11e7-83c1-2298254f938d.png)

(with no right margin)
But it looks better with no left margin...  although now you've got a big gap in the middle between the two tab controls.

In the same vein, losing the left margin on the 'browse data' tab looks slightly better (which you can't replicate for the right margin)

![image](https://cloud.githubusercontent.com/assets/7872218/24763233/aa551d9c-1ae8-11e7-87da-90744914d09a.png)

Although you don't exactly gain a lot of screen space by doing it! Hmmm, yeah not sure.  On OSX with the latest source, the margins still seem to be there:
![screen shot 2017-04-06 at 17 28 03](https://cloud.githubusercontent.com/assets/406299/24765093/6dd68d32-1aee-11e7-943c-05b90f134e68.png)
  If you have some time to investigate on your end, make a copy of the database for yourself, then try emptying it of all the data (just leaving the tables).  If that no longer causes the crash, then it means there's something in the data triggering it.

If that's the case, then you'd be able to figure out the data-causing-the-problem by selectively removing stuff until only that is left. (again, using a copy of the original one)

Does that make sense? :smile:
 No worries at all.  We'll close this issue for the moment, but if you do get it to reproduce please open it up again. :smile:
  Ahhh yeah, that sounds like you are on the correct path.

Using multiple databases is a different thing, a bit more advanced.

Though to be fair, we need to fix the program so that works properly too. :wink:
 Any update on this? Basically there are two ways to work with multiple databases:
1) Open a second instance of DB4S and open the other database in there.
2) Attach another database (as mentioned above) to the main connection.

The problem with approach 2 is that (at least for now) the attached databases don't show up in the UI. But that's a different issue, I think :smiley:  @chrisjlocke The fix for this, made by @innermous, has just been added.

Would you have time tomorrow to try the (new) latest nightly build, to confirm it from your point of view? :smile:
  Ahhh, that's not good.

Would you be ok to try the latest nightly build? (download locations are listed on our front page)

There have been a bunch of fixes in it since the last release, many of which deal with crash type things. :smile:
 @ghost Have you had a chance to try the nightly build? :smile:
 Closing this, as it's been a month since asking and no update from the original poster.

@ghost, if this still happens for you even with the latest nightly build, you're welcome to re-open this issue again.
  This looks like a good idea.  From my point of view it would be welcome. :smile:
 The source for Heidi is available, so maybe take a look through that to get an idea of one useful approach? It may be you think of a better way, after seeing the way they do it. :smile:
  Ugh, I knew our constraint handling is buggy and needs improvement, but this seems pretty bad.

Just tested it here on the very latest source code, and it's busted there too. üò¶ 

Thanks for pointing it out @bontibon. :smile:
 Thanks for reporting this! It should be fixed in tomorrow's nightly build. Can you test that (see the main page of our repo for download links) and report back if it's working for you now? :smiley: 
  Have you looked at using project files yet?

In theory, they're supposed to do exactly this.  eg when you first open a database you open the database file as normal.  After that, you can save a "project file", which has all of the database specific adjustments (eg column widths) saved in it.  From then on in you open the project file directly (instead of the database), then DB4S will load the database & apply the settings.

Does that make sense?

Btw, if something's not being saved properly in a project file, that's worth filing a bug for to get it fixed. :smile:
 Sure, there's that.

Though on the other hand, some people can be a bit unhappy when tools add their own metadata/info into a database (mostly if it's unexpected).

We could probably make it config option or something, if it's something you feel others would prefer too.  eg "store project settings inside the database" ?

That being said, I have no idea of the effort required to implement this.  If it's a pain, it's unlikely to happen. :wink:
 Cool, those are good feedback points, I might dig into them this weekend. :smile:
  Fixes #610.

Expanded out many of the functions so they can be single stepped
through easily by newbies (eg me), which allowed for identifying
(then fixing) a few minor bugs.
- if setSeparatorChar() had an empty value passed to it the first
  time, then in subsequent calls it would silently use \0 instead,
  including using that in the output CSV data.  Likely not great. :wink:
- the empty option for the quote separator is now correctly retained
  between runs of the dialog
 Hmmm, I've seen both styles of bracket placement in the code already.  (eg do a grep -r "else" from the main dir)

So, I just picked my preference. :smile:
 After sleeping on it, I kind of think the switch statement approach used in currentNewLineString() is super clear and without unwanted side effects:  https://github.com/sqlitebrowser/sqlitebrowser/blob/master/src/ExportCsvDialog.cpp#L322-L334

So, I might try redoing some of the methods in this PR using that, and see if it's an improvement. :smile:
 Yeah, its a good idea. :smile:
 With indenting the cases... I actually remember my decision here.  I went with the default that Qt Creator set them to when I first entered the switch keyword and hit return.

Personally, it's not something I care much about, so if we decide to have a defined coding style for them I'm happy to do whatever. :smile:
 Rewrote the functions using a switch statement.  Also fixed another minor-ish bug in the output, found when examining the csv output using hexedit.

Side note, that [hexedit](http://rigaux.org/hexedit.html) util is nifty.  Nicely, it's available via Homebrew (`brew install hexedit`).
  Noticed another weird bug in the Export CSV dialog, while investigating a different one (#605).

The new weird bug is that the 3rd option for the Quote separator character is never selected correctly in the widget.  It may be something to do with string matching on the character, due to the way the compare in the function is run.

Need to look into it properly after a decent amount of sleep though. :smile:
 Thanks.  Yeah, I didn't know there were so many bugs in some of these areas.  Fixing now... :smile:
 As a data point, I'm needing to adjust the code in this file just so it's easier to trace/debug through.

eg: https://github.com/justinclift/sqlitebrowser/commit/203c51759f809215ce66387eb1c475777b88a62d

Not sure if there's a better way.
  I'm opening this issue to discuss two ideas regarding the technologies we want to use and/or support. The two ideas are totally independent, so let's try not to confuse them :wink: 
## 1) Start using C++11 (or C++14 or C++17)

There are some nice to have features in the newer versions of C++. Most of them we will probably never use, especially since we're relying very much on Qt, but still there are plenty of helpful additions to the language. This could make our code cleaner and more efficient.
The downside is the compiler support. While pretty much every compiler should support C++11 to a large extend _by now_ there are still many old compiler versions out there which will have trouble with certain C++11 features. Furthermore, most compilers require the user to explicitly activate C++11 support. This makes the project files and the build processes slightly more complicated.
Questions:
- How about the nightly builds for Windows? What compiler version does mxe use? Let's not break the nightlies and let's not put too much work on Rene here.
- How about building on WIndows? I have no idea how well C++11 is supported on MSVC nor how to activate it.
- What documentation would we have to update?
- Any other processes relying on the current way it's building? If so, can we break them?
## 2) Drop Qt4 support

Qt4 is no longer maintained and it doesn't make sense to support it forever. At the moment we're limiting ourselves to the features supported by both, Qt4 and Qt5. Again, there's nothing major we're unable to do because of this but it would make the code a bit cleaner to be able to assume there's only Qt5 to support. I also see a chance of making the documentation and debugging a bit easiert by dropping Qt4 support because we can just make clear that we don't support it (and thus don't need to document it) and assume that each issue reported comes from a version compiled with Qt5 (since it won't compile with Qt4 anymore).
Problem: As far as I know, the Windows nightlies are using Qt4. If we dropped Qt4 support Rene would have to update the build process.
Also, I remember some issue or two where people would have problems with the Qt5 builds but got better results with the Qt4 builds. Does anybody remember these issues? Some font/display thing probably?
Questions:
- Does anybody else use Qt4?
- Which version of Qt5 do we want to be the minimum requirement? Qt 5.0 doesn't make a lot of sense I think, but the latest version doesn't make much sense either.

So what do you all think? :smile: 
I'm pro C++11 and pro dropping Qt4 but definitely don't want to rush this.
 For 1), I have no opinion as I don't grok the difference yet. :wink:

As a way to see what breaks, we might want to add a stub C++11 feature to master for one night to see if MXE still creates the build or not.  If it does, then great.  If not, well we have our answer for that bit :smile: and can just revert it.

For the nightly windows builds, it's probably a decent idea for us to set up a new nightly builder using MXE.  I set up an initial CentOS 6 VM in Rackspace about a week ago for testing other stuff on, though I haven't yet looked to see whether MXE works there.  Rackspace supports a bunch of different OS's though, including Arch 2015.7 (just checked), so if someone wants to get it building there via cronjob that's completely workable.  I'm not familiar with Arch though, and don't really feel like getting back into Linux if I can help it right atm. :wink:
 For 2), things broke when creating the OSX packages using Qt5 for um.. the 3.8.0 release I think.

By "broke" I mean that they seemed to work fine for me, but the .app created was just crashing for some people.  No idea why, as there didn't seem to be anything clearly in common with the reports (apart from being OSX, though across multiple versions).

I don't have enough clue with debugging OSX crashes yet to chase down why.  If this problem can be resolved, it would help. :)

Note - I kind of suspect it might be something to do with OpenSSL.  Maybe the builds were relying on system OpenSSL instead of Homebrew one?  I'm unsure, and don't remember.

As an additional point, at least OS/2 doesn't have Qt5 available.  Or didn't when support for that was added a few releases ago.  It's a pretty minor platform in usage though, so I'm not sure we should keep with Qt4 just for that. üòá 
 @innermous @glawrence What are your thoughts on this? :smile:
 My personal view is we should move to the latest Qt as soon as possible and that this should be the priority as this can deliver real benefit to end users. Then I see no reason why we shouldn't move the latest C++ standard, providing Qt is compatible as well as all our build processes. Although in many ways I would rather see the builds fixed but we need to consider how best to use people's time and skills.
 To drop Qt4, we need to figure out a solution for the static build problem (MXE), and the OSX problem.

Those two seem to be the only things really stopping us for Qt5.

For doing Qt5 things in a separate branch... ugh.  That sounds like a not-great idea to me.  It would be too easy to only implement features in Qt5 branch, ignoring the Qt4 one.

We would be better off doing stuff with Qt4, and then update to Qt5 once the migration problem are solved.  That one there is only one active development branch. :smile:
 I've just been reading https://wiki.qt.io/New_Features_in_Qt_5.7 as Qt 5.7 is coming soon, the point to note is the first item "C++11 Support Required from the compiler". So even if we don't switch to Qt5 on all platforms straight away, C++11 is the right path to be going down.
 @glawrence I already mentioned it :smile: 
 Sorry @innermous you did, I forgot that
 One new hiccup with Qt5.  Unlike Qt4, the Qt5 version of `macdeployqt` (a utility it ships with) doesn't work properly. üò¶ 

Using `macdeployqt [name of .app]` is **supposed** to correctly determine the shared libraries needed by the .app, then bundle them into the .app package for deployment.

With Qt4, it "just works".  With Qt5, it fails to work correctly, even when claiming success.

Leading to things like this when users try to run it:
![screen shot 2016-08-14 at 17 13 37](https://cloud.githubusercontent.com/assets/406299/17650348/32cd0306-6243-11e6-9fe6-e9887f659d38.png)

We're not the first to have this happen.  It has generated a reasonable level of negativity towards Qt by OSX developers.  Hopefully there are good workarounds already written up, rather than needing to debug and fix macdeployqt itself.

I'll try to solve this for the main 3.9.0 release next weekend, but who knows... :wink:
 As an interesting data point from quick testing on my OSX desktop.

When DB4S is built using the "official download" version of Qt 5.7.0 - the one through their online installer - rather than using the latest Homebrew one (5.6.0), then `macdeployqt` didn't screw up the dependencies.

I'll try it on our build server soon.  Hopefully the fix really is this simple. :smile:
 Yay, that worked. :smile:

Going to add the Qt5 build to our 3.9.0-beta1 release page... and see if people start reporting crashes.  Hopefully not. :smile:
 Not really up to date here... but if this build turns out to work, are there any reasons left to _not_ drop Qt4 support?
 As far as I know... this was the last really concrete thing holding us to Qt4. :smile:

We could be ok to say "right, we're Qt5 only from now on!" in just a few weeks. üëØ 
 Ahhh... the Windows nightly builds may need investigation too.

One alternative might be to attempt automating the nightly Windows builds on Windows itself.

Our OSX build box has Win 7 x64, SQLCipher, and the rest of the pieces needed for building DB4S in a VM.  It's not fast, but the box itself doesn't really do anything else and is (so far) very stable.
 We'll need to figure out Travis CI too.  It's using Qt4 at present.

It may be as simple as changing the `libqt4-dev` here to `libqt5-dev`:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/.travis.yml#L9

Travis automatically builds on any branch in the repo, so we can experiment in a temporary "qt5test" branch to figure this out.  When we know exactly what's needed, we can commit that specific change to master. :smile:

@revolter Any interest in getting this done?
 When building with cmake Qt4 is still the default, you have to enable Qt5 for building using the `-DUSE_QT5=1` option. The only exception is building on Windows using MSVC where Qt5 is the default. So this would need to be adjusted for Travis, too (besides the libqt4-dev).

I could change the build files to use Qt5 as default. But this would break the nightlies.
 Oops.  Obviously hadn't read the rest of the Travis config properly. :wink:
 @justinclift, I guess I can't understand this properly to fix it.
 No worries.  I can guide you through it on the Gitter channel if you're interested?
 @MKleusberg Qt5's new approach to image handling - using plugins - seems like it will stop static builds from being very useful: https://github.com/sqlitebrowser/sqlitebrowser/issues/579

We'll definitely need to look at automating MSVC to create the nightly builds instead.

Another aspect of static builds... the Qt5 licensing has changed slightly from Qt4.

Looking at the [GPL license compatibility list](https://www.gnu.org/licenses/license-list.html#GPLCompatibleLicenses), we seem to be ok though.  But, that's from a rough read of things and I'm not a law professional. :wink:
 These might be useful.  They're the MSVC2013 reference pages about its C++11 support:
- https://msdn.microsoft.com/en-us/library/hh409293(v=vs.120).aspx
- https://msdn.microsoft.com/en-us/library/hh567368(v=vs.120).aspx
- https://blogs.msdn.microsoft.com/vcblog/2013/06/28/c1114-stl-features-fixes-and-breaking-changes-in-vs-2013/

These are for MSVC2015, which I've not tried building DB4S with yet:
- https://msdn.microsoft.com/en-us/library/hh409293.aspx
- https://msdn.microsoft.com/en-us/library/bb531344.aspx
 Updated our OSX nightly build script today.  It's now building with Qt5 (and signing the .app's), so that's one less thing to take care of. :smile:
 There's a problem with Qt5 not showing all data records, on at least OSX: https://github.com/sqlitebrowser/sqlitebrowser/issues/737#issuecomment-241616641

It happens for both SQLCipher and non-SQLCipher builds.  When dropping back to Qt4, the issue goes away.

Haven't tried on Window yet, to see if it's just an OSX-only thing.
 I think I'll do a quick test and push a commit which introduces some C++11 code just to see if and where it's failing :smiley:
 Just noticed something interesting while looking into #786.

CentOS doesn't include Qt5 in any of it's repositories.  It _can_ be manually compiled though.

This will need to be thought through... üò¶ 
 @revolter pointed out [this page for deploying Qt5 applications on Windows](http://doc.qt.io/qt-5/windows-deployment.html).  Specifically, it seems to cover Qt5 plugins in some depth.
 Just got rid of all the Qt4 stuff in our codebase :D I guess Vlad can start celebrating now :champagne: :tada: 

@justinclift One more thing to do :wink: Can you maybe have a look at that Wiki page (https://github.com/sqlitebrowser/sqlitebrowser/wiki/Notes-for-setting-up-your-build-environment-on-OSX)? It looks outdated to me, especially now, but I'm unsure if it still contains some useful information.
 Thanks, good thinking.  Just updated that page with we're-Qt5-only-now info. :smile:
  Ahhh, that's interesting stuff.

With the SQLCipher support, I wrote up initial instructions on my fork of the wiki, but haven't transferred them to the main one as they're not finished yet.  That being said, there's enough info in them that you'll probably be able to work it out.  Look at step 7:

&nbsp; &nbsp; https://github.com/justinclift/sqlitebrowser/wiki/Win64-setup-‚Äî-Compiling-SQLCipher#7-compile-sqlcipher-into-db4s

With the Retina support for OSX, it sounds like it might be related to this:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/commit/f0d692547031c43b29243fd162e0e973ad55adbd

Not sure why it's not in effect for you though.  Maybe there's and #ifdef or something around that's stopping that being applied to your system? üò¶ 
 @revolter Was the above helpful at all?

The error text in your comment above is indicating it's finding the SQlite3 libraries, not the SQLCipher one.  On my OSX development box I generally find I need to remove sqlite (`brew remove sqlite`) and ensure only sqlcipher (`brew install sqlcipher`) is installed.  That's the case even with `CONFIG+=sqlcipher` added to the qmake line, as per screenshot above.

In theory, it should be possible to make SQLite3 + SQLCipher co-exist on the same development machine ok.  In practise... I haven't quite figured that out yet. :wink:

Btw, I'm looking back at this stuff now that I've got my home lab setup mostly working.  Your feedback is definitely useful. :smile:
 Yeah, I'm using Qt Creator 4.0.0, manually downloaded from the Qt website, with SQLite/SQLCipher installed through Homebrew too.

Not 100% sure, but I don't think Homebrew has a formula for Qt Creator.  It's completely possible I'm wrong though. :wink:

With the Qt version, so far I've been finding that if I have qt installed through Homebrew, it seems to confuse Qt Creator (gets the wrong one) and generally fails.  So I've been using the version of Qt5 that comes with Qt Creator instead.  Pretty sure that would be fixable too, with some adjustment of paths and stuff.

Btw, yeah, the `remote` vs `remove` was a typo.  Fixed now, thanks. :smile:

For breaking OSX stuff... it depends.  It won't break OSX itself, but if you have other Homebrew formulas installed using it, they'll barf until it's put back.

For me that's workable, as I don't really need anything else installed while doing dev stuff.  That may not be typical though.
 Heh Heh Heh, unfortunately nope. :wink:

The error you're getting there is shown by the third line in that:

```
  Expected in: /usr/local/lib/libJPEG.dylib
```

Notice the path for that is /usr/local/lib/ [stuff]  ?

It looks like something is trying to run, and depends on a Homebrew installed version of libJPEG.

Guessing you removed more than just SQLite? :smile:
 Interesting. What does your `brew list` output show?

Btw, I'm kind of wondering if just recompiling jpeg ('brew remove jpeg --force; brew install jpeg`) would do the trick to fix that error. :smile:
 Btw, what's the program you're trying to run that's failing?  It's not henplus is it?
 Ahhhhh.  Wasn't sure from the context. :smile:
 I have a tendency to wipe my brew's out prior to getting into dev stuff, then just installing the one's I need for that.  After doing dev stuff, I run the brew install line to install them all again.

My list is a bunch shorter than yours though, so that may not be feasible for you. üòá 
 üò¶ 

The `otool` command looks like it would be interesting, and help if you hit problems like this again:

```
$ otool -L src/sqlitebrowser.app/Contents/MacOS/sqlitebrowser 
src/sqlitebrowser.app/Contents/MacOS/sqlitebrowser:
    /tmp/sqlcipher/lib/libsqlcipher.0.dylib (compatibility version 9.0.0, current version 9.6.0)
    /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1213.0.0)
    /System/Library/Frameworks/Carbon.framework/Versions/A/Carbon (compatibility version 2.0.0, current version 157.0.0)
    @rpath/QtPrintSupport.framework/Versions/5/QtPrintSupport (compatibility version 5.6.0, current version 5.6.0)
    @rpath/QtWidgets.framework/Versions/5/QtWidgets (compatibility version 5.6.0, current version 5.6.0)
    @rpath/QtMacExtras.framework/Versions/5/QtMacExtras (compatibility version 5.6.0, current version 5.6.0)
    @rpath/QtGui.framework/Versions/5/QtGui (compatibility version 5.6.0, current version 5.6.0)
    @rpath/QtNetwork.framework/Versions/5/QtNetwork (compatibility version 5.6.0, current version 5.6.0)
    @rpath/QtCore.framework/Versions/5/QtCore (compatibility version 5.6.0, current version 5.6.0)
    /System/Library/Frameworks/OpenGL.framework/Versions/A/OpenGL (compatibility version 1.0.0, current version 1.0.0)
    /System/Library/Frameworks/AGL.framework/Versions/A/AGL (compatibility version 1.0.0, current version 1.0.0)
    /usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 120.0.0)
```

In theory that should show every library which the target executable needs (the sqlitebrowser executable in the above line.)  If something is missing, it should explicitly show it.
 Yeah, I'm not sure.  I'm not clueful enough with otool yet to know.

It _might_ be one of the libraries in the list from otool was relying on it (Qt?), and a version mismatch happened for some reason.  Wild shot-in-the-dark guess though. üò¶ 
 Hmmm, this is interesting in a non-good way:

```
$ otool -L src/DB\ Browser\ for\ SQLite.app/Contents/MacOS/DB\ Browser\ for\ SQLite 
src/DB Browser for SQLite.app/Contents/MacOS/DB Browser for SQLite:
    /usr/local/opt/sqlcipher/lib/libsqlcipher.0.dylib (compatibility version 9.0.0, current version 9.6.0)
    /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1213.0.0)
    /System/Library/Frameworks/Carbon.framework/Versions/A/Carbon (compatibility version 2.0.0, current version 157.0.0)
    @rpath/QtPrintSupport.framework/Versions/5/QtPrintSupport (compatibility version 5.6.0, current version 5.6.0)
    @rpath/QtWidgets.framework/Versions/5/QtWidgets (compatibility version 5.6.0, current version 5.6.0)
    @rpath/QtMacExtras.framework/Versions/5/QtMacExtras (compatibility version 5.6.0, current version 5.6.0)
    @rpath/QtGui.framework/Versions/5/QtGui (compatibility version 5.6.0, current version 5.6.0)
    @rpath/QtNetwork.framework/Versions/5/QtNetwork (compatibility version 5.6.0, current version 5.6.0)
    @rpath/QtCore.framework/Versions/5/QtCore (compatibility version 5.6.0, current version 5.6.0)
    /System/Library/Frameworks/OpenGL.framework/Versions/A/OpenGL (compatibility version 1.0.0, current version 1.0.0)
    /System/Library/Frameworks/AGL.framework/Versions/A/AGL (compatibility version 1.0.0, current version 1.0.0)
    /usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 120.0.0)
```

That's from a brand new compile of DB4S, with updated source (note the new executable name).

This is the same thing, but with sqlcipher uninstalled (`brew remove sqlcipher`) after compiling:

```
$ otool -L src/DB\ Browser\ for\ SQLite.app/Contents/MacOS/DB\ Browser\ for\ SQLite 
src/DB Browser for SQLite.app/Contents/MacOS/DB Browser for SQLite:
    /usr/local/opt/sqlcipher/lib/libsqlcipher.0.dylib (compatibility version 9.0.0, current version 9.6.0)
    /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1213.0.0)
    /System/Library/Frameworks/Carbon.framework/Versions/A/Carbon (compatibility version 2.0.0, current version 157.0.0)
    @rpath/QtPrintSupport.framework/Versions/5/QtPrintSupport (compatibility version 5.6.0, current version 5.6.0)
    @rpath/QtWidgets.framework/Versions/5/QtWidgets (compatibility version 5.6.0, current version 5.6.0)
    @rpath/QtMacExtras.framework/Versions/5/QtMacExtras (compatibility version 5.6.0, current version 5.6.0)
    @rpath/QtGui.framework/Versions/5/QtGui (compatibility version 5.6.0, current version 5.6.0)
    @rpath/QtNetwork.framework/Versions/5/QtNetwork (compatibility version 5.6.0, current version 5.6.0)
    @rpath/QtCore.framework/Versions/5/QtCore (compatibility version 5.6.0, current version 5.6.0)
    /System/Library/Frameworks/OpenGL.framework/Versions/A/OpenGL (compatibility version 1.0.0, current version 1.0.0)
    /System/Library/Frameworks/AGL.framework/Versions/A/AGL (compatibility version 1.0.0, current version 1.0.0)
    /usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 120.0.0)
```

It's not showing up big warnings for missing libraries after all.  Definitely need to investigate this more.
 Ahhh, yeah.  There have been a few changes on the master branch in the last few days, including changing the application name to `DB Browser for SQLite` finally.  Way overdue.

Um... maybe take a note of the latest commit you have for your master, so you can reset back to it if the latest code upsets your now-its-finally-working setup? :smile:
 I normally do:

```
$ git checkout master
$ git pull
```
 Ahhh yeah, that looks good too. :smile:
  Yeah, our constraint handling definitely needs work at the moment.

It's fairly common to find busted things in it with the present release. üò¶ 

As a thought, we have made _some_ bug fixes for this part of things, though not nearly enough (yet).

Which platform are you using?  If it helps, there's a chance the nightly builds might at least address the bug you're hitting at the moment.  Worth a try if you have the time. :smile:
 @innermous If you're ok with investigating some of the harder pieces, do you want to look into this?
 Thanks.  That's one of the two main things I think we should improve for the next release.  The other one is to fix the data entry side of things, so that people can quickly enter many values into cells, by just pressing enter (or tab) to get to the next one.  It used to work, but the "Edit Cell" window thing now seems to break it.  I've been meaning to investigate it properly, but haven't yet done so. :wink:
 @MKleusberg did you work on this issue? I barely can do anything about it, my only thoughts are to use proxy model and submit new row data to sql database as soon as that new row is edited and another row is selected/enter pressed, as it was suggested before.
This issue is really gamebreaking and nuts, it makes the work with complex constraints impossible. Maybe we can come together to solution.
And btw @justinclift there are 2 or 3 similar issues in tracker, we should probably close them, since we have this thread.
 @Novo55 Unfortunately... this is unlikely to be fixed for the upcoming 3.9.0 release (maybe next week).  It's very likely to be fixed for the one after that though, as it annoys us all and we're sick of this problem hanging around. :wink:
 @Novo55 As a possible workaround for now (after making a backup of your database, just to be safe), trying turning on the "Ignore Check Constraints" Pragma.

It's the 6th one down the list, in the "Edit Pragmas" tab of the main interface.  With that turned on, you can probably add the records you want.  After you're done, turn if off again.

Does that help? :smile:
 Awww rats.  Well, hopefully the release after our next one has this fixed properly. :smile:
 @Jeff-G As a thought, would you be ok to try **today's** nightly build?  @MKleusberg was fixing some of the constraint stuff last week, and it should be in better shape now.

Note the "**today's** build" wording though.  We added some experimental code this afternoon, which could break tonight's automatic nightly build (we're testing some things out).  There may not be a good nightly build from tomorrow onwards for a few days... :wink:
 Thanks Steve. :smile:
  Ahhh, interesting catch.  Give me a few minutes to verify this, then if good I'll merge it. :smile:
 Thanks @revolter, that's perfect. :grin:
 üòÄ

More are welcome. *hint\* *hint*

Just sayin'. :smile:
 @revolter Many thanks from my side, too, for this PR :smiley: If you feel like doing more PRs but need any help with it just open an issue or a half-finished PR and we'll try our best to help you.
 Yeah, that's generally the best practise approach.

That way your patches don't depend on each other, which can be a bit weird if an earlier one needs changing before it gets accepted. :smile:
 Also, I think if you accidentally have multiple PR's in one branch, they'll overwrite each other in GitHub.
  Reading through that, I'm a bit uncertain.  When you say "text can be entered into the cell", you're meaning the "a", "b", "c", d" above in the Not NULL, PK, AI, and U fields?

If so... that does sound like a bug.  Not sure if it's in DB4S or in Qt though.  If it's in our code, we should fix it. :smile:
 Errr, I've been meaning to look into this one, even if just for improving my understanding of Qt widgets. :smile:
  Ahhh, I guess it means the Windows nightly build box isn't autoupdating its packages.

I've just emailed @rp- to see if he's ok to fix that.
 @jungle-boogie Received an email from @rp- this morning saying the Windows nightly build box should now be auto-updating its packages.

Want to try the build tomorrow and verify things from your end? :smile:
 Awesome. :smile:
 Looks like 3.13.0 is still bundled with sqlitebrowser , but sqlite team has released 3.14.0, 3.14.1, 3.14.2 since then.

In a couple weeks (or less) 3.15.0 will be released.

sqlite releases happen quite often, as you can see here:
http://sqlite.org/chronology.html

13 releases for this year alone.

Prior to a release of sqlitebrowser, perhaps sqlite could be updated to the latest sqlite version. Then after that, follow sqlite's releases once a quarter? once a month? every releases?

I have no idea what would work best with the team, so happy to hear some input.
 AFAIK, we don't use SQLite anymore, and instead, we package the Windows and the macOS apps with SQLCipher. So they need to merge the new releases into it. But I'm not sure this is correct, @justinclift knows the best about this.
 What made the project switch away from sqlite itself and move to SQLCipher? Could that have been added as an extension?
 With SQLite vs SQLCipher, it's a "one or the other" thing when the build gets compiled.  It doesn't seem possible to have SQLite be compiled in, and also include SQLCipher on the side.

People generally don't seem to be demanding the newest things from SQLite anyway, so adding encryption as an option for everyone seems like a decent win.

The SQLCipher team will hopefully make a new release soon, and it'll probably be based on something much newer. :smile:
 So I got it right üòÑ And, yeah, I think there would be more upset people (including me) if we drop SQLCipher support than if we don't support latest SQLite feature. That doesn't mean that not having the latest features is a good thing, but as @justinclift said, we can't do both, so we only have to wait for SQLCipher to release new versions.

Does that make sense? If yes, is it ok to close this issue? üòÑ
 Hi @justinclift, @revolter,

It's not always about new features when upgrading, right? Bugs are fixed and many optimizations are made. Just take a look at the changes page:
https://www.sqlite.org/changes.html

You'll notice that there are new "features" but it seems there's a number of optimizations (using that very generically) and bug fixes.

Being dependent on SQLCipher may mean it's a good pairing with sqlitebrowser, but it also means users will miss out on sqlite's improvements. 
 Yeah.  On the balance of things, having encryption available by default seems like the right choice. :smile:
 Would it be possible (as a feature...) to download sqlite.dll / sqlcipher.dll and plonk that next to the db4s.exe (not that its called that of course...) and it looks at that instead of its compiled version?  Of course, if the .dll is missing, it uses its compiled version.  This would mean the people who want the latest version of sqlite.dll to fix an issue can have that, otherwise they can have the sexy encrypted cipher version...

Guess its a bit like how WinAmp and the like work ... the mp3 DLL was shipped with the .exe, otherwise you could point it to a different version.

For me, I'd prefer the fixes and improvements[1] than encryption.

[1] Admittedly the improvements are mainly in the _use_ of the database, so are given to the users in a production environment, rather than in _development_ of the database, ie, adding tables, fields, etc... my main use of DB4S...
 Interesting idea.  If someone (eg not me) knows out to implement that in a practical way, then ok, it's possible.

Alternatively, we could provide a build for each:
- Win32 + latest SQLite
- Win32 + latest SQLCipher
- Win64 + latest SQLite
- Win64 + latest SQLCipher
- OSX + latest SQLite
- OSX + latest SQLCipher

So far I've been viewing that idea as "unnecessary complication", rather than something that would benefit people.

Any ideas if there's a better way to do it? (the "provide your own .dll" thing seems too hard at the moment)
 Wow, that does seem to complicate the build process. Maybe the only change being to include Win32 + latest SQLite?
 The build process would be more icky yeah... I'm also thinking of the download page as well.  6 buttons instead of 3.

We definitely have novice users hitting the website, thus my strong desire to keep that particular side of things simple.

If you really want the newest SQLite included in builds, when I get around to making the new [automated Windows nightlies for Qt5](https://github.com/sqlitebrowser/sqlitebrowser/issues/775), I can make sure that it spits out both SQLite and SQLCipher versions.  The OSX nightlies do that already, so it'd just be copying that approach.

This will only suit the people who know where to look though.  Most likely [here](http://nightlies.sqlitebrowser.org/win64/).

Thoughts?
 Right, I don't think there would be an easy way to really explain the differences between 
Win32 + latest SQLite and Win32 + latest SQLCipher to novice users on the download page.

I'm perfectly happy with your proposal and I'm thankful you've kept an open mind to the thoughts (not even going to say concerns) I've brought up.
 No worries.  Sounds like we have a solution then. :smile:
 @jungle-boogie Would you have the time/interest to try out the new Qt5 based Windows nightly builds?

There are builds with SQLite, and with SQLCipher, for both 32 and 64 bit windows:
- http://nightlies.sqlitebrowser.org/win32/
- http://nightlies.sqlitebrowser.org/win64/

In theory (!) they should be good, but it wouldn't hurt to have someone double check and make sure. :smile:
 @justinclift,

Both installed and worked without an issue for my quick testing!

Can @chrisjlocke give them a shot, too?

Thanks for the efforts on building both!
 Excellent @jungle-boogie, thank you. :smile:
  Hmmm that's a bit difficult to parse. :wink:

In the title where it says "Save the table ..." do you mean that this is happening in one of the export dialogs?
 This might be difficult to fix since this is a Qt thing as far as I can tell. On my system the dropdown list immediately closes after clicking an item, so no chance to click on another one during the loading process. Which OS and which version of Qt (see the About dialog of DB4S for that) you're using by the way?
 I finally recorded this: https://vid.me/E2IG. I know it looks forced, but it happens quite often when being in a rush.
  Cool, that looks pretty straightforward.  I'll test it tomorrow, after I get some sleep.  Might need to get @MKleusberg to look over the code first too, as I'm still in early stages of learning C++ myself.
 @innermous Thanks a lot for this contribution, Vlad! Looking really good :smiley: I have only two remarks here: the first one I've put into the code. It's about not copying NULL values to the ditto row. The second one is that it might be a good idea to check if the user is currently browsing a view or a table. And if it's view we should deactivate the 'Duplicate row' action. It currently fails with an error message, so it's not too bad, but as it'll _never_ work we might as well disable it. This would probably belong in MainWindow::showRecordPopupMenu(). Are you interested in implementing this? :smiley: 
But again, other than that this looks really good. So thank you very much for all your effort here :+1: 
 @innermous Sorry for not having been more explicit there! @revolter is right, I meant the view database objects that are created by a CREATE VIEW command, like this one:

``` sql
CREATE VIEW viewtest AS SELECT 1;
```

Execute that, select that view in the Browse Data tab, and try to duplicate its row. At the moment this will result in an error message, so the option to duplicate rows on views should probably be forbidden :smiley: 
 Yeah, Qt4 is still important to us.  Although Qt5 has been around for a while now, we still need to maintain compatibility with the older version for at least a few more releases. :smile:
 @innermous Sorry Vlad.  I have only recently started learning C++ & Qt, so I don't have the experience to understand this properly and give it a pass/fail.  Instead, I rely on @MKleusberg, who does have the experience.

He is in EU timezone, but can get very busy with his study (at University) and job, so it's not always super fast.

When I have more experience with C++/Qt, this should be faster.

Again, sorry it is taking so long and being frustrating. üò¶ 
 Hopefully yes. :smile:
 Btw, I'm not being lazy. üòá 

This weekend I have been putting time into fixing a different project ([#5](https://github.com/freenas/freenas-build/pull/5), [#6](https://github.com/freenas/freenas-build/pull/6), [#7](https://github.com/freenas/freenas-build/pull/7)), because I am trying to get my home LAN working.  That is almost finished now, so I should be able to focus back on sqlitebrowser (and learning C++/Qt) soon. :smile:
 @innermous Sorry for the delay! But it's all looking good now :) As for the C++11 comment: I'm totally for using C++1, but I'll open a new issue first to have a discussion about that. There are pros and cons to this, so let's see what everybody thinks about this...
Anyway, thanks again a lot for this code! :smiley: 
  Yep, good idea. :smile:
 In theory, this should be fixed now.  Only tested it on OSX and Windows though. üòá 

@jungle-boogie Would you be ok to compile the latest master code, and verify the fix on Linux?
 The fix was really simple: https://github.com/sqlitebrowser/sqlitebrowser/commit/f05e3a211c393bb21686aaf41b680176e608a8ea :smile:
 Excellent. Thanks for verifying it and letting us know. :smile:
 @jungle-boogie Would you have time to try compiling and using the latest code again?

Made some changes a few days ago to the CSV export pieces, adding a newline option to the dialog, and some other minor cleanups there too.  Would be useful to have someone else cast their eye over the end result. üòÄ 
 Awesome @jungle-boogie!

Thanks for keeping an eye on it. :smile:
  Ahhh, interesting crash. :smile:  I'll take a look at verifying it, then this fix, then merge it in a few hours.  (doing other stuff atm)
 Yep, bug and fix confirmed.  Thanks heaps for this @innermous. :smile:
  Hmmm, which version are you using?  Isn't the font adjustable via the Preferences menu? :smile:
 Cool, no worries at all.  We've added a few new things that can be changed in our latest source code (and available in nightly builds).  But there doesn't seem to be anything for the cell editor font.

So, that would probably be useful to add. :smile:
 No worries.  It's probably not that hard to get this fixed too. :smile:

Might attempt it later on today.
 @pier4r @mjbe Just added some code which sets the cell editor font (both text and binary modes) according to the setting in Preferences ‚Üí Data Browser ‚Üí Font.

Would either of you have time to check the latest nightly build (tomorrow), to verify it works from your point of view?  Download locations are on the front page of our project, if that helps. :smile:
 Cool!  Good luck with the crevice. üòÄ 
 Closing this, as it's almost definitely fixed.  Been using it here for a few days (on OSX) and no issues so far.

If it does turn out to not work properly for either of you for some reason after all, feel welcome to reopen this so we can investigate. :smile:
  Good point, that would be useful. :smile:
 I agree, good idea :smiley: That's why I've finally implemented it :wink: If you're still around, @tonypdmtr, are you interested in testing tomorrow's nightly build to see if it's working for you? Awesome :D By the way, I totally forgot to mention: you have to search for ```=NULL``` (all capital letters) for this. Is this in the current nightly?  Doesn't seem to work for me...

![image](https://cloud.githubusercontent.com/assets/7872218/22584235/35ab4186-e9e9-11e6-8d74-f4b450cd6f40.png)
 It definitely should be in there. I've also just tried this again and for me it's working. Very weird. Are you sure you're using the latest nightly build? Sorry, I apologise. Downloaded the last nightly, but the last nightly was yesterday's... there doesn't seem to be a nightly for this morning. Didn't look that closely at the date... Unfortunately, as per my message above, the nighties are temporarily unavailable. They be broke. Hopefully normal service will be resumed shortly. Sorry for the problem with the nightlies over the last 2 days.  They get built on a box here at my house... and the internet gateway died.  Seems like a hardware problem.

Things should be ok again from tomorrow, as the gateway is being replaced presently. (typing this message through it, but needs more testing) Thanks for testing! :smiley: Closing this issue then. If you should stumble upon any problem with this, feel free to re-open it anytime.  Ahhh, good thinking.  Merged. :smile:
 Hmmm, thinking about it more, that's probably not quite right.  The heading for that section shows it's for both CentOS & Fedora.

CentOS doesn't use dnf, so now the command is wrong. üò¶ 

Thoughts?
 Yep, that works.  Merged too. üòÄ 

Thank you.
  Note - this is just for discussion at this point, don't merge it yet.

This commit adds the SQLCipher version number to the About dialog.

Weirdly, retrieving the SQLCipher version number appears to need an open database connection.  So, without an open database the field is left blank.

Updating this commit to cleanly handle both situations is required before merging this.

Btw - unsure if the requirement for an open database connection is something caused by our code, or a requirement from the underlying SQLCipher library itself.  The SQLCipher version seems like it should be available at compile time, not just at runtime.
 Thinking about this more, even if the SQLCipher library itself doesn't provide a compile time definition with the version number , we can probably create one ourselves.  Might take some shell magic (and would need to be cross-platform'd), but should be doable.
 Yeah, if one isn't provided.  They have a runtime function that can be called, but seems to only be available when a database is loaded.  That doesn't fit well with use of such a function in a GUI.
 @revolter I believe SQLCipher is a replacement for the standard SQLite library, rather than it being an addin or plugin or extension to SQLite it is a "drop in" replacement. However they don't have a suitable runtime function for the version without opening a database.

I guess @justinclift we have some options, we could open a test database at build time get the version number and add that to a header for our use. Or we could just use their runtime and say "open a database" on the about screen. Or in theory could we issue a pull request or feature request asking for this?
 Yeah, in this context SQLCipher is a drop-in replacement for SQLite3, done at compile time.  So, when compiling DB4S, either SQLCipher **or** SQLite3 gets compiled in.

We could do the "make a dummy database, retrieve the info, close the database" at startup time.  But yeah, that's way too hacky.

It'll probably be more reliable to somehow automatically extract the version number of SQLCipher at compile time, generate a constant or define for that at compile time, then embed it into the About dialog.

It's unlikely to be super tricky for the *nix OS's, but I'm unsure how to approach that on Windows.  Can probably muddle through it though, unless someone else wants to investigate? :smile:
 Closing this for now.  Will redo it with a proper (complete) solution at some point.
  Hmmm, that's probably the largest SQLite database file I've heard of someone using with this (so far).

Looks like we need to put further effort into handling large databases. :wink:

Out of curiosity, how much ram do you have in that computer?
 I see you're using the nightly build? I actually think this might be caused by a bug we introduced since the latest release but that should be fixed now. So can you maybe try tomorrow's nightly build? :smiley: Would be interested to know if that's making things a little better :smiley: 
 @MKleusberg That's a good point.

@eitijupaenoithoowohd With the version you're using, is that the standard package on Ubuntu, or did you compile it yourself?  If it's one you've compiled, then @MKleusberg just (today) added a patch which might help.  So, compiling it again would be worth testing. :wink:
 @MKleusberg Maybe we should add some way to trigger output of useful diagnostics / progress / etc? Maybe a command line argument?
 @eitijupaenoithoowohd Thanks, that's useful info. :smile:
  Noticing some interesting messages in the output windows on Win64 with SQLCipher compiled in:

```
executeSQL:  "COMMIT;" -> cannot commit - no transaction is active
```

As per screenshot:

![commit failure messages](https://cloud.githubusercontent.com/assets/406299/15022211/7d88dbca-1222-11e6-9060-04960dfcc2b2.png)

The first three lines were output when setting the encryption key (File ‚Üí Set Encryption).

The final '"COMMIT;" -> cannot commit' line is output any time the "Write Changes" button is pressed.

I haven't traced through the code to figure out what's going on, and the data appears at cursory glance to be getting written to disk, as the database can be re-opened to find the data there.  However, this is something that bears looking into, just to be safe. :wink:
 Hi Justin!
I looked into this and fixed it. This was caused by an overcautious COMMIT when saving a database. We'd save all changes and then do an extra-commit just to be sure. But since there was no need for this, SQLite would output that warning. So this isn't caused by SQLCipher but would happen with the normal version, too. Good news is that this doesn't cause any harm at all, so no chance of this causing any data loss etc. I've fixed it anyway, so the warning should be gone. Instead of just deleting the COMMIT call (which should have been ok, too) we're now checking if there is still a transaction after saving everything, and only if there is we call COMMIT.
 Awesome :smile:, I'll verify it from my end probably tomorrow.
 Tried this out again with the two latest commits applied.  Yep, that last commit message - generated when clicking the "Write Changes" button - is no longer happening.

But :smile:, found some other instances of it (and seemingly related).

This one is generated when creating a new database (non-encrypted).  The message appears right after choosing a filename to save the database as:

![db4s-issue583-screenshot_2](https://cloud.githubusercontent.com/assets/406299/15081362/9443c278-13ba-11e6-8f83-f6ca5ed124d0.png)

The "RELEASE RESTOREPOINT;" line after that is generated when clicking "Write Changes", directly after creating an empty table (without changing to the "Browse Data" tab yet):

![db4s-issue583-screenshot_3](https://cloud.githubusercontent.com/assets/406299/15081452/03f0c97c-13bb-11e6-9e93-f7d706d9cd80.png)

The third, fourth, and fifth lines are generated when the database file is closed.  Seems like fairly standard widget output message stuff, and is hopefully easy to address. :smile:

![db4s-issue583-screenshot_4](https://cloud.githubusercontent.com/assets/406299/15081537/5424d1d6-13bb-11e6-8885-32ac71de1297.png)
 @justinclift Should be fixed, too, now :wink: Can you double check? Will do.  Probably later today, but it may get pushed out to sometime this week depending on how other things go. :wink:  Ahhh, that's a really good point.  Yeah, lets do that. :smile:
 @TWiStErRob I'd completely forgotten about this one.  Good news though... we fixed the behaviour you're mentioning.

In the new behaviour for the Edit Cell, the drop down is always visible.  So, it's definitely always possible to view the binary data for images.

If you want to try it out, the 3.9.0-beta 1 release (last weekend) has that code in it.  The full 3.9.0 release should be this weekend too, if that's useful. :smile:
  @MKleusberg Thoughts?
 We're supporting whatever image formats are supported by Qt. Qt does support JPEG and on my (Linux) system DB4S therefore supports JPEG, too. However, the Qt developers have moved most images formats out of their library and into plugins. So for our Windows release, we'd need to distribute these plugins, too (or at least the JPEG one, that is). I hope this makes sense :grinning: So in effect, this is a distribution issue, not a code issue. Could be that the JPEG plugin is linked into the nightly builds, too; so that might be worth giving a try as well.
 Ahhh, that's interesting.

@TWiStErRob Which OS are you using? :smile:
 @justinclift This might also be interesting for your instructions for compiling on Windows. It'd be nice to have an extra directory called 'imageformats' inside the app dir. In this directory you have to copy some or all of the DLLs in ...\Qt Directory\Qt Version\plugins\imageformats.
 @MKleusberg Doesn't sound like it'll be a problem.  I'll just need to understand better what needs to be added, and where. :smile:

Is this something extra we need to add/tick/enable for the Qt installation step (Qt install step in development here):

&nbsp; &nbsp; https://github.com/justinclift/sqlitebrowser/wiki/Win64-setup-‚Äî-Step-7-‚Äî-Install-Qt

Or is it more of something to do prior/post compiling of DB4S?

&nbsp; &nbsp; https://github.com/justinclift/sqlitebrowser/wiki/Win64-setup-‚Äî-Step-13-‚Äî-Compile-DB4S-using-MSVC

@TWiStErRob As a thought, if you're interested in compiling DB4S on Windows, it'd be super useful having someone go through those instructions and test them out for Win 7.  I'm writing them up using Win 8.1, so I've been **assuming** they'll work on Win 7 the same.  But it would be good to have someone actually check, to make sure. :wink:

Note, I'm still going through those docs (right now, working on Step 8), replacing/fixing screenshots, tweaking wording, etc.  So, feel free to point out or ask things as needed.
 @MKleusberg Hmmm, reading over your comment again... it's more something we need to add to the packaging step isn't it?  If so, we can probably add it into the NSIS package script, so it works "out of the box" for everyone.
 Sure, no worries at all. üòâ 

(and yeah, it turns out to be a fairly involved process) üòß 
 Hmmm, if the solution to fixing it is as easy as shown in the answer here, we can probably do this for 3.9.0:

&nbsp; &nbsp; https://stackoverflow.com/questions/6724606/include-the-jpeg-plugin-in-my-application
 This will have to be a 3.10.0 thing instead of for this release.  Didn't get time to investigate it properly for 3.9.0.
  Kind of. :wink:

The more recent release build process for Windows uses Microsoft Visual C++, and can produce both 32-bit and 64-bit output.  (useful for some stuff)

The older method uses a cross-compile approach (MXE on a Linux build host), producing a static build.

Our nightly builds for windows still use the older method, so if you grab any of those, they'll be the single-big-exe file.

Does that help? :smile:
 Yeah, our Windows releases situation isn't optimal.  @rp- who does the packaging for Windows hasn't really been active for much (other than release packaging) for some time.

It's fairly normal for longer running Open Source projects to have people move on over time, so it's not something too unusual. :wink:

Co-incidentally to you asking, I've been putting time into figuring out the build process on Windows today, and (after a **lot** of hair pulling frustration), managed to get it building finally [not long ago](https://github.com/sqlitebrowser/sqlitebrowser/issues/482#issuecomment-215229614).

So, if I can gain more of a clue :smile: with the Windows packaging side of things, we might be able to expand out our download options there.  No promises yet though, lets see how much of a clue I gain first. :wink:
  It would be a nice addition a duplicate row functionality.

Similar to the column name header right click popup (`Show rowid column`, `Edit display format`, e.g.), a popup could appear when right clicking the left column numbers which would present a `Duplicate row` menu item which, after clicking it, would insert another row with the same column values, except the autoincrement one.
 From a logical perspective, having a button near the add/delete record ones makes sense.  Is that how people needing the feature would use it though?  (I'm not sure)

If it's easy to do, maybe try first with that and we can get some people to test it out to see if it "works ok" in actual practise?

So... I guess use your best judgement for now, and we can adjust things afterwards if it turns out to be not perfect in use? :smile:
 Yeah, the right click approach sounds useful without cluttering up the UI right away. :smile:
 Heh Heh Heh, that's why we discuss stuff. :smile:
 Just to confirm, the `id` column is in the pics is autogenerated yeah? (that's why it's value isn't copied?)
 It sounds like it should be used for all fields in the current row, that don't have a default (or autoincrement) value.
 Oops, sorry. :wink:
 @revolter I've just merged @innermous's PR for this. Do you have the time to try tomorrow's nightly build and report if it's working for you? :smiley: 
  Thanks for pointing this out. :smile:

We have a wiki page with a fix for a windows file associations problem.

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/wiki/Windows-File-Associations

It's the same one isn't it?
 @MKleusberg Is this something we should take care of automatically at startup time?
 Yeah, it's a known problem and we have some ideas how to solve it. :smile:

But, it won't be done before the next release (3.10.0). üò¶ 
  Yep, that's the perfect way to do it. :smile:

This looks good to me, so I'll merge it now.  The nightly build tomorrow will have the change in it, which would be nifty for you to verify and report back success/failure. :smile:
 @MKleusberg You might want to cast your eye over this (one liner), just in case. :wink:
 Awesome.  Such a simple change, but so much effect.  Well done!

What's your next Pull Request going to be? :grinning: 
 Sure, a presenter mode would be a welcome addition.  Get it mostly right, and we can look over the code and possibly make some suggestions, or even make a few test builds for people to try it with. :smile:
 Hmmm, second thought.  With that master OS image... er... how about getting the font size changed there, so its "correct" at the source? :wink:
 One extra suggestion here: if this fix has no side-effects you should think about proposing it to the upstream QScintilla project. Otherwise your change won't be included in versions of DB4S which are compiled against an external QScintilla library (like on Linux distros) or might be overridden when we update the QScintilla source in our repository and forget about this...
 Good idea. :smile:
 @nickberry17, Did you manage to propose the fix to `QScintilla`?
  Nah, here is probably good enough.  I'll just change the tag to "Enhancement" and we'll get to it whenever we do. :wink:
  See issue #569. It would be nice to be able to enter custom display formats in the Edit Display format dialog when the format you require isn't part of the list. Bonus points for remembering custom display formats and having an option to give them names etc.

There are two problems here though. Both requiring us to add some more error checking code:
1) If the user types in some invalid code we'd get a syntax error. Not sure how we'd react there but we definitely don't display a proper error message.
2) The user could type in some code that generates more than one column. This one is tricky because it doesn't produce a syntax error but would cause a lot of confusion throughout the application. So by some means we'd have to detect this case and prohibit it.
 That's a good point, I've noticed that too.  The label for the chosen option should probably be kept, instead of switching to "custom". :smile:
  Thanks @Maxim-Mazurok, that's makes good sense. :smile:
  Thanks, trying it out here now. :smile:
 Hmmm, I must be blind... I'm not noticing a change from an end user point of view?

Er.... clue me in? üòÄ 
 Ahhh, interesting addition.  Found a bug in it though, where it's not clearing the existing Edit Cell data when a new field on the same row is clicked.

The test database I'm using is very small (516KB).  Just emailed it to you, along with the SQL used to trigger the bug.  Hopefully it's something simple. :smile:
 Sure, no worries at all.  It's late here for me too. :smile:
 Cool. :smile:

For the weird bug behaviour, @MKleusberg returned from holidays yesterday, so he's probably the right person to review bits. (there is a large queue for him through üòµ )

I really should get around to learning C++ eh? :wink:
 Hi Lars!
First of all thank you very much for the contribution :smiley: I've just had a first quick look and it seems to work very well and to really improve the user experience :+1: I'll have a closer look soon and will just put some comments into the Github diff. From what I can tell it'll be mostly code style though :smiley:

I'm not sure either how the bug mentioned by Justin could be introduced by this. But maybe he can help us out here debugging this - though I assume the bug is to be found somewhere else, most likely in my code for the edit cell panel itself, not in your code. So I probably won't be worrying about that too much for this pull request.
 I've put some comments concerning the code-style in your commits. Nothing major, though :smiley: There's one more techical suggestion in there, too. Despite those I just noticed one more thing: if you have multiple SQL tabs opened, each showing a query result with a selected cell, the edit cell panel isn't updated when you switch between the tabs. This might be a bit confusing for the user to see the 'old' value there. But again, nothing major :grinning: If you're interested you could maybe add a new slot which is getting triggered when the selected SQL tab changes and which just updates the panel to the current selection.

Sorry again for the nitpicking parts :smiley: I actually think this is quite a good pull request which I hope we can merge as soon as possible :+1: 
 Awesome! Looks good :+1: Thank you very much for this :smiley: If you should need any help with your next pull request feel free to always open an issue or email me directly - I'd be glad to help out.
  Hmmm, that's breaking the build.  Are you ok to click on "Details" to check the error, and attempt to fix it? :smile:
 @jungle-boogie Sorry, didn't notice you've pushed a fix.  Just tested it quickly here, and it looks (mostly) good. :smile:

There is one bit I'm unsure of though.  For decimal display, it's using "0x" as the prefix.  eg "0x10".

Isn't "0x" normally used to indicate a hexadecimal number?
 Awesome!  Testing now. :smile:
 Yep, that looks good now.  Thanks @jungle-boogie. :smile:
 Yes, this is looking fine :smile: Thanks for your contribution!
It's also nice to see somebody working on the display format feature - I wasn't really sure whether somebody is actually using it :wink: 
 @MKleusberg - just as a heads up while on the topic... the format definition box itself doesn't seem to be editable for the "custom" type.  eg people can't type in their own format and have it stick.  Is that supposed to work? :smile:
 I'm not sure to be honest ^^ But the code looks like this was never supposed to work. Allowing to type in one's own display formats isn't as easy as it sounds either, because we'd had to add some extra error checking. With the current code I see two problems:
1) If the user types in some invalid code we'd get a syntax error. Not sure how we'd react there but we definitely don't display a proper error message.
2) The user could type in some code that generates more than one column. This one is tricky because it doesn't produce a syntax error but would cause a lot of confusion throughout the application. So by some means we'd have to detect this case and prohibit it.

So, yes, we can get this done. But it's a bit trickier than expected. I'll just open a new issue for now so we can keep this in mind :smile: 
 Cool. :smile:
  Hmmm, yeah, that sounds like a design bug. üò¶ 

As you mention, does the removing the BEGIN TRANSACTION statement at the start (and the COMMIT at the end) allow the import to succeed?
 Oh wow, that's exceptionally slow.

Are there pre-existing indexes on some of the fields or something?  If so - as a hint for future imports - it's a good idea to remove the indexes before larger imports, then recreating them afterwards.  That way it doesn't try to update the index for every single imported row (super slow), and just does a single big one at the end.
 Whoa.  Something's not right then. üò¶ 
 @chrisjlocke Interested in testing out a fix for this?

@revolter Has created a proposed PR ready for testing.  I can create a Windows package with the fix if you're ok to test?
 @chrisjlocke Ping :D
 Sorry - email has been playing up and I didn't see this notification...
Sure - happy to test all fixes!  Should it fix the 'not in a transaction' bug, or the speed bug?  Or should I just report my findings?  Aah, just saw #653, so will be the first one then...
I presume this is in the nightly Windows download?
 No problem.
It's about the nested transaction indeed.
And, no, the PR that fixes it isn't merged yet. Maybe @justinclift can help us out with an once-off Windows build.
 @chrisjlocke Try this one:

&nbsp; &nbsp; http://nightlies.sqlitebrowser.org/win64-onceoffs/sqlitebrowser-win64-issue556v1-201607152315.exe

Made that for the same issue (reported also in #556). :smile:
 @chrisjlocke If/when you have a minute to test, the latest nightly build should include the fix for this.  Any chance you could give it a shot to double check? :smile:
 Yes, the import now works.  The only 'niggle' is that the cursor remains the 'waiting' circle of doom when the 'Import completed' message box appears.  

![image](https://cloud.githubusercontent.com/assets/7872218/17104865/b842e27a-527c-11e6-95e3-c2168f190af9.png)

This also occurs if you import where the table already exists - DB4S correctly moans, but the cursor is 'waiting'.  Someone might think, "blimey - this is taking a while" when in fact its just the cursor hasn't changed.

I'm just going to test the '500,000 lines seems slow' thing.  That might have just been my end.
 Cool, sounds like we're making progress at least. :smile:
 One interesting thing though.  The export of a database is still a 'transaction'.  The export begins 'begin transaction' and end 'commit'.  However, if you cancel the import, it doesn't cancel the transaction - it has completed up until you cancelled it.  This would explain the slowness of the import - each import statement is its own transaction.  On the sqlite website, it mentions this is 'bad' as there is a limit of a few dozen transactions per second.
https://www.sqlite.org/faq.html#q19

I assume the import now ignores the transaction in the exported SQL, but does it add its own?

I appreciate I can revert changes in DB4S, but a transaction at the import level would greatly speed up the import.  I assume that was the 'original plan', but it was being done twice - at the export into the SQL, and again at the import.
 Yep, that's interesting.

My reading of this fix is that it just removes all occurrences of `BEGIN TRANSACTION` and `COMMIT` on the fly from the SQL file being read in.

In theory, DB4S is supposed to be adding it's own `BEGIN TRANSACTION` and `COMMIT` at the start and end of each SQL file import.  It's weird to me that it's not functioning this way.

As a disclaimer though... I haven't personally dug into the data handing side of the code yet.  It sounds like there's some weirdness there which needs fixing.

That'll probably be done for 3.10.0, rather than 3.9.0.  @innermous has already pointed out that there's some mess in our data handling already (thus our constraints problems), which we need to get sorted out after this upcoming 3.9.0 release. üòá 
 As a curiosity thing, if after you cancel out of the transaction (and the data is still there), what happens if you issue a ROLLBACK from the Execute SQL window?
 Well, indeed this is not the best solution, but was the easiest. Throwing an error for an SQL created by the same app is not ok. But for 3.10.0, we could, instead of removing the transaction, detect if the query starts with a transaction and stop starting our own transaction. As this works as the fix intended, could we close it and open another issue regarding the multiple transactions on a big import? So we don't mix things up. And assign it to 3.10.0 too.
 Yeah, that's a good idea. :smile:
 Would either of you be ok to create the new issue for tracking?  I've been staring at the computer for too long, and need to take a break for a bit. üòµ 
 > what happens if you issue a ROLLBACK from the Execute SQL window?

Is that the same as clicking 'Discard Changes' ?
Rollback deleted the half-imported table, so that **would** imply it was in a transaction?
 k, that Rollback behaviour does indicate it was in a transaction.

... with 'Discard Changes'... I'm personally not sure atm.
 So there aren't multiple transactions? I looked a bit over the code and the only thing I saw related to this was a `setSavepoint` call, which actually executes the query `SAVEPOINT <name>`.

I read [about it](https://www.sqlite.org/lang_savepoint.html) now, and it looks like it works inside a transaction. But we are setting the savepoint (which is similar to starting a transaction) before executing the SQL, which in turn starts a transaction.

Instead, we should detect if the SQL contains a transaction. If it does, remove it from the SQL and manually execute it before the `setSavepoint` call, then set the savepoint, then execute the rest of the SQL, and it should work. But, knowing that there is this one savepoint already created, and it acts like a transaction, would it make sense to do what I described? If not, should we mark as invalid and close #675 and leave this as it is?

It looks like it won't improve the performance at all.

So, yes, there is only one transaction. And the import being slow question remains valid, right?

It took me a while to write this so the ideas might got mangled. Let me know if you understand what I tried to say and what do you think about it.
 Hmmm, wonder if the slowdown is related to the Savepoint?

@chrisjlocke Is the database you're importing into on an SSD? eg a high I/O transaction device
 I re-read the `SAVEPOINT` documentation and I personally understood that they actually are exactly transaction, but they have a name and you can nest them. So I don't think it should influence the speed. But we can easily test this with a large data set by temporarily removing the `setSavepoint` call.
 Yep, same thought here.  Measured stats would definitely help.

Would you be ok to investigate **_after**_ you're back from vacation?
 As an idea - for measuring this it would be useful to record a log of the start and end time for each line of the imported file. Shouldn't be hard, adding some timestamp calls.  Millisecond accuracy perhaps?

This would let us determine with reasonable accuracy if there's a slowdown over time during the import, and/or see if it's a steady rate (etc).

[Imagine that info in a graph here] ‚Üê :smile:

That should give us very useful information for analysing what's going on, and where to look next.
 Sure thing.
 I'm happy to test anything related to this, and in the above issue (# 827) I've posted a link to an SQL file causing 'delays'.
  This is causing an error with the Travis CI build.

Are you ok to fix the problem? :smile:
 Are you having trouble seeing the error message?

If so, it's here:

&nbsp; &nbsp; https://travis-ci.org/sqlitebrowser/sqlitebrowser/jobs/123551552

Scroll about 1/2 way down, and it has this info:

```
...
[ 56%] Generating qrc_icons.cxx
[ 57%] Generating qrc_flags.cxx
[ 58%] Generating ../src/translations/sqlb_ru.qm
Updating '/home/travis/build/sqlitebrowser/sqlitebrowser/src/translations/sqlb_ru.qm'...
    Generated 533 translation(s) (533 finished and 0 unfinished)
[ 58%] Generating ../src/translations/sqlb_de.qm
lrelease error: Unexpected characters '%n Zeichen' at /home/travis/build/sqlitebrowser/sqlitebrowser/src/translations/sqlb_de.ts:285:50
make[2]: *** [../src/translations/sqlb_de.qm] Error 1
```

Does that help?
 Awesome.  You'll need to push the updated version GitHub, so the Travis tests can run again. :smile:
 Just played around with this a little (I have no experience with the translations tools either...).
But it seems to work if you delete the 'numerus="yes"' bit a few lines further up. There are multiple occurences of it though. Probably makes sense to look up how these numerus translations work though ^^
 @FriedrichFroebel Oops, only just noticed this is passing now!  Do you feel it's in a good state for merging now? :smile:
 For me this looks good. Thanks for all the work you've put into this, @FriedrichFroebel! :+1: 

Just two minor comments:
1) Right at the start of the file there is still the old project name (Sqlitebrowser) instead of the new one (DB Browser for SQLite). That's not @FriedrichFroebel's fault because it's still there from my very old (and even more basic) translation attempts. But we might want to update it on the way.
2) Making this into one commit would look a lot nicer in the commit history.

But other than that I'm quite happy to finally have a proper translation into German :smiley: 
 @MKleusberg Good news.  We don't need people to squash everything into a single commit any more.  GitHub [added an option](https://github.com/blog/2141-squash-your-commits) for that to happen automatically when doing a merge.  It's the default (in this repo at least), so it "just happens" when doing merges with the GUI.  It can be turned off, but I've not found a need to so far. :smile:
 @FriedrichFroebel Ahhh, you're still adding to it.  Let us know when you feel it's ready, and someone will click the Merge button. :smile:
 Awesome! Thank you very much :smiley: 
 @FriedrichFroebel Thanks @FriedrichFroebel. :smile:

As a thought, have you noticed any text strings in the interface which aren't being translated yet?  I'm not 100% convinced we have total coverage. :wink:
  Thanks Tim, that's perfect. :smile:
  Awesome, thanks for the high quality bug report. :smile:
 Oops.  Thanks Chris, fixed it. üòÄ 
 Hmm, this is very strange. I've tried reproducing this using the file you've attached but wasn't able to. I have even checked out the code used for building version 3.8 and I'm using Qt 5.5.1, too. So I'm groping about in the dark here.
But your backtrace might be pointing to what could be the problem. Though obviously I need your help here, @zetok. Can you checkout the latest code from master, built it and try again opening that table? With any luck it should work now :smiley: 
 Cool :smiley: Thanks a lot for the quick reply and the detailed bug report :+1: Some day I'll probably install Gentoo, at least on my notebook :grinning: 
  Thanks, good thinking. :smile:
 Nope, I just hit the wrong button is all.  *sigh*

Sorry for the confusion. üò¶ 
 I just tweaked it anyway, adding some padding space to the top and bottom to match the other similar lines in the README.md. :wink:

As a thought, any interest in tweaking the index.html for the website?  (it's in this repo too, in the `gh-pages` branch)
 Cool. :smile:
  Oh, that's not good.  Which version of DB4S are you using, and which version of Windows? :smile:
 Thanks.  Hopefully one of the guys will have time to look at this in the nearish future.  It's very unlikely to be this week though. üò¶ 
 Weird, sounds like something strange in the windows layer more than a DB4S specific problem.  Are we ok to close this issue, unless it crops up again?
 Thanks @hrvoje-grabusic. :smile:
  Hmmm, have you looked at our website? :smile:

&nbsp; &nbsp; http://sqlitebrowser.org
 No worries at all. :wink:
  Does this help?

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/wiki/Windows-File-Associations

:smile:
 No worries, it was a thought. :smile:

From here, we'll need some more info so we can try to figure things out.
- Which version of Windows are you using?
- Which version of DB4S are you using?
- Also, do you remember what the previous version number of DB4S was?
- Are you comfortable using regedit?
  First commit. May need tweaking.
 Hmmm. Travis, the Github batch build compiler seems to [have a problem with libsqlcipher libraries](https://travis-ci.org/sqlitebrowser/sqlitebrowser/jobs/122137854). Any idea?

```
$ sudo apt-get install -qq libqt4-dev libsqlite3-dev libsqlcipher-dev libantlr-dev
WARNING: The following packages cannot be authenticated!
  libsqlcipher0 libsqlcipher-dev
E: There are problems and -y was used without --force-yes
The command "sudo apt-get install -qq libqt4-dev libsqlite3-dev libsqlcipher-dev libantlr-dev" failed and exited with 100 during .
Your build has been stopped.
```
 Wow, that's awesome. :smile:

Just merged them (squashed into a single commit for neatness)!
  The last version that works with non SSE2 enabled CPU AthlonXP on Windows XP SP3 is v3.5.1, which I suspect is due to newer versions compiled with the now default flags using SSE2 instructions.

Could you apply the GO386=387 flag and so that no SSE2 instructions are used and enable sqlitebrowser run on old CPUs?
 Interesting question.  Technically it should be possible.  But it sounds like it might negatively impact lots of people by (maybe) being much slower for some operations (unsure).

Lets ask Rene, who creates the Windows builds.

Also note, if/when we get Windows compiling instructions fully worked out - so anyone can compile it themselves - that could also add more possibilities for people on unusual hardware. Hopefully I'll get time to look into that next week. :smile:

@rp- Thoughts?
 Oh, as another thought, do the nightly builds work for you at all?  They're compiled using a different approach, though I'm unsure if the compiler flags for cpu instruction set features are any different. Worth trying if you haven't yet. :smile:
 As you suggested have tried the windows nightly sqlitebrowser Version 3.8.99 and it works fine in a non SSE2 enabled AthlonXP.
 Cool.  That's a good workaround for now then. :smile:
 Since there is no warning at all that could give a clue to people with old CPUs potentially affected (AthlonXP, P3) that this issue is SSE2 related when running the program because it won't start or just crash inmediately, then in the mean time may worth adding a note to the README.md directing them to the nightly builds or to older releases. :wink: 
 Good thinking. üòÄ 

Done: https://github.com/sqlitebrowser/sqlitebrowser/commit/fd0eae9c14f7f7e1213b4c4153e0c01910206e5c
  Yeah, foreign key constraints definitely need some work at the moment.  You're not alone in finding bugs with that part of things. :wink:
 This should be fixed in the next nightly build. Do you have the time to try that build and confirm if it's working better for you, @OmarWKH ? :smiley: 
There's still a bit of work to do, like adding/editing/removing multi-column foreign keys and key names but at least foreign key with multiple columns aren't ignored anymore.
 Thanks @OmarWKH, looks like more stuff still needs to be done for this. :smile:

As a side note, those `<detail>` and `<summary>` tags collapse nicely in your post.  Hadn't seen that before.  Definitely going to copy for future use. üòÅ 
 Hmm, I'm having difficulties reproducing this. I've created a new database using the SQL posted under `To test two FK constraints with multiple columns I executed` but get

``` sql
CREATE TABLE `test_reference` (
    `id1`   INTEGER NOT NULL,
    `id2`   INTEGER NOT NULL,
    `id3`   INTEGER NOT NULL,
    `id4`   INTEGER NOT NULL,
    PRIMARY KEY(`id1`,`id2`,`id3`),
    FOREIGN KEY(`id1`,`id2`) REFERENCES `table1`(`id1`,`id2`),
    FOREIGN KEY(`id3`,`id4`) REFERENCES `table2`(`id3`,`id4`)
);
```

So both foreign keys appear and aren't mixed.

@justinclift Can you maybe build a once-off using Qt5? Just to check it's not a Qt version thing? The fact that I needed to add 91615f940f109d0f20f9a8fe19599f4268ea3d40 makes me a bit suspicious here.
 Yep, can definitely create a once-off Qt5 build with this in it.  No hassle at all.

@OmarWKH Which OS are you using? (if Windows, is it 32 or 64 bit?)
 @OmarWKH Thanks. :smile:

@MKleusberg Should I build this with just https://github.com/sqlitebrowser/sqlitebrowser/commit/6a4d58042c8f808498aafc5fae215aae6a010d07, or include the new foreign key stuff you've been adding today too?
 Maybe include d98338ce89089755aef305f8c04ce22ac2509ee9, too. It does change a lot but it's good to get this tested :wink: 
 @OmarWKH Sorry for the delay here.  Got caught up in other stuff. üò¶ 

@MKleusberg Getting back around to this again.  Should a Qt5 build using master HEAD be ok?
 @justinclift Yes, should be ok.
 @OmarWKH Would you have a few minutes to try out this build?
- http://nightlies.sqlitebrowser.org/win64-onceoffs/DB%20Browser%20for%20SQLite-201608291559-win64.exe

It's our latest development code, with @MKleusberg's fixes in it.  In theory, it should be better for you now, but it's always good to check. :wink:
 Awesome @OmarWKH, that's really good news. :smile:

I'll close this Issue now, as that build will remain online for people to use, and our next release will have this included also. :smile:
  Yeah, it's a "one database per running instance" kind of application for now.  If your OS allows you to run multiple instances though, each should let you open a different database (that's the theory anyway). :smile:
 @Mochnant This "Issues" section is kind of feature request + bug report + general "Help, it's busted!"  area.

It seems like you're also interested in multiple window support too.  It's a sensible suggestion, I just don't know when we'll get around to doing it.  We have **so much** other stuff needing to get done before even thinking that one through. üôÅ 
 Yeah, makes sense. :smile:

If it's any help, there's a sleazy workaround :smile: for that problem on OSX.  For some applications (including ours), you can launch multiple instances of it if you do it manually from the command line.

For example, with DB4S installed in the standard `/Applications` folder:

```
$ /Applications/DB\ Browser\ for\ SQLite.app/Contents/MacOS/DB\ Browser\ for\ SQLite &
$ /Applications/DB\ Browser\ for\ SQLite.app/Contents/MacOS/DB\ Browser\ for\ SQLite &
$ /Applications/DB\ Browser\ for\ SQLite.app/Contents/MacOS/DB\ Browser\ for\ SQLite &
$ /Applications/DB\ Browser\ for\ SQLite.app/Contents/MacOS/DB\ Browser\ for\ SQLite &
```

Now I have four separate instances of DB4S running, each not-interfering with the other.

Btw, I'm not sure it's a good idea to try and open the same database with several instances.  I have a suspicion that could end badly.  Probably best to only open different databases, when doing this, to be on the safe side. :smile:
 > I'm not sure it's a good idea to try and open the same database with several instances

sqlite is multi-user (the database is locked until you click **Write Changes**) so yes, it'll be fine. üòÑ 
 Yeah, I just get nervous when I read section 2 of this:

&nbsp; &nbsp; https://www.sqlite.org/howtocorrupt.html

In theory we should be fine.  But I don't know how well tested that is in practise (with DB4S). :wink:
  Hi Laurent
Can you have a look at tomorrow's nightly build (or any later nightly build) and check if the new version is working for you? For downloading a nightly build see the main page of our repository. Please let us know if the new version does the job :smiley: 
 Hmmm, it kind of sounds like our code for importing SQL needs to recognise + skip any transaction control statements in the file.  Without knowing any better, that doesn't sound too hard. :wink:
 @elpoolet Is a fix for the exception with "cannot begin a transaction within a transaction" still of interest to you?

A proposed fix for this has been created by @revolter. It would be useful to have some people test it with real data before we add it.

If you're using Windows or OSX, I can build a package with the fix included for people to test.

Interested?
 Sure, are you on Windows or Mac? :smile:
 @elpoolet If you're on Windows, this should work for you:

&nbsp; &nbsp; http://nightlies.sqlitebrowser.org/win64-onceoffs/DB%20Browser%20for%20SQLite-issue556v1-win64.exe

Please try it out, and let us know if it fixes the exception for you. :smile:
 @elpoolet ping?
 @elpoolet Sorry, I don't have the capability at the moment to generate the exe-only builds. üò¶ 

It takes a special setup to do it, and we've not needed to get it happening for anything other than the nightly builds. (so far)
 Cool, that would really help. :smile:
 Thanks @elpoolet, that makes complete sense.  There are two places which can import SQL files and have the bug.
1. File ‚Üí Import ‚Üí Database from SQL File  (still needs fixing)
2. In the "Execute SQL" tab, there's an icon to "Open SQL file".  That one should be fixed.
   ![screen shot 2016-07-22 at 16 33 08](https://cloud.githubusercontent.com/assets/406299/17062356/89c58f6e-502a-11e6-9482-27d0a5cd7c80.png)
   Number 2 might be worth giving a shot.

It probably won't suit large amounts of data though üò¶ , because it loads the file into the "Execute SQL" window first.
 @justinclift, Should we reopen this issue? Or can you solve it based on my partial solution?
 @revolter Well, we've kind of already fixed the export part of this issue, but the import part is tracked here for #656.  #656 needs to handle File ‚Üí Import ‚Üí "Database from SQL File" to be a complete solution. :smile:
 Sorry, pretty tired here, and having two problems on the same issue didn't help me. So, it should be a pretty easy solution if you know where the import is done. But unfortunately I can't do it at all. Do you thing you can manage it? :smile:
 Yeah, I should be able to cut-n-paste your RegEx into the right spot.  Likely tomorrow though... I want to get away from the computer for a bit now.

You're on holiday from tomorrow yeah?  If so... have a good one, and hopefully things here haven't exploded in a bad way by the time you're back. üòÄ 
 Thanks!

Actually, I'm on holiday already, since today was my last work day. And I'm sure nothing will explode :laughing:
 @elpoolet If/when you have a minute to test, the latest nightly build should include the full fix for this.

Any chance you could give it a shot to double check? :smile:
 You're welcome @elpoolet. :smile:
  Hmmm, in theory, as far as I remember SQLite itself should handle multi-process access ok.  The limitation I remember was that there must be only a single writer at a time.

It sounds like we need to put some effort into testing this scenario, finding out what's going wrong, and fixing the problem so it works properly.  That's probably not going to happen in the next few weeks though (people are busy with other stuff).

As a workaround, how to you feel about using (say) PostgreSQL + ODBC drivers for VB?  That will absolutely work in this scenario.  But, takes more effort to setup. üò¶ 
 @chrisjlocke _In theory_ SQLite should be able to handle this. You can maybe have a look at the pragma page of your database in DB Browser and try to disable the journaling altogether. This should prevent SQLite from writing into a file DB Browser doesn't know about. But then again, this will reduce the overall performance of your VB application... So I'm afraid there's no optimal solution for this :frowning: 
 @chrisjlocke I observe something similar this with Python sqlite3 connector. What follows from the SQLite documentation https://www.sqlite.org/atomiccommit.html is that no other process can see changes from your program before it calls something like `commit()`. Here is an example:

```sql
CREATE TABLE `tt` ( `a` TEXT, `b` TEXT );
```
```python
In [1]: import sqlite3

In [2]: statement = 'INSERT INTO tt VALUES (?,?)'

In [3]: conn = sqlite3.connect("issue555.sqlite")

In [4]: c = conn.cursor()

In [5]: conn.execute(statement, ('1', '1'))
Out[5]: <sqlite3.Cursor at 0x7fbf00d948f0>

In [6]: conn.execute(statement, ('2', '2'))
Out[6]: <sqlite3.Cursor at 0x7fbf00d94a40>

In [7]: conn.execute(statement, ('2', '2'))
Out[7]: <sqlite3.Cursor at 0x7fbf00d94960>

In [8]: conn.commit() ## it becomes visible in DB4S only at this point

In [9]: conn.execute(statement, ('3', '3'))
Out[9]: <sqlite3.Cursor at 0x7fbf00d94b20>
```
Btw if I change journal mode and then close and lauch the application, it is set to `delete` again.   @whieronymus Thanks for helping out. üòÄ 
 @sheethalkumarsm If you have a few minutes, would you be ok to try the "3.9.0 beta1" release we did last weekend?

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/releases/tag/v3.9.0-beta1

The Windows files there were built using an updated process, that (in theory) should be ok for everyone now. :smile:
 Closing this due to lack of response.

Note - In theory, this should be fixed in [our new 3.9.0 release](https://github.com/sqlitebrowser/sqlitebrowser/releases/tag/v3.9.0) anyway. :smile:
  Makes sense.  Don't suppose you're any good with C++ and want to try whipping up a fix? üòÄ 
 Yeah, I think the reason it's not, is that DB4S predates using Qt's built in SQL stuff.  Personally, I'm only just learning C++ and Qt now, so am not really sure (yet).  Guess I will find out as I gain more experience with them. :wink:
  Yeah, there's definitely some weird edge case that causes crashes (with the standard release) for a few people.  Personally, I have no idea where to even start for debugging it.

Keep using the Nightly's I guess. üòß 
 @whieronymus If you have a few minutes, would you be ok to try the "3.9.0 beta1" release we did last weekend?

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/releases/tag/v3.9.0-beta1

The Windows files there were built using an updated process, that (in theory) should be ok for everyone.

Theory however... well... I'd rather someone test it and confirm. üòÅ 
 Thanks @whieronymus. :smile:
 @whieronymus Reminder ping?

Note, we [released 3.9.0 yesterday](https://github.com/sqlitebrowser/sqlitebrowser/releases/tag/v3.9.0), so that would be the one to test with instead. :smile:
 Last reminder ping... :wink:
 Closing this due to lack of response. üò¶ 
  Hmmm, it's supposed to show up there.  Would you be ok to add a screenshot here, displaying what you're seeing? :smile:
 Oops, not seeing any screenshots here.  How did you upload them? :wink:
 With the version info not displaying in Finder GetInfo, that sounds like a problem with the way I built/created the .app bundle on OSX.  Sounds like it might be time to investigate how macdeployqt does stuff, in case that's the cause.
 Ahhh interesting.  Checking there here on my desktop shows the same thing.  Now I grok what you're meaning.

I'll have to look into that for the next release.  Thanks for pointing this out. :smile:
 @justinclift Where is the OS X building defined?
 Do you mean the DB4S release version number?

For OSX, we've been manually (at release time) making the change to [src/app.plist](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/src/app.plist#L67-L71).  It used to also be in CMakeLists.txt, and src/gen_version.h (according to our slightly outdated [Release-process](https://github.com/sqlitebrowser/sqlitebrowser/wiki/Release-process) doc), but looks like those last two don't have it any more.  That doc should be updated to the current approach... when we're sure what that is these days. :wink:
 @justinclift, Great, thanks! Added a PR for this.
 @Vidbuf In theory :smile:, this should be fixed now.  Do you have time to test the nightly build - tomorrow - (download locations are listed on our front page) to verify it from your point of view and let us know?
 Just double checked this here, and it's definitely fixed. :smile:

Thanks heaps @revolter. üòÅ 
  How are you trying to set or save the image data?

If you only need to do a few images, you should be able to drag & drop them from your computer's file manager (Finder on OSX) application directly into a database cell.  Not sure if that helps you in your situation though. :wink:
 Which version are you using? As Justin said, it _should_ be possible to just drag & drop an image onto the cell you want it to be saved in. That's faster than using the import button, too.
 We probably don't have anything that can do a bulk import yet.  There may be other SQLite tools around that can you.

As a thought to help you in figuring our what you need, are you wanting something scripted (eg you can run in a shell or batch script), or maybe something with an option to (for example) point at a directory and load all of the files into a table?
  Thanks @wierzba3, looks good from an eyeballing perspective.  Going to merge this, and will let others try the nightlies + report any problems.

(really though, the code looks pretty straightforward so not expecting any) :wink:
  Hmmm, good point.  Should be a simple fix. :smile:
 This should be fixed by now :smiley: Can you double check using the latest version?

And yes, the highlighting something and pressing F5 is an intentional, but undocumented feature. Maybe it makes sense having a Wiki page for each of the main tabs (and maybe the dialogs) mentioning the shortcuts and hidden features. > mentioning the shortcuts and hidden features.

But then they would no longer be hidden.... üòâ  I'll look at adding some Wiki pages.
This does indeed work in the latest nightly.  Closing this issue.

Just one slight query.  Executing the current line / SQL enables and then disables the 'Write Changes' and 'Revert Changes' buttons.  Is this correct?  Seems unnecessary and slightly confusing... @chrisjlocke You're right :confused: Just tried two workarounds and neither of them helped. What wonders me most is that everything's so slow that you can actually easily see it.  Wish I could help.  I don't have Windows 10 (and won't ever be running it), so this isn't something I can personally try and find a solution to.

Other people here may be able to help you though. :smile:
 I have a Windows 10 VM and have no issues. You issue seems similar to https://github.com/sqlitebrowser/sqlitebrowser/issues/495 which is also a puzzle. Have you tried latest the nightly build?
 Glad it worked but that is far from ideal from a project point of view. Thanks for updating us though.
 @rithvikmundra If you have a few minutes, would you be ok to try the "3.9.0 beta1" release we did last weekend?

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/releases/tag/v3.9.0-beta1

The Windows files there were built using an updated process, that (in theory) should be ok for everyone now. :smile:
  There shouldn't be a limit on the number of records imported.  It more sounds like there's a bug somewhere, silently ignoring some rows.

Which, if that does turn out to be the case... is pretty not-great. :frowning:

Is there some way you can tell if the rows-not-imported have something in common?  eg maybe some weird character sequence or something is throwing things off

Also as useful info, which version is are you trying with, and what OS? :smile:
 Ahhhh.  It's good you've tracked this down. :smile:

But... (and sorry to say this), the bug isn't with this program.  It's actually supposed to wrap multi-line CSV entries according to their quoting, specifically so people can put multiple lines of data into a single field.

What you're describing really sounds more like a bug in the program which generates the CSV, as that's not escaping things correctly.  Some programs have the ability to change their behaviour in this regard (eg different export options), so you may be able to kick it into shape.

Now, if it's DB4S actually making the invalid CSV, then yeah, it is our bug. üòÅ 
 Closing this, as it really sounds like a data problem and not a bug in DB4S.  Ahhhh, I can imagine that some people would like 1-row-per-paste-line, and others would like 1-row-containing everything.  We should probably make it configurable. :smile:
 Hmmm, this probably needs more thinking about.  We'll need to wait for whoever might implement this, to think it through. :smile:
 Maybe a "Special copy" command, letting the user choose its behaviour?
 Oops, you're completely correct.  "Special paste". :innocent: 
 OSX users have a menu bar.  It's in the normal spot that all OSX menu bars are.

For a special paste thing, I'm kind of thinking maybe a dialog would do for one time paste.  Taking up screen real estate for everyone's UI, when only a few people will use the feature... probably not the right approach.  At least to start with. :smile:

Ctrl-Shift-v as the keyboard shortcut sounds like a good idea too.  We'll need to ping @MKleusberg when he's back from holiday, to see what he thinks. :smile:
  As a thought, which version is this happening in, and which OS? :smile:
 Yeah, it looks like we have some constraint handling problems that need addressing.  You're not the only person to point this out recently. :innocent:

The person who'll likely fix this is @MKleusberg, and he's doing holiday stuff for the next month.  But (in theory) he should be back and able to look at this after that.  Sorry it won't be looked at in the short term. :frowning:
 Took a bit longer but this should be fixed in the next nightly build :smiley: Editing of such UNIQUE constraints isn't supported yet (that would be issue #538) but at least such constraints are understood now by DB4S and aren't lost during editing.
@tchaloupka Are you still around and have the time to test the next build? :smiley: 
 @tchaloupka Thanks for testing this, and letting us know.  It definitely helps. :smile:
 @MKleusberg Should we add the fix for this to the v3.9 branch, or leave it for 3.10?
 @tchaloupka Thanks a lot for your fast reply :+1: That's good news :smiley: 

@justinclift Hard to say. If we have a second beta version then definitely yes. If not, my intuition would still be to include it but I wouldn't guarantee it to be bug-free (but then again, it wasn't bug free to begin with either) :smiley: 
 Thanks @MKleusberg. Moving this to 3.10 then. :wink:

We could put out a the first of the 3.10 releases without huge delay, if things look decent.  There's no major reason we need to have 6+ months between each release. üòÅ 
  The 2.x version is about 10 years old, and uses a previous code base.  It's not something we can really comment on... :frowning:

Are you able to get a more recent version running?  Compiling yourself is generally not hard, if there aren't any packages available for you:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md#ubuntu-linux
 You're welcome. :smile:
  Ahhh, that's not a bad thought.  From memory, it's not possible to disable it via an option at the moment, but it's probably something we should add. :smile:
 Hi Colin!
Can you test the tomorrow's nightly buld (for download locations see the main page of our repository)? In this new version there is an option in the Preferences dialog for disabling the auto completion: View -> Preferences; SQL -> remove the tick next to 'Code completion'. Please let me know if this improves your user experience :smiley: 
 Awesome. :smile:
 @cjdavies Ping? :smile:
 Closing this as we have had a fix for this for some time now. If there are any issues remaining please just reopen the issue.
  Sounds useful. :smile:
 I've just made a commit that adds two new shortcuts for this. For now I have decided to set them to ```Ctrl + PageUp``` and ```Ctrl + PageDown``` because in my opinion Ctrl+Arrow keys feels like it's about selecting table cells (even though it doesn't at the moment), not like changing the table altogether. But that's just my opinion. If a majority feels like it should be the arrow keys I can always change the shortcuts :smiley:

Anyway, are you still interested in this, @tonypdmtr, and want to check out tomorrow's nightly build to see if it's working for you? Thanks for testing! :smiley:  It depends on the protocol used to access the remote database.  Generally it's not a good idea though, as (from memory) even many file based protocols don't get file locking correct... and if something goes wrong with the connection without the files being committed/flushed correctly, the database could be corrupted.

So, you might be able to get it working in the short term, but it's probably not a fantastic idea using DB4S as it currently is.

If we added some kind of code to fully download the database locally first, then copy it back to the remote server after any changes... that could work.

Also, if you're doing mostly-read only stuff, that might be something that's easier to get away with too. :smile:
  Please be aware that SQL (don't matter which database implementation) does not define a default order.
Order is only guaranteed if an ORDER BY is specified by a query.
You can sort your data by clicking a column header
  Sorry but here we develop and help each other with a utility for working with SQLite databases. We can't really help with C# issues, although I would suggest you go a little further and create a table and try accessing it to confirm your password issue. However I would recommend asking this on StackOverflow, or have a look in http://stackoverflow.com/questions/tagged/system.data.sqlite and see if you can find an answer.

I hope you sort it out!
  In theory, we'd like to.  Most of our dev's seem to be taking a break recently now though, so we're kind of short on people with knowledge & free time. :frowning: 
  When you say "onto the app", are you meaning a running instance of the app, or are you meaning the app icon in (say) /Applications? :smile:
 Hmmm, I just tried this both way on OSX 10.9.5, and for me it seems to be working correctly.

Just in case I'm not understanding... I just dragged and dropped a .sqlite file on a running instance of the application.  The .sqlite file was automatically opened into the .app.

So, then I closed the app, and dragged-n-dropped the .sqlite file onto the icon in /Applications.  The .app was automatically launched, with the .sqlite file automatically loaded.

Is that what isn't working for you? :frowning: 
 k, that's strange.  At some point I'll try to get a VM instance of 10.11.3 happening, then see if it's working for me in that.  If it doesn't, then it points to an incompatibility with the newer OSX.

Won't be today though. :wink:
 @tempelmann Thanks for jumping in.  The help wanted tag is exactly for that. :grinning:

And yeah, I meant that I dragged and dropped a database file onto an open (eg running) app window. :smile:

That was with 3.8.0 (the release version), just to make sure I was testing the same thing as was reported.  I don't remember if there's anything in the development code that has changed since release though.  My headspace is in other stuff atm. :innocent:
 Closed issue? :wink:
 Yeah.  Guess you're right.

Thanks heaps for the assist too.  Please continue with it. :grinning: 
  That sounds like a bug, as we should be supporting anything which Qt and unicode allows.  That's the theory anyway. :wink:
 Definitely.  PR's are very welcome here. :smile:
  Not sure.   We probably didn't really think about XP having a 64-bit version available.  Shouldn't be hard to fix from now on though... guessing it's just a matter of changing a setting in Visual Studio for the win builds. :smile:
  That's very difficult to understand. :frowning:

Guessing you are using Google Translate or something? :smile:

As a thought, are you able to do some screenshots to show the problem?  That might help overcome the language barrier. :smile:
 @woody1955 did you close this because you are happy or by mistake?
 I _think_ this should be fixed in the latest nightly build. Do you have the time to confirm this, @woody1955 ? Just download tomorrow's nightly build (or any later one) from the main page of our repository and try the new version :smiley: 
 I'm going to close this for now, as I'm **really** sure it's the same as #633.

@woody1955 The fix for this is in our "3.9.0 beta1" release, if you want to try it out:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/releases/tag/v3.9.0-beta1

If for some reason it doesn't work for you, you are definitely welcome to reopen this issue so we can investigate. :smile:
 This isn't applicable anymore, as the 'dialog' window doesn't exist, does it?  Pressing Enter on a cell now displays the dockable / floating 'edit cell' panel.  If I click 'View' and 'Edit Database Cell' the docked window disappears, but double clicking a field cell just pings it back again.
I noticed (by accident) pressing Ctrl+Enter clicks the 'Apply' button, which is handy, but it would be handier if focus returned back to the grid.  Minor grip-ette though... :wink:
 Ahhh, yeah.  Good thinking @chrisjlocke.  It should be fairly trivial to make the Apply button change focus back to the main window.

Do you have time/interest to open a new issue for that, so it's not forgotten?  If you don't, I can do it. :smile:
 I'll keep an eye on the issue counter.... I think there are 178 other more deserving issues to resolve first! :wink:  When we get to below 100 and people are bored, scratching around for something to do, I'll add this one! :stuck_out_tongue_winking_eye: 
I'll start learning C++ and proper coding skillz (not this lame VB stuff :wink: ) to get the issue count down!
 You know... that would actually be really welcome. :smile:

If you're serious, this might help:
- [An Introduction to Design Patterns in C++ with Qt 4](http://www.informit.com/store/introduction-to-design-patterns-in-c-plus-plus-with-9780131879058)

Unlike what the potentially scary title sounds like... it's targeted at people with no experience or understanding of C++ or Qt, so introduces both on the way through.

Also, if you click on the "Download" tab there (middle of the page), you can download the whole thing as PDF.  No cost involved. üòÅ   
 Thanks for that.  Will defo download that and have a play. :smile:
I've obviously got a good knowledge of VB, so just have to bend my thinking to a new slant!
  Have you managed to follow the same process on Windows 7?
 I have a Windows 8.1 VM that I have been trying to build DB4S on for a while now, with no success as yet. However I notice you have VS2015 and I don't think Qt is compatible with VS2015 yet, so you might need to try VS2013 instead.
 As another thought, that might be a race condition in the build showing up.  If you run nmake again after it fails like that, does the compile then finish?
 So much for hoping for an easy solution. :grin: 
 It has just dawned on me, Qt 5.6 has not been released yet and I believe it will work with VS2015, however if you are at the bleeding edge then you have less chance of success than using supported releases. Just saying, you're welcome to keep trying though
 @mitchcurtis good plan! If you are happy, can you close this issue, or let me know and I'll do it, thanks
 True but the nightly build process works as does the release build. Our Windows build process is not well defined but if it was I doubt it would cover Qt 5.6
 I would expect so as I believe 5.6 will be the LTS release, however as 5.6 is only at Release Candidate right not, then it will be a while. Once we have a documented Windows build process then changing Qt version will be easier, right now you would need to do this on Linux and then copy the Windows output to Windows 10.
 Yeah, it's kind of a hard call.  While it would be nice to support Qt 5.6 right now... we just don't have any developer around that are interested in this just yet.  When we go to make a new release after Qt 5.6 is out, it's reasonably likely we'll hit the same issues you're reporting, and get them fixed then.

So, not the speediest of approaches. :wink:

That being said, if you have the time/interest to work out what's wrong, and submit a Pull Request with the fixes, we'd gratefully accept it. :grin: 
  Hmmm, the only time I've heard of this happening before, was due to the database being damaged.  In the previous instance, the earlier version of DB4S used an older SQLite which doesn't have as good database checking as newer versions.

I wonder if it is the same problem here.

Are you able to open the database with the command line version of SQLite? :smile:
 Interesting.  Are you able to try with SQLite 3.9.2 somehow?
  Thanks. :smile:
  Yeah, that sounds like a bug. :frowning: 
 Ahhh cool, thanks for taking the time to update this. :smile:
  Yeah, this new behaviour isn't great.  Hoping Martin gets time to fix it in the near future. :smile:
 I thought this was already fixed some time ago? @troyhen and @pmcoz, can you maybe test the latest nightly build (see main page of the repository for download links) and check if the error is fixed in there? 
 @troyhen Thanks.  And yeah, hopefully it's not too far off.  We may put it off for a few days though, to get some more changes in. :smile:
 @justinclift, Shouldn't this be closed now?
 Yep, well spotted. :smile:
  Yeah, it should be pretty trivial to do.  "SQLite Browser.app" sounds like a decent start.

I'll update the nightly build script, and see if any problems show up from that.  If they don't then it's probably that simple. :smile:
 Well, that didn't work.  The "macdeployqt" command fails.  Seems like it can't handle the space in the filename, which is weird. :frowning: 
 Yeah, trying variations now.
 Renaming it after compiling definitely isn't a go-er.  What does seem to work though, is changing the TARGET line in src/src.pro prior to compiling:

```
TARGET = 'SQLite Browser'
```

When compiled, the output is now a 'src\SQLite Browser.app', which macdeployqt works with.

The nightly build script has been updated with this.  Should be good for the next release too (in theory). :smile:
 @justinclift will you be committing that change then or do you have a fork on your build server? Just asking in case you forgot
 It's not something to commit, it's a sed line in the nightly build script. :smile:

If we were to change it, then every build we do (for all OS's, etc) would use the new name.  That's not what we want is it?
 I don't know, maybe it is, the name on the Windows Start Menu doesn't look great to be honest. I just assumed that as https://github.com/sqlitebrowser/sqlitebrowser/blob/master/src/src.pro contains the TARGET line you would change it. No problem though.
 k, we should probably consider it then.  We'll probably need to make it conditional, so the command line version on BSD/Linux will still be one word.

It could be as simple as putting the TARGET keyword definition inside the "mac" and "win32" sections of src.pro.  I don't have the time/inclination to try it right now, but should get time to over the next few days.  Ping me if you don't hear from me. :smile:
 Finally got around to looking into this.  Putting an updated TARGET keyword into the mac definition works.  Did the same for the win32 definition too, so anyone compiling on Windows using qmake will get the updated name as well.
  Ouch, that's not good.

As a thought, do you have Homebrew installed?  If so, it'd be worth seeing if things go better when you compile it yourself (super easy):

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md#building-an-app-bundle
 Glad that worked.  There does seem to be something not happy with the OSX binaries, but only for some people.

Unfortunately, I have no idea how to figure out what the problem there is. :frowning:

At least we know a workaround. :grinning:

By the way, which version of OSX is this happening on for you?
  Yeah, that would be good.  We've had some previous discussion about it here: https://github.com/sqlitebrowser/sqlitebrowser/issues/162

@samir-aguiar has been super busy with his work though, so doesn't have time for this in the short/medium-term.

@sman591 Is it something you'd be interested in getting to work, even if for (say) just OSX for now?
 No worries at all, thanks for taking the time to make the suggestion. :smile:
  That makes sense.  We can probably fix that without too much effort. :smile:

@glawrence Reckon you could give this a shot?
 Possibly but still struggling with getting myself a good development setup and finding time
 No worries.  Properly documented Windows build instructions are more important. :smile:
  The official release(s) for Windows don't yet have SQLCipher support added.

However, @huy-cong was able to compile things himself and include it.  More information [here](https://github.com/sqlitebrowser/sqlitebrowser/issues/12#issuecomment-175526863), if that's an option for you. :smile:
 @fmeneuhe Did that help at all?
 @fmeneuhe There's now. @justinclift made a Windows executable with SQLCipher support which you can find here http://nightlies.sqlitebrowser.org/win64/sqlitebrowser-win64-with_sqlcipher-201605041823.exe
 Yeah, that's an early test build.  Everything should pretty much "just work" in it ok, as it uses the SQLCipher support that's been in our code base for a few versions now (on OSX, Linux, etc).

Am working through the process to make Windows support easier, and kind of hoping we can get SQLCipher support built into our next Windows releases from here on.  (that may or may not happen right away though, will need to do some more investigation/testing/etc)
 @justinclift Should we close this?
 Hmmmm, I'm on the fence about it.  Maybe lets wait for 3.9.0 to be released and people are using it?
 Added 3.10.0 milestone, so we remember to look back at this to check. :smile:
 Closing this now, as the SQLCipher support included with 3.9.0 seems to work ok. :smile:
  could be also related to:
_Plot misses columns with NULL as first value_ #499

Regards Ralf
 This is related to issue #822. Good news is that this is finally fixed now.
@wolfc01 If you are still interested in this, can you try tomorrow's nightly build and report back if it's working for you now? :smiley: 
 Any update on this, @wolfc01? :smiley: Closing this because it's an old issue without any updates recently. If this isn't working for you as expected, please reopen this issue. :smiley: @wolfc01 Carl, out of curiosity did you ever get time to check if this is fixed from your point of view? @zwrmueller Hmmm... I don't think we have a useful ongoing way to do that (yet).

If you need something to test "once off", I can grab our latest nightly, install it in a VM here, then make a .zip file of the installed files.  I think if you unzip that into a place of your choosing, then that should work.

No guarantees üòÅ , but worth a shot if you need a nightly to try. :smile: You don't need to install in a VM and .ZIP it back up again - simply download the latest nightly and unzip that using 7zip - it'll create some 'wacky' directories, but the core files will be in one directory, then the 'platforms' directory.  @chrisjlocke Cool, didn't know that.  Sounds practical then. :smile: So, ignore the $PLUGINS directory, as thats the setup file's 'noise'.

![image](https://cloud.githubusercontent.com/assets/7872218/25914358/eb1c55c4-35b5-11e7-82d5-d16b3a073f7b.png)

...and the 'redist' directory, as that'll be installed anyway.  So just replace the files into the 'APP' directory of the portable installation.

I'll write this into the Wiki, as I'm sure someone else out there has the portable version! ;)  üç´   This is a duplicate of https://github.com/sqlitebrowser/sqlitebrowser/issues/513 isn't it?  If so, is it ok to close this one? :smile:
 Closing this as duplicate.
  If I select `Show rowid column`, the column headers correctly refreshes to show the new `rowid` column, but the columns data retains the old columns count.

So, after selecting the option, it looks like this:

![screen shot 2016-02-01 at 12 39 22](https://cloud.githubusercontent.com/assets/5748627/12715280/1eebccb4-c8e2-11e5-8511-cb3262410e59.png)

After **just right click-ing**, it correctly refreshed the columns data:

![screen shot 2016-02-01 at 12 39 30](https://cloud.githubusercontent.com/assets/5748627/12715296/3747f85a-c8e2-11e5-98f1-94c97ec41ccb.png)

After clicking the option again to disable the option, it looks like this:

![screen shot 2016-02-01 at 12 39 38](https://cloud.githubusercontent.com/assets/5748627/12715308/4b8d487e-c8e2-11e5-8128-2a78d4a54ff3.png)

And after right click-ing again, it goes back to the correct initial form:

![screen shot 2016-02-01 at 12 39 43](https://cloud.githubusercontent.com/assets/5748627/12715319/5ec1fbe2-c8e2-11e5-9eca-5e5061c86317.png)
 can confirm this with Win 7 SP1 and nightly build 3.8.99

Ralf
 Turns out this isn't quite as fixed as we'd thought. üò¶ 

@karim pointed out in https://github.com/sqlitebrowser/sqlitebrowser/issues/639#issuecomment-232600998 that the nightly build, which included this fix... still has the issue.

Looking at the [build log](http://sqlitebrowser.oldsch00l.com/build.log), that shows it using the correct git commit for building from.  Which means the code wasn't somehow missed out:

```
From https://github.com/sqlitebrowser/sqlitebrowser
   3b2c192..e7b3011  master     -> origin/master
Updating 3b2c192..e7b3011
Fast-forward
 src/EditDialog.cpp       |    2 +-
 src/EditDialog.ui        |   10 +++++-----
 src/MainWindow.cpp       |    2 ++
 src/sqlitetablemodel.cpp |    7 ++++++-
 4 files changed, 14 insertions(+), 7 deletions(-)
```

Now... to figure out WTF is going wrong.  Initial thought it maybe it's a Qt4/Qt5 thing?  I'll try compiling it here on OSX using Qt4 (instead of Qt5, which I used yesterday), and see if it's broken or not.
 I think I'm using Qt4 home, where I solved this. I have no idea why wouldn't it work. And, how comes it worked with another nightly build?
 Yeah, I just tried it here on OSX with Qt4.  The bug is fixed with that, so it's definitely not a Qt4/Qt5 problem.

Our official nightly Windows builds are statically built, [cross compiled on a Linux host using MXE](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md#cross-compiling-for-windows).

The one off Windows build I created yesterday for testing the fix, was made using MSVC on Win 8.1, and uses shared libraries.

So... yeah... I'm not sure either.  ... and I'm not sure what to check next. üò¶ 
 Wouldn't it be simpler for @karim to test again the latest nightly build today, which is guaranteed (I guess) to include the fix?
 Hmmm, I suppose it won't hurt.  I was under the impression that the build log for http://sqlitebrowser.oldsch00l.com/sqlitebrowser.exe.zip was showing the fix already included. (but not working) :wink:
 Ahhh, as a data point, the domain name for the nightlies might be giving the wrong impression with this one:

&nbsp; &nbsp; http://nightlies.sqlitebrowser.org/win64/sqlitebrowser-win64-issue639v2-201607131125.exe

That one's not **really** a nightly build.  It's just a once off I chucked on the server for people to test.

Maybe I should rename that `win64` directory to `win64-onceoffs` or something?
 Yes, I think it's a good idea not to mix nightlies and manual builds.
 k, moved those two into a hopefully-better-named subdirectory instead:

&nbsp; &nbsp; http://nightlies.sqlitebrowser.org/win64-onceoffs/
 On what OS?
 Hmmm, well that's just weird. :wink:
 No worries at all, sounds like a decent plan. :smile:
 @zwrmueller, As a safety check, can you test this too with the latest nightly?
 Thanks @zwrmueller. :smile:

It sounds like the Windows builds will definitely need to be build using Qt5.
  as I wrote at an other issue, with big data files it could be pretty much time consuming going directly to the BrowseData tab. I would opt for an option which tab to open first - or some sort of intelligent behaviour like this:
- if the file holds a single table, go directly to BrowseData tab
- if the file holds more than a single table, go to DataStructure tab

Regards
 Ralf
 I agree with you, Tony.

Why does open big tables is causing delay? 
For one reason see issue: "Useless time consuming internal SQL-commands at start-up". 

Other reason could be: besides just showing the data via BrowsData-pane, just before running the Limit-SQL-query (internally run, as could be seen in the SQL_LOG-pane) for showing the data --> an other SQL-query for _counting_ the (whole) data is run, and _that_ query is not limited.

This behaviour is slightly different from running the same Limit-SQL-query manually from the Excecute_SQL-pane: here beforehand the Limit-SQL-query again a SQL-command for _counting_ the data is run, but this time including the LIMIT clause.

Maybe this is stuff for another "Useless time consuming internal SQL-command" ...

Regards
 Ralf
 You're completely welcome to add further features + submit them here for inclusion if you want. :grinning: 
  It seems like this was introduced by #286. That PR changed the code for the edit dialog but not for the edit dock. I've just pushed a quick fix for that but haven't had a closer look at the changes made by that PR yet (not much time atm) but it seems to work now. Maybe if you have the time, can you help me out here testing the inline editing, the editing in dock mode and in window mode in the next nightly build? :smile: 
 Ahhh, forgot about this issue.

@tonypdmtr Going to close this, as it's fixed in the 3.9.0 release which came out yesterday. :smile:
  It would be greatly useful if the save/open dialogs would save the last paths used per action type.

For example:
- for `Import`, the path could be `~/Users/Iulian/amazon_exports`
- for `Export`, the path could be `~/Users/Iulian/table_backups`
- for `Open SQL file`, the path could be `~/Users/Iulian/queries`
  This was caused by a bug in our grammar parser which now should be fixed. Do you have the time to test tomorrow's nightly build and let me know if it's working for you, @darkfeline ? :smile: 
 Awesome!

@darkfeline Thanks for testing and letting us know. :smile:
  Interesting.  That definitely sounds like a bug. :frowning: 
 Hmm, I have difficulties to reproduce this, both loading extensions and setting the pragma work for me...
By startup file you mean the Preferences dialog -> Database -> Advanced -> "SQL to execute after opening database" field? In this case there really shouldn't be any difference between opening the file via GUi and command line... So we'd have to do some more debugging on this :smile: As a start: What does it say in the SQL log area of the application when showing SQL submitted by the application? Do your commands appear there? In the meantime you can also load the extension via the Extensions tab in the preferences dialog and enable foreign keys in the Database tab.
 @orbisvicis, Do you have time to test this using the nightly build?
 @orbisvicis Ping.  Would you be ok to try our recent 3.9.0 release?  There's a fairly decent chance the bug is fixed in that. :smile:
 Closing this due to lack of response. üò¶   Hello,

I observed, that just _opening_ a big sqlite-file tooks lots of time. At the SQL_Log panel I could see that SQLitebrowser first  queries the sql_temp_master table, which is ok for me, but then also automatically queries the first table inside the db file. Just to show me nothing else more than the entry panel with the file structure. I think the last query is pretty useless, cause switching to data panel issues the query for the first table _again_!

Second:
If then I will have a look at the data and right-click on the table of choice and clicking _Browse Table_ then SQLitebrowser issues **2** queries: 1st) for the last table (looked at or automatically queried by program start) and 2nd) for the actual table I want to look at. Again I think the first query is pretty useless!?

Or do I miss a point?

Regards
  Ralf
 Hmmmm, yeah, you're probably right.  It's kind of a semi-legacy code base, and we haven't really optimised things for working with large databases.  It would be useful for someone to join the team who'd be interested in doing that.

Would you happen to know anyone suitable and who might have the time/interest? :grinning: 
 Hello Justin,

we were on this before, unfortunately not. I can only offer my interest in beta testing/usability testing/reporting issues I stumble upon. But I‚Äôm not a programmer or know of anyone here.

I‚Äôm sorry
Ralf
 No worries at all.  I ask widely because sometimes it works out well. :grin: 
 Both issues should be fixed in the next nightly build. Let's have a thorough test here because this required changing some of the more central parts of the UI code :smile: 
 @zwrmueller Do you have time to test the next nightly build (tomorrow), and let us know if it's working better for you now? :smile:
 Sure, that‚Äôs the least that I can do.

Regards
Ralf
 Hi, here is my testing:

I‚Äôm on Windows 7 SP1, tests with actual nightly build from 29.01.2016:

Issue 1) SQLiteBrowser now loads lightning fast ‚Äì good!
Issue 2) just clicking on the tab _Browse Data_ results in incremental loadings of data in 50000 steps, which took looooooooong time - and finally crashed on a big data file, on small data file there is no crash; but the incremental loadings are not the behavior as before and pretty useless for a first glance at the file.

I answer per mail and put screenshots into it ‚Äì dunno if it makes it to the forum ‚Ä¶

Regards
Ralf
 Thanks Ralf.  And yeah, email attachments don't get added to issues.  They need to be added using the web interface.  Would you be ok to do that? :smile: 
 new startup - OK!

![err_sqlite_startup_new_ok](https://cloud.githubusercontent.com/assets/14907888/12694899/06ca9fea-c73c-11e5-9e23-4b057e631a7e.jpg)

was old startup - with immediate query - bad

![err_sqlite_startup_old_bad](https://cloud.githubusercontent.com/assets/14907888/12694898/06c9757a-c73c-11e5-886f-e6de932fbdb2.jpg)

new BrowseData - with incremental data queries - bad

![err_sqlite_browsedata_new_bad](https://cloud.githubusercontent.com/assets/14907888/12694897/06c4b6ca-c73c-11e5-99cd-4073f55fa4f8.jpg)

new BrowseData - with crash on big data file

![err_sqlite_browsedata_new_crash](https://cloud.githubusercontent.com/assets/14907888/12694896/06c2669a-c73c-11e5-97cb-ca2a59fd631d.jpg)

old BrowseData - with double time useless SQL query - not optimal

![err_sqlite_browsedata_old_bad](https://cloud.githubusercontent.com/assets/14907888/12694895/06c0218c-c73c-11e5-91ad-a40775fafe40.jpg)

Regards
 Ralf
 Thanks Ralf. :smile:
  Thanks for the bug report.  Do you happen to remember which version the shift-click approach used to work?  That might help nail down the code which introduced the change. :smile:
 Just tested this on my Linux machine and I don't experience this issue here at all. I can't remember any code changes related to this view either, so I assume it might be a Qt version thing maybe? I'm building againg Qt 5.5.1 but I'm not sure which version we're using for the Mac OS X bundle.
 Ok, no worries :smile: That's a fine solution, too :wink: In case the issue happes again for you, feel free to reopen this bug any time.
  Yeah, an extension environment would be great.  I don't know if we have anyone around who could implement it though.  If someone wants to volunteer/join-the-team/etc, that would be fantastic. :grinning: 
 @rp- Are you able to point out the code between the query result and the display, as @shirish93 is asking?  If so, that would help him get start in the code base... :smile:

@shirish93 The other approach would be to just set a bunch of breakpoints in the source, then step through them as the query happens.  It's not the fastest way to narrow things down, but it would get you to the code you're looking for within a few minutes.  And after that, you know where the code is, so don't need to do it again. :smile:
 There are two places (leaving out a few unimportant ones) for issuing queries and displaying them in the UI: the Browse Data tab and the Execute SQL tab. For the latter I don't see any real chance of implementing some automatic decoding procedure. But for the former one we already have some sort of mechanism which might not be enough, though. You can have a look at the 'display formats' part of the code, especially in the MainWindow.cpp and ColumnDisplayFormatDialog.cpp. My first opinion would be that writing a SQLite extension and using that in the display format dialog would make most sense. But either way, we'd have to check for some C implementation of (un)pickle.
  That's not a bad idea.  The installer is created using NSIS.  So, if NSIS adds a built in switch for silent install, that would likely work. :smile:
 should work, see:
http://nsis.sourceforge.net/Docs/Chapter4.html#silent
 @rp- Excellent, that's good info.  @swinster Would you be ok to read that info, then try the /S, /D, options (etc) as appropriate?
 It sounds like it should be, but it might take some digging to figure out what the correct command line switches should be.  Might need to locate the NSIS source code (should be online), and take a look at the file in there which does the command line option parsing.  That would be pretty definitive. :smile:
  Hi,

if the very first entry/value in a data column is NULL --> this column is no presented as a choice in the plot register.

I.e.: I got a table with 3 columns as
## A   B   C

1   10  NULL
2   12  21
3    8   123

then in the plot register frame only column A and B could be choosen for graphic representation - but not column C, column C is totally omitted and not listed for choosing it.

Could this be fixed please?!?

Small other issue with plotting:
in the graph section only data lines up to the SQL line limit are drawn. Took me a while to understand that. First I ever thought this behaviour would be a limit within the plot engine itself, but now I understood that it is correlated to the data lines shown within the data browser - and the data browser limits the data to 50000 at first view.

Suggestion: maybe a button "Show all data" right hand at the status line of the plot area would prevent others to stumble over that glitch.

Regards
 Ralf
 just learn a bit of Markdown formatting, so here again is my example table:

| A | B | C |
| --- | --- | --- |
| 1 | 10 | NULL |
| 2 | 12 | 21 |
| 3 | 8 | 123 |

how does it look :-)
 Hi Ralf, I've just fixed the second issue you've mentioned. The next nightly build should load all data automatically. As for the first and main issue I'm not really sure how to address this yet. Our plot code can't seem to omit those rows which are set to NULL, so they would always be treated as 0. But that's just wrong in my opinion because NULL means no data whereas 0 is an actual data value. But we'll see as soon as I have a chance for a closer look on the code.
 Would having all of the data loaded automatically be a problem for people using very large (GB+) data sets?
 me too I would prefer the suggested button to quickly get a grip on the actually loaded data - and visibly offer an option (button) to load them all for viewing the whole thing if desired

Regards
Ralf
 Sorry for keeping you waiting so long! But if you're still interested in this: could you try the next nightly build? I've added a small button for fetching all the data instead of doing it automatically. It's the small button with the cog icon in the plot panel :smiley: 
 Hi Ralf,
sorry again for the late response!
Today I haved pushed two commits which address this issue. One adds a progress dialog to fetch all data process. This way you can tell how long it's going to take and you can cancel it anytime.
The other commit actually addresses the NULL value issue and fixes that. For NULL data there will be a gap in the graph now. If it's just your first row that has a NULL value, the graph will simply start a little later.
If you're still interested, can you test tomorrow's nightly builds and report back if it's working for you? :smiley: 
 @zwrmueller Did you have any time to test this yet? :smiley: Closing this because it's an old issue without any updates recently. If this isn't working for you as expected, please reopen this issue. :smiley:  Thank you for reporting it.  Would you be ok to do a screenshot, to show us? :smile:
 Thank you, that helps.

Yeah, the text does look blurry. :frowning:

Is there any improvement if you use different fonts?  (they can be changed in Preferences)
 @nickberry17 Yep, that's very helpful.  The "perfect" approach here would be for you to create a "Pull Request", with the code changes you've made in it.  That lets us directly merge them into our source code here, so they become part of the main project forever. :smile:

Looking at your fork of the project, it seems like you're still coming to grips with using git.  That can be a painful experience until it "clicks" and you get the hang of it (it was for me! :frowning:).

If you're up for continuing your journey of learning git, this is how to do a Pull Request:

&nbsp; &nbsp; https://help.github.com/articles/using-pull-requests/

If you'd rather not just right now (it's ok), let us know and either @MKleusberg or myself can look at coping across the changes manually.  (we'd probably need to ask follow up questions about which bits exactly/etc)

Workable? :smile:

Oh - forgot to mention... neither @MKleusberg nor myself have Retina display Mac's, so we'd probably need you to verify things being ok through either the nightly builds, or special one-off builds (I have a script for that, so it's easy). :smile:
 Closing this, as @nickberry17 fixed it in #575.
  No worries. :grinning:
  Interesting, thanks for reporting it.

Would you be ok to try our nightly build (download location is listed on our front page), and let us know if that works for you?  It uses a different (static) build proccess, and seems to work in many crash situations like this. :smile:
 I am running Windows 7 with the standard 64-bit build from the installer and cannot reproduce this. I need to clear some space to test this on Windows 10 as I need to spin up a VM.
 @skifans No worries. :smile:

@glawrence That would be useful.  It kind of sounds like there's an issue with the dynamic linking part of things, as the static build version worked.  Not sure if that's pointing to a problem with some dll's on just @skifans' system, or if it's something more widespread, or something else... :anguished: If it happens for you too on a <strike>MS spyware</strike>Win10 system, that would help figure out if it's a once off vs possibly something just on Alex's computer.
 Nah, should be ok for now.  Neither @glawrence nor I are C++ developers for this project, we just help out with other bits.  We're volunteer based, and the main developers are taking a bit of time off it seems after the holidays... so there's no debugging going to be done urgently right now. :angel: 
 I have created a vanilla Win 10 Pro (x64) Virtual Machine, downloaded sqlitebrowser-3.8.0-win64v2.exe from http://sqlitebrowser.org and installed SQLitebrowser, with no issues. I created a new database, added a table with some fields, a couple of rows of data and all was well. No matter what I did I cannot make it just crash after 3-4 seconds. All is well.

@skifans did you have a previous version installed?
 @skifans You mean it crashed while the open file dialog is opened? Might be difficult to debug then. Do you get any other information in an error message?
 @skifans If you have a few minutes, would you be ok to try the "3.9.0 beta1" release we did last weekend?

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/releases/tag/v3.9.0-beta1

We've fixed a weird crash bug a few weeks ago which kept showing up in strange places.  There's a decent chance that's the one which was affecting you. :smile:
 Thanks @skifans. :smile:
 @skifans Just an update, we released version 3.9.0 yesterday.  When you're back, please test with that one instead. :smile:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/releases/tag/v3.9.0
 Thanks for checking and letting us know @skifans. :smile:
  Interesting, thanks for letting us know.  Someone mentioned something similar for one of the other windows too.  Looks like it wasn't a one off. :wink:
 @justinclift I am seeing the same on Windows 7, it looks to me like the text in the first 4 menu items of the "View" menu is used for the menu item entry and the corresponding "dockable window title", however the latter does not handle & like a menu does, hence the problem.
 k.  Hopefully Martin has time to look into it.

Good follow up Geoff. :smile:
 Interesting.  Maybe it's a bug in the Qt 5.5.1 released that was used on Windows then. :wink: 
 I'm using Qt 5.5.1 on Linux and don't experience this problem. So it's not just the Qt version but either Qt on Windows or Windows in general. I've tried fixing the problem in the latest commit but don't have a Windows system to test my (somewhat naive) approach. So let me know if it works for you, ideally by first checking today's nightly build, then checking tomorrow's nightly build.
 As today's nightly build will be gone soon I've made a backup, just let me know if you need it.
 @wolfgang42 Do you have time to test the nightly build, and let us know if it's working better for you now? :smile:
 Aargh.  Ok, new plan.  Would you be ok to try the nightly build tomorrow then? :grinning: 
 Awesome, thanks for letting us know. :smile:

I'll close this for now.  Our next release will have this in it. :grin: 
  Hmmm, it looks like it hasn't found the SQLite development pieces.  Which platform are you compiling on? :smile:
 You're welcome. :smile:
 Heh Heh Heh

Just went to add it... and er... it's already there.  3rd package on the "yum install" line.

Oops? :wink:
 Ahhh yeah, that makes sense.  We added the missing dependency a few days ago from memory. :smile:
  Thank you, that's a decent idea. :smile:
  Interesting.   Would you be ok to add a screenshot showing the filter, and it not working? :smile:
 Thanks.  Yeah, that doesn't seem to be working like it should. :frowning: 

If you press the refresh button (just above the "Apellido" heading in your screenshot), does it apply then?
 Hmmm yeah.  It sounds like there is a trigger for the filter which wasn't created. :frowning:

Thanks for taking the time to get in touch with us. :smile:
  From memory, there's a key combination you can press to refresh it manually too, if that helps.  Trying to remember what the key combination is though... drawing a blank.  F5 on Windows, ‚åò-R on OSX maybe? (no idea for Linux... may be window manager dependent?)
 Thanks for the suggestion. The filters were applied after a delay time of 300 ms for users editing large tables. You could leave the filter e.g. by hitting Tab or you could hit Return to apply the filter instantaneously.
To improve this behaviour I've introduced a new option in the Preferences dialog for setting the delay time. You can disable the delay altogether as well by setting it to 0. I've also reduced the default waiting time to 200 ms. Please let me know if the changes work for you :smile: You can test them by downloading the next nightly build :smile: 
 @Aermec Did you have the time to try the nightly build yet? :smile: 
 Not sure, but it might be due to this commit.  That one is a first tentative attempt to fix a different problem: https://github.com/sqlitebrowser/sqlitebrowser/commit/6784a6a854813bc6577f81c4300d8983abb3cee9

If that one really is the cause of the slow down, we'll need to find a different solution for that one. :wink:
 Yes, that was the commit that caused the application to slow down, effectively disabling the block prefetch feature. That performance bug got fixed in the meantime, so it should all be fine now :smiley:

Also, I'm going to close this issue because the filter delay seems to work fine :smiley: Wow, I always thought it takes a little because the table is large, didn't know there was a delay there. A big thanks from me, too, @MKleusberg! Thanks :smile_cat:   This is a bit confusing... you mention there is no concurrency problem, but also mention using AndroidStudio and DB4S at the same time.  I'm not sure if AndroidStudio changes things or not. :frowning: 

Out of curiosity, is your database file located on your tablet while you're editing it (eg connected through USB cable), or are you copying it to your computer first before editing?  Android has some reasonably well known problems with copying files around in some modes.  Some of the links in here might help, if this is what the problem is: https://github.com/sqlitebrowser/sqlitebrowser/issues/476
 Yeah, that's really, really not good. :frowning:
 @cederom Hmmm, one thing that **might** fix the problem for you, is if you compile DB4S yourself (pretty easy), so that it uses the MacPorts dependencies instead of the bundled ones.

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md#building-an-app-bundle

Do you have the time/interest to try that? (it should only take a few minutes)
 This may be the problem:

https://stackoverflow.com/questions/9058169/sqlite-database-disk-image-is-malformed-on-windows-but-fine-on-android

As pointed out by @MKleusberg [earlier on in the year](https://github.com/sqlitebrowser/sqlitebrowser/issues/476#issuecomment-168403277). Doh.  Damn, hoped we'd found the cause. :smile:

Oh well, hopefully we'll get it sorted one day. :wink: Yeah, concurrent access **may** have something to do with it.  But, that's just (a reasonable) guess. :smile:  Hmmm, that's not good.  Crashing is definitely not the correct behaviour there. :wink:
 Can't reproduce this :frowning: Can you provide any extra information on this?
 On OSX, we include the needed external libraries in the .app bundle.  The app bundle is created simply using macdeployqt though, which may or may not be fantastic.  It's possible there's a conflict with installed MacPorts packages/libraries. :frowning: 

@cederom If you compile DB4S yourself (it's extremely easy), do the problems still happen?

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md#building-an-app-bundle
 Thanks @lech that's really useful info.  Should help the guys debug this reasonably quickly, once they get the time. :smile:
 Yeah, I don't think crash reports are going to help us at this stage. :frowning:
 Cool, thanks for checking Andrew. :smile:
 Thank you all for the combined debugging effort, @cederom, @lech and @AndrewADev :+1: 
I think I managed to reproduce this. The problem occurs in version 3.8.0 when following the instruction provided by Lech. However, you must have the `View -> Edit cell` option activated, otherwise the application wouldn't crash.

But as Andrew said, this bug seems to be fixed in the current master. So, as the initial reporter, would you be able to try out the latest nightly build and check if the error is fixed for you, @cederom? For download locations check the main page of our repository :smiley: 
The annoying opening of the Edit database cell window mentioned by @AndrewADev should be fixed, too, in the latest nightly build.
 Closing this, as it's apparently fixed and we've not heard back.
 You're welcome. :smile:
 Awesome @lech, thanks for trying it out and letting us know. :smile:
  Hmmmm, this seems unusual.  What is it for? :smile:
 No worries. :wink:
  I work with an SQLite database encrypted with a password with different versions of it in different locations.
It gets annoying having to enter the same password over and over again (even with `ClipMenu`).

Is there any possibility to set a password, maybe in `Preferences > Database > Advanced` next to the new `SQL to execute after opening database`, and first try to use that password, and if it doesn't work (trying to open another database), show the enter password alert?
 Hmmm, I can see arguments both for (convenience) and against (security) doing that.  However, PostgreSQL (another database product, kind of a big brother to this) has the ability to set default passwords.  The arguments for that doing so, are valid here too.

So... without thinking about it too deeply, this sounds like a decent idea. :smile:
 Though, it may feel odd to try the same password for lets say 10 different databases, but only one  being the correct one.
Maybe specify a regex format for the databases with that password? Something along the lines of:

```
Apply this password: <password>
for files with this format: <format>
```
 There's no lockout of a database from failed attempts, so that kind of feels (to me) like overcomplicating things.

That being said, whoever end up implementing this... if they choose to do so, then great. :wink:
  That's a bit confusing.  Are you meaning this is a regression in behaviour?  eg it used to do things ok, but now its not

Or are you suggesting a new, improved behaviour? :smile:
 Cool, thank you. :smile:
  Interesting questions.  @rp- creates our Windows release builds using Visual Studio (I think, that's from memory).  Our nightly Windows builds use an older process, cross-compiling from Linux using [MXE](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md#cross-compiling-for-windows).

From your error output above, it looks like you're using mingw32.  I'm unsure if anyone's tried that yet. :grin: 

And yeah, lets discuss here.  It distributes the problem solving / knowledge wider. :wink:
 Yeah, I'm not sure either.  I don't code C++ (at this point), I more help out this project with compiling on OSX and making packages there.

Is there any way you can add an #include (or C++ equivalent) or something for string_s.h, to see if that works?  Note - That's just me guessing. :grin:
 I keep meaning to look Windows builds, so will try and get restarted on this
 building sqlitebrowser itself is not much of a problem with cmake on windows.

Its more a problem of getting the dependencies correctly built, e.g. sqlite is a bit of a pitty because there are no build files for VS and you have to do them on your own with the correct .def file.

I don't build with qmake anymore and don't know how a mingw build will work out on windows.
 No, MXE is for cross compiling from linux (for our nightly builds)

The installer .exe is created using VS2013 and cmake.
Yes you would need to set the paths to our install/library directories
 yes it should be possible
 those paths should point to foremost binaries
a directory structure like SQLITE3_PATH/lib, SQLITE3_PATH/include

this is how cmake will search for the includes and lib files
 see also:
https://cmake.org/cmake/help/v3.3/variable/CMAKE_PREFIX_PATH.html
 It looks like a define mismatch, someone(mingw or antlr) wants to call strcpy_s, but this function is only avialable I think on MS visual c compiler, it is some pseudo secure variant of strcpy.

http://sourceforge.net/p/mingw-w64/mailman/message/25751607/
 Nice work @huy-cong that's great news. I have been working on something similar with a view to documenting the steps on our Wiki but I am behind you in terms of progress! Would you have time to write up your steps and anything else you noted along the way? Please. If you just sketch something out roughly in a reply here I can then pick this up and format for the wiki, adding my own experience. We can then also update other documentation, however I wanted to make your contribution easy for you! Thanks.
 Thanks @huy-cong that's helpful and appreciated. I will close this issue down now as I believe we are all done.
 @huy-cong Do you still have your CMakeLists.txt file around?

I'm trying to get this working with MSVC 2013 + CMake ([documenting the progress here](https://github.com/sqlitebrowser/sqlitebrowser/wiki/Notes-for-compiling-on-Windows)), but am hitting the same ANTLR error you show above.

Any ideas?
 Managed to get past that error, and get CMake to generate the project files.  It seems like the project is being compiled in x86 mode though, not x64, as it then complains about a mismatch.

Does anyone know where to set that?  I was **very** careful to download the x64 versions of Qt, OpenSSL, etc, and I'm running Win 8.1 x64.  So, I'm unsure where it's getting x86 from. ???
 Thanks @drescherjm I'll take a look at that again.  I was trying things from the command line, as the GUI didn't seem to have a way to "Open File" to select an existing project.

I'll take a look again. :smile:
 Hmmm, that seems to have completed the build.  Ok, this might be worth putting more time into after all.

Thanks heaps @drescherjm, that seems to have solved that problem. :grin:

Now to see if I can get the "install" step working...
 Holy crap.  It worked.

![first compile of db4s on windows](https://cloud.githubusercontent.com/assets/406299/14868193/506c330c-0cc4-11e6-8bff-3e1a30df4d5e.png)

Tomorrow, I'm going to document the living stuffing out of the process to make that work. :smile:
 Awesome, that's really, really helpful. :smile:
 The target for building a package with NSIS is also working too.  Hmmm, it might be possible for us to get SQLCipher support working too.  Another thing to try tomorrow. :smile:
 Update - I've gone through the process (from a newly installed Win 8.1 desktop) to compiled & packages 64-bit version on DB4S on Windows, taking 104 screenshots along the way.

Mentally brain fogged now, so the cropping and turning-them-into-useful-docs process is going to have to wait a few hours before starting, or perhaps tomorrow morning.
 For anyone interested, the docs-in-development for compiling DB4S on Windows are here:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/wiki/Setting-up-a-Win64-development-environment-for-DB4S

They're in an ok state now.  Some fine tuning still needs to be done to make things prettier, but the content is workable as-is. :smile:

Now if I can just get SQLCipher to compile... :wink:
 SQLCipher seems to compile ok, and DB4S seems to pretty much "just work" with it when the right includes/directory-paths/filenames are given to it.  Initial package here for testing, if anyone wants to give it a shot:

&nbsp; &nbsp; http://nightlies.sqlitebrowser.org/win64/sqlitebrowser-win64-with_sqlcipher-201605041823.exe
 @kiwina Heh Heh Heh, that's a bit light on details. :wink:

Which bits did you try, and what went wrong?  Screenshots of error messages and similar are helpful, so we can investigate and try to fix it.

As an extra thought, we've been putting time into making further instructions for compiling SQLCipher on Windows:

&nbsp; &nbsp; https://github.com/justinclift/sqlitebrowser/wiki/Win64-setup-‚Äî-Compiling-SQLCipher

They're also still a "work in progress", but might be useful depending on the problem you're hitting.

Anyway, if you're ok to let us know what broke when you tried things, that would help. :smile:
  Oh, that's not good.  @MKleusberg, another one for you. :wink:

Thanks for continuing to test and report stuff @tonypdmtr. :smile:
 Just tested this using the latest version and it seems to work. I think we've fixed this quite some time ago to be honest. Are we ok to close this issue? :smiley: Hmmm, not sure.  @tonypdmtr ? @tonypdmtr Thanks for checking. :smile:

We dropped the statically built window's nightlies a few months ago, when we switched to supporting Qt5 only.  The static builds relied on Qt4, so that approach no longer worked.

Thus new nightlies.  Dynamic build though.

The build script we use for Windows is here, if that's useful:

&nbsp; &nbsp; https://gist.github.com/justinclift/11cc926f214e882c8162f97c53929c07

If you have ideas on how to tweak/change it to make things better, we're open to improvements. :smile:

Note - It looks more complicated than it is, as it runs through twice.  Once for Win32, and once for Win64. @tonypdmtr Reading through your original report for this... I think we might have been misunderstanding it.

When running a SQL query in the "Execute SQL" tab on yesterdays's nightly OSX build, the results show up in the window pane below.  I didn't personally think the result pane was hooked up to the "Edit Database Cell" er.. dockable window thing :wink: at all, but you're right.  When I click on one of the results with the mouse, it shows up in the "Edit Database Cell" window:
![screen shot 2017-05-17 at 19 28 35](https://cloud.githubusercontent.com/assets/406299/26169871/1d925568-3b37-11e7-91e5-c1775442ed37.png)
But, moving around the result pane cells with the keyboard doesn't change what's shown in the "Edit Database Cell".

I guess we need to think over whether things from the result pane should be shown in the "Edit Database Cell" or not, then either fully unhook things (eg so mouse click doesn't show results there), or properly-hook-things up (eg including the keyboard).

What're your thoughts on the direction we should go?  I'm trying to figure out how/where/why it'd be useful to have them editable. :smile: Ahhh, that makes good sense.  Hadn't thought of it that way at all.

Yeah, we should probably hook up the keyboard keys with the Edit Database Cell contents there too then. Thanks for the detailed explanation, @tonypdmtr :smile: I've just changed the code to allow include selection via keyboard, however it's not that easy as you can see [here](https://doc.qt.io/qt-5/qabstractitemview.html#activated). On some platforms you'll need to press Enter to trigger the action, i.e. first change the selection by using the arrow keys, then press Enter to show the contents. I'm not sure either what they mean by "depends on the platform"

Anyway, what do you reckon? Is the new approach (it'll be in the next nightly build) workable? Or should we add extra code to make it happen without the Enter key being needed? And if so, how should we handle multi-selection when multiple fields are selected?  Thanks for reporting this Chris. Just tried this out here on OSX, and you're right.  That looks like a bug in our older "Edit database cell" code.  Seems to only happen (for me), when the new "Edit cell" window is turned off. :frowning: 
 Hmmm, yeah there definitely seems to be some buggy interaction between the older "Edit database cell" window, and the new "Edit cell".  @MKleusberg wrote the code for this, so this Issue has been assigned to him. :grin:

No idea how long it will take to get resolved... we're volunteer based.  It might take a few weeks. :angel:
 It does sound like it will be an easy fix though. :grin: 
 Thanks, @chrisjlocke, for reporting this :smile: I've done most of my testing using the pane at the bottom instead of the dialog and didn't notice this annoying behaviour...
This bug should be fixed in the next nightly build (so no need to wait for a few weeks :wink:). Please let me know if the new version works for you.

As for the "Edit &cell" thing: this seems to work correctly on my system (i.e. underlining the 'c' and creating a Alt+C shortcut). Might be a Qt version thing or dependant on the OS. I'll have a closer look at this later.
 Excellent stuff @MKleusberg. :smile:
 @MKleusberg I've just been using DB4S for manually adding a few hundred fields of data in a database, which I need to do every few months.

Not at all a fan of the new Edit Cell window, as it's breaking my work flow pretty badly.  Previously, I could hit enter on a cell, edit the value in place there, hit tab to progress to the next cell (which would automatically be in editable mode), add the value there, hit tab, etc.

This no longer works, instead bringing up the Edit Cell window, where the TAB key makes a tab character instead.

To get around this I've reverted my version of DB4S back to commit e74645bb1f74395016bfda110dd4d996bb1d5cb1, which is prior to this Edit cell change.  That has let me continue being efficient.

We should probably either make the TAB key in the Edit cell move to the next cell value, or possibly rethink our Edit cell approach.  Thoughts? :wink:
 @FreudGit Which OS are you on?  If it's OSX, I can whip up a one-off build for you which is reverted back to that commit, same as I'm using.
 Sure, no worries at all. :smile:
 Sure, no worries.  Just for OSX, or would a Win64 build be useful as well?

Btw - I fully intend to debug this and get it fixed for the next release.  Putting time into other stuff at the moment though, but can't imagine it taking more than a fortnight (roughly).
 @FreudGit Just whipped up an OSX build using the commit mentioned above:

&bull; &nbsp; http://nightlies.sqlitebrowser.org/osx-onceoffs/DB%20Browser%20for%20SQLite-issue480v1.dmg

Give that a shot for now.

In theory, a proper fix for this should be in the next release too.  *fingers crossed\* :wink:
 @chrisjlocke @FreudGit I've been putting some time over the last few days, to understand the code around this part of things.

Just made some changes to the source code, which I **think** will have improved this a lot.

It might not be perfect yet, but I think it's on the way.

Would either of you have time to try out tomorrow's nightly build to see how well that works for you?
 In theory, this should now be fully fixed.  Nightly builds (from tomorrow) will include the fix, so if someone can verify things are now good that would be fantastic. :smile:
 I'll try it now.  :smile:

Edit: OOps.  Read the above message from 2 days ago saying try tomorrows build, and then your latest saying check tomorrows.... will check both! :wink:
 The only issue I immediately see is that when updating a cell via the table, the 'edit cell' pane below is not updated.  However, editing the lower pane updates the grid.
I can do a 'movie' if that shows things better.
 Ahhh, I think I understand already.

After a new value is put into a cell, the new value doesn't get propagated to the Edit Cell window automatically.  Is that what you're meaning?
 Indeed.  Its 'out of sync'.  Flipping cells (left and right) obviously fixes it, so ... well..... so its not as bad as it was! :wink:
 Thanks Chris. :smile:

The fix is probably just figuring out the name of the event that fires when data is changed, and connecting that to the Edit Dock.  It'll likely be something straightforward such as... dataChanged().  Will investigate.
 @chrisjlocke Fixed the problem with in-place edits not propagating to the Edit Database Cell: https://github.com/sqlitebrowser/sqlitebrowser/commit/9fe42b1399658149cb02943e71b59902de3f8d1f

It'll be in the next nightly build. :smile:
 \o/
 Closing this now, as it's definitely fixed by the just merged code in #679. :smile:

@FreudGit @chrisjlocke If either of you have time/inclination to test this (eg from the nightly builds after tomorrow), that would be great. :smile:
  Interesting.  It sounds like things are ok, but lets ask @MKleusberg, as he made some changes with that code a while back (likely the change in question). :smile:
 Hmm, there's no 'not an error' string in our code and I can't seem to reproduce this :confused: Can you give us a more detailed description on how to reproduce this issue?
 To me, it sounds like an output string from (say) SQLite after a successful statement execution.
 Any updates on this? The "not an error" string is from SQLite but I don't see how it will be shown in the latest version of DB4S anymore. Closing this because it's a really old issue and I believe it is fixed. If you can still reproduce this in the latest version, please re-open this issue, @thetazzbot :smiley: Good news. Thanks to the same error message appearing in #957 and the comment by @chrisjlocke (which now seems to be deleted) I have managed to get a 'not an error' error message in the Execute SQL tab :smiley: I have fixed this particular case now, so I'm more or less confident that this is finally fixed entirely now. > and the comment by @chrisjlocke (which now seems to be deleted)

You stated you couldn't reproduce it, but I 'found a way' (nature always finds a way...) but I realised I was using v3.9.1.  As soon as I tested the latest nightly, I couldn't reproduce it, so deleted the comment..... :) ... as I was talking gibberish!  @chrisjlocke No worries :D It helped me somehow provoking a 'not an error' error, so it definitely helped me ;)  Oh that's interesting.  Which OS are you using?
 Interesting.  Does the latest nightly build work for you?

&nbsp; &nbsp; http://nightlies.sqlitebrowser.org/osx/sqlitebrowser_20160105.dmg
 Cool, I'm going to rebuilt the release binaries for OSX tomorrow.  That should at least fix the crash problem for people. :smile:
 @thetazzbot Do you have time to test the new 3.8.0 OSX release build, prior to it being officially published?

&nbsp; &nbsp; http://nightlies.sqlitebrowser.org/osx-prerelease/

It "should be good", but it wouldn't hurt to have some more people test it (instead of just me), prior to updating the official release with it. :grin:
 Just released updated downloads for 3.8.0 for OSX, that shouldn't crash for anyone. :smile:
 Excellent, thanks for checking and letting us know @thetazzbot. :smile:
 @pikeas I have loaded the database from the URL you specified on the 64-bit version of 3.8.0 (Qt 5.5.1, SQLite 3.9.2) on Windows 7 and Windows 10 without any issue. I am not sure how that helps though but I thought @justinclift might like to know.
 @pikeas Do you have OSX Homebrew installed?  If so, would you have a few minutes to try compiling DB4S yourself?  It's extremely simple to do so (cut-n-paste instructions!), and only takes about 5-10 minutes:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md#building-an-app-bundle
 Not sure what @justinclift thinks but that sounds like an incompatibility with operating system functionality, which is not good, and ideally something we should cope with gracefully
 Yeah, it does sound like it deserves more investigation. :wink:
 I can't reproduce this either.

But I do encounter a crash quite often that I didn't have time to report. It happens only sometimes (yay) when opening a database while having another database opened already. Either by double clicking the file, either by opening from the app.

I think that maybe that's the real crash.

@pikeas, Are you saying that if you enable file contents preview and try to open a database, the app crashes?
 Closing this for now, as it's pretty old and we have tonnes of other things to fix. :wink:

@pikeas If this still happens though and you care about it, please feel welcome to re-open this issue and we'll get around to investigating at some point. üòÅ   Oh, that's interesting.  Thanks for the bug report @muhammad-naderi. :smile:
 I cannot open your database file using the SQLite command line tool either. So I think it's the file which causes the problems, not the SQLite editor.

I've done a bit of searching and it looks like this is a common problem for Android users: copying the database file to your computer may give you an incomplete file which then can't be opened: https://stackoverflow.com/questions/9058169/sqlite-database-disk-image-is-malformed-on-windows-but-fine-on-android
This would explain why the file can be opened with an editor in the device - you don't need to copy it then.

If you want to do some more research, you can try searching for e.g. 'android "Error: database disk image is malformed"'.
 Yes, sorry I can't help you any further. But if you have any other issues or questions later on feel free to open issues for them, too :smile: 
  Cool! :smile:

Would you be ok to squash both of those commits into a single one?  I can merge it after that. :grin: 
 Note - If you're not sure how to combine/squash both of those commits into a single one, I can do it for you.  Just let me know. :grin:
 Heh Heh Heh.  It looks like you're still working on this.  Let me know when you feel it is ok to merge this, and I'll get it done.
 Thank you @progh2. :smile:

It's now merged, with all of the commits combined into just one: https://github.com/sqlitebrowser/sqlitebrowser/commit/c2f78b682cdce01d70832d63f0bd5a4e3627ae4a
  Ahhh, that sounds useful.  @MKleusberg does this look good to merge?  It's a three-liner. :smile:
 Thanks, @MyRoGeertGit for contributing this :smile: 
I have one small suggestion before merging: can we change the datetime() function to just a date() call? Because as far as I see it's just the date which is stored in the number anyway, so the time part of the string would always be 00:00:00.
 Oh I see. I missed the 'double' bit in your original post. Sorry! This way `datetime()` does seem like the correct function to use :smile: `date()` might not even be needed then...
Thanks a lot for your pull request and for the explanation - I haven't used this date format before but am happy to see that DB4S and the display format feature is used in all sorts of ways :smile: 
  Perfect.  That should put the info in the right place for people to find it easily.

Thanks @subdriven. :smile:
  Ahhh, good catch.  Should be an easy fix too. :smile:
 Should be fixed in the next nightly build :smile: The same problem applied for the edit dialog, too, by the way and is fixed there as well.
 Excellent stuff Martin. :smile:

@tonypdmtr Would you be ok to try the next nightly build (tomorrow)?
 Ha ha, this was broken again in the meantime ^^ Just pushed a new fix. Can somebody test this and confirm it's working now? Closing this because it's an old issue without many updates and I'm pretty sure it's fixed :smiley: If you feel like I've closed this issue too hastily please reopen it :smiley:  @tonypdmtr If you've the time/energy, would you be ok to check a recent nightly from your point of view? :smile: Awesome @tonypdmtr, thanks for taking the time. :smile:  Interesting, similar reports on OSX 10.10.5 (that specific version) too.  It seems to be a bug in the packaging I did. :frowning:  As a workaround for now, do you have Homebrew installed?

If you do, compiling it DB4S yourself is super easy and the program won't crash.  You can literally cut-n-paste the instructions here, and it takes ~5 minutes in total (including reading the instructions). :smile:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md#building-an-app-bundle
 You're welcome. :smile:
  Thanks @subdriven, that's Awesome! :grin:
 Hmmm, thinking about this more, that info should probably be in the front page/README.md, not in BUILDING.md (which should have compilation instructions).  Any interest in making that change? :wink:
  Thanks for the bug repot @progheal. :smile:

Are you able to provide the correct installer message(s)?  If so, our packager for Windows (@rp-) might be able to get them incorporated into the next release.

Personally, I'm not multi-lingual so that's just my guess for the correct approach to fixing this.  If you have suggestions for a better idea, we're happy to hear them. :smile:
 well this is a bit out of my scope, as I just use the NSIS installer software and it might be a bug there.
I'll try to update it for the next release.
 Wonder if there's an NSIS developer mailing list or something we could ask on?
  Interesting.  As a thought, do you have Homebrew installed?

If you do, would you be ok to compile DB4S and see if it still crashes for you?  That would help figure out if it's something wrong with our code, or instead if it's a packaging problem.

Compiling DB4S is very, very, very simple if you have Homebrew installed.  You can literally cut-n-paste the instructions here, and it takes ~5 minutes in total (including reading the instructions). :smile:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md#building-an-app-bundle
 Ok, that sounds like the packaging I did might not like OSX 10.10 then. :frowning:

I should be able to get it running in a VM and test it sometime in the next few days.  In the meantime, it sounds like you're ok for now (with the self-compiled .app version).  That warning is new to me too... guessing it won't be important, but I won't really know for sure until I've had a chance to muck around with things on 10.10 to find out too. :wink:
 Yeah, that's OSX 10.10 as well.  Looks like that's really not happy. :frowning: 
 @lphooge @pbtura Out of curiosity, does the nighty build work for either of you?

&nbsp; &nbsp; http://mirror.salasaga.org/sqlitebrowser/nightly/

That was built on a different system, and uses Qt4 instead of Qt5.  If that one works instead, it helps narrow down the cause of the problem. :wink:
 Ping?

If either of you have a chance to try this, that would be useful:

&nbsp; &nbsp; http://nightlies.sqlitebrowser.org/osx/sqlitebrowser-sqlcipher_20160105.dmg
 Interesting.  Do you have time to try the one from the day before it?

&nbsp; &nbsp; http://nightlies.sqlitebrowser.org/osx/sqlitebrowser-sqlcipher_20160104.dmg

That was built with Qt5.  If that one crashes, then the problem is likely something to do with Qt5.
 Ugh, nope.  The About dialog always reports the correct version, so I'm wrong somewhere. :frowning: 

Hmmm, I'll check the versions here and see what's up. :wink:
 Ahhh, found the problem.  The nightly build script wasn't removing Qt4 when it ran, so had both Qt4 + Qt5 installed when building.  The build seems to default to Qt4... so Qt5 was being left out.

I'll manually build a Qt5 one now for testing with.
 Well, that's a bust.  The nightly build server literally cannot build anything with Qt5 installed + linked into the system.  Gives this bogus error (Xcode is fine):

```
Project ERROR: Xcode not set up properly. You may need to confirm the license agreement by running /usr/bin/xcodebuild.
```

Looks like the nightlies will only use Qt4 from here on.

Tomorrow I'll rebuild new binaries for 3.8.0 using Qt4.  That might fix the crashing problems on OSX. :smile:
 @pbtura @lphooge Do either of you have time to test the new 3.8.0 OSX release build, prior to it being officially published?

&nbsp; &nbsp; http://nightlies.sqlitebrowser.org/osx-prerelease/

It "should be good", but it wouldn't hurt to have some more people test it (instead of just me), prior to updating the official release with it. :grin:
 Thanks @lphooge, that's a good start. :smile:
 Thanks @pbtura.  Do you remember what the default font was for you?  I can look into it here and see if I can figure something out. :grin:
 k, new 3.8.0 downloads are available for OSX now:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/releases
 k.  Are you using a HiDPI monitor?  Kind of wondering if we might need to try detecting for that, and choose different defaults in that situation or something. :smile:
 Thanks for putting up with my questions @pbtura. :grin:
  Hmmm, that's interesting.  I wonder if the new 3.8.0 package for Win32 was built without XP compatibility?  We'd better ask. :wink:

@rp- ?
 As a thought, does the nightly build work for you? (download location is listed on our front project page)
 Cool, that fixes the immediate problem.  It'll be useful to figure out the actual cause and get that looked at too. :wink:
 I'll have a look as soon as I got some time
 We might need to explicitly set the v110_xp target when compiling with MSVC?
 yeah it was that, but I don't know exactly why, because I added an overwrite for that property.

I uploaded a new installer
  Hmmm, that doesn't sound good.  Which version of DB4S is this for, and which OS are you on? :smile:
 No worries, thanks for the bug report.  Hopefully someone (maybe @MKleusberg ?) has time to look at it in the near-ish future. :smile:
 @iursevla and @peku33 Do you have the time to check if this solution https://github.com/sqlitebrowser/sqlitebrowser/issues/901#issuecomment-268693029 helps you? :) @peku33 @iursevla Ping? @iursevla Awesome, thanks for checking. :smile:  Ouch, that's not good.  Guess we might be making a 3.8.1 release in the very near future. :wink:

Thanks for reporting the problem. :smile:
 Sorry for this hiccup.  Use the 3.7.0 release instead for now, and we'll try to figure out what's going wrong. :frowning: 

Hmmm, I'll disable the 3.8.0 release for now, so people use the 3.7.0 one until we've figured this out.
 @eikcam @chinhodado @javamap As a thought, it would be interesting to know if the nightly build has the same problem.  Anyone have time/interest to check? :smile:

If so, it's here for Windows (uncompress it with [7-Zip](http://www.7-zip.org)):

  &nbsp; &nbsp; http://rp.oldsch00l.com/sqlitebrowser/sqlitebrowser.exe.xz
 Thanks guys, that's very helpfu! :smile: The automated nightly build system for Windows runs on a different system than the one used to create the Windows release builds.  It sounds like something's not quite right with the packaging/building done for this release on Windows, rather than a problem in the actual code itself.

It'll take some more investigation, but that gives us a bunch to go on.  I've emailed the main dev's to let them know, so hopefully @rp- has time to look into this in the near-ish future and figure out a solution. :smile:
 No worries. :grin: 
 Fixed in 1c233de3b5166ecd9225d52f6985976f29a80729.

Rerelease should be published soon.
 Just published the new release: https://github.com/sqlitebrowser/sqlitebrowser/releases/tag/v3.8.0

Binaries on all platforms were rebuilt.  Used Qt5 on OSX this time too, just for the heck of it.  Hopefully that doesn't cause issues... :smiling_imp:
 @rp- Would it be possible for you to update the SQLite library being used for the static nightly builds?
 Closing this now, as we haven't had any further reports of this bug since releasing the new packages. :smile:
  Thanks a lot for your fast response, @MilosSubotic :smile:
  Thanks @PKEv. :smile:
 Fixed it :smile: 
 Not sure if I understand what you mean :frowning: Can you give me an example maybe on how to reproduce this?
 Ah, that's fixed too, I think. Step 3 is made impossible by this commit: b04d52b99c6ed9a93e5a0be250f00fb1b117dc14
 But there won't be a duplicate Field3 :confused: I understand that it _would_ crash if there were two fields with the same name. But I don't see how you can make two fields with the same name after the latest commits?
 Ok, I think I understand you :smile: 
I've made two different commits. One (5af384f0a21c5dd2882ef51dcce5884b916225c7) is for the case when a new field is added. This is the one you mean. But there is a second commit (b04d52b99c6ed9a93e5a0be250f00fb1b117dc14) which verifies the field names after the user has changed them. This second commit should solve the bug you've mentioned. Correct?
 @PKEv Ping? :smile:
 Thanks @PKEv. :smile:
  Makes sense to me. :smile:

 Unsure if it'll get done for this release (likely tomorrow) though. :frowning: 
  Oh, that's interesting.  Which version of DB4S is this happening on, and which OS are you using? :smile:
 Ahhh, makes sense.  It's more of a packaging issue on our end, needing a new release with the newer SQLite.

We're intending on getting a new release out reasonable shortly (likely days, not months).  Hopefully that's not too long a delay for you. :smile:
 @springy76 The new release uses SQLite 3.9.2 for the Windows packages.  Have you had a chance to try it out yet and confirm it's now working? :smile:
 Closing this now, as the new release bundles SQLite 3.9.2.  If it doesn't turn out to work for you after all, please feel welcome to reopen this issue and we'll investigate further. :smile:
  Which version of DB4S are you trying with, and which Operating System is it on? :smile:
 Ahhhh yeah, that makes sense.

We're looking to complete a new release done tomorrow, which on OSX should include SQLite 3.9.2.  I'm thinking this should fix the problem for you.

In the meantime, if you need things to work right away you can compile DB4S yourself.  On OSX is very, very easy, if you already have Homebrew installed.  You can literally cut-n-paste the commands from the instructions here:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md#building-an-app-bundle

Sound ok to you? :smile:
 Thanks. :grin:

Btw, the new release (3.8.0) has been out for a few days now, so you should be good. :smile:
  Hmmm, changing field names should work.  In the dialog for either creating a new table, or modifying an existing one, just double click on the name of the field you want to change.  eg Double click on "Field1".

In theory, that should let you then change it's name to whatever you want.  If that's not working, let us know as something's wrong. :wink:

For the field types, we list SQLite's in built types.

&nbsp; &nbsp; https://www.sqlite.org/datatype3.html

(Please read that page, as it should help a lot :wink:)

The course material you're using might benefit from getting a note added about the various data types available across different databases, depending on which software they expect people to be using.

Is it practical for you to have a chat with your course instructor, or the creator of the course material, or ask about this? :smile:
 You're welcome Sandra.  Are we ok to close this issue now? :smile:
 :smile:
  I'm not entirely sure on this but to be honest I think that's not possible nor is it possible for us to implement this feature. The reason is that each process has its own virtual memory which is invisible from within other processes. So if you have an in-memory database opened in one thread (which I assume you do when you say you created an in-memory shared-cache database) we can't inspect it from the separate sqlitebrowser process. There are way of interprocess communication, of course, but it doesn't seem like SQLite implements any of them:

https://www.sqlite.org/inmemorydb.html says:

```
Of course, all database connections sharing the in-memory database need to be in the same process.
```

And https://www.sqlite.org/sharedcache.html says:

```
Enabling shared-cache for an in-memory database allows two or more database connections in the same process to have access to the same in-memory database.
```

So it definitely sounds like you have to be in the same process but unfortunately we have no chance to do that :frowning: 
  When you say "shortcuts", what are you meaning? :smile:
 Ahhh, understood.  Yeah, that makes sense.

@MKleusberg How much effort do you reckon this would take? :smile:
 Going to close this, because we have another issue open for the same thing at #682.

But yeah... you did suggest it first. :wink:
  Awesome. :smile:

@MKleusberg What do you reckon, is this good to merge?
 @MKleusberg Ping. :wink:
 @MilosSubotic Thank you very much for contributing :smile: This looks very promising! I'll do some more testing later but I think we can merge this soon :smile: For now there are two more things:
1) Can you maybe squash the 4 commit into one (https://github.com/sqlitebrowser/sqlitebrowser/wiki/Merging-Commits) so we can have a nice commit history?
2) The erase part is superseded by now because I've implemented something similar for issue #443. I didn't see your PR back then :frowning: But I'd still like to merge the pasting code you've added :) 
 I had a closer look now and this looks really good :+1: Looks like you've really though of everything, @MilosSubotic . Nice work :smile: If you remove the erase code (or somehow merge it with the existing code from e74645bb1f74395016bfda110dd4d996bb1d5cb1) we can merge this :)
 Awesome :smile: Thank you very much :+1:
 @MilosSubotic Great timing too.  Our next release will probably be tomorrow, so this code will have a decent amount of real world users pretty soon. :grin: 
  Where is this error message happening for you, which version of DB4S are you running, and which version of Windows are you on? :smile:
 Closing this due to lack of information. :frowning: 
  That's a good question.  Not something I know about personally, but it shouldn't be super hard to figure out a way to make it work.
 By the way, which OS are you using it on? :smile:
 I'll have to think about this issue a little more. But as a first question: would it be ok for you to have to configure the PRAGMAs using the GUI editor? Like having a default pragmas page somewhere? But this would mean that we ignore the sqliterc file. The reason for this is that the sqliterc doesn't contain standard SQL but only the commands starting with a dot which are specifically for the command line tool; and I want to avoid writing a parser for that since I'm not expecting that many users will even notice the feature :wink: 
 Ok, this might be a silly approach to your issue but I've just added a way which should work for you. If you rebuild the latest code this should do the trick:
- Click View -> Preferences
- Click on the Database tab, then click on Advanced
- You'll now see a SQL editor where you type in arbitrary SQL statements
- Type in your PRAGMAs in there, one per line, terminated by semicolons - just like you'd be executing them in the Execute SQL area of the program

Now these PRAGMAs will be executed whenever you open an existing database or create a new one. I hope this helps :smile: 
 @DevynCJohnson We released a new version (3.8.0) about a week ago, with some bits added for this as @MKleusberg describes above.  Do you have a few moments to try it out and let us know if this now works decently for you? :smile:
 @DevynCJohnson Did you ever get around to trying this out?

Note - I'm just looking to close out old issues which have probably been taken care of.  If the fix for this isn't working as intended, and it's something you care about, definitely let us know. :smile:
 Closing this due to lack of response.
  @MKleusberg - Yours? :smile:
  Heya. :smile:

I do the packaging for the OSX binaries.  I don't really know it in depth... it's more something I figured out after a bit of reading and has worked from that point forwards.

If it helps, this is the exact script used to build the nightly OSX binaries:

&nbsp; &nbsp; https://gist.github.com/justinclift/38887c1cfe480adfb11b

They used to be built on an OSX 10.7 machine.  That machine was recently (2015-11-20) updated to running OSX 10.10.  The binaries generated are now a lot larger.  Not really thinking the upgrade was a win, personally. :frowning:

&nbsp; &nbsp; http://mirror.salasaga.org/sqlitebrowser/nightly/

I haven't looked into why the binaries in the newer OS are larger.  If you want to though, please do.  The info might be interesting/useful to a lot of people. :smile:
 Sounds like there's some dependencies between them or something then.

Um, do we still need to leave this issue open for you? :wink:
 No worries at all.  Glad you got it figured out-ish. :smile:
  Thanks Ralf, which OS are you on?
 :frowning: Ugh, I do the OSX builds for this, not the Windows ones.  It's not something I have much capability to investigate properly personally.

@rp- Do you have time to look into this?
 Yeah, I just build OSX binaries and help out here myself. :smile:
 Hi Ralf,
I think the last commit fixes your issue. The problem was that the database actually _was_ saved but the state inside the application wasn't changed to reflect the saving. Anyway, let us know if tomorrow's nightly build fixes the issue for you :)
 @zwrmueller Do you have a few minutes to try out the latest code, to see if this is fixed now for you? :smile:
 @zwrmueller Thanks for verifying this, and letting us know. :smile:

@zwrmueller @tonypdmtr The nightly builds are created through cross-compilation from a Linux host, using Windows as the target.  It produces a "static build", where all of the libraries needed by the program get compiled into the end result.  So... much bigger output file.  It's also 32-bit only, so anyone needing to open really large database files (several GB's) can't use it.

Our older releases used to use this same approach too, but we changed it a few releases ago to a dynamic build approach.  This lets us create 64-bit releases for Windows (so people with large databases can use them).

... and it turns out the static 32-bit build approach is useful for some people still.  It might be useful if we figure out a way to create the releases for Windows using both approaches.
 Hmmmm, good question.  I'm not running it on Windows personally, so I'm not real sure.

I guess... if it's still working, then it can't be too wrong. :grin: 
  Hmmm, that's unexpected.  Is there an error in the Windows system log or application log with more info?

It sounds like there's a bad .dll or something on your computer, making it crash.  That's a pure guess though, so we need to look for more accurate error info.
 Well, we know for sure it works on other Windows 7 computers.  However, that doesn't help you. :wink:

As a thought, would you be ok to download and install this?  It **might** help.  At the very least, it shouldn't make things worse:

&nbsp; &nbsp; https://www.microsoft.com/en-us/download/details.aspx?id=40784

The only other thing I'm wondering is if your system has all of the latest Microsoft updates applied?  Do you keep it patched up to date? (eg: through Windows update)
 Thanks @TrustyWolf . :)

@Bailey26 Have you had a chance to investigate this more?
 Interesting.  There's a reasonable chance the Windows nightly build will work since it uses a different (static) build process.

@gauravkolekar Would you be ok to try it?  Download locations are on our front page, if that helps. :smile:
 Awesome, definitely something unhappy with the .dll's then. :wink:

@Bailey26 Do you still need a solution for this?  If so, the nightly builds seem to work ok. :smile:
  That's weird... I'm pretty sure the cmake is supposed to have two dots in it, not one.

For example, using one dot isn't working here on OSX just now (using master branch):

```
$ mkdir build
$ cd build
$ cmake .
CMake Error: The source directory "/Users/jc/git_repos/sqlitebrowser/build" does not appear to contain CMakeLists.txt.
Specify --help for usage, or press the help button on the CMake GUI.
$
```

But using two dots does:

```
$ mkdir build
$ cd build
$ cmake ..
-- The C compiler identification is AppleClang 6.0.0.6000057
-- The CXX compiler identification is AppleClang 6.0.0.6000057
-- Check for working C compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc
-- Check for working C compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++
-- Check for working CXX compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Could NOT find Antlr2 (missing:  ANTLR2_LIBRARIES ANTLR2_INCLUDE_DIRS) 
-- Looking for Q_WS_X11
-- Looking for Q_WS_X11 - not found
-- Looking for Q_WS_WIN
-- Looking for Q_WS_WIN - not found
-- Looking for Q_WS_QWS
-- Looking for Q_WS_QWS - not found
-- Looking for Q_WS_MAC
-- Looking for Q_WS_MAC - found
-- Looking for QT_MAC_USE_COCOA
-- Looking for QT_MAC_USE_COCOA - found
-- Found Qt4: /usr/local/bin/qmake (found version "4.8.7") 
-- Found Qt4: /usr/local/bin/qmake (found version "4.8.7") 
-- Configuring done
-- Generating done
-- Build files have been written to: /Users/jc/git_repos/sqlitebrowser/build
$
```

Any idea what's different with your system?
 The dots are the path to the CMakeLists.txt file, you might have done an in source build if you call cmake within the root directory.

https://cmake.org/Wiki/CMake_FAQ#Out-of-source_build_trees
  @MKleusberg @rp- This looks good to me, are we ok to merge it? :smile:
 Thanks
  In the Browse Data tab, it would be useful to have a "Set as NULL" button next to the New Record and Delete Record button.

This new "Set as NULL" button would simply set whichever fields (including multiple) are presently selected to NULL.

At present it's possible to go into each individual field, double click on it to open the edit dialog, and set the field to NULL that way.  However, that's a real PITA when needing to set quite a lot of individual fields in a table (which aren't easily selectable via straight SQL).

Guessing this would be pretty easy to implement too. :smile:
 I've added a keyboard shortcut for now (or actually two because the normal delete didn't work either). You can press delete now to set all selected cells to empty string and press Alt+Delete to set them to Null. No button yet because I wanted to hear whether people prefer a button here or a context menu. I feel like a button might be inconsistent when not adding a button for setting to empty string as well; and that's two buttons already for a feature I personally would be looking for in a context menu ;)
 With the latest commit there's a new menu item "View->Edit Cell" which adds the Edit dialog to the main window area and keeps it opened. So that's a way to have the Clear Data button in the main window now :smile:
 Cool.  Back home now, so I might get time to play with this later today.

With the keyboard shortcut approach, yeah that's probably good enough.  Hadn't thought of it when writing this Issue up, only thinking of "lets add a button". :wink:
 Just tried this out with 3.8.0 (on OSX), and something doesn't seem right with the Alt-Delete approach for setting NULL.

When have multiple fields selected then press Alt-Delete, the values are cleared from the cells visually... but no "NULL" text appears in their place.

If I manually clear an individual cell through the "Edit data cell" dialog instead (eg binary mode ‚Üí Clear ‚Üí OK), then the cell value displayed as NULL.  So, at a guess either Alt-Delete isn't setting NULL properly, or it's not being displayed correctly afterwards.

As a side note, it would probably also be very useful to have Edit‚ÜíSet NULL be an option from the main window menu too.  That way a person could select the multiple cells they want, and choose "Set NULL" from there instead.  It's shortcut key would be the Alt-Delete combo. :smile:
 Closing this, as <kbd>Alt</kbd>+<kbd>Delete</kbd> to set NULL definitely now works in recent nightly builds.  <kbd>Alt</kbd>+<kbd>Backspace</kbd> (for the same effect) was added today too. :smile:
  Hmm, I can't seem to reproduce this behaviour. So I think we have two options:
1) You could try the latest nightly build from here (https://github.com/sqlitebrowser/sqlitebrowser#windows). Maybe the new version already solves your problem.
2) If this doesn't work and there's no sensitive data inside your file you could mail us the file for further debugging. Also, if the issue remains after deleting some tables etc. (i.e. eliminating possible error sources) you can send us the smaller file.
 @MrScorp Sorry for the delay.  Are you still needing assistance with this? :smile:
 @MrScorp We released a new version (3.8.0) about a week ago.  Would you be ok to try that and let us know if the crash still happens for you?
 Closing this due to lack of feedback.

@MrScorp There's a pretty good chance this was fixed in our recent 3.8.0 release.  If you get a chance to try that and it still crashes for you, please feel welcome to either re-open this issue or create a new one (either is good). :smile:
  There already should be an image viewer which gets opened when you double click the cell. We don't show the images in place because of performance reasons: checking if a cell value is an image we can open, then getting the dimensions, scaling it and rendering it in place is probably too costly for larger tables.

As for the crash: I think the application tries to open the image as a new database file. I fully agree her: This should be fixed as this behaviour makes no sense here at all.
 Quick update regarding your main point, the image viewer. I've just pushed a new commit which you can try if you download tomorrow's nightly build. It adds a new option to the View menu called "Edit cell". If you enable this option the Edit dlalog which used to be opened by double clicking a cell is permanently opened and attached to the bottom of the main window (though it can be moved around). This way you can see a preview of at least the image stored in the current cell without extra clicks.
 @tonypdmtr Do you have a few minutes to try this new code out, and let us know if the behaviour now is good from your point of view? :smile:
 Makes sense. :smile:

@MKleusberg Thoughts? :wink:
 Yep, makes sense. I've changed it to work better with the keyboard use case now. The focus stays on the table view where you can move the cursor using the arrow keys but the editor below is updated accordingly. And you can press Return or double click to move the focus down to the editor.

I haven't had the time yet to implement the drag and drop but it's definitely on my list :smile:
 @tonypdmtr Just implemented the drag & drop functionality as well. So with the next nightly build you'll be able to drop image files onto a cell, too :smile:
 Awesome Martin. :grinning: 

@tonypdmtr Would you be ok to try the nightly build (tomorrow), and let us know what you reckon now? :smile:
 Yep, that definitely sounds like a bug.  @MKleusberg ? :wink:
 Noticed that yesterday, too, but didnt have the time to fix it :wink: But it should be fixed now (in the next nightly build).
 Awesome. :grin:

@tonypdmtr You ok to test that too (tomorrow) and confirm back?
 Yes, that's possible :smile: I've changed the code to update the editor even when being in a view. For everybody still using the old windowed mode without the dock it's now possible to open the editor window for views, too. Might be interesting when havin BLOBs or multi-line text in a cell. So (again :wink: ), the next nightly build should fix this issue.

You're quite a thorough tester by the way, @tonypdmtr :smile: Thank you for the time you're puttin into this! I'd be happy to hear about any other issues you stumble upon.
 Awesome. :smile:  @tonypdmtr If you have time, please let us know if the new view display code bit Martin just added works well for you (tomorrow). :wink:
 Fixed it :wink: Sorry for the all the delays but, again, it'll be in the next nightly build.

As for your P.S.
1. I think Ctrl+Z is difficult because I'd expect it to be an undo of the last action and not a revert of all my work. So, for reverting I'd prefer another shortcut, maybe more complicated to not press it accidentally.
2. This makes sense. And yet it looks strange for me when I change the fonts. Maybe it's just me because I got used to the fonts as they are, though... What do you think, @justinclift and others reading here? Make both fonts the same or both configurable? Currently the table grid font is configurable but the editor font is always set to Monospace.
 Hmmmm, if it's not hard to do, make then both configurable? :smile:
 @tonypdmtr Fixed that, too :wink: Thanks again for all your testing efforts!
 Awesome. :grin: 
 Hmmm, we should probably close this issue, as it makes tracking things untidy having several bundled into one. :wink:
  @tonypdmtr Can you try tomorrow's nightly build? I've added a new option to the View menu called "Edit cell" which basically takes the Edit dialog which used to be opened when double clicking a cell and turns it into a dock widget which is attached to the bottom of the main window. I hope this takes care of your issues :smile:
 Yup, I somehow forgot the keyboard use case :wink: With the next nightly build you'll be able to navigate with the arrow keys and move the foucs down to the editor by pressing the Return key. It's still not perfect (for getting back to the table view you probably need the mouse) but I hope I'll be able to put some more time into this soon :smile: 
  In theory :smile: the two main things which can cause that error are either a file not really being in SQLite format, or not having write access to the file. That being said, theory doesn't always play ball. :wink:

Are you absolutely sure it's a SQLite format file?  Can you open the file with the SQLite cli?
 Yep, that's a SQLite file then. :wink:

Ok, it looks like something unexpected is happening.  Out of curiosity, do you use Homebrew on your OSX box?  If so, would you be ok to try compiling our latest source code and see if that's work better?  We've fixed a large amount of bugs since the last release (and are very overdue for the next release).

It's very very easy to compile, if you're already using Homebrew.  You can literally cut-n-paste the instructions. :smile:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md#building-an-app-bundle
 Yeah, I'm not sure which of those two options to try, as I've never hit the problem myself and don't really know what causes it.  So yeah, blow things away then try the other one I guess. :wink:
 @textractor Did you get this working in the end? :smile:
 Thanks Jacob, that's good info. :smile: Hmmm, I'm going to close this issue. It sounds like it probably something transient, and not really to do with DB4S (sqlitebrowser) itself.  @quantum-x Apologies, someone I missed this issue completely. :frowning: 

Reading over this, this bit confuses me:

```
... when trying to add / edit a column type, these types are not supported, even if I
type them in manually.
```

When you manually put in a data type, what happens?  I'm trying to understand the behaviour you're experiencing, that's lets you know it's unsupported.

(screenshots are really helpful, if that's workable :grin:)
  Which extension did it save with?
 @justinclift None, as far as I understood :frowning: 

@cknystrom Which version are you using? Because the file extension ('.sqbpro') should be added automatically since version 3.4.0 which is from October 2014. Here's the commit where (hopefully) I've fixed your problem: 5d20d97e249a42d7dae1061d946c90c9c987d608
If you're using a version >= 3.4.0 we'll have to investigate further I'm afraid.
 Closing this due to lack of response.

@cknystrom We've released a new version (3.8.0) just over a week ago.  That shouldn't have this problem.  If for some reason it does, you're welcome to reopen this issue so we can investigate. :smile:
  Hmmm, that's not good.  I'm not sure how to diagnose this though.

@rp- @MKleusberg Any ideas?  Maybe we need to add some logging/checkpoint code so we can figure out where the problem lies?
 I don't know what exactly it is, but it might be something like this described qt bugs:
https://bugreports.qt.io/browse/QTBUG-33119
https://bugreports.qt.io/browse/QTBUG-41416

sounds like there is some conflict with shell extensions
 @staz1000 @michalfita As a thought, we've made a new release since this was reported.  That **might** fix the problem.  If not, then trying the latest nightly build may work instead, as that uses a different (static) build process.

Would either of you have time to try, and let us know if one of those approaches works for you? :smile:
 @staz1000 @michalfita Ping?  There's a decent chance this is fixed now in our latest release. :smile:
 Awesome!  Thanks for testing it and letting us know Micha≈Ç. :grinning: 
  Interesting.  That's good info.  If you submit a PR, I can merge it. :smile:
 @peteristhegreat Ping? :smile:
 @peteristhegreat Is this issue still of use?
 Yep, it definitely builds with both (at least) Qt4.8 and Qt5.6.

My main dev desktop is OSX, and I'm compiling against Qt4.8 presently.  Was compiling (fine) against Qt 5.6 yesterday. :smile:
 @peteristhegreat Any luck? :smile:
 @peteristhegreat We're moving to be Qt5-only shortly, so I'm going to close this.  Qt4.6 is kinda not relevant to us any more. :smile:
 @justinclift, Shouldn't we remove other checks for old Qt versions like [this](https://github.com/sqlitebrowser/sqlitebrowser/blob/c5c8106c1caa204f1b897d589b3c9507e8e694bb/src/ColumnDisplayFormatDialog.cpp#L45), [this](https://github.com/sqlitebrowser/sqlitebrowser/blob/c5c8106c1caa204f1b897d589b3c9507e8e694bb/src/ColumnDisplayFormatDialog.cpp#L57) and [this](https://github.com/sqlitebrowser/sqlitebrowser/blob/f33a988530dae9bb6e6faa20b0d47c1c06c609c3/src/FilterLineEdit.cpp#L10)?
 I don't think putting #ifdefs everywhere for compatibility with such _outdated_ Qt versions is of any good. This slows our dead Qt5 migration even more.
 @revolter Sure, when we flip the "Qt5 only" switch for our project, version specific code like that is probably not useful.

As a thought though, if there are version checks around code introducing recent Qt functions (maybe 5.6 onwards?), it's probably best to keep that around for a while.  Not every OS has the latest release of Qt in the 5.x series.

We should probably take a quick look around to see what's available in the major *nix distributions.  RHEL/CentOS and the Ubuntu LTS releases we should probably know about, as least so we can make an informed choice.
 Sorry, I thought they were checking for Qt 4.5.*
 No worries.  It's still a good point. :smile:
 @depontius No worries.  When EL 6.9 is released there's roughly a 0% chance it'll come with a largely upgraded version of Qt.  Red Hat is pretty serious about not introducing major binary changes to their major releases, apart from stability and security fixes.  (I worked for Red Hat for a few years, so this isn't an unknown area to me. :wink:)

On a side note, we finished migrating our (DB Browser for SQLite) source code to need Qt 5.6 and above, a few months ago.  Technically, it can be made to work with Qt 5.5 (there's a patch we're discussing at the moment), but all things considered... Qt 5.7 is better anyway.  There are bugs in the earlier Qt 5.x releases which turn out to introduce some weirdness.  Not killer weirdness, just some graphical and speed-in-graphical-updates oddities.  Oh, that's not good. :frowning: 

Is there any chance the program has already been uninstalled, and the listing for it is outdated?
 Closing this due to lack of response.
  Is this issue something that can be closed, or is there more we need to do? :smile:
  Sounds like a good idea. :smile:
 Thanks for the suggestion. Just implemented it, so it should be the next nightly build :wink: 
 @PKEv Do you have time to try out the next nightly build, and confirm back if it is/isn't working for you? :smile:
 Oh, that's not good.  @MKleusberg ?
 That's actually an old bug. So, nice catch, @PKEv :+1: Should be fixed by the latest commit.
 Awesome.  @PKEv Do you have time to verify the fix is good from your point of view? :smile:
 @PKEv Ping? :smile:
 Thank you @PKEv. :smile:
  Ouch, that's not good.  Which version are you using, and on which OS?

If you're on Windows, please try the latest nightly build.  There are a bunch of fixes it in. :smile:
(download locations are on the front page of this project repo, if that helps)
 Thanks. :smile: That's the SQLite version number, not the version number for this software though. :wink:

Would you be ok to screenshot your Help ‚Üí About dialog?  For example, this is mine:

![db4s about dialog 1](https://cloud.githubusercontent.com/assets/406299/10558843/9099d8fc-74d6-11e5-9e61-74b5767f1230.png)
 No problem.  Glad you got it working. :smile:
  We have never released a version 3.8.10.2.  That's probably the SQLite version, not us. :wink:

You can check our version number in the About or Preferences dialog.  You should be using version 3.7.0, or a later nightly build.

Does that help? :smile:
 Seems resolved, so closing this. :smile:
  Looking back over this... we did some font handling improvements for our recent 3.8.0 release a week or so ago.  Is there any chance you could give that a shot and see if that's better? :smile:
 Awesome!  Thanks @palmiche. :grin: 
  Oh, that's interesting.  We've done some font related adjustments in our latest development source.  Would you have time to compile it (very very easy if you use Homebrew!), and see if this was fixed on the way through?

Instructions for compiling on OSX using Homebrew:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md#building-an-app-bundle

You can literally cut-n-paste those lines in, and out pops a working .app bundle. :wink:
 Hmmm, I'm suspecting there's something not quite right in our latest development code.

Damn. :frowning: 
 @dannguyen In theory, this should be fixed.  Do you have a few moments to try the latest release (3.8.0) and let us know if that does or doesn't have the fonts working correctly for you? :smile:
 @dannguyen Ping?
 They're interesting suggestions.  Would you be ok with putting them in a new issue, so we can track it?

If you're feeling lazy though, I can do it. :smile:
  Hmmm, do we use qhexedit anywhere in our code?  If so, we're happy to add appropriate links/thanks/etc... :smile:

Asking this, because I don't **think** we do.  But I don't do coding in this project, so not familiar with the source so much... :wink:
 k, we can add some "Links to friends and related projects" or similar.  Maybe in both README.md, and the About dialog?
  Awesome stuff @PeterDaveHello, thank you! :smile:

This seems good to me.  Just merged it, so it gets into the nightly builds right away.  If problems show up they can be addressed later. :smile:
  I've just tried to reproduce this with the database you've linked but I get to see all 134 records. This makes debugging way more difficult, so I'll need your support for this :smiley: 
The first step would be to try the latest nightly build which you can download from here: https://github.com/sqlitebrowser/sqlitebrowser#windows

If it still won't work with this version we'll need to further investigate. In this case I'd need you to provide some more information. Is the total number of rows shown correctly (arrow 2 in the screenshot)? Or is that one correct and the actual number of rows shown is wrong (arrow 1 in the screenshort)?
![4](https://cloud.githubusercontent.com/assets/3153504/10289790/95b2c7a2-6ba0-11e5-8cb1-0b131f12b3c0.png)
 No worries at all.  If it happens again, feel free to reopen this ticket. :smile:
  Hmmm, that's unexpected.  If you're on windows, do you have "Microsoft Visual C++ Redistributable Packages for Visual Studio 2013" installed, available [here](https://www.microsoft.com/en-us/download/details.aspx?id=40784)?
 Closing this, due to lack of information.
  Good question.  I don't think there's a way yet, but it would make sense to add one. :smile:
 No, there is no way to interrupt a query. And unfortunately it's not that easy to fix because of the way SQLite works. As far as I can see we'd have to put the query execution into a separate thread which we can kill from the UI thread at any time - but this requires too much code restructuring to have it happen soon. I'm also not sure if this can somehow cause data loss in the database, so I'm not sure if it's wise to add an easy option which might encourage users to cause unwanted damages.

So in short, I'm not sure on this. But let's keep the issue open as a reminder and maybe come back to it later :smiley: 
  Hmmmm, that's a situation I haven't hit before.  Looking at this page, it **kind of** says that doubling up the character might work:

&nbsp; &nbsp; https://www.sqlite.org/lang_expr.html#like

Maybe try using two underscore characters in a row to mean one literal one?  Note, I haven't tried this as I'm focused on some non DB4S stuff at the moment.
 Sorry for the delay, I'm a bit short on time currently :frowning: 
If it's exact matches you want (i.e. not use the LIKE operator with its escaping problems at all) you can start your query with a '=' character: '=exact_hit' only matches records which are equal to 'exact_hit' (case-sensitive and no wildcards).
If you need the features of the LIKE operator you'll have to wait for tomorrow's nightly build which includes escpaing of the wildcard characters in the filter queries. The default escape character will be the backslash, so 'exact_hit' will do the trick. If you prefer another character you'll be able to change it in the settings dialog.

Hope this helps :smiley:
 Thanks Martin. :smile:

And yeah, I'm short on time for DB4S at the moment too. :frowning: 
 @Aermec Did you have time to try the nightly build? Wildcard escaping is added in there :smile: 
 @Aermec Ping. :smile:

We released a new version (3.8.0) about a week ago, which includes the fix for this by @MKleusberg.  In theory it should be all good now.  Do you have a few moments to try it out and verify it from your point of view?
 @Aermec Ping 2?
 Closing this, as it "should be good".
  Hmmm, trying to visualise that.  Would you be ok to add a screenshot in here? :smile:
 Ahhh.  GitHub doesn't attach images sent via email.  You need to add them using the web based user interface. :frowning:

Sorry for the extra hassle. :innocent:
 Thanks, that makes it clear.  @MKleusberg Is this your kind of thing to fix? :smile:
 @raananb Hmmm, that's not good.  It's supposed to display all of the records.

As a thought, what happens if you try the latest nightly build?  Does it work there? :smile:
 @raananb With the problem displaying accented characters, do you have time to try our latest released version (3.8.0)?  It would be useful for us to know if that problem is still happening. :smile:
 Thanks Raanan. :smile:

Yeah, we haven't done't anything with the width of that drop down in the Browse Data tab yet.  But we did fix a bug related to character display, which is why I asked. :wink:

Your idea for adding an option to automatically open the last opened database sounds good.  Made a new Issue for it [here](https://github.com/sqlitebrowser/sqlitebrowser/issues/479), so we can keep track of it.  (We like to keep each problem/enhancement/etc in it's own issue, for better tracking.) :grin: 
 You're welcome. Happy New Year to you too. :grin:
  Hmmm, I think we've done some work with that already recently.  Which OS are you on?  If it's Windows, would you be ok to try the latest nightly build and see if that's better for you? :smile:

(download locations are listed on the front page of our repo, if that helps)
 Sure, no worries at all. :smile:
 I think what Justin remembered here is the new font size option which also affects the row height - one row is automatically resized to fit one line of text. Before just adding one more option I'd be curious to know what you want to achieve and if there's a way to avoid this option altogether. If there is a way to make it work out-of-the-box that's always better than making you reconfigure the whole thing, I think :smiley:
 Makes sense.  @MKleusberg What do you reckon?  Do-able?
 @bobatwhidbey, @vlakoff Can you try tomorrow's nightly build? I've tried adding some code in there that should help calculating a decent row height depending on the font size. Prior to this the default row height would be set by Qt to some value that might be platform dependent (= hard to predict). So maybe this already helps with your problem. If it doesn't can you include a screenshot of how it looks now vs. how you want it to look like? @vlakoff Awesome. :smile:

@bobatwhidbey Do you have the time/interest to try the latest nightly build, and see if that's better for you? :smile:

If so, and if you're still using Win32, the latest nightly builds are here:

&nbsp; &nbsp; https://nightlies.sqlitebrowser.org/win32/ The forward/backslashes thing has been around a while ... I raised it sometime ago! (#735).  Other operating systems (which the main programming dudes here use - Linux, OSX, chalkboards, etc) use forward slashes, so us Windows users have to suffer! ;)

SQLCipher is used for encryption support.  At the moment, someone could open your database in something like Notepad and view the data.  It wouldn't be totally human-readable, but it would be 'enough'.  Certainly not good enough if you were storing usernames and passwords, and everyone had access to the database.  For small application use (the main use of SQLite?) or if encryption isn't important, you can ignore the SQLCipher option.  :) @bobatwhidbey As an update, the backward/forward slash inconsistency is fixed in nightly builds from just over a week ago.  We haven't added the row height option (yet) though, but will probably get around to it "at some point". :wink:  Yeah, it's a "known" problem, I just haven't gotten around to investigating it yet.

As a workaround, if you're using Homebrew on OSX, compiling DB4S yourself is extremely easy and works:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md#building-an-app-bundle

You can literally cut-n-paste those command lines in, and out will pop a .app you can run. :smile:
 Oh, that's weird.  That means the folder you're in when running the command is read-only.

All is not lost though.  I've just gotten around to installing OSX 10.6.8 on our recently acquired Mac Mini.  I'll try creating a package for you on that shortly, and (likely tomorrow) see if we can get automatic nightly builds working for OSX 10.6 again. :smile:
 Oops.  It's compiling Qt from source... that's going to take a few hours. :frowning:

I'll let it run overnight, and make a .app for you tomorrow instead.  Hope that's ok with you. :grinning:
 It finished faster than expected.  Give this a go, and please let me know if it works ok for you:

&nbsp; &nbsp; http://mirror.salasaga.org/sqlitebrowser/onceoffs/sqlitebrowser_201509260125.dmg

:smile:
 Hmmm, that's a SIGSEV fault.  Weird.

Would you be ok to try compiling it yourself after all, and see if that .app also crashes?  That will help figure out where the crashing cause might lie.
 Interesting.  So it's not something specific to the Mac Mini I was building stuff on then.  That's a relief (eg not a hardware problem).  I'll take a look into this further tomorrow.  I have some ideas of things I can look at first, to see if there's anything that jumps out at me. :smile:
 @gtorges As a thought, @rp- fixed a crashing bug for the 3.8.0 release that sounded like it might be this one.  Do you have time to try compiling again, and see if things work for you now?
 @ping?
 No worries.  :smile:
 Grab our latest source code and try compiling it again:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md#building-an-app-bundle

Remember to change to a directory with write access (eg not read only) before doing this. :smile:
 It's a good idea (to get the latest version of sqlite), but it's not strictly necessary.  It's your choice, since your internet connection is being flaky. :wink:
 Awesome!  You're welcome. :grin:

As a data point, I suspect the fix was this one [here](https://github.com/sqlitebrowser/sqlitebrowser/commit/1c233de3b5166ecd9225d52f6985976f29a80729) (even though its title says it was for windows).  Thanks to @rp- for that. :smile:
 @Z4us That's with the version you compiled yourself yeah?
 Would you be ok to try compiling?  It should be very simple to do.  That's the theory anyway. :wink:
  Oh, that's not good.  Which version are you running, and what OS is it on?
 Hmmm, is there a typo in your original post there?  It's saying **myDB**.myTable in the first bit, then **main**.myTable for the delete statement.
  The other option would be to use another character like many text editors do when you "show hidden characters", that way we could show tabs and spaces as well
 Yeah, "show hidden characters" sounds like a good idea. :smile:
 As a data point, although not the same bug as #731, they're both semi-related.
  I'm kind of unsure about this.  While that makes sense as a good default, what's a good approach for when someone needs there to be no '%' on the start or end?

A way to accomplish this isn't springing to mind at the moment. :frowning: 
 @tonypdmtr @justinclift I've just pushed a commit which adds the %% wildcards in filter queries. So this changes the default behaviour of our filters. Because I wanted to avoid yet another option in the preferences dialog or even the main window I've come up with the following solution to work around the problem mentioned by Justin: by default I add the %% wildcards making the _filter_ use more obvious. If you add your own % wildcards somewhere in the query I'll assume though that you know what you're doing and don't want us to mess up your query; so in this case we won't add any extra %% wildcards.

I hope this solution satifies everybody while keeping the UI simple and intuitive. What do you think?

 @zwrmueller I've also implemented option 3 of your suggestion. I've set it to a timeout of 300ms but you can also hit Enter/Return or Tab for an immediate effect.

Both changes will be available in the next nightly build.

We'd also need to update our Wiki page on the filters. Any volunteers? @glawrence maybe? :smiley: But no worries if you don't have the time. Just wanted to drop this as a To Do somewhere.
 Cool, good stuff @MKleusberg. :smile:
 @tonypdmtr You can still type "=John". It's case-sensitive then but at least doesn't require an additional option. The reason I'm hesitating to add an extra option here is that the filters are meant to be a quick and easy search method which should "just work" for most people without having to think about it. We've implemented quite a complex rule system by now to achieve this (which still might be irritating sometimes) but adding an option would basically double the number of combinations.

As for the double '%%' thing: I think this shouldn't matter because either way '%' or '%%' the column is removed from the list of active filters by the statement a couple of lines further down. So as far as I see (though it's late alrady :wink: ) it should never reach SQLite or the user.
 Are we ok to close the issue then? :smile:
 Cool, closing this then :smile: 
  Definitely sounds like a bug.  You're using version 3.7.0 of DB4S yeah? :smile:

Btw - Your english is easy to understand.  No problems at all. :grin: 
 Hei Svein!
Thanks a lot for your report - we've always tried to keep the program UTF-8 only for simplicity but I understand your issue. Since it doesn't seem to difficult to add a function which should solve your problem  and which doesn't distract other users, I don't see any reason not to implement it :smiley:
Now, from the screenshot it looks like you're using MacOS X. Unfortunately our nightly builds currently aren't working for MacOS X but Justin (@justinclift) might be able to upload a build for you to test. For Windows (http://rp.oldsch00l.com/sqlitebrowser/) the nightly builds are running, though.

If you have a up-to-date build running you'll see a new option called 'Set encoding' added to the menu that appears when you right click the table header:
![1](https://cloud.githubusercontent.com/assets/3153504/9863501/f130e7e6-5b40-11e5-864a-ebe49e955c2c.png)
Click on it and you'll be asked to type in your encoding:
![2](https://cloud.githubusercontent.com/assets/3153504/9863511/092df69a-5b41-11e5-9f8d-add53821f737.png)
As soon as you click OK your new encoding will be applied:
![3](https://cloud.githubusercontent.com/assets/3153504/9863520/18495156-5b41-11e5-904b-8537d21d5bf0.png)

A few more notes:
- This setting is per table. If you have multiple tables you'll need to change the encoding for all of them. You can change all your settings in a project file, however, so you'll only need to do this once.
- If you use the Execute SQL tab for quering or changing the database you'll still have encoding issues because this part of the application hasn't been changed.
- I've tested browsing, editing and using the filters. I think that's all there is but I might be missing something ;)

Let me know how this works for you!
 Hi Svein!
Currently you can set it only for each table separately, so you'd have to change the encoding 120 times :frowning: But I've just added another menu option for changing the encoding of all tables. It's called 'Set encoding for all tables'. So with the next nightly build (tomorrow) you should be able to change the encoding for all tables at once. If you have multiple databases you'll still have to do this for each database, however. But I suppose this is do-able for two databases :smiley: 
I hope this helps!
 Sorry guys, I'm stuck on a Windows box for a few days. (groan)

@SveinBerger Do you use Homebrew on OSX?  If so, compiling our code is extremely simple.  You can cut-n-paste these commands to the command line, and out pops an .app you can run. :wink:

https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md#building-an-app-bundle
 Gah, wrong button.  Sorry! :angel: 
 Awesome!  Great work @MKleusberg. :smile:
  This might be a qt bug than, as the nightly builds use the old qt 4.8 and the release version are build on a windows machine using qt 5.4 or newer
 I have this problem too on Mac OS X El Capitan.
 Interesting.  @revolter Is this using version 3.8.0, and if so, is it one of the downloadable releases or was it compiled manually? :smile:

Asking because the downloadable releases for OSX (for 3.8.0) use Qt 5 instead of Qt4. (am actually considering going back to Qt4 for them :wink:)
 Yes, 3.8.0, downloadable release with SQLCipher support. Is Qt 5 a beta release or something like that? I'm that kind of guy that likes to have the latest version to every thing and I find this possible downgrade to Qt 4 sad :( Or would it be temporarily until their bugs are fixed?
 It was the first time I've built the release with Qt5. :wink:

We've had a few reports of bugs, that may or may not have anything to do with that bit (I'm not sure).  So I'm thinking of making a new release with Qt4 or something to see if that fixes the problem.

Actually, I should make the nightlies for OSX build with Qt4 again, and see if the problem disappears for people.  That would help figure things out. :smile:
 Just tweaked the nightly build script for OSX.  It'll use Qt4 again from now on, until/if we change it back.  That should give us some more things to test, in order to figure out some of the reported OSX weirdness.
 @xingped If you try our nightly build for Windows, does the problem go away? :smile:
 Thanks for testing it @DelphiGit, that's useful info. :smile:
 @DelphiGit Same thought with this.  Should it be closed now too?
 Awesome, thanks. :smile:
  That doesn't sound good.  Which OS are you using, and which version of DB4S?
 Sorry for not looking into this properly yet. :frowning:

As a thought, we released a new version (3.8.0) just over a week ago, and it has a whole bunch of bug fixes in it.  I'm not sure if there's anything in there for transaction handling though, so I'm not sure if the behaviour you're reporting here is fixed or not.

Would you have a few minutes to try it out, and let us know? :smile:
  Oh, that's not good.  Which version of DB4S are you using, and which OS are you on?
 Can you maybe try the latest nightly build (see here: https://github.com/sqlitebrowser/sqlitebrowser#windows) because we've made some changes in the meantime and at least for me your table statement gets parsed correctly :smiley: 
 As long as you're just inserting, updating, or deleting records there is no need to be concerned at all. This works just fine. You only get in trouble when editing the table using our Edit Table dialog. In this case the collation gets dropped. That issue is related to #741. I'll try to fix that, too, so there's no need to worry about collations here anymore :smiley: This should be working in the next nightly build. Do you have the time to check if it's fixing your problems, @mtissington, @slidertom and @chrisjlocke? You still can't edit collations in the Edit Table dialog but at least they shouldn't get lost when editing the table.  Not a bad idea. :smile:
 Sorry for the extreme delay with this guys. üò¶ 

This slowness in displaying blobs was only fixed recently (a few weeks ago).  The fix is in our recent "3.9.0 beta1" release (last weekend), and will be in the "3.9.0" proper release, which should be this weekend.

@MvGulik, the nightly build you grabbed um... yesterday has the fix in it too.  Just to double check, if that showing BLOB's decent quick now for you?
 Closing this, as it's definitely fixed for everything except large size images.

Large images will likely be addressed in the next release anyway. :smile:
  Are you able to share the database and slow query with us?  Emailing it to me directly (justin@postgresql.org) is workable, if that helps. :smile:
 Received it.  Have now forwarded it onto @MKleusberg (CC-ing yourself), in the hope he has time to investigate. :smile:
 Thanks for reminding me @sprintel and sorry for the delay! The main problem here is that we have to execute this query essentially twice. One time for getting the total row count like this:
```sql
SELECT COUNT(*) FROM (...);
```
And one time for actually getting the first block of data:
```sql
WITH RECURSIVE ... LIMIT 0,50000;
```

This explains why it's taking so much longer. The issue here is that we need to know the total row count before doing anything else to get the scrolling in the result view right. But this doesn't explain why it's taking 6 minutes for you. It should really "just" be 3 and a bit.

So out of curiosity, how long does it take on your system using the latest nightly build? Any improvement yet? If not, maybe we can provide you with a build that outputs some more debug information in order to find out where the extra time is coming from.

Another question would be if it might be a good idea to add a new option to the preferences dialog for disabling the ```COUNT(*)``` thing. The cost of this would be less information when browsing and very jumpy scrolling. @MKleusberg As a thought, if we add debugging output to the build maybe we should leave it in and have it toggled on/off by a command line switch or something? @MKleusberg As an "out there" idea, remember how we add a Qt regex function upon startup?  Don't suppose the presence of that might affect the communication path or something? @justinclift Nah, that only gets called when you're actually performing a regex operation, i.e. not when simply browsing a table. The problem seems to be that we're essentially performing each query twice.  Interesting question.  @MKleusberg, can it be done? :smile:
 I think I need your help here...

It can be done and I've prepared a patch for this more than a week ago but it's still causing some trouble. I'm not sure what's going on there but I've just pushed it anyway. With the next nightly build there will bee an option for showing the rowid column if you right-click on the table header in the Browse Data tab. There you can click the new option to show the column.

That's the theory anyhow. On my system it simply doesn't work. There are two places where I have to decide whether to show the rowid column or hide it: when this new option is clicked and when changing the current table because in the latter case the previously set settings for the new table shall be loaded. Now, I've found a workaround to make it work when I click the new option but with this workaround enabled the latter case doesn't work. With the workaround disabled _only_ the latter case works (though you have to change the table twice before coming back to make this even weirder). This is especially troubling because it's the same code being executed, it's only called from different locations.

So this is where I need your help: I'm building this using Qt 5.4.2 (you can check this in the Help -> About menu). Assuming the Windows nightly build uses a different version I'd be interested to know how both described use-cases work for Windows users. The MacOS X nightlies still use Qt 4 as far as I know, so this would definitely be interesting to know. Maybe you can test this, @justinclift ? Currently the workaround is disabled by the way. If it works on e.g. MacOS with Qt4 I'll assume a Qt bug...
 We're still waiting on @quaid for the Mac Mini build server, so we haven't had nightlies for quite some time now. :frowning:

But, I can do a compile test on my OSX desktop later on today. :smile:
 @chetan Ouch, that doesn't sound good.  As a thought, you **might** be able to reset it's behaviour by moving or deleting the preferences file for DB4S.  On OSX it should be located somewhere like:

```
~/Library/Preferences/com.sqlitebrowser.sqlitebrowser.plist
```

No guarantees, but it's worth a shot.  (back that up before deleting it, just in case :grin:)
 I think the behaviour described by @chetan here is the same problem I was mentioning earlier. I finally got around to debug this properly and I've found my mistake. With the latest patch it's finally working now. So @chetan and @chinhodado can try the next nightly build to see if the new feature is properly working for them now. Let me know if there's still some problem left; and if it's working, too :wink: 
 Cool, thanks for letting us know. I'm glad I could help. :smile:
  Cool. :smile:
  Assuming you have a bunch of ram in your system, we've had reports of people using recent DB4S (the new name of SQLite Browser) on files of several GB's.

How big are the database file's you're thinking of using?
 Guessing you've seen this already, but putting it here just in case it's helpful:

&nbsp; &nbsp; https://sqlite.org/limits.html
 In theory sqlitebrowser can open and handle all files you can open using the SQLite command line tool or any other application using the sqlite3 library (see Justin's link above for that). There are two things to consider, though:
- For browsing a table we have to issue two SQL statements instead of just one. This is because there doesn't seem to be a better way to tell the total amount of rows in a table, an information we need for the UI. Effectively this means these two statements are executed each time you open up the table browser, use the filters, change the sort order, etc. In the worst case this increases the loading time by quite a bit of time, though this should get better if your table has a primary key/unique index.

``` sql
SELECT COUNT(*) FROM table;
SELECT * FROM table;
```
- The other thing is that while we do support loading the rows in chunks (you can set the size in the Preferences dialog), we don't unload them. This means that by simply scrolling down the table view more and more data is loaded into memory. But because no data is paged out again you could run out of memory (there's a slight overhead for the UI stuff, so it takes a little more memory than needed for the actual database content only). Changing the filters on a table purges this cache though, so working on a subset of the data should be a lot faster and more memory efficient.

But in the end, you'll probably have to simply try opening the files. It might take some seconds for something to happen but it'll still be faster than planning this out theoretically :smile: If you do, I'd be interested to hear your experiences.
 @gbhiner1 Does that help enough? :smile:
 Closing this, as it's not something we can do more with. :smile:
  Thanks @logocomune, that's awesome! :smile:
  Oh, that's strange.  I'll have to try it out later on a Windows system to see if I hit the same problem.
 Unfortunately I can't reproduce this. Can you maybe provide some step by step instructions on how to trigger that error?
 Sorry @rafalseamless, just noticed this (I'm focused on other stuff atm).  With GitHub, it drops attachments, so your attachment never made it to this issue.

If you want to email it to me (justin@postgresql.org), I can forward it to the other developers for investigation.
  Good catch. :smile:
 You actually can save the graph (if that's what you mean); just press the little button on the bottom right of the plot pane:
![5](https://cloud.githubusercontent.com/assets/3153504/9479441/bd85c150-4b7d-11e5-8f82-e5b45a0f1c44.png)
 Oh cool.  I didn't realise that. :wink:

@PKEv Does that help?
  From what I read in a short google search key3.db is no sqlite database and there are other tools to recover or read the database.

http://kb.mozillazine.org/Password_Manager
 Yeah, I think you need write access. From memory, SQLite itself makes some temporary files when it opens a database for any reason.
 Not a bad suggestion.  It wouldn't hurt for us to detect this kind of error (if it's possible), and give a message about it.
 The next nightly build will try to detect a read only database file as well as a read only parent directory. I don't show any message box in this case but only add a subtle note to the status bar of the main window. All the buttons for editing the database are disabled in this case, too. So unless you're typing in an SQL statement yourself you won't be able to trigger any errors :smiley:
 Good thinking @MKleusberg. :smile:

@hurzl Have you had a chance to try the latest nightly build (or compile it yourself), to make 100% sure this is working well now from your point of view?
 No worries.  Was just wondering if this had been tested/verified so we can close it.  Looks like I'll need to try it out later, and see how it goes. :smile:
 @SharonD214 Hmmm, that's not good.  If you try with the latest nightly build (if you're on Windows), does it give a more informative error message or act like it's in read-only mode?
 Closing this, as it was fixed ages ago. :smile:

@hurzl If for some reason this turns out to not work for you after all with our recent 3.8.0 release, please feel welcome to reopen this issue. :grin:
  Thanks @GeorgijK!

@MKleusberg Would you be ok to review this? :smile:
 We still need someone to review this before we can merge it.  @rp- do you have the time?
 Looks good for me and the renaming makes a lot of sense :smiley: There are two things though I'd like to point out:
1) There are two places where you execute COMMIT manually. The problem here is that this way the savepoint list doesn't get cleared. This will cause an error later when trying to revert to a savepoint which the application thinks exist but doesn't really. The other effect is that the database is still marked as dirty (see the `DBBrowserDB::getDirty()` method in file sqlitedb.cpp at line 81). This means the user thinks he still has the ability to save or revert when actually all the changes were already written to disk. So I think these two COMMIT calls should be replaced by releaseAllSavepoints(). We might want to run a COMMIT at the end of that function though, just to be safe.
2) Could you maybe squash those two commits into one so that we have a nice commit history? Like described here: https://github.com/sqlitebrowser/sqlitebrowser/wiki/Merging-Commits)

Other than that this looks good to merge :smiley: Thanks a lot for your effort, @GeorgijK, and sorry for the late reply....
 Just applied the changes myself because I think it's good to have this PR in there rather sooner than later :smiley: Thanks @GeorgijK for contributing them!
  This should be fixed by the same patches used for dealing with issue #387 . This means I haven't disallowed the usage of backticks in column names but instead tried to fix the program when they are used. So in short, you're still allowed to use them but now the application will actually work fine even when they're used :smiley: At least I hope it does :smile: 
If you want to test this you can download tomorrow's nightly build and have a try.
 @PKEv That's a bit unclear to me.  Do you mean you have tested the latest build, and it's all working now?  eg Is this issue fixed now, so we can close it? :smile:
 Thanks @PKEv. :smile:
  When you say "assemble the project", are you meaning compile the project from source code?

If so, then yes.  There aren't good instructions written up for that yet though. :frowning: 
 I have some initial instructions which @schdub emailed us.  I can forward them on to you if you want to try them out.  Would that help? :smile: (my email address is justin@postgresql.org)
 Did the emailed instructions help?
 Yeah, I don't know either.  Maybe @MKleusberg could guess what might cause that?
 Can't say without further information...
@PKEv There should be a filename and line number along with the error message. Can you provide that as well? Maybe the whole build output might contain some other valuable information, too.
@justinclift Can you mail me these build instructions, too? I don't think I have them here.

Still, it's going to be guesswork for me, too, cause I don't have a Windows machine here...
 Sorry @PKEv, I completely forgot about this open issue. üò¶ 

We've added very complete instructions for building on Windows, to the wiki:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/wiki/Setting-up-a-Win64-development-environment-for-DB4S

Lots of screenshots, and plenty of details.  If you're still wanting to get this working, those instructions are known to be good. :smile:
  Hmmm, by default it's set to automatically check (by reading this file: https://github.com/sqlitebrowser/sqlitebrowser/blob/master/currentrelease on GitHub) if you're running the latest version.  You can turn that off in the preferences though, if that's what you want.

Lots of apps do this checking... so I'm kind of thinking it's not a bad thing.

???
 Thinking this over more, it's not a bad idea to update the status bar when doing the check if there's a later version.  It might happen pretty quickly though (depending on speed of user's network to the GitHub server), so we might need to ensure it sticks around for at least some period of seconds (eg 5 seconds?) so it's not too easily missed. :smile:
  I don't think so yet, but it's a decent idea if someone wants to pick up the task and write the code.

Are you any good with C++? :smile:
 Cool. :smile:
 Unfortunately this is going to be quite difficult :frowning: The reason for this is that we rely on the QCustomPlot library for plotting which itself only support 2D plots. So you're left with three options as far as I can tell:
- Finding a new open-source library to replace QCustomPlot and rewrite the sqlitebrowser to use that instead (I don't know of any such library...)
- Extending QCustomPlot and using the new features in sqlitebrowser (never looked into their source code, might be easy to to, might be next to impossible)
- Trying to fake it using colour gradients or what not (this might be interesting but probably will be very difficult to get right if it works at all)
  Sorry for the delay, I was away for a few days. :wink:

Does this seem ok?  If so, we can add it to BUILDING.md. :smile:

### CentOS / Fedora Linux

**1**. Make sure the `qt-devel`, `ant-antlr`, and `antlr-C++` packages are installed.<br />

```
$ sudo yum install qt-devel ant-antlr antlr-C++
```

**2**. Download the DB Browser for SQLite source code.<br />
**3**. Open a terminal in the source code directory.<br />
**4**. Run these commands:<br />

``` bash
$ cmake . && make && sudo make install
```

**5**. This should complete without errors, and `sqlitebrowser` should now be launch-able from the command line.

Done. :)
 Thanks Martin, just added them: https://github.com/sqlitebrowser/sqlitebrowser/commit/8bfd2852ae4c39af7c095b39679da5d3dc7c1237 :smile:
 Any interest in submitting a PR with the info update? :smile:
 Awesome. :smile:
  Hmmm, that doesn't sound good.  Do you have the (free) Microsoft Visual C++ Redistributable Packages for Visual Studio 2013 installed, available [here](https://www.microsoft.com/en-us/download/details.aspx?id=40784)?
 Closing this due to lack of response.  We've also released a new version (3.8.0) about a week ago, which shouldn't have this crashing problem.

If this problem still keeps happening for you for some reason, you're welcome to re-open this issue so we can investigate. :smile:
 Yeah, it's not good this is happening for some people.  It's also really hard to track down. üò¶ 

Have you tried a recent nightly build instead?  They're generally more stable. :smile:
 @mextedol If it helps, we have some steps shown here on ways to potentially track down the problem:

* https://github.com/sqlitebrowser/sqlitebrowser/issues/847#issuecomment-256713334
* https://github.com/sqlitebrowser/sqlitebrowser/issues/847#issuecomment-256763348

Are you ok to investigate using those?  Interesting thought.  I've noticed similar before too. :smile:

Personally I'm not sure what controls (by default) where new windows are positions, but at a guess we're probably not specifying any positioning options, and maybe we should be. :wink:
 Personally, I don't experience this problem because on my (Linux) system the dialog is always centered above the main window. I've tried to implement the same behaviour for Windows now but can only assume it's working (because it looks the same as before to me). So with any luck this issue should be fixed for you in the next nightly build :smile: And please let me know if it doesn't work for you.
 Yep it's good you mentioned it. :smile:
 Yeah, start a new bug report :smile:
 @DelphiGit Should this one be closed now that your fix for #633 is merged?
 Closing this now, as @DelphiGit has fixed it in #633. :smile:
  Hmmm... trying to imagine how that would work. :smile:

Are you ok to explain that in more detail, so we get a better understanding of what you mean?
 Ahhh, you're meaning to just allow editing in the result widget yeah? Not meaning actually changing the database data when you edit the result?
 Actually changing the database would be a part of this issue as far as I can see because @Volkanite mentions UPDATE statements (which would write to the database file).

This feature is definitely nice to have but unfortunately rather difficult to implement. The problem is that you can form quite complex SELECT statements for quering the database but you can't simply transform then into an UPDATE statement for modifying the database because SQLite doesn't support that complex UPDATE statements (no joins in them etc.). So we'd have to somehow transform the SELECT statement into an UPDATE statement by trying to interpret the SELECT statement and guessing which cell of the result view originates from which column of which table. We'd probably also have to modify each SELECT statement prior to execution to always include the primary key of each table (and then hide it in the view) because this is the only way I can think of which allows us to find out which row the edited cell belongs to.
So, in short, this is possible but would require a lot of work for parsing and understanding SELECT statements which we currently don't do at all. We could maybe try to support this for some SELECT statements and not all of them but it'd still require some effort :smiley: I'd suggest keeping this issue open but don't count on this being finished soon ;) 
  Good question. :smile:

SQLite can be compiled with plugins/extensions.  The plugin tab in the gui is a way to have them loaded, so you can use these extensions in your SQL queries.

Personally, I've not used them ever, but some of the other guys know more about it.
 The best way to understand extensions is to not think of them extending our application (sqlitebrowser) but extending SQLite itself. SQLite extensions are just dynamic libraries (*.dll or *.so etc.) of a certain format which can be loaded by SQLite. After loading they provide additional functionality like extra SQL function (e.g. for doing maths or text operations) or collations (e.g. for special sort orders).

So, for example there is an extension for adding some functions for handling geo information. If you want to use these features for your database or if you want to open a database which was created using this extension, you have to load it too before proceeding.
But as long as you don't have a database which requires an extension to open (you usually get an error message when trying to open it) you probably won't need to load any extensions :smiley: 

For some more technical background you can also have a look at this page: https://www.sqlite.org/loadext.html
 @Bluscream Does that help enough? :smile:
  Seems sensible to me, though I'm not a coder on this project. :wink:

Any idea if it'll have any noticable performance impact?
 Sounds good to me.  @rp- @MKleusberg Good to merge this? :smile:
 Yep, looks good :) 
  Sounds like a bug, though I don't understand Russian personally so someone else will have to figure it out. :wink:
 Thanks @GeorgijK.

@MKleusberg Any ideas?
 I've looked into this and with any luck it should be fixed in the next nightly build :smiley: Let us know how if the fix works for you, @GeorgijK :smile: 
 Oops, I ment @PKEv of course. Let us know if the next nightly build fixes your problem, @PKEv :smiley: 
 @PKEv Do you have time to check the latest nightly build? :smile:
 @PKEv Thanks for testing. :smile:

@MKleusberg Looks like we still have work to do. :frowning: 
 @PKEv Are you ok to test if the bug still occurs in the latest nightly build? To me it looks like it should be fixed by now :smile:
 Awesome. :smile:
  Oh, good catch.  Sounds like a bug. :smile:
 Just tested this with version 3.8.0 in a Win 8.1 VM.  It's still occurring. :frowning: 
 Good news @PKEv, this has been fixed today by @schdub.

The fix will be in our new 3.9.1 release, which will be available later on today. :smile:
  Should be do-able. :smile:
 You already can press F5 for refreshing the view but I've just added Ctrl+R (or I guess Command-R on MacOS) as an extra shortcut. You can download tomorrow's nightly build to test it if you like :smiley:
 The nightly builds aren't happening on OSX for now (waiting on the build box to be posted to me), so @kinghelix would have to compile it himself.

@kinghelix Compiling DB4S on OSX is really easy if you have Homebrew installed.  Is that your kind of thing? :smile:
 @kinghelix Our nightly build for MacOS X are back up and running. So if you haven't had the chance to compile by yourself you should be able to test the change now :smile: Either way I'd be happy to hear about the results :smile:
 @kinghelix Did you ever get around to trying this out?
 Closing this due to lack of response. üò¶ 
 The fix was by @MKleusberg, not myself, but no worries.  Glad it's working better now. :smile:  Oh, that's interesting.  Sounds like our code for correctly escaping names isn't quite as good as it should be. :frowning: 
 @z-rui Martin has added an initial fix for this.  Would you be ok to test out our latest code, and let us know if it's working for you?

If you're using Windows, our latest nightly build has the code in it.  Download locations for the nightly builds are on our front page. :smile:
 I've just pushed an additional commit which fixes some remaining issues with this (especially when quotes are used inside column names). The next nightly build hopefully works fine for you :smile: 
 Are we ok to close this issue? I'm pretty sure it's working now in the latest builds :smile: 
 Sure. :smile:
  Oh, that's interesting.  I've just tried it on an OSX 10.7.5 VM here... and yeah, it's failing.

This is especially weird because it _should_ work.  The exact same system used for building version 3.6.0 was used to build version 3.7.0.  The only thing which should have changed on it, is having Apple supplied OS updates applied between the releases.

I don't have access to that particular system for a few more weeks though (could be up to 6 weeks), so its not really possible for me to diagnose fully at the moment. :frowning:

Let me see if I can compile a fresh version of our code in my 10.7.5 VM.  If that works, I'll make a one-off v3.7.0+ .dmg for you for now (eg 3.7.0 + our patches since). :smile:
 Hmmmm, it looks like compiling Qt is going to run overnight. :frowning:
 @stuartE9 Try this, it's our very latest code compiled for OSX 10.7.5:

&nbsp; &nbsp; http://mirror.salasaga.org/sqlitebrowser/onceoffs/sqlitebrowser-3.7_dev-201507191105.dmg
 Damn.  This exact download worked on my 10.7.5 VM.  I think the problem is that my VM here has too new of a cpu compared to yours. :frowning:

Ok, lets get a bit creative instead. :wink: Do you have OSX Homebrew installed?
 Yeah, try and get Homebrew working.  If you can do that, then getting DB4S installed is pretty easy. :smile:
 Awesome, from here on it should be easy.  Follow these instructions, and you should be all good:

&nbsp; nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md#building-an-app-bundle

Literally, you should be able to cut and paste these (do it a line at a time):

```
$ brew install sqlite --with-functions --without-readline
$ brew install qt
$ brew link sqlite3 --force
$ brew install git
$ git clone https://github.com/sqlitebrowser/sqlitebrowser.git
$ cd sqlitebrowser
$ qmake
$ make
$ brew unlink sqlite3
$ mv src/sqlitebrowser.app /Applications/
```

For me, the install of Qt (brew install git) took all night because it had to compile the whole thing.  You might want to kick that off before you hit the sack tonight or something. :wink:
 Cool, good stuff Stu.  If Homebrew works on 10.5.8, would you be ok to see if compiling works on that?  If it does, we can adjust our README.md to mention 10.5 is known to work too. :smile:
 No worries.  It was a thought... :smile:
  Ahhhh interesting.  I haven't tried OSX 10.10 at all yet.

I'll try to get it running in a VM later on today, verify this, then merge it. :smile:
 (Sorry for the delay btw, have been unwell for a few days)
 Yep, working well here on OSX 10.10.  The existing codebase (without this patch) barfs.
 Thanks @jehoffmann! :grinning:
  No worries. :smile:
  Sorry, I'm a bit in a hurry right now but I've just pushed a commit for each of your issues. I'm quite confident this one will be fixed in the next nightly build :smiley: The code for #380 has been changed as well, but we'll have to see how it works for you.
 @pamtbaau Is this one working well for you now too? :smile:
 Thanks. :smile:
  Seems like an interesting idea.  I'm not sure how feasible it is though... one of the others - who knows Qt - will have to chime in. :smile:
 I've added a new option to the Preferences dialog which, when activated, puts the result table view to the right side of the code editor. The success/error messages are still shown at the bottom, though, which looks a bit more aesthetic in my point of view. I've also (re-)introduced the possibility to resize the two panes.

If you want to check out the new feature, you'll have to wait for tomorrow's nightly build, download & install it and then click View -> Preferences, select the "SQL" tab and check the "Horizontal tiling" option at the bottom. Hope this helps :smile:
 @MKleusberg You're a legend dude. :grin: 
 @pamtbaau Are you ok to try the nightly build (tomorrow), to see if the latest commits from @MKleusberg makes it better?
 Cool! I'm glad I could help :smiley: And thanks a lot for the feedback!

The query gets repeated since the first version I've ever used, long before I've started helping out in development. So to be honest I've no idea why it was added to the message string. However, with the more recent version (3.0+) it kind of makes sense to repeat it because these versions allow you to execute multiple queries at once. Now, assuming you get an error or some query results, it might be unclear from which query they originate. This is at least why _I_ think it serves some purpose to have them in there.
 Hmmm, this issue seems like it's fully done now.  Are we ok to close it from your point of view @pamtbaau? :smile:
  Makes sense, and is probably quick/easy to implement. :smile:
 I've just updated the code to check if a file still exists before adding it to the menu. There is no new menu option for it though, because I think it's not as important to most users to warrant the extra option. It's automatically executed whenever the menu is updated, i.e. upon start-up and when opening a file.

If you don't want to wait for the next release, you can download the nightly build and test the new feature :smile:
 Awesome. :smile:

@finjulhich Do you have time to try out the latest nightly build (tomorrow), and let us know if the new code is working well from your point of view?  (the download locations are on our front page, if that helps)
 @finjulhich Ping...
 @finjulhich Never heard back from you.  Any chance you can try the latest build (or even a nightly) and let us know if this is properly addressed for you?
 Thanks @finjulhich. :smile:
  Aaaarrrghh.  I forgot to email John, to let him know about the new release.  Just emailed him now.

Thanks for the reminder @divinity76. :smile: 
 It's available now: 

https://github.com/sqlitebrowser/sqlitebrowser/releases/download/v3.7.0/SQLiteDatabaseBrowserPortable_3.7.0_English.paf.exe
  That makes sense. :smile:
 Just pushed a commit for this, so it should be in the next nightly build :smiley:
 @revolter Would you be ok to try our nightly build, and verify this is working for you now? :smile:
 Hmmm, that's a bit vague.  The download locations for our nightly builds are on the front page of our project (this repo).  In theory, for OSX the nightly builds here should work for you:

&nbsp; &nbsp; http://mirror.salasaga.org/sqlitebrowser/nightly/

Note - Someone mentioned not long ago they've stopped working for older OSX (10.6?) versions.  I haven't been able to investigate though (no access to that OSX build box) for probably another 6 weeks or so.  Still, since you're on new OSX, it's worth trying. :smile:
 You're welcome. :smile:
 @MKleusberg could this be done for export too?
 Um... would you be ok to create a new issue for that?  It's better for us tracking-wise. :grin:
 Oh, sorry!
 No worries at all.  Thanks for getting making it happen. :smile:
  Which OS are you using, and which version of DB4S? :smile: 
 @justinclift I don't think we have any real influence on this since it is a Qt thing. But I've just seen that we're still using Qt 4.8.7 for the Mac OS build. So I'm wondering if it's much work for you to change the build process to use Qt5 which brings a load of new features and bug fixes. This issue might be fixed this way. Maybe the open file dialog file name selector thing as well.
 @MKleusberg Good idea.  I don't have access to the OSX build box for about another 6 weeks or so (needs to be packed up and posted to me), but I can definitely look into this once I get it. :smile:
 Cool, sounds like a plan. :smile:
  Oh, interesting.  Looks like we need to add a few more preference options for font colour.
 @voidplayer, we've added extra color setting for displaying data in 'Browse Data'.
If it isn't to hard for you, please, test this feature.
 @schdub Sounds like we have more work to do for this. :wink:
  This sounds like it could be useful for people.  To clarify your suggestion, where are you wanting hex numbers to be displayed?  In the Browse Data tab, or in the Execute SQL tab, or somewhere else?

Also are you thinking it would be best as an option that can be turned on in the Preferences dialog, or something else? :smile:
 Interesting.  So, it would be better to have this be changeable per column, instead of a default for everything?  I'm thinking that when you open a database for the first time + go to the Browse Data tab, you might need to do something like right click and choose a "Display in Hexadecimal" or something.  And we should store that column preference in the project file for a database too.

Does that sound like the best approach?
 If I may make this even more complex: I'd suggest making this a fully flexible thing. For a previous project some years ago I had to use Qt's Julian day date format (which works similar to Unix epoch), this made the date values as they are stored in the database really difficult to read and even more so to edit. So maybe we should add some option to specify short SQL fragments (or some other code) which convert between stored data format and display format - ideally in both directions.
 @MKleusberg Interesting thought.  Maybe we should have a right click thing that lets people choose from various display options (binary, octal, decimal, hex?), but also allows defining custom ones too using (say) [QString string formatting](http://doc.qt.io/qt-4.8/qstring.html#arg).  eg:

| Name | String |
| --- | --- |
| Binary | [unsure] |
| Octal | "%o" |
| Decimal | "%d" |
| Hex | "%#x" |
| My Custom String | "Hi there %s" |

That being said, it would be useful to have time/date elements available too (eg %Y for Year, %m for month, etc as per the CLI date command), and I'm not sure how to do that without over engineering things. :wink:
 I've just made an initial effort in implementing this kind of thing. Here's how it's supposed to be used:
1. Right click the header of a column in the Browse Data tab and click the menu action
![df1](https://cloud.githubusercontent.com/assets/3153504/8528001/68968948-2410-11e5-89ba-ed307acc141e.png)
2. Select an alternative display format from the list of available formats, e.g. all upper case
![df2](https://cloud.githubusercontent.com/assets/3153504/8528016/852f5ec2-2410-11e5-8b8d-306a0dcb1e97.png)
3. Now the values of the column are shown in the new format (while still being saved in the old one)
![df3](https://cloud.githubusercontent.com/assets/3153504/8528029/9d265cce-2410-11e5-910d-4c80402ad8bd.png)

This is far from being finished but should demonstrate how this feature may look like eventually. Hex numbers aren't supported yet by the way, because there's no SQLite function for converting between decimal and hex format. That means we'll have to implement a user function for conversion of this kind and the ones that Justin suggested.
 Duh, I'm stupid. There _is_ a built-in way in SQLite to convert numbers to a hex representation. It's even a fairly obvious one... Just added an option for setting the display format to hex :smiley:
 Awesome. :smile:

Have you added the code for saving/loading the custom format to/from the project file?
 Yes, I have :smiley:
There are still a few problems though, most notably filters and editing isn't working as expected.
 Well, we have a few weeks until the next release.  (I don't get my hands on our OSX build box for 6 weeks anyway). :wink: 
 @jflucc Do you have time to try the nightly build and let us know if this is working well enough for you now? (if it helps, download locations are listed on the front page for this project)
 Ahhh.  That sounds like meta information that should be saved into a project file.  @MKleusberg, are you ok to add that? :smile:
 Already did that :wink: 
 But I've just added the '0x...' part like @jflucc suggested :smile:
 Excellent! @jflucc Would you have a few minutes to try the next nightly build (tomorrow), and let us know if that change is working ok? :smile:
 Thanks @Sharpeee, looks good.

Do you have a name + email address we can use for the commit message? :smile:
 No worries, I'll use a placeholder example.org address or something for that field. :wink:
 Added here: https://github.com/sqlitebrowser/sqlitebrowser/commit/21c708ab95b64d736764193cba399dbf9afb2262

Thanks for this @Sharpeee. :smile:
 @jungle-boogie Ouch, you're completely correct.  That should be editable. üò¶

And yeah... there's no "decimal" format option in the list (yet).  Hmmm, want to attempt adding one? :smile: (I would, but my headspace is in something else completely different at the moment. üòá ) 
  Thanks @amoghe, that's a good idea. :smile:
  Interesting.  Is this stopping you from loading your database?

Also, which operating system are you using, and which version of DB4S are you using? :smile:
 Hmmm, I think this is related to https://github.com/sqlitebrowser/sqlitebrowser/issues/54#issuecomment-49079283.

It sounds like we need to do something better, but it's not clear to me exactly what that is just yet. :frowning: 
 I believe we need a similar implementation of Android custom SQLite collation functions LOCALIZED and PHONEBOOK. When opening table with these collations we must ask user to enter locale.

@MKleusberg, @rp-, we have ICU library in dependencies (I think I saw them DLLs in our Windows build)? Somebody trying to solve the recent issues with collations? If not, I can try.
 @schdub Go for it. :smile:

With Android's custom SQLite collation functions, I wonder if the source code is available and also if the license would let us use it?  Instead of creating our own that is.
 @schdub If it's not adding too many code lines, just go ahead. If there should be lower-level changes (which I doubt), some major programming effort, or new depedencies implied we should maybe think about this a bit more. The reason is that we're just talking about two custom collations of thousands out there and I'm not sure where to draw the line... But on the other hand, being able to open Android databases with full functionality out of the box is a major plus :smiley: 
  Interesting, that doesn't sound good at all.  Which version of DB4S is this happening with?

Also, is there any way you could screenshot it?  It might be helpful. :smile:
 @faacsousa, please send me (jsbot@ya.ru) the file database, which reproduces this problem.

Is set default value in table schema for field 'locale'? Something like:

```
CREATE TABLE `android_metadata` (
    `locale`    TEXT DEFAULT 'en-US'
);
```
 @faacsousa Would you be ok to download our latest nightly build, and confirm that the fix for this added by @schdub works well for you? :smile:

(download locations are listed on the front page of this project, if that helps)
 Awesome!  Good work @schdub. :smile:
  @yaronbank do you click 'yes'? Try to click 'no' while loading database.
When you click 'yes' every collation works as BINARY collation and only for 8-bit encoding.
 This sounded a bit familiar, so I went looking back through the old issues.  I think the warning message you're seeing was added for https://github.com/sqlitebrowser/sqlitebrowser/issues/54.

We might be able to change the warning message to be less scary, and more informative.  @rp- Thoughts?
 I agree that the text of the warning needs to be changed, but I also think that the mechanism of substituting COLLATION can be improved by:
1) no need to register our collating function for standard collations like BINARY, NOCASE, RTRIM;
2) 16-bit encoding version of collCompare() function (sqlitedb.cpp).
 @yaronbank, in your case safely select 'No'.
  That all makes sense. :smile:

@schdub has added a fix for this bug to our code.  Would you have time to try our nightly build (tomorrow), to verify that works?  (if so, the download locations are on the front page of our repo)
 Thanks for letting us know, good news and nice work
  Thanks @SevenLines, that's excellent. :grinning:

@MKleusberg is this good to merge?
 @MKleusberg ping?
 I'm just going to merge this and hope for the best.  If it breaks things for people, I'm sure someone will file an issue. :smile:
 Should be fine. I still think there's some bug in QScintilla because I see no other reasons why the middle part of the first line in the first picture of the original issue is highlighted differently. But at least we're now working successfully around it :smiley: 
  Interesting.  We added the ability to change the SQL font in a recent version (might have been 3.7.0, I don't remember).  I just tried setting the font to Andale Mono:
![screen shot 2015-06-22 at 14 33 03](https://cloud.githubusercontent.com/assets/406299/8283016/662f63a2-18ec-11e5-88dd-8d6eb36ebc76.png)
I think you are correct.  The grey text in the screenshot below is not the same size as the other text, and it should be: :frowning:

![screen shot 2015-06-22 at 14 33 06](https://cloud.githubusercontent.com/assets/406299/8282956/02df9a38-18ec-11e5-88b5-20f7bb26389a.png)
 Yeah, this is definitely a bug of some sort.  I think @MKleusberg will be interested in this. :smile:
 This seems to be a bug in Scintilla or the QScintilla wrapper around it. I've just compiled the QScintilla example application (after enabling UTF-8 and SQL syntax highlighting in there) and the error still ocurrs. On the other hand, if I change the used lexer from SQL to C++ it seems to work - so the problem is probably somewhere in their SQL lexer and not in the general code, though I'm not entirely sure about that.
 Just for reference: The Qscintilla source code including the example application can be found here: http://www.riverbankcomputing.com/software/qscintilla/download
I've modified the QScintilla-gpl-2.9/example-Qt4Qt5/mainwindow.cpp file to enable UTF-8, include the lexer and use syntax highlighting; here's the new code: https://gist.github.com/MKleusberg/ceb2cf5f5ec84734b061
 @MKleusberg Would you be ok to ask on the QScintilla mailing list about it?

&nbsp; &nbsp; http://www.riverbankcomputing.com/mailman/listinfo/qscintilla
 So... what needs to happen next? :smile:
 Want to make that a Pull Request? :smile:
 Closing this, as @SevenLines fixed it in #365. :smile:
  I guess you have data in table FileInfo and other table references (FK) primary key _ID.
In SQLite you can rename/delete field in existing table with algorithm something like:
http://stackoverflow.com/questions/805363/how-do-i-rename-a-column-in-a-sqlite-database-table
I note separately: need to drop old table. Our application works in a similar way when renaming fields.
When application try to delete old table FileInfo it causes foreign constraint failed. 

For example what going wrong:

```
-- 1) create two referenced tables
create table table1 (`_ID` INTEGER PRIMARY KEY, `data` BLOB DEFAULT NULL);
create table table2 (`TABLE1$ID` INTEGER REFERENCES  table1(`_ID`));

-- 2) and add some data
insert into table1(`_ID`) values(1);
-- table2 references table1
insert into table2(`TABLE1$ID`) values(1);

-- 3) now try to remove field data in table1.
--    its failed because FK constraint while deleting old table1

-- 4) disable FK constraint (better use 'edit pragmas' and hit Save).
PRAGMA foreign_keys = "0";

-- 5) now try step 3 again - and its succeeded.

-- 6) dont forget enable FK
PRAGMA foreign_keys = "1";
```

WARNING: before do same thing on your db, backup first.

About 'string can not be logged, contains binary data' it was bug while logging
user input in multiline queries. But it already fixed recently.
 @dbreslau Out of curiosity, apart from the "string can not be logged, contains binary data" (that should be fixed in our latest nightly builds), what would clearer messages/logs look like?  It's something we could consider. :smile:

@schdub Should we add some database calls to our Modify Table code, so it disables and re-enables the primary keys when renaming tables?  I'm guessing it might help in some situations, and we could still Rollback if an error is detected. (?)
 Good thinking, both of those ideas make sense.  I'm personally not sure of their feasibility, but others will know more. :wink:
 @dbreslau absoulutly agree that this error message should be more informative in this case.
@justinclift I have a look what I can do.
 @schdub Excellent. :smile:
 Should be fixed with #363.
Same issue: #329.

Error message will be something like:
![screenshot from 2015-06-20 225657](https://cloud.githubusercontent.com/assets/1304776/8269139/cc38bfc4-17a5-11e5-95cd-f8b098dfbe21.png)

I think we should to create wiki page what should to do in case such error message (my first post in this thread about pragma foreign_key). 
 Excellent stuff @schdub. :grin:

@dbreslau Would you have time to grab our latest nightly build, and verify that it's working properly for you?  (95% chance it will, but it's always good to check just in case :wink:)
 I've just pushed a small commit series which still needs more testing but in theory should improve the application's behaviour in two ways:
- If you try to change a column name of a column which is referenced in a foreign key this is impossible. Instead of just failing we'll now print an error message, explaining the problem.
- If you try to change a column in a table which is referenced in some foreign key, but it's another column that's being referenced, the application used to fail because of the way the renaming process was done. This is fixed now, so editing these columns should be possible now :smiley:
 Awesome as well @MKleusberg.  Good team effort here. :grin: 
 @dbreslau Is the latest nightly build working for you? If so, we can close this issue :smile: 
 No worries.  I'll close this issue for now, but if you find it is still occurring please reopen it and let us know. :smile:
  Interesting.  Just to check (to be safe)... you're using the 32-bit download, not the 64-bit one yeah? :wink:

If so, would you be ok to screenshot the error message and paste it into this issue?  It would be useful to know what the full error message is regarding Qt5Core.dll. :smile:
 Interesting.  Have you tried older versions of our application?  (I'm wondering if the problem started with release 3.7.0, or if it's existed for older versions too).

If you just need "something to work", then try the latest nightly build here (uncompress it with [7-zip](http://www.7-zip.org)):

&nbsp; &nbsp; http://rp.oldsch00l.com/sqlitebrowser/

That uses our old Windows build process, which is likely to avoid the problem you're hitting.
 Cool. :smile:

Both 3.5.1 and our nightly Windows builds use a "static build" process.  The nightly build one should be better for you, since it's like 3.5.1 + lots of bug fixes. :grinning: 
 @justinclift do you think this means we still have Windows deploy/install issues?
 @glawrence It's possible.  It could be a once-off too, but it's hard to tell.  The error message in the screenshot above didn't really show any smoking gun. :frowning: 

I guess we'll just need to wait and see... :wink: 
 if this is the only case of such a problem, I would guess there is a problem with the users machine, but its not really possible to tell from the screenshots, maybe some wrong .dll gets loaded.
  Which operating system, and which version of DB4S is this happening with? :smile:
 Just testes it and It seems to work for me... The default filter behaviour is to only search for exact matches, so you probably need to put '%' characters around your search term but then it should work even for characters in a different form when they are connected:
![persian](https://cloud.githubusercontent.com/assets/3153504/8241425/88bc1ad6-1609-11e5-8ac7-45742a82dae9.png)
 Cool! Glad this works :smiley: By the way, if you want to read about the fancier filter operations, we have prepared a wiki page explaining them: https://github.com/sqlitebrowser/sqlitebrowser/wiki/Using-the-Filters
  When you say the only extension options are "HTML, PDF, JSON, SQL or XML", where are you seeing that?

In theory, you should be able to open the .db file directly in DB4S, then save back to it directly.  (does that help? :smile:)
 Ahhhh, the screenshot you're showing is for SQLiteStudio, which is not us.  These are the people you want to ask questions about it: :smile:

&nbsp; &nbsp; http://sqlitestudio.pl/

"DB4S" is the acronym we use for our software - DB Browser for SQLite - as it's a pita to type out the full name each time. :wink:
 Hi @idomintz12 if you want to try DB4S then I suggest you go to http://sqlitebrowser.org/ and download the installer. There is a nightly build but I would recommend starting with the 3.7.0 release which was done a few days ago. Alternatively go to https://github.com/sqlitebrowser/sqlitebrowser/releases and download from there, same files just a different view.
 Yeah.  Try this installer, as it's very likely to work for you:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/releases/download/v3.7.0/sqlitebrowser-3.7.0-win32.exe
 Great news @idomintz12 we hope you enjoy DB4S
  Interesting.  Do you know if the iOS app uses SQLCipher to do the encryption?

If it definitely does, then it's probably something to do with needing to figure out the matching page size.  If the page size doesn't match when opening the database, DB4S doesn't get a valid database to use so keeps prompting. (or it could be a bug in our SQLCipher handing or similar, which we'll need to investigate)
 Ahhh, this shouldn't be too hard to figure out then. :smile:

What you should probably do is jump on the SQLCipher forum here:

&nbsp; &nbsp; https://discuss.zetetic.net/c/sqlcipher

Ask what the default page size would be when using their instructions.

The SQLCipher people are pretty responsive + helpful (we've asked questions there too :wink:), so it's very likely they'll get you up and running. :smile:
 Hmmm, just noticed there's a newer version of SQLCipher out than what we included with our OSX builds.  Not sure if that's the cause of the problem, but it's worth keeping in mind.

I'll look into getting the newer SQLCipher release into OSX Homebrew, so we can use it in our nightly builds and future releases.
 For reference, this is the PR for updating SQLCipher to v3.3.0 in OSX Homebrew: https://github.com/Homebrew/homebrew/pull/40841
 @MaxPower9 Looking through this, the default page size seems to be 1024:

&nbsp; &nbsp; https://discuss.zetetic.net/t/sqlcipher-support-added-to-db-browser-for-sqlite/243/11

If you're trying that and it isn't working... then lets see what happens with a version of DB4S using the latest SQLCipher (building one now).
 This might help:

&nbsp; &nbsp; http://mirror.salasaga.org/sqlitebrowser/onceoffs/sqlitebrowser-sqlcipher_201506172157.dmg

It's a build using our very latest code base, plus with SQLCipher 3.3.0.
 You're welcome.  Glad it was a fairly easy fix (not everything is). :wink:
  Ahhh, this sounds like the problem that happens when going from a 32-bit to 64-bit install.

Does the fix here work for you?

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/wiki/Windows-File-Associations
 @LLambertRGi we're always happy to help! Thanks for using DB4S.
  Interesting.  Changing field names works on other OS's, so it sounds like a bug affecting just the build you're using atm.

Did you compile DB4S yourself, or is there a repo you grabbed a prebuilt version from or ?
 @justinclift I grabbed the very latest from GitHub and built this on my CentOS 7 VM so I could try this out. I did the following:
- create a new database
- create a new table
- click Add Field button
  ![stage_1](https://cloud.githubusercontent.com/assets/1067355/8144735/c86925d6-11e3-11e5-9947-0bd689e16576.png)
- double-click the field name to edit [note cursor at end]
  ![stage_2](https://cloud.githubusercontent.com/assets/1067355/8144739/e2850b38-11e3-11e5-8566-a63066255f60.png)
- type "XX" [see it overwrites in black]
  ![stage_3](https://cloud.githubusercontent.com/assets/1067355/8144743/f944b27e-11e3-11e5-85ca-1f203ace3bf7.png)
- press "Enter" and everything is fine
  ![stage_4](https://cloud.githubusercontent.com/assets/1067355/8144744/034175b4-11e4-11e5-8be4-2828aac8bbec.png)

So this would seem to be a draw/paint type bug that needs fixing, functionally DB4S works we just need to fix the UI so it is more obvious it is working.

Hope you like my screenshots, I think they help!
 Indeed @Sanpasqual123 it is either a CentOS thing or possibly a GNOME/KDE issue. I have just tried on an openSUSE VM and don't see the same issue. With CentOS I have GNOME and with openSUSE I have KDE, so I wonder if the issue is in GNOME compatibility somewhere
 @glawrence Well done.  It seems like bug in maybe the Qt toolkit build on CentOS 7.x then.

Do you have the rpm versions handy?  We can ping the CentOS guys (on IRC and/or mailing list) to see if anyone is already aware of it.  If not, we can file a bug so it can be looked into. :smile:
 I have the following installed

```
Name        : qt
Arch        : x86_64
Epoch       : 1
Version     : 4.8.5
Release     : 8.el7
Size        : 17 M
Summary     : Qt toolkit
URL         : http://qt-project.org/

Name        : qt-devel
Arch        : x86_64
Epoch       : 1
Version     : 4.8.5
Release     : 8.el7
Size        : 34 M
Summary     : Development files for the Qt toolkit
URL         : http://qt-project.org/

Name        : qt-settings
Arch        : noarch
Version     : 19
Release     : 23.5.el7
Size        : 1.8 k
Summary     : Configuration files for Qt
URL         : http://fedorahosted.org/kde-settings

Name        : qt-x11
Arch        : x86_64
Epoch       : 1
Version     : 4.8.5
Release     : 8.el7
Size        : 34 M
Summary     : Qt GUI-related libraries
URL         : http://qt-project.org/
```

Does that help? Not sure it is quite what you asked for but "feels" right.
 Yep, that's what I asked for.  I'll ping the CentOS guys in a bit, to see if it's a known issue. :smile:
 Great, thanks
 Oops.  The first email I sent them, I did from the wrong email address and it never got through.  I've just emailed them from the correct email address, and it's on the centos-devel mailing list now:

&nbsp; &nbsp; http://lists.centos.org/pipermail/centos-devel/2015-June/013551.html

Lets see if someone there has ideas...
 @Sanpasqual123 @glawrence Looking back over some of our older issues which we've not followed up on... do either of you have a machine or VM handy you could test this on again with the later code?  Both us and Qt have had new releases since this was reported last year, so it's worth checking. :smile:
 Any updates on this? From what I can tell this was tested using Qt4 and as it might be a Qt thing, it might be worth checking this out with Qt5. Closing this due to lack of response.  It's pretty likely (but not guaranteed) to not be a problem with our upcoming release due to Qt5.

If it does still happen, this issue is welcome to be reopened. :smile:  Interesting find. :wink:

@MKleusberg, any ideas?  As a thought, the StackOverflow link above helps frame it a bit better too.
 This commit should fix your problem, effectively a NULL value is now treated as an empty string. Not sure, which operating system you're running but if it's MacOS or Windows you can wait for tomorrow's nightly build and see if the new code works better for you. The download links are on the main page of our repository.
 Are we ok to close this issue? It's been some time since we fixed it and I'm pretty confident it's working as it should be now.
 No worries.  Closing it. :smile:
  Would you be ok to try out the latest nightly build? (download locations are listed on the front page of our repo)

To me, this sounds like a duplicate of a bug fixed yesterday: https://github.com/sqlitebrowser/sqlitebrowser/issues/349.

If you try the latest nightly, and it still happens though... it's a new bug we need to look at. :wink:
 You're welcome.  Thanks for taking the time to write up a bug report.  Without bug reports stuff just wouldn't get fixed. :wink:
  @ant-on-io thank you for reporting. This is definitely bug.
Should be fixed in #350
 @ant-on-io Would you be ok to try the latest nightly build (tomorrow), and verify back to us if it works or not? (just in case) :wink:
 Awesome!  Thanks for testing and letting us know Anton. :smile:
  Yeah.  There was a bug in our Unicode handling with 3.6.0.  If you grab the latest nightly build though, it's fixed. :smile:

(download locations are shown on the front page of this repo, if that helps)
 @abshuhuhuhu Have you had a chance to grab the latest nightly build, and use that instead?
 Closing this, as we don't seem to be getting a response + the issue is already fixed in our codebase. :smile:
  select \* from table_mst where names=??????  here my query showing question mark.On mac pc
 Would you be ok to try our latest nightly build (download locations are on the front page of our repo)?

There was a bug in the 3.6.0 and 3.6.1 to do with Unicode handling, but it's fixed in our latest nightly builds.  I'm guessing that's the bug you're hitting. :wink:

If the latest nightly build still doesn't work though... that's a new bug we should look into. :smile:
 You're welcome. :smile:
  Interesting thought.  It might also be useful to automate testing of GUI components in future too (though I suspect there are already Qt tools for that).
 @Z4us That's a bit unclear to me... what do you mean? :smile:
  Interesting.  Would you be ok to try our latest nightly build?  There was a bug in our Unicode handling for the Execute SQL tab, which is fixed in that.  I'm kind of thinking that might solve the problem for you too. :smile:

Download locations for our nightly builds are on the front page of our repo, if that helps. :wink:
 I fixed the build process and did a fresh build
 Awesome. :smile:
  Thanks for the bug report. :smile:

We switched to a new build process for the Windows executables with the 3.6.x release, and we're still working out the kinks. :innocent:

The next release (3.7.0, soon) should automatically install that dependency.  Hopefully that works out in practise for everyone, but we'll see... :smile:
  Thanks Eva.  Would you be ok to try our latest nightly build?  We've done some stuff with BLOB handing in the last few weeks, and there's a chance this has changed.  Would be good to know if it's something we still need to investigate or not. :smile:

(the download locations for our latest nightly builds are on the front page of this repo, if that helps)
 Awesome! :grin: 
  What would you like it to do instead? :smile:
 Personally, I don't experience this problem because on my (Linux) system the dialog is always centered above the main window. I've tried to implement the same behaviour for Windows now but can only assume it's working (because it looks the same as before to me). So with any luck this issue should be fixed for you in the next nightly build :smile: And please let me know if it doesn't work for you.
 @meNESS This has finally been fixed. üòÅ 

@DelphiGit did it for #633 (thanks!), so closing this now. :smile:
  From a recently created ticket on the old SourceForge project page:

&nbsp; &nbsp; https://sourceforge.net/p/sqlitebrowser/feature-requests/41/

```
Hello 
please add a feature to show as well ciphertext in .dbs as plaintext.
e.g. the app web browser dooble.sf.net has all data stored encrypted, e.g. the file
shared.db (path in settings), which is filled with an url in case you press the first
button of the url bar. Also the app Spot-on.sf.net creates an url.db which can be filled
with an import from that share.db. It would be great, if the crypto credentials of this
crypto used in the browser and url search tool is implemented over a path to
dooble.ini or spot-on.ini so that the DBs can be shown in plaintext in your browser.
Thanks.
```
 Yeah, I'm not totally sure.  I was hoping the reporter would jump in here.  Looks like not though... :frowning: 

I'm going to close this, as there's not a lot we can do with it as-is.
  Ahhh interesting.  I don't have a HiDPI display to test it on, but one of the other guys might (unsure).
 Interesting idea.  Hadn't heard of the Windows Simulator, but doing some DuckDuckGo-ing shows it might do the trick. :smile:
 The next Qt version will have improved High DPI support across different platform: http://blog.qt.io/blog/2015/12/18/qt-5-6-beta-released/

Maybe that will help, too?
 @Rockvole Ahh, would you be ok to try a recent release?

The version you're using, 2.0.0-beta1, is literally about 10 years old.  We've made a few changes since then, including adding some support for High DPI & Retina (on OSX) displays.

If you need to compile things yourself, it's pretty easy.  There are cut-n-paste type of instructions here, if that's useful:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md

Does that help? :smile:
 No worries at all.  For the Linux Mint repo version... yeah, I'm not sure why it's so old.  Hopefully someone out there (not me) has time/interest to look into it, and get that fixed. :smile:
  Which version of DB4S are you using, and is it 32 or 64 bit?
 Hmmm, it sounds like a dependency is missing or something.

@glawrence Do you have a Win8 VM handy you can try it out on?
 When it stops working, does an error message get shown or something, or does the program just exit or ?
 Thanks, that's helpful.  If you click Debug, what gets shown?  I'm hoping it'll have further information, to help us figure out what's going wrong. :smile:
 @pbaker1977, do you open same database file on Win8 and Win7?

DB4S is 64 bit?

"0xC0000374: A heap has been corrupted" - it's really bad.
 @pbaker1977 Yeah, as @schdub mentions... are you using the 32-bit or 64-bit version of DB4S?

With our recent 3.6.0 release, it's the first time we've had both 32-bit and 64-bit versions for Windows available.  Thinking maybe you might have the wrong one. (and kind of hoping it's that easy! :wink:)
 Interesting.  It sounds like one of the 64-bit libraries installed on your system isn't happy.

If the 32-bit version works well for you, keep on using that. :smile:  If you need to use large databases though (eg 1GB+), you'll probably need the 64-bit version and we'll need to figure out what's wrong.
  Oh, that doesn't sound good.  Which OS are you using, and which version of DB4S?
 @ccw808, do you mean "Run DB Browser for SQLite" checkbox on "Complete DB Browser for SQLite Setup" page?
I think it is standard behaviour when you run the application from the NSIS installer.
New process inherits permissions from the parent process - in this case installer, which was elevated using Windows UAC.
Possible solution: get rid ability to run the app from installer.
 Ahhh, that sounds like it might do the trick.  @rp- Sounds like an easy fix?
 It would probably an easy fix if we had a standalon NSIS script, but our script is generated by CMAKE/CPACK and there are some settings and variables that can be tuned, but I didn't have time to look at them.
 Posted this in #974, so a bit of cross-posting.... ;)

This might help.

http://stackoverflow.com/questions/16555625/how-to-launch-an-executable-on-the-end-of-installation-correctly

> Use `Exec '"$WINDIR\explorer.exe" "$TEMP\MyUnElevatedProcess.exe"'` In theory :wink:, that last commit should mean the installer launches DB4S in user mode, not admin mode.

In testing here in a local VM it seems to work ok, but it'd be useful to have other people test and confirm it before I'm confident about it.

@ccw808 @chrisjlocke Would either of you have the time/interest in trying tomorrow's nightly build (3rd May or later) to check? Will do.  üò∏  Now works fine.   ü•á  Thanks @chrisjlocke, really appreciate you taking the time for this. :smile:  Which operating system are you using, and which version of DB4S? :smile:
 @MKleusberg Yours? :smile:
 @tbayart Out of curiosity, have you had a chance to try this with our recent 3.7.0 release?  I'm kind of wondering if this might have been fixed when we adjusted some of our other Unicode handling bits for the Execute SQL tab. :smile:
 @tbayart please give example of your requests.
@MKleusberg, you began work on this task? Do you mind if I try to solve it?
I can reproduce this bug if query contains '\t' characters for example.
 @tbayart A potential fix for this has just been added by @schdub.  Would you be ok to try the nightly build (tomorrow), and verify if it's working properly for you now? :smile:
 @glawrence Let's wait for confirmation by the issue reporter that things are fixed before we close the issue.  90% of the time things work as intended, but there are the occasional times they don't, so we try to catch them up front. :wink:
 @justinclift oh I agree, it is much better to get confirmation first
 @tbayart about empty lines. This behaviour was previously. You don't see it under Windows because on windows each multi-line query considered to contain binary data, and of course, was truncated.

I agree with you (as I wrote in a commentary in the commit), it would be better to throw out from query meaningless extra characters like \r \n \t. If someone wants to improve this - you're welcome.
 Ahhh.  We've been doing some initial work to get proper instructions written up for compiling on Windows.  I can forward the email to you with the initial write up that @schdub did.  We're planning on getting it formatted nicely and onto the wiki, but haven't done so yet.

If you want, email me (justin@postgresql.org), and I'll forward the instruction email to you. :smile:
 I've just pushed a commit which trims the SQL strings before logging them. This removed the additional line break at the end of @tbayart 's statement. Empty lines in the middle of the statement are still logged but this makes kind of sense because they're really part of the query and get processed by SQLite, too.
 Awesome @MKleusberg. :grinning:

@tbayart Do you have time to grab the nightly build (tomorrow), and let us know if it's working well now from your point of view? :smile:
 Thanks @tbayart, that's awesome too. :smile:
  Would you be ok to check if this happens with our latest nightly build?  We've been doing some stuff with not clearing various things at specific times, and there's a chance this one is already taken care of.

If it's still happening with our latest nightly build, then yeah, we can add this to the list of stuff to do.  It sounds both simple, and fairly easy to make configurable.  :smile:
 Thanks @tbayart.  It doesn't sound like a hard thing to change.  @schdub Is this something you have time to fix? :smile:
  I understand the advantages of in-memory databases, however you will notice on that web page that "all database connections sharing the in-memory database need to be in the same process". This means you could create a database in DB4S but it would not be available to any other process and DB4S could not open one belonging to another process. So adding this feature would seem to me to be of limited use. However if you can help explain a good use case or you want to add this yourself via a pull request then please, fire away.
 Right, okay, I see what you mean now, thanks for explaining. Are you able to implement this yourself?
 @tbayart There is https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md, which is supposed to have all of the building info in it.

I think it's out of date for Windows though, having only the previous approach listed (cross compiling from Linux using MXE).  @rp- has been working on a new build process using Visual Studio, but I don't think it's documented yet.  That being said, it may not be too hard to figure out (unsure).
 @glawrence We should probably get the initial Windows building instructions onto the wiki, see if we can find people to test them out/fix/tweak/whatever as needed so they're correct, then possibly add them to BUILDING.md.

Any interest in getting that started, then making a call out through Twitter (main DB4S account) or similar for people to help with them? :smile:
 As per my other recent comment, yes we should and I will have a go at this as soon as I get time, which I hope is actually soon!
 Awesome.  Hoping so too. :wink:
  @vaidasB, thanks for reporting but this issue is already fixed in #282.

You should use our nightly build (http://rp.oldsch00l.com/sqlitebrowser/) or wait until version 3.7.0 is finally will be aired.
 Closing this as it's definitely the Unicode issue we've fixed in our nightly builds. :smile:
  @icol2006, please provide example of your table and query.
 @icol2006, escape field name with "" or [] or ``: 

```
CREATE TABLE Testing ([id_@] text, name text, adress text);
INSERT INTO Testing ([id_@], name, adress) VALUES(1, "test", "test");
SELECT [id_@] FROM Testing;
```

http://stackoverflow.com/questions/2901453/sql-standard-to-escape-column-names
 Awesome @schdub.  I just learned something new too. :smile:
  Ahhhh, interesting thought.  I guess we could put something in the Release Notes page.  Does that sound like a decent spot to you which people would generally see?
 @ronCYA Would you have a few moments to check if our [new 3.9.0 release](https://github.com/sqlitebrowser/sqlitebrowser/releases/tag/v3.9.0) (which came out today) still has the problem?

The installer code for that, generated by NSIS, is supposed to detect any previously installed version and offer to remove it, regardless of 32 or 64-bit.  But, having someone verify that makes sense.  I just kept testing it against itself, and didn't bother to try older ones.
 Thanks @ronCYA. :smile:
 @ronCYA ping? :smile:
 Closing this due to lack of response. üò¶   Hmmm, I have no strong objection to adding a Close database" button.  It would be useful for people.

The idea of having a list (in Preferences area?) to allow customisation of buttons does sound really good though. :smile:

Out of curiosity, do you have skill with C++ and/or Qt? :smile:
 That would be great. :grinning: 
  @felagund18, thanks for reporting but this issue is already fixed.

You should use our nightly build (http://rp.oldsch00l.com/sqlitebrowser/) or wait until version 3.7.0 is finally will be aired.

See: #282.
  @AnthonyUccello, hello. Thank you for reporting.
Which OS do you use? Win8?
Please attach or send me (see my email in my profile) database file for testing purposes.
 @AnthonyUccello, in SQLite you can rename field in existing table with algorithm something like:
http://stackoverflow.com/questions/805363/how-do-i-rename-a-column-in-a-sqlite-database-table

I note separately: need to drop old table. Our application works in a similar way when renaming fields.

Table 'armor' have PK and table 'grrbls' references this table as FK. If you have data in table 'grrbls' then you can't rename fields in 'armor' table because dropping old table causes foreign key constraint failed.

To rename fields in 'armor' you should:
- export data from table 'grrbls' into external .sql file;
- execute 'delete from grrbls';
- rename fields;
- import data into 'grrbls' back.
 @AnthonyUccello Does the latest nightly build fix this issue for you? It should work by now :smile: 
 @AnthonyUccello, Ping? üòÑ 
 @AnthonyUccello Last ping... :smile:
 No worries.  Thanks @AnthonyUccello. :smile:
  Bernardo, thank you very much.
  @magicvinni You're welcome to do anything with this, that respects the licenses. So, yes. :wink:

This isn't a Python program though... are you sure you want to include it?
 Going to close this for now, as it's a fairly old issue and @mvt91 has been contributing the French translation bits.

@magicvinni You are absolutely welcome to help with keeping them updated if you have the time & desire. :grin:
  In theory (!), that should work already. :smile:  Which operating system are you using, and which version of our application?
 Yeah, that's a combination that is "known to be good".  I'll close this issue for now, but if you see the behaviour happening again, please re-open it so we can investigate (and figure out how to as well). :smile:
  Hmmmm, I'm not sure if this would be easy/hard/etc. :wink:

Some databases technically change files even just to "open the database" - even if there is no real change in the data contained.

I'm personally unsure about SQLite3 for that, but if it has to change the database file just to open it, it could be difficult.  The other guys here would probably know for sure. :grinning: 
 Ahhh, good thinking. :smile:
 @JoeErsatz Just to check... which operating system are you using? :smile:
 No worries.  As a thought, maybe it needs to be marked Read Only on the server where it's stored?

That being said, something in our UI and code to do things for a Read Only option isn't a bad idea. :smile:
 Sorry, this took a while :wink:

With the next nightly build there will be a menu item to open a database in read only mode. With this all editing options in the GUI will be disabled and no SQL statements that make changes to the database will be allowed. Are you still interested in this, @JoeErsatz? If so you can try out tomorrow's nightly build :smiley: @JoeErsatz Ahhh... there's a minor drawback to that approach.  We do our very best to make things work properly, but it's an 80/20 thing.  80% of the time everything works out well, and there aren't any hidden surprises.  20% of the time though... things turn out to need a bit of kicking into shape. üòÄ 

Thus our general request for feedback, to help catch those 20%-ers. :wink: No worries :smiley: I'll close this issue for now because I'm pretty sure it should be working with the next release. If it doesn't work as you expected, feel free to re-open it anytime, @JoeErsatz. Should we update this issue as soon as the new release is out to remind you of this issue/fix?  Hi! You're lucky we've already fixed this issue some days ago. You can download the latest build from here http://rp.oldsch00l.com/sqlitebrowser/sqlitebrowser.exe.xz (use 7-zip to unpack) and use that. With this file the Russian symbols will work again :smiley: 
 Closing this, as it's definitely the known Unicode issue we've fixed in our latest nightly builds. :smile:
  Thanks for spotting this! :) 
I've just noticed another typo in the same line: 'encrpytion'. Do you mind changing that as well and put it into the same commit? Either way I'll be happy to merge this :) 
 I'm happy to merge this now, but can leave it alone for a while if you want to keep looking for more.

Let me know what you want. :smile:
 Wow, this has grown to quite an amount of typos by now :open_mouth: 
I think the 'provde' can be deleted entirely. But probably the entire sentence should be rewritten to something like 'This is an abstract class, an implementation of which you can pass to the CSVParser to get progress updates.' or so.
 Again, thanks a lot for looking for all these typos :) In case you should find any more you're always welcome to open a new pull request :smiley: 
  @igozhenko, thanks for reporting, but this issue already fixed and were discussed in #313.
 @igozhenko Ironically, the bug which causes this is fixed in 3.6.0.  Are you ok to upgrade to that?
  @kropochev That's kind of unclear.  Do you have time to make that clearer?  Maybe a picture/graphic to show what you mean? (it does not have to be a high quality picture.  Even Microsoft Paint would be ok. :smile:)
 @kropochev, something like this?
![plot only points](https://cloud.githubusercontent.com/assets/1304776/7705684/5dfb0b40-fe4e-11e4-88db-6b837fff5b1b.png)
Same plot with lines between points:
![plot std](https://cloud.githubusercontent.com/assets/1304776/7705700/7b82a344-fe4e-11e4-84c8-ef5a8f07fada.png)
 @justinclift, we can add two ComboBoxes, 'Line type' and 'Point shape', when first item is 'None', for example. What do you think?
![screenshot from 2015-05-19 18 08 40](https://cloud.githubusercontent.com/assets/1304776/7706475/51037b16-fe53-11e4-836c-463c8aab6d62.png)
 @schdub That sounds like a really, really good idea.  Are you ok to commit it? :smile:
 @justinclift, done.
Please somebody review #317.
 @kropochev The code to make this happen has been reviewed and added to the project.  Would you be ok to try the latest code to verify it works how you want?

If you're using Windows or MacOS X, there will be a new "nightly" build you can try tomorrow.  Download locations are shown on our front page. :smile:
 @kropochev, are you sure data set on windows and mac is equal (it appears on the image there are gray dots)?
What happens if you choose point shape Disk on windows build?
Could you please send me the database to test?
 It looks like troubles with drawing ssDot scatter shape in qcustomplot library on Linux and Windows platforms.
Wrote to the author with proposal how to fix it.
 @schdub Is there a PR for it which we can watch? (if the qcustomplot stuff is on GitHub)
 maybe its already fixed? we don't use the latest version
 @rp-, I've already check, but not. Btw, can I add new version (1.3.1) this library into our repo?
@justinclift, no, only support email.
 sure, but maybe wait a few days, if the guy from qcustomplot can fix it quick, he might release a new version.
 @rp-, he told me that this isn't a problem in his library, but the problem in some versions Qt.

Problem code, I think is:

```
case ssDot:
{
    painter->drawLine(QPointF(x, y), QPointF(x+0.0001, y));
    break;
}
```

If replace it with something like:

```
case ssDot:
{
    painter->drawPoint(QPointF(x, y));
    break;
}
```

everything is fine.

I think the easiest way to deal with this problem is to delete ssDot from list of supported point shape.
Previously, all points on Plot draw with shape ssDis—Å and size 5.
ssDot - is shape with width and height of pixel, is still not discernible on graph, imho.
 sounds good enough for me
 Yep, sounds like a good plan @schdub. :smile:
 ssDot displaying problems have been solved in #324.
I think we can close this issue.
@justinclift, can we?
 Sure. :smile:
  @rickshory The directory which is opened can be set in the Preferences.  But yeah, it's a popular request, and one we're considering how best to do. :smile:

For further reference, please see: https://github.com/sqlitebrowser/sqlitebrowser/issues/281, https://github.com/sqlitebrowser/sqlitebrowser/issues/276, https://github.com/sqlitebrowser/sqlitebrowser/issues/224.
 This should be fixed in the 3.7.0 release where we've introduced a new option to the Preferences dialog to change this behaviour. This way everybody should be happy :smiley:
![lastlocation](https://cloud.githubusercontent.com/assets/3153504/8273318/9c697f04-1868-11e5-9791-7dce9ff25cfe.png)
If there are no objections I think we can close these issue soon.
 Good thinking @MKleusberg. :smile:

@rickshory Have you had a chance to try out the new behaviours in our recent 3.7.0 release? :smile:
 Closing this as it's been reported to work in issue #276. If there still should be any problems with this feel free to re-open the issue or open a new one.
  @markg85, hello. Thank you for your post.
It's odd, because I just checked and everything works.
Please show what values you have in the registry key:
HKCU/Software/sqlitebrowser/sqlitebrowser/checkversion
 Oh, that's weird.  It sounds like there's a bug in our version setting bits on windows. :frowning: 
 We've changed the automatic update check recently because it contained several bugs. The major/minor/patch keys aren't used anymore in the current version (changed in commit da6d8ba385d18a2d9f5eafa3d0f2b9153e880d49), so they shouldn't cause any trouble... I think...
The reason for the 3.6.6 value is that one of the bugs was a typo where the value of the minor part was accidentally written into the patch key, this was fixed in 2c25b7ecb52944db225516a9b41c9f6c1860e74.

So what this means is that, in theory, the bug which is causing all this trouble should be fixed. And because the registry keys were renamed, the bad values you observed shouldn't be used anymore in version 3.6.0. I'm not sure if you're already using this version, but if you do it seems like we're definitely having more bugs to fix here...
 Cool. :smile:
  Oh, that's not good.  Do you have the (64-bit) version of Microsoft Visual C++ Redistributable Packages for Visual Studio 2013 installed? ([download here](https://www.microsoft.com/en-us/download/details.aspx?id=40784))
 Cool. :smile:
 @mgrandi Yep.  This is a bug on our side from switching to a new build process, and not having things completely worked out yet.  We should have this automaticly installed from the next release onwards.

Out of curiosity, do you have skills with Visual Studio and/or NSIS?  (just asking because it would be really useful here :smile:)
 next release will fix this.
d99d83f269e4f942e9e3dddba5b417005e4191b7
  Ahhhh, I think this is a bug we fixed a few days ago: https://github.com/sqlitebrowser/sqlitebrowser/issues/282

Would you be ok to try out our latest nightly build (locations are listed on our front page), and see if that works?
 @jimmyp2 ping?
 Oh that's interesting.  Sounds like we have a bit more stuff to do for this, to properly complete it.
 @hamidmalek Try using our latest "nightly build".  The download location is on the front page of our repo.

If that doesn't work, then let us know. :smile:
 @schdub @MKleusberg Any interest in looking at this? :wink:
 @justinclift Just tried it with the latest build and it works. So I assume using the nightly build it'll work for @hamidmalek , too. If not it might be necessary to set another font in the Preferences Dialog. The only thing I noticed is that especially selecting text is a bit erratic because of the mix of LTR SQL text and RTL Farsi text but that doesn't seem to be much better in other applications...
 @MKleusberg Hmmm, there's further unicode handing badness mentioned in @jimmyp2's comment above: https://github.com/sqlitebrowser/sqlitebrowser/issues/311#issuecomment-102628344.  eg the loading from a sql file.  Should that be reported as a separate issue or ?
  Oops, somehow missed this. üò¶ 

If this is still happening with our latest nightly builds, then changing the dialog text is very easy to do.

Um... if you're still interested in this, would you be ok to check if this still happens with our latest nightly build?

&nbsp; &nbsp; https://nightlies.sqlitebrowser.org/latest/

If it still happens, I'll update the dialog text. :smile:
 Thanks @palmiche.

Yep, looking at it now, it's still there:

* https://github.com/sqlitebrowser/sqlitebrowser/blob/7ad80352616df1b185ab87f989cb7c2fd6c784c5/src/sqlitedb.cpp#L48

Just to confirm, "NOCASE collation does not handle multi-byte characters.  Proceed?" would be better?

If so, I'll change it immediately.  Better wording suggestions are welcome too of course. :smile: Ahhh, yeah.  I'm not sure what those effects are either.  We'll have to ask someone who knows this part of things better. üòï   Yeah, it turns out we forgot to enable UTF support by default in our new Execute SQL code. :frowning:

It is fixed in our nighly builds though.  Are you ok to download and use that? (the download locations are on the front page of our repo)
 Ahhhh, no.  GitHub doesn't attach files.

You can try sending the file to my personal email address (justin@postgresql.org) though.  Hopefully it's not too big for my mail server. :smile:
 @lifedomy I did receive the file, but was tired and then went to sleep and forgot about it.

I'll forward the file to the other guys, so they can look into it.
 @lifedomy I have forwarded the .mp4 file to the main developers.  Hopefully they'll know what the problem is.

As a thought, have you tried version 3.6.0 of our program?  We changed some of our Unicode handling in that... and there is a chance it has already fixed the problem. :smile:
 Have you tried version 3.6.0?
 @lifedomy Do you have time to try our latest nightly builds?  There is a decent chance this is fixed in that. :smile:
 Awesome!  Thanks for testing and letting us know. :smile:
  Interesting, that definitely looks like a bug of some sort.  Do you have time to check if it happens on our 3.6.0 release as well?
 @kaldown This looks like a Qt bug to me... Do you have time to test with our latest release? We're using a newer Qt version in there which might fix this issue for you without any extra work :smile: 
 Hmmm, in theory it should be possible to compile with Qt5 on FreeBSD, rather than Qt4.  @kaldown If you have an idea how to get that happening (I don't :wink:), it would be worth trying out.
 No worries at all.  If it turns out the problem is fixed, please remember to close this issue. :grin: 
 No worries. :smile:

We released version 3.8.0 a few days ago.  I do the packaging for MacOS X, and for this release I used Qt5 instead of Qt4.  It was very simple to change - I just needed to make sure I had the Qt5 development pieces installed instead of Qt4.

I kind of wonder if it might be that simple for FreeBSD as well.  I'm not sure... the maintainer might have better idea if it's easy to try that. :wink:
 Any update on this, @kaldown? We're Qt5-only by now and chances are that the issue is fixed simply by using the new Qt version :smiley: Do you have the time and the interest to do a quick test? Interesting, our servers for dbhub.io are running on FreeBSD.

I might as well try spinning up a desktop sometime next week, and take a look into the state of the DB4S port there. No worries, @kaldown :smiley:

@justinclift We could just close this issue then. I'd guess it's solved by now and if anybody else should encounter the same issue they can just open a new one or reopen this one. No worries.  I'll get to the FreeBSD port of DB4S at some point anyway.  Ahhh. Which operating system is this happening on?
 Thanks @gasinvein. :smile:

@deepsidhu1313 Are you ok to look into this?
 Its ok, whenever you have time. :smile:
 @gasinvein schdub has added a fix for this.  Would you be ok to try out our latest code and report back if it works for you as needed? :smile:
 Awesome @gasinvein, thanks for letting us know. :smile:
  Sure.  Please email the details to justin@postgresql.org.  I'll forward them to the main developers, and we'll keep the query + database details in confidence (but fix the bug). :smile:
 You're welcome, just forwarded it on. (and going to bed, so response speed won't be great now :wink:)
 @palmiche, do you press 'Yes' in the 'Collation needed! Proceed?' message box while loading database file? Please try to click 'No' and test again, your query working for me in this case.

Troubles with applying NOCASE collation. It seems that we only have collation implementation (sqlitedb.cpp, collCompare()) for char strings (8-bit) and if used our collation function for compare wide strings (16-bit) it compares only one character.
 @palmiche Yep, are you ok to create another issue for it?

It sounds like we should change the description for this issue to something like "NOCASE collation does not handle multi-byte characters".  @schdub Is that a more accurate title?
 Ahhh, gotcha, closing then then. :smile: (if that's wrong, feel free to reopen it)
  Hmmm, that doesn't sound good.

Which OS are you using?
 Cool, that's known to work.  As a first thought, when you grabbed the [Microsoft Visual C++ Redistributable Packages for Visual Studio 2013](https://www.microsoft.com/en-us/download/details.aspx?id=40784), did you grab both 32 and 64 bit or just one?

I'm kind of thinking if you don't have both installed, it's probably worth installing whichever one is missing, just to see if that solves it.

Is that workable?
 Hmmm, so you already have it installed, and it's still not working?

Ok, lets try a different approach.  Would you be ok to try our latest nightly build (location on the front page), and see if that works?

It uses a different (older) build process that I'm thinking will probably work for you right away.  It's worth a shot. :smile:
 Ahhh, all good then. :smile:
 Oh, that's strange.  In theory that shouldn't be needed... but theory obviously isn't working as expected here.  Personally, I have no idea how to diagnose this in more depth... @schdub, any ideas?
  Interesting.  Which OS and version are you using?
 Ok.  We released a new version a few days ago, so try that and see if it's better?  (it may or may not be, but it's worth a shot :smile:)

Btw, I'm trying our new 3.6.0 release here now on OSX 10.9.  In the Browse Data tab I have a field in a column selected.  When I scroll down using the scroll wheel, the PgUp/PgDn keys, or using the mouse on the scrollbar, the field that is selected isn't lost.

Just so I understand better... what are you using to scroll?

Also, my sample table is only a few columns wide.  Is the database table that's doing this for you very wide? (I'm trying to narrow down what could be the cause, but I'm sleepy so my wording might not be clear :frowning:)
 Cool.  Please let us know how it goes. :smile:
 No worries at all. :smiley:
  Just checked, and you're right.  I hadn't realised our Preferences dialog doesn't allow a choice of font, it only allows size.

This sounds like a worthwhile enhancement. :smile:
 I was looking at GitHub anyway for other stuff. :smile:
 This is kind of odd because we're still setting the font to Monospace. No idea why this doesn't get accepted on your system... It would be interesting to know which OS you're using and how exactly the font looks like on your system.
But either way, I've added a new option for setting the editor font to the Preferences Dialog. You'll find the new option in tomorrow's nightly build (see front page of the repository). Maybe manually setting the font already does the trick for you. Let us know if this works for you :)
Saludos a Chile! :smiley: 
 Wow.  Now **that's** a good response time @MKleusberg. :grin:
 Hmmm, you might need to wait until the automatic build tonight?
 Yes, you'll need to wait for the nightly build. See details here: https://github.com/sqlitebrowser/sqlitebrowser#windows
The build should be there in ~6h. If you use the binary from that link you can click View->Preferences, then click the SQL tab, and edit the 'SQL editor font' option.

![font](https://cloud.githubusercontent.com/assets/3153504/7500605/e9734b94-f42e-11e4-906c-88060b1ace13.png)
 Awesome. :grinning: 

Thanks for checking and letting us know, it really helps. :wink:
  Yeah, it's one of the tradeoff's that have come with using a new build process so we get 64-bit capable binaries on Windows.

If it helps, our nightly builds are still created using the old process.  So if you grab a nightly build it will have the latest source code and still be just one .exe. :smile:
 @mvrhov This is probably not going to happen.

We're moving towards using Qt5 only, and at least for Windows it seems statically building with Qt5 is a pain, and may not even work properly. (eg lack of image plugins) üò¶ 
 Does this mean the nightlies won't be one .exe?
 Yep. :wink:
 Guess thats good in one way .... without all the Qt DLLs, the .exe is 2 MB rather than 32 MB...  The .exe should get updated but the DLLs won't change as often, so should just be a matter of downloading a smaller .exe and overwriting it.  
  This sounds like a duplicate of https://github.com/sqlitebrowser/sqlitebrowser/issues/279.

Does the solution at the bottom of that work for you?
 Cool. :smile:
  @opeth771, SQLite data types not compatible with MySQL data types. You need to rewrite create statements (such as create table) with column types supported by MySQL.

More about comparison DB data types:
http://stackoverflow.com/questions/1942586/comparison-of-database-column-types-in-mysql-postgresql-and-sqlite-cross-map
 @opeth771, ping? Your problem is solved?
  This should be fixed by now :smiley: Any recent release should definitely work. Sorry for the late reply :frowning: I'm going to close this issue but if any issues with this happen to come up feel free to reopen it or open a new one any time :smiley:  It is in MacOS, and if you compile it yourself on Linux, FreeBSD, etc.

It's not yet supported on Windows, though it likely will be in a future release (unsure when).

Which OS are you using?
 Ahhhh, no worries. :smile:

There are two possible downloads for MacOS X.  One with SQLCipher support, and one without it.

Here is the direct link for the one with SQLCipher support, if that helps:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/releases/download/v3.6.0/sqlitebrowser-with_sqlcipher_support-3.6.0.dmg

You can tell which version you have, by going to the menu bar ‚Üí About DB Browser for SQLite.
![issue293-1](https://cloud.githubusercontent.com/assets/406299/7455557/521d066e-f275-11e4-92fe-66438b12de87.png)
Does that help?
 @79144876 Encrypting databases is done in two steps: first creating an unencrypted database and then encrypting it.  After you've created a new database file (or opened an existing one), you can click the File -> Set Encryption menu option (only available in the sqlitebrowser version built with SQLCipher support) to set a password for your database. The old, unencrypted file then gets replaced by an encrypted version. I hope this helps a bit :smiley: Let me know if you have any further questions or problems.
 Awesome Geoff.  Just added an entry for the wiki tracking issue about this too. :grinning: 
 @liufsd Did you ever manage to get this working? :smile:
  Thanks so far, just do me a little favor and replace the empty

```
if(ANTLR2_FOUND)
else()
...
```

with

```
if(NOT ANTLR2_FOUND)
...
```

then I'm happy to merge it
 merged
 Thanks @rp- and @pinotree, that's awesome. :grinning: 
  @Nisto This may be a side effect of our new build process.  Does v3.5.1 work?

We can probably still create a WinXP compatible build using the old cross-compiler process if that's the case. :smile:
 Good idea.  That's probably using the old build process... I didn't think of that... but yeah, give that a shot. :smile:
 Well, the "nightly builds" at the moment are using the very latest source code... so it's already "what will become version 3.7.0".  It sounds like we should create a 3.6.0 release for WinXP using the old process (to keep people on XP happy), and also look into updating our nightly builds to generate things with the new build process as well.  I have no idea when any of that will happen though.

Are you both ok to just use that nightly build for the moment?
 VS2013 has as default the toolset > winxp set and I didn't check that or even think about it.
I may rebuilt the whole thing with the winxp toolset, or have it at least changed for the next release.
 @rp- Cool.  Btw, from email with John Haller (Portable Apps), we can probably bundle the MS dependency legally-ok, then have NSIS check if it's needed and auto-install it.  We'll need to look over the license text for the dependency first, just in case though.
 Initial response from @richardfontana indicates bundling doesn't seem to be allowed by the MSVC2013 runtime license text.  Going to dig a bit deeper though, to see what can be done. :smile:
 @nickdesaulniers has helpfully pointed this out:

&nbsp; &nbsp; https://msdn.microsoft.com/en-us/library/ms235299.aspx

I'm too sleepy atm to grok it, but I'm betting the info is there for us to find. :smile:
 I uploaded new builds (v3) which should work on win xp again
 Have you tried the nightlies?  These use a slightly different build process, and searching through this group, appears to be more XP friendly....

http://nightlies.sqlitebrowser.org/win32/
or
http://sqlitebrowser.oldsch00l.com/
 Ahhh yeah.  We dropped support for Windows XP with our version 3.9.0 release.

Version 3.8.0 will still work though. :smile:
  This is failing in Travis CI btw.  Are you ok to look into it?
 I'm not 100% sure, as I've not personally done anything with Travis before.

Looking at this:

&nbsp; &nbsp; https://travis-ci.org/sqlitebrowser/sqlitebrowser/jobs/60943535

It seems like the errors are more of a build problem than a compiling problem:

```
The command "cd tests/build" exited with 0.
0.04s$ cmake ..
CMake Error: The source directory "/home/travis/build/sqlitebrowser/sqlitebrowser/tests" does not appear to contain CMakeLists.txt.
Specify --help for usage, or press the help button on the CMake GUI.
The command "cmake .." exited with 1.
0.01s$ make
make: *** No targets specified and no makefile found.  Stop.
The command "make" exited with 2.
0.01s$ ./sqlb-unittests
/home/travis/build.sh: line 41: ./sqlb-unittests: No such file or directory
The command "./sqlb-unittests" exited with 127.
0.01s$ cd ../../build
```

I'm not sure of the right approach here, so will defer to the main coders. :wink:
 Hi Pino!
Sorry, I only took a closer look at your commit now, after I've changed the cmake files a bit... Can you maybe rabase them and add the FileDialog.cpp/FileDialog.h files to the src/tests/CMakeLists.txt file, so the tests build again? As soon as that's done I'll merge the commits.
Nice work by the way :smiley: Thanks for the nice commit structure and documentation, too :+1: 
 Awesome! Again, thanks a lot for this PR :smiley: 
  Would you be ok to squash these two commits into a single one?
 Looks good! :+1: Thanks a lot :) 
 @pinotree Awesome.  Thanks for squashing them into one commit too.  It helps keeps the repo history neat. :smile:
  Interesting.  We fixed a unicode bug yesterday that might also solve this problem.  Would you be ok to try the latest nightly build and see if that works? (if so, the download locations are on the front page of this repo) :smile:
 Yes, this should be a duplicate of #282, so the current nightly build (https://github.com/sqlitebrowser/sqlitebrowser#windows) should fix this problem for you :) 
 Cool.  Thanks for letting us know @z-rui. :smile:
  I'm not sure about the first bit, but the 512 ‚Üí 1024 change for SQLCipher sounds like a bug. :wink:
  @rp- @MKleusberg Need reviewers for this.

@schdub What's your opinion on this too, in case Rene or Martin aren't around in the next few days? :smile:
 Guys?
 @justinclift, its good solution imho. My first trying to fix #239 was something like this.
But also need to get rid dead code related to SqliteTableModel::m_vDataTypes
 So, merge this one now, and we can change SqliteTableModel::m_vDataTypes in a new PR?
 I see two problems here:
The minor one is in [EditTable.cpp](https://github.com/sqlitebrowser/sqlitebrowser/pull/286/files#diff-f307c53f8f195837664d83775f85c2a5R135) where the test for the Binary option should be language independent. The easiest way would be to put tr("...") around the 'Binary' string.

The major one is that it breaks the in-place editing in the Browse Data tab. If you don't open the Edit dialog for editing a cell content but just typing in the table view directly the changes aren't saved anymore. This is because in this case the SqliteTableModel::setData(const QModelIndex&, const QVariant&, int role) method is called which [in practice](https://github.com/sqlitebrowser/sqlitebrowser/pull/286/files#diff-1652727a9b5725cb5275a9270349896cR22) is just the parent implementation which does nothing. If there is any solution to this which doesn't require us to overload the setData method that would probably be the most elegant one. If there isn't any, the setData method with three arguments at least needs to be re-implemented to call the one with four.
 Cool. Sounds like you guys are on it. :smile:
 @gimKondo Any interest in finishing this? :smile:
 Thanks @gimKondo. :smile:
 That would be awesome. :smile:
 **_reminder nudge**_ :smiley_cat: 
 Oh, that's excellent.  @rp- @MKleusberg ping! :grin: 
 @gimKondo Hmmm, would you be ok to merge those 3 commits into a single one?  It's better for the git history when PR's are just one commit. :smile:

If you're not sure how to do it, I can give you the exact instructions. :grin: 
 Perfect, thanks. :smile:
 Doesn't look like @rp- or @MKleusberg will have time to look at this in the near future, so I've proactively merged it.

If people could test the nightly builds and let us know if this code adds any problems, that would be great. :grin:
  #278
 @samir-aguiar ping?
 In my opinion we can merge this as it makes a lot of sense in a SQLite environment: with this the behaviour when displaying the content of a cell depends on the actual content and not on the data type which fits well into SQLite's pragmatic handling of data types. The only thing I'm thinking of is that it might be a good idea to improve the binary test made here while being on it. Maybe check for more than the null character but still in an efficient manner?
 @MKleusberg k, so merge this one now, and we can tweak it later?
 Sounds reasonable :) 
  > Eg someone makes there own executable and then find a way to uploads it to the official website

Can you please check the SHASUM of the executables you're seeing this on, with the one in the release notes?  Just to be 100% certain it isn't a compromised one.

If it's not a compromised one... then I guess we can ping the Symantec people to figure out if they can fix their end.
 Depends where the .exe has been downloaded from.  If it's been downloaded from here on GitHub then sure, that's a _really big deal_.  But it's not clear that's definitely the case, thus the wanting to check things. :smile:
 @glawrence Yep, please do.  I think my wording towards Symantec would be very unkind.  Probably not productive. :wink:
 Might as well do it here. :smile:
 @glawrence Yep, please do that.

Oh yeah, good point about the v2 files.  I'll fix that right now.
 Fixed.  It's now pointing at the v3. :smile:
 @glawrence For that ISV upload page, it has an item about:

```
For identity verification, a corporate email address is mandatory. Requests from
free email domains will be denied.
```

If that causes any hassle, we might be able to get @sqlitebrowser.org addresses happening.  Would that be useful?
 Yep, for sure. :smile:
 Cool. :smile:
 Wondering if a "class 3 digital certificate" is something we need to pay them for. (hoping not)  Would you be ok to look into what our options are, and figure out a good way forward?
 @glawrence How's this going? :smile:
 No worries, I'm kind of expecting that by now they would have enough positive reports for the immediate problem to be over.  Figuring out the future solution though would be kinda useful. :smile:
 @justinclift I am sorry but have to confess I never got round to submitting these files to Symantec. I am  not aware of any issues with the 3.7.0 release, so that's good. However as far as code signing goes I have found https://www.certum.eu/certum/cert,offer_en_open_source_cs.xml or rather a colleague pointed me to it. Could you take a look and let me know what you think please.
 Hmmm, looks kind of dodgy really.  Some bits which jump out at me:
- Secured by the SHA1 function   ‚Üê SHA1 is widely regarded as broken, and shouldn't be used in things any more.  (kind of ironic, as git still uses it for core functionality.  No idea if that's being looked at... :wink:)
- Requires sending a copy of ID documentation to a third party in Poland I've not personally heard of before (unizeto.pl).  ‚Üê  Maybe it's just my lack of knowledge in this space, but this is concerning to me.
 I don't believe the SHA1 issue is such a concern for signing, however I agree it is broken for encryption. You have read more than me but I don't think any of us would want to send ID to an unknown 3rd party. I might try and look into that and see. How about we close this issue?
 Sure.  If it happens again for future releases, then we know it wasn't just a once off thing, and we'd better look into it in depth. :smile:
  Fortunately there already is a solution to your problem :smile: You can tick the 'Remove line breaks in schema view' checkbox in the 'Database' tab of the Preferences Dialog. Let us know if this works for you :)    
 @MKleusberg, btw, why this option removes only \n? I think best way to reduce length of Schema column also remove extra spaces and tabs by using QString::simplified()
 @schdub From memory, the "\n" thing is because someone asked us to add it.  Your suggestion might be an improvement on top of it too. :smile:
 Hmmmm, that might be a better way of doing things.  Someone would need to code up the new approach, and then we could do some before/after type screenshots and make a decision.
 I think the main reason why we still have the CREATE TABLE statement in there is that some people use it for copy & paste. I can't find the issue right now but somebody was explicitly asking for that feature... So I think we should leave it in there but this doesn't mean we can't improve the information in the tree structure :smiley: The Schema column is the last one anyways, so it probably isn't too much in anybody's way.
 Good point.  If the need for the CREATE TABLE statement is an edge case though, we could probably make it a right click context menu item.  eg. Right click ‚Üí "Show CREATE TABLE statement", which might free up that widget for being redone... :grinning: 
  Oh interesting.  That does sound like a bug.

Do you have some example text which we can verify with?
 Enable UTF-8 in Scintilla Document ctor by default:
libs/qscintilla/src/Document.cpp, line 94
    -       dbcsCodePage = 0;
    +       dbcsCodePage = SC_CP_UTF8;
works for me.
 Ahhh, good thinking.  Want to submit a Pull Request with that?  If not, I can do it. :smile:
 @justinclift, I don't have much experience with Scintilla, so I think is better to wait answer from @MKleusberg or @rp-.
 Yeah, good point. :grin: 
 Thanks for reporting this :smile: I've just pushed a fix for this issue, so in the next nightly build your problem should be solved.
 @AlbertIslamov Would you have time to try the new nightly build, tomorrow? (if so, download locations are on the front page of our repo)
 Excellent.  Thanks for letting us know @AlbertIslamov. :smile:
  This sounds like a duplicate of https://github.com/sqlitebrowser/sqlitebrowser/issues/276 to me.  Also https://github.com/sqlitebrowser/sqlitebrowser/issues/224.

@AlbertIslamov Do they sound the same to you?
 @AlbertIslamov Would you be ok to test the latest nightly build (tomorrow)?  We've changed the behaviour a bit for this, so feedback would be useful. :smile:
 Going to close this, as we only really need one issue for this to be open (until we figure out a full solution and get it done). :smile:
 This should be fixed in the 3.7.0 release where we've introduced a new option to the Preferences dialog to change this behaviour. This way everybody should be happy :smiley:
![lastlocation](https://cloud.githubusercontent.com/assets/3153504/8273318/9c697f04-1868-11e5-9791-7dce9ff25cfe.png)
  I'm not entirely sure if I understand you correctly but you can set a foreign key, including a On Delete action, in the Edit Table dialog like this:
![foreignkey](https://cloud.githubusercontent.com/assets/3153504/8273293/70984122-1867-11e5-93f7-a671dd7eefff.png)

The foreign key column in the dialog is on the very right of the grid view so you probably have to use the scroll bar to see it (I've resized the other columns for the screenshot). Just type in the foreign key as you need it :smiley: Let me know if I misunderstood you or if there are any other issues.
 Can you give us the layout of the other two tables (Orders and Products)? There doesn't seem to be anything wrong with your foreign keys as far as I can see. I assume your Orders and Products table have a column called order_id or product_id? And you have foreign keys enabled (click the View -> Preferences menu item, then open the Database tab, and check the Foreign Keys checkbox)?
 This is super-weird because on my system it's just working fine :question: 

Can you maybe post all the version numbers shown in the About dialog (menu: Help -> About)? Especially the SQLite version could be interesting.
 Closing this due to lack of response. üò¶ 
  Oh interesting.  I'll setup a Win7 vm after work tomorrow and see if I can figure out what's wrong.

Which method(s) did you try for doing the file association?
 Thanks @hko-gh. I hadn't gotten around to look at this yet after all. :wink:

With that registry key... it doesn't seem to be in CMakeLists.txt, so I'm wondering where in our source it comes from so we can update it.  Can't see it though. :frowning: 
 Sounds like a wiki page with instructions would be useful.  Is anyone up for knocking one together (even very basic)?
 Cool, that looks like a good start. :smile:

Would you be ok to create it in the main wiki, and add a link to it from the main wiki page so people can see it?
 Yeah... I'm just wondering if we can put some kind of info somewhere for people to easily find about this.

Maybe we should update the Release Note info to mention something like "If you're upgrading from the 32-bit to 64-bit release on Windows, you may need to change a registry entry so file association works.  Details [here]." with [here] being a link to the wiki page.

That's the best approach that I'm thinking of atm... anything better spring to mind for you?
 Good thinking.  They're definitely both suitable for a future version.  I'm wondering more about what to do with the current one though, so people know. :smile:
 Good idea.  Let's do that. :smile:
 Yeah, we should add an option for setting file associations for the next release.

Especially considering the 3.9.0 release changed the install path again.

/me completely forgot about potential impact of that on file associations
 Looking into this a bit, it seems like we could add an option to our installer for people to choose whether to "Associate file extensions?" or not.

There's no direct support for doing so in CMake's "CPack" (which controls the NSIS packaging process), but it should be feasible using some of the "extra install" commands.
- https://cmake.org/pipermail/cmake/2009-January/026252.html
- https://cmake.org/cmake/help/latest/module/CPackNSIS.html?highlight=cpack_nsis_extra_install_commands#variable:CPACK_NSIS_EXTRA_INSTALL_COMMANDS
- https://cmake.org/Wiki/CMake:CPackNSISAdvancedTips

Adding "options" to the generated installer might be done through components:
- https://cmake.org/Wiki/CMake:Component_Install_With_CPack

This may turn out to be useful as well:
- https://github.com/toeb/cmakepp#feature-overview
 Good thinking @AdamPS. That does look like a useful source of info on commonly used file extensions. :smile:
 Just tried this on my Windows 10 machine, and some useful 'quick' command line tools. 
So, from an administrative command prompt (not just a command prompt when logged in as a user with admin rights, but right click the 'cmd' shortcut and 'run as admin') type these commands:
`assoc .db=sqlite3Database`
`ftype sqlite3Database="C:\Program Files\DB Browser for SQLite\bin\DB Browser for SQLite.exe"`

Obviously, change your paths / file extensions as required.

![image](https://cloud.githubusercontent.com/assets/7872218/17974778/4e497e76-6adf-11e6-8e30-7195e288e8bd.png)

To add another extension, just repeat the 'assoc' command, but not the ftype...

`assoc .db3=sqlite3Database`
etc.
Obviously, the right click 'Open With...' dialog is also good, but it has its quirks....

![image](https://cloud.githubusercontent.com/assets/7872218/17974912/d45e30a6-6adf-11e6-851c-9666f8495efd.png)

Doh!
 @chrisjlocke Cool, those `assoc` and `ftype` commands look useful. :smile:

With the `3.9.0` release, it installs into ... `\DB Browser for SQLite\3.9.0\` with the `bin` directory + files inside that.  So, the paths will be slightly different than shown.
 Yes, I removed the '3.9.0' from my install, and added the 'change your paths / file extensions as required' to the above instructions!  Just my personal preference, but on my main machine, I don't install into separate directories.

I've used Inno Setup in the past to create Windows installs.  That does optional (ie, via checkboxes) file associations, but a user preference in the program is always welcome... I assume the current setup routine is chosen for a reason, so don't want to break that by suggesting something different...  
 Makes sense.  I'll look into doing it via the installer.  But, probably won't investigate today.

Feeling a bit burnt out from the hectic last few days getting the release ready.  Ironically... I need a holiday. üòÅ 
 Realised something important.  We don't really **need** to use CMake for creating the installer.  The way things are configured now, CMake drives the NSIS packaging program, but doesn't make easy the wide variety of things that NSIS allows.

If we just use NSIS directly, it shouldn't be too hard to make an installer which does what we want, including optional creation of file associations.

Note - This wouldn't be my first time around with NSIS either.  I've used it occasionally on an off over the years (eg creating the first OpenOffice.org .exe installer, the [Libvirt installer for Windows](https://github.com/justinclift/nsis_libvirt_installer), and others).

So... I'll give this a go shortly and see if the result is decent. :smile:
 Other Open Source projects have their NSIS scripts online too, and some of the pieces in them we can probably copy/adapt.  eg from VLC:
- https://github.com/videolan/vlc/blob/master/extras/package/win32/NSIS/vlc.win32.nsi.in#L224-L230
- https://trac.videolan.org/vlc/ticket/4323

This will probably fix #742 on the way through too.
 Aha, this looks like the thing we want:
- https://github.com/videolan/vlc/blob/master/extras/package/win32/NSIS/helpers/extensions.nsh
 @AdamPS That makes good sense.  While looking into "how to set up file associations with NSIS?", several other posts on the topic (for other applications) have mentioned that exact same thing. :smile:

It's probably going to be faster (for now) to add the file extension support into our "Preferences" dialog somewhere.  It would mean they're not set during installation (yet), but instead you can enable them when you want in the running program.

That's the theory anyway. :wink:  More detail than that is probably a bit hard to do right now.  We'll need to write some code to get a better practical understanding of things first. üòÅ 
 Nice info for Windows 10 with assoc and fstype @chrisjlocke any chance you could add this to https://github.com/sqlitebrowser/sqlitebrowser/wiki/Windows-File-Associations please?
 @chrisjlocke (and others): What would the "optimal" directory layout be?
- Maybe having everything (except plugins/platform) in "C:\Program Files\DB Browser for SQLite"? eg:
  - "C:\Program Files\DB Browser for SQLite\DB Browser for SQLite.exe" 
  - "C:\Program Files\DB Browser for SQLite*.dll"
  - "C:\Program Files\DB Browser for SQLite\uninstall.exe"

Asking because I've just now managed to get the installer doing that properly, instead of using a "bin" subdirectory.

(no progress with the shortcuts yet though)
 Note - When implementing this in the Preferences window, it would make sense to have it work well with #659 too.
 For Windows, there is no 'benefit' of having a 'bin' directory - its soley a cosmetic thing.  Does the plugins directory sit in the root, or under the 'bin' directory? (I don't have a 'plugins' on my install...)
If in the 'bin' directory, then there is no benefit of a 'bin' directory.
 Yeah.  I **suspect** the "bin" directory is just a historical accident. (I didn't write the initial CMake stuff)

With CMake, it's `INSTALL` command has a **required** parameter called `DESTINATION`.  That parameter gives a subdirectory name (under "C:\Program Files\DB Browser for SQLite") to install into.  eg: `bin`, `docs` or whatever (it's free form text)
- Leaving out that parameter doesn't work - CMake errors out
- Giving a blank string (eg "") doesn't work - CMake errors out
- The [CMake docs](https://cmake.org/cmake/help/v3.6/command/install.html) seem to very wrong about some important stuff. üò¶   For example, the docs say full paths are used directly (eg "C:\foo") but after experimenting a lot yesterday, that's not the case.

One (probably dodgy) workaround is to use "/" as the destination parameter.  If the docs were correct, it would mean the files were installed in the root directory of the OS.  But the docs aren't correct, so they just get installed into "C:\Program Files\DB Browser for SQLite" instead.  Which is what we want.

Thus the commit yesterday with several changes of "bin" to "/": https://github.com/sqlitebrowser/sqlitebrowser/commit/8a9130883b9e89d57d33b6c3a0ee8ee59ce9957b#diff-af3b638bc2a3e6c650974192a53c7291L337

The plugins directory will be straight under "DB Browser for SQLite" too.  No "bin" needed any more.

The plugins directory is a Qt5 only thing, and will need to have stuff in there giving support for various image file formats. (eg .jpg, etc).  I haven't attacked that particular problem just yet, but will get around to it. :smile:
 @justinclift I just realised that @chrisjlocke makes a good point. By default Windows searches for DLLs in the same directory as the .exe so putting *.exe and *.dll in the same directory is a good thing.
 Good point, it might work out totally fine.  I just haven't investigated the plugins stuff yet, so am not sure. :smile:
  Oh, that doesn't sound good.  @samir-aguiar this sounds like your kind of thing to look at?
 It's definitely after #256.

@igozhenko, —Å–ø–∞—Å–∏–±–æ –∑–∞ –±–∞–≥-—Ä–µ–ø–æ—Ä—Ç.

> Click on BLOB field show nothing

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è json –¥–ª—è —Å—Ç—Ä–æ–∫–∏ doc_id=1, revid=1-39757369ecc4... –Ω–µ —Ä–∞–≤–Ω–æ NULL? –¢–∞–∫ –∂–µ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è json –¥–ª—è —Å—Ç—Ä–æ–∫–∏ doc_id=103, revid=1-4991b88e971f... (–ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –Ω–∞ –ø–µ—Ä–≤–æ–º —Å–∫—Ä–∏–Ω—à–æ—Ç–µ), —Ç–∞–∫ –∂–µ –≤ "Edit database cell" –±—É–¥–µ—Ç –ø—É—Å—Ç–æ? –ï—Å–ª–∏ –ø—É—Å—Ç–æ, —Ç–æ –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ —Å–æ–æ–±—â–∏—Ç–µ –∫–∞–∫ –≤—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –≤ —ç—Ç—É —Ç–∞–±–ª–∏—Ü—É (—á—Ç–æ–±—ã –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É). –£ –º–µ–Ω—è, –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ BLOB-–∑–Ω–∞—á–µ–Ω–∏—è –æ–∫–Ω–æ "Edit database cell" –æ—Å—Ç–∞—ë—Ç—Å—è –ø—É—Å—Ç—ã–º —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—è —Ä–∞–≤–Ω–æ NULL, –æ —á–µ–º —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤—É–µ—Ç –Ω–∞–¥–ø–∏—Å—å "Typ–µ of data currently in cell: Null".

–ü–æ –ø–æ–≤–æ–¥—É —Ç–æ–≥–æ, —á—Ç–æ –≤ 3.6.0 –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞–¥–ø–∏—Å—å BLOB –≤–º–µ—Å—Ç–æ —Ç–µ–∫—Å—Ç–∞ —Å–∞–º–æ–≥–æ BLOB-–∑–Ω–∞—á–µ–Ω–∏—è - —ç—Ç–æ –æ–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω–æ–≥–æ –≤—ã—à–µ —Ñ–∏–∫—Å–∞, –µ—Å–ª–∏ –±—ã —Ç–∏–ø –∫–æ–ª–æ–Ω–∫–∏ –±—ã–ª TEXT, —Ç–æ –≤—Å–µ –±—ã –æ—Ç–æ–±—Ä–∞–∂–∞–ª–æ—Å—å –≤–µ—Ä–Ω–æ. 
 Somebody trying to fix this issue?
If not, #285 returns display blob text fields as in version 3.5.1
 @igozhenko, we've added the code that was supposed to solve the problem with displaying of text BLOB. Could you test tomorrow build?
 @igozhenko, changes will apply in tomorrow build.
Nightly builds (uncompress them with 7-Zip) are available at:
http://rp.oldsch00l.com/sqlitebrowser/
 Awesome. :grinning:

Thanks for testing this and letting us know @igozhenko. :smile:
  Yeah, you need to install the (free) Microsoft Visual C++ Redistributable Packages for Visual Studio 2013, available here:

&nbsp; &nbsp; https://www.microsoft.com/en-us/download/details.aspx?id=40784

It's pretty easy.  And yeah, if we can figure out how to bundle this dependency with future releases, that'd be better. :wink:
  Yeah, there seem to be two main ways of thinking about this.  One is that the "last opened folder" should be opened... and the other is that the folder defined in Preferences should always be used.

At the moment, it always opens the folder defined in Preferences.  We get asked often enough though, that we should probably make this behaviour changeable (so you can choose which approach to use).
 Aha, found one of the previous Issues about this: https://github.com/sqlitebrowser/sqlitebrowser/issues/224
 Decent thoughts.  I kind of remember we've had some discussion about it in our early issues as well, which is probably worth digging through to make a proper proposal with (which covers all bases).

I'm kinda busy on some other stuff (not related to DB4S) for the next 2-3 weeks, so I have no idea if I'll get to look at it before then. You're definitely welcome to if you want. :smile:
 I think the approach suggested by @glawrence should make everybody happy. So I've just pushed an implementation of this which should work for all file dialogs. The default settings is now set to the 'same as last but default for new session' option which seems to be the best compromise for new users and those upgrading to a new version.
 @xjpmauricio Would you be ok to test the latest nightly build too (tomorrow), and let us know if it's working better for you with the new approach? :smile:
 This should be fixed in the 3.7.0 release where we've introduced a new option to the Preferences dialog to change this behaviour. This way everybody should be happy :smiley:
![lastlocation](https://cloud.githubusercontent.com/assets/3153504/8273318/9c697f04-1868-11e5-9791-7dce9ff25cfe.png)
If there are no objections I think we can close these issue soon.
 @xjpmauricio Any interest in try our latest release, and letting us know if the new behaviour is better for you? :smile:
 Great, thanks @xjpmauricio for testing and letting us know
  1. what version are you talking about?
2. what "edit table" do you exactly mean?
 @AnthonyUccello Have you tried our newest release? It has a lot of updates in it, including some foreign key stuff.

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/releases/tag/v3.6.0

If you've already tried that though, no worries. :smile:
  our installer doesn't set any file associations
  I have the NSIS icon on both installers
 Cool.  This sounds like it would work:

&nbsp; &nbsp; https://stackoverflow.com/questions/7431039/how-to-replace-the-default-logo-in-nsis-installer
 @cnromaine Would you have time to check the icons on the [3.9.0-beta1 release](https://github.com/sqlitebrowser/sqlitebrowser/releases/tag/v3.9.0-beta1), from your point of view?

In theory they should be ok, but verifying doesn't hurt. :smile:
 Thanks @cnromaine. :smile:
 For me, when I checked here they're both using the same icon.  That was on Win 7 x64.

@cnromaine We're just about to release 3.9.0, so I'll close this.  If it turns out that the icons for 3.9.0 are different for you, feel free to reopen this and we can look back into it for the next release. :smile:
  Thanks @ticktock12.  This one's already reported [here](https://github.com/sqlitebrowser/sqlitebrowser/issues/269).

Sounds like we're better pulling the windows binaries for now, until we figure out what's wrong. :frowning: 
 Done it, pulled them.  Hope we get this fixed soon. :wink:
 @ticktock12 New downloads for windows are available now:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/releases/tag/v3.6.0

Sorry for the initial hassle. :frowning:
  Ahhh, interesting.  Thanks for pointing this out.

I'd missed updating our master branch to 3.6.99 (not 3.6.0).  It's 3.6.99 to indicate "the development version of 3.6.x".  Want to update your commit with that, and then I'll merge it?
 Thank you @mcprentiss, it's all good.  Every bit helps. :grin: 
  Gah, that's not good.

@cnromaine Thanks for pointing this out.  We could be releasing 3.6.1 tomorrow or so. :wink:

@rp- Any ideas?
 Some Google turns up these:
- http://falsinsoft.blogspot.ch/2013/09/qt-5-and-failed-to-load-platform-plugin.html
- https://forum.qt.io/topic/40656/solved-qt-this-application-failed-to-start-because-it-could-not-find-or-load-the-qt-platform-plugin-windows/18
- http://doc.qt.io/qt-5/windows-deployment.html
 Also received email about this same issue, so it's not limited to @cnromaine. :frowning:
 I've just pulled the windows binaries, updated the website about it, and reverted currentrelease (which the update checker relies on) to 3.5.1.

Hopefully we get this solved in a day or two, so we can put up good v3.6.0 binaries for Windows. :wink:
 There seems to be dll's missing in the installer.
I didn't have this problem, I guess because I hade the qt development libs installed on my system.
Will fix it today.
 @cnromaine Yeah, this is our first Windows release using a new build process (to enable 64 bit Windows builds).  Looks like there are a few kinks to still be worked out. :wink:
 I added new windows installers with the missing .dll, please someone else also test them.

Also keep in mind that your system needs to have the MSVC2013 .dll installed.
You get a MSVC120.dll missing error on start if thats the case, the installer for them can be downloaded here:
https://www.microsoft.com/en-us/download/details.aspx?id=40784
 I have a Win8.1 VM I can test.  Trying stuff out now.
 @rp- Cool, the new ones work. :smile:

The MSVCP120.dll error message did happen too, and the download at the link you gave fixed that.

I'll update the release page with the new dependency info, new shasums, and update currentrelease.
 Oh... should I hold off until new icons?  @rp- Is it possible to get our proper icon into that?
 Yeah, my VM is close to a fresh install of Win 8.1.
 k, updated things so now 3.6.0v2 is live. :wink:

Thanks for your assistance with this @cnromaine, it's helping a lot. :grinning: 
 Yeah, that's really weird. :frowning:
  Interesting.  This does kind of sound bug-ish, as we're trying to keep pretty close to the behaviour of SQLite3.
 Well... displaying the data type that's going to be used for any particular column probably isn't going to work.  SQLite 3 doesn't really seem to enforce data types the same way that other databases do.

So, even if someone has (say) a column marked as REAL, if someone decides to try and insert "FOOBAR! WAS! HERE!" (a string) into a field in it... SQLite3 will accept that string and store it fine (as a string).  It will "just work".  In some ways this could be considered a good thing, in some ways it could be considered a bad thing.  Very much "depends how you look at it". :wink:

Further info, in case it's helpful: https://www.sqlite.org/datatype3.html
  As a thought, which OS are you using, and which version of DB4S and the SpatiaLite extension?  (not sure if it makes a difference, but it's helpful to know)
 Hmmm yeah, I'm not sure either.  @MKleusberg or @rp- may know more... :smile:
 Hmmm, as a thought, is the extension a .dll file?  If so, copying it into the same directory as the sqlitebrowser.exe file might let it be found.

No guarantees, but it's worth a shot. :smile:
 Thanks @jimothyr.  It sounds like we should investigate this properly after the 3.9.0 release (which is due any day now).
 @zhm That's pretty awesome. :smile:

Any interest in cutting-n-pasting that into a wiki page, for better visibility of the info?  It's seems like pretty arcane knowledge that others would definitely benefit from. Fantastic!  Added a link on the front page of the wiki pointing at it, so it should be much easier for people to find now.  Thank you heaps Zac. :smile:  Which operating system are you using? :smile:

If you are using MacOS X, this is a known problem. :anguished:

We did have filters, but they don't work with Qt on OSX (a Qt bug).  So we made it do *.* instead. :frowning:

If you're not using OSX though.. this is a new bug and we should investigate it. :smile:
 That'll need fixing then. :smile:
 k, what do you want/need me to test? (kind of hard to tell atm) :wink:
 @samir-aguiar Thanks Samir.  Just tried it here on OSX 10.9.5... and no change.  Still busted here for older OSX releases. :frowning:

Maybe change the conditional to allow filters on OSX 10.10 and above?
  Query from Twitter:

&nbsp; &nbsp; https://twitter.com/niall111/status/589078702132166656

> Tried app [with cipher support here](https://github.com/sqlitebrowser/sqlitebrowser/releases/download/v3.5.1/sqlitebrowser-with_sqlcipher_support-3.5.1.dmg) ‚Ä¶ but we use a pragma key and want to browse DB with it, possible?

and:

&nbsp; &nbsp; https://twitter.com/niall111/status/589119373006213120

> We use a pre-generated hex pragma key to encrypt the DB in Unity, and want to be able to view it without requiring Unity.

Any ideas?  @MKleusberg ? :smile:
 It would be good to have, but we're low on developer time at the moment.  If you have the skill to get it working, your assistance would be welcome. :smile:
 From what I understand this is an issue with the key formats we support. SQLCipher allows text key (like 'my passphrase') as well as raw keys (like '0xabcdef0123456789'). Since we only support the text key format all databases encrypted using the raw key format can't be opened. At least that's how I understand the issue, and either way: this definitely needs to be fixed :smiley:

I've just added some code for this, so the next nightly build will have support for the raw key format. So please give that new version a test :smiley: Chances are that it's working when changing the format to 'Raw key' in the cipher dialog and then enter the key in the '0x...' format.

However, I can't guarantee that it's working for databases created with that Unity plugin because I couldn't find much information about the encryption used in that plugin. If they don't rely on SQLCipher internally my fix won't work. But as I said, it's definitely worth a try! I've just emailed the contact point (orangetree@) for the Unity plugin developers, pointing them at this issue + asking if they're using SQLCipher for the encryption layer.

Hopefully we get a response back, and they use SQLCipher.  If they do, this might all be workable. :wink: Hmmm, looking at discussions about that Unity plugin... it seems like it's not actively developed any more. üò¶  Oh :frowning: But well, the hex input is definitely an improvement in DB4S anyway :wink: Good point. :smile:

In the meantime I've added the `response requested` label, so we come back to this issue in a few days time if I don't get a response to the email first.  As mentioned in #206 by @sergbus:

> Another useful thing might be to not close "Execute SQL" tabs when closing connection to the
> database. I often have a need to execute same ad-hoc query against couple databases and lose
> the query when closing one database and opening another. Maybe disabling the "Execute" button
> is enough?
  Thanks, that definitely sounds like a bug. :wink:
 Haha nice find :+1: Thanks for reporting!
This should be fixed in the next nightly build.
 @EArmour Would you be ok to try out the next nightly build (tomorrow), and let us know if it's working like it should now? :smile: 
 Awesome!  Thanks for letting us know @EArmour. :grin:
  This adds the QScintilla library to our project. I've changed the SqlTextEdit class to use the QScintilla editor instead of depending on a plain Qt widget and trying to improve it for code editing. This should build  fine on Qt4 and Qt5 using either cmake or qmake - so everybody should have the chance to test this (and give feedback) :)

Most of the time the new code behaves just like the old one but a few things changed. Right now these features are missing:
- No separate syntax highlighting colours for functions and tables
- No auto completion for table fields

These features are new:
- Better auto completion for keywords, functions and tables (icons, help texts, ...)
- Shift+Tab works as expected
- Brace matching
- Auto indentation

The main thing however is that this saves us from adding more and more code for all sorts of things (search & replace, error highlighting, ...) which has already been written by other people.
 As mentioned in #258 I don't see any license issues and especially none which we wouldn't have had anyway because of the plotting library...
 Squash them into one commit? :smile:
 Yep, but because I'm still working on it I feel like it's better to wait because this way I can always go back to e.g. yesterday's version if something breaks. As soon as I'm happy with the changes I can out them into one commit :wink: 
 Ahh yeah, makes sense.  Didn't think of that. :grinning: 
 "... because of the plotting library."

Uh oh... ?
 @justinclift 
See https://github.com/sqlitebrowser/sqlitebrowser/blob/master/libs/qcustomplot-source/GPL.txt or http://www.qcustomplot.com/ for example - they are using the GPL as well. But as I said: it's an external library which we can always link dynamically if it _should_ be required. Then it's like we're not touching it at all; if that was a problem the Apple Store would probably be empty :wink: 
 k, no worries then. :smile:
 Just did a bit of additional code cleanup, rebased the entire branch to the current master and fixed syntax highlighting in the Edit Table dialog -> Progress :) 
 Is it easy to strip the unused qscintilla sources? I guess we could spare all the python stuff. I see you already removed the qt3 support.
 Yes, I've removed Qt3 code, documentation, examples, and the Qt Creator plugin. Now I've also removed the Python stuff (which wasn't used anywhere), the API definitions for Python code (not used anywhere), and all the lexers except for the SQL one. Removing the lexers required a bit more work, making it necessary to edit both build files as well as the libs/qscintilla/src/Catalogue.cpp file. But man, this saves us a lot of code in the repository! Thanks for drawing my attention to this :) 
 After removing the QScintilla files we don't need I merged all the commit so far into one to make the diff of this entire pull request much smaller.

Since then I've done a bit of restructuring in the code to make it easier to understand and compile faster. Then I've added the own syntax highlighting styles for SQLite function names and table names from the database and finally I've restored the auto completion feature for column names. It's so much simpler with QScintilla than it used to be with our original code :smile: 

So I think everything in this branch is working more or less as before now. So I think it's ready for testing now! If there are no remaining major bugs (like no building on some platforms, etc.) I would suggest merging this in a couple of days to avoid a lot of rabasing and have it tested by more people than when doing separate builds.
 Compile fails on OSX:

```
clang++ -headerpad_max_install_names -stdlib=libc++ -mmacosx-version-min=10.7 -arch x86_64 -o sqlitebrowser.app/Contents/MacOS/sqlitebrowser release/main.o release/sqlitedb.o release/MainWindow.o release/CreateIndexDialog.o release/EditTableDialog.o release/PreferencesDialog.o release/AboutDialog.o release/EditDialog.o release/ExportCsvDialog.o release/ImportCsvDialog.o release/sqltextedit.o release/sqlitetypes.o release/csvparser.o release/ExtendedTableWidget.o release/Sqlite3Lexer.o release/Sqlite3Parser.o release/sqlitetablemodel.o release/FilterTableHeader.o release/SqlExecutionArea.o release/VacuumDialog.o release/DbStructureModel.o release/Application.o release/CipherDialog.o release/ExportSqlDialog.o release/SqlUiLexer.o release/moc_sqlitedb.o release/moc_MainWindow.o release/moc_CreateIndexDialog.o release/moc_AboutDialog.o release/moc_EditTableDialog.o release/moc_PreferencesDialog.o release/moc_EditDialog.o release/moc_ExportCsvDialog.o release/moc_ImportCsvDialog.o release/moc_sqltextedit.o release/moc_ExtendedTableWidget.o release/moc_sqlitetablemodel.o release/moc_FilterTableHeader.o release/moc_SqlExecutionArea.o release/moc_VacuumDialog.o release/moc_DbStructureModel.o release/moc_Application.o release/moc_CipherDialog.o release/moc_ExportSqlDialog.o release/moc_SqlUiLexer.o release/qrc_icons.o release/qrc_flags.o   -F/usr/local/Cellar/qt/4.8.6/lib -L/usr/local/Cellar/qt/4.8.6/lib -lsqlite3 -ldl -L/usr/local/lib -L/usr/local/opt/sqlite/lib -framework Carbon -L/Users/jc/git_repos/sqlitebrowser/src/../libs/qhexedit -L/Users/jc/git_repos/sqlitebrowser/src/../libs/antlr-2.7.7 -L/Users/jc/git_repos/sqlitebrowser/src/../libs/qcustomplot-source -L/Users/jc/git_repos/sqlitebrowser/src/../libs/qscintilla/Qt4Qt5 -lantlr -lqhexedit -lqcustomplot -lqscintilla2 -framework QtGui -L/usr/local/Cellar/qt/4.8.6/lib -F/usr/local/Cellar/qt/4.8.6/lib -framework QtCore -framework QtNetwork 
/usr/local/Cellar/qt/4.8.6/bin/moc -DSCINTILLA_QT -DSCI_LEXER -DQT_NO_DEBUG -DQT_GUI_LIB -DQT_CORE_LIB -DQT_SHARED -I/usr/local/Cellar/qt/4.8.6/mkspecs/unsupported/macx-clang-libc++ -I. -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/include -I. -I../include -I../lexlib -I../src -Irelease -F/usr/local/Cellar/qt/4.8.6/lib -D__APPLE__ -D__GNUC__ Qsci/qscilexer.h -o release/moc_qscilexer.cpp
/usr/local/Cellar/qt/4.8.6/bin/moc -DSCINTILLA_QT -DSCI_LEXER -DQT_NO_DEBUG -DQT_GUI_LIB -DQT_CORE_LIB -DQT_SHARED -I/usr/local/Cellar/qt/4.8.6/mkspecs/unsupported/macx-clang-libc++ -I. -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/include -I. -I../include -I../lexlib -I../src -Irelease -F/usr/local/Cellar/qt/4.8.6/lib -D__APPLE__ -D__GNUC__ Qsci/qscilexersql.h -o release/moc_qscilexersql.cpp
ld: library not found for -lqscintilla2
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[2]: *** [sqlitebrowser.app/Contents/MacOS/sqlitebrowser] Error 1
make[1]: *** [release] Error 2
make: *** [sub-src-make_default] Error 2
make: *** Waiting for unfinished jobs....
```
 Weird, the snippet you pasted really looks odd to me because in the first line it looks like it's trying to link it all together to an application but in the two following lines it looks like it's still compiling the QScintilla library. The error message which must be thrown by the first line says that the library can't be found (yet). Not sure why it doesn't wait for it to be built... Can you maybe try again and post the entire log?
 Will do.  I was using -j9, which is probably responsible for the weird log.  Gimme a few minutes though, as I'm doing something else atm. :wink:
 Just did a git pull from this branch and it compiled without error this time. ***whew**\* :wink:

Trying this new QtScintilla thing out, it seems pretty nice.  The tab and shift-tab thing are working, and better code completion already:

![qtscin1](https://cloud.githubusercontent.com/assets/406299/7206893/89c06f8e-e52d-11e4-868e-a51df56bae8e.png)
![qtscin2](https://cloud.githubusercontent.com/assets/406299/7206906/8f850506-e52d-11e4-8643-317814bbce29.png)
 Note - I'm going to adjust the expected date for the next release to be one week from now instead of this weekend.

I definitely don't have time to do stuff for a release this weekend.  Need to get an upgrade done for Gluster + Jenkins, now that Google is shutting off their OpenID 2.0 support. :frowning: 
 Cool! Glad to hear it's finally working :)
As far as I see this branch has all the features of master in it now, plus adding a few new ones like these:
- Try typing 'substr(' (or any other function name) and it should show you a short explanation of the parameters and the function's purpose
  ![help](https://cloud.githubusercontent.com/assets/3153504/7207143/96f66f6e-e537-11e4-8e0b-24bc72126883.png)
- Code folding to allow folding of multi-line statements
  ![code_folding](https://cloud.githubusercontent.com/assets/3153504/7207150/9d2bb68c-e537-11e4-8bb8-acfab7cc672d.png)
- Errors in the Execute SQL tabs are highlighted (sometimes because SQLite won't recognise completely invalid statements)
  ![error_highlighting](https://cloud.githubusercontent.com/assets/3153504/7207154/a35368fc-e537-11e4-9b18-951c0a93e87e.png)
 Regex?
 Do changes in the font selector in the Preferences dialog correctly update stuff in the new widget?

I tested quickly and it didn't seem like it. :wink:
 ![qtscin3](https://cloud.githubusercontent.com/assets/406299/7207384/f4f895b2-e530-11e4-9c9d-682d4c83e6be.png)
 works pretty good, I just have 2 small issues.
1. Could we bring the auto completion popup only after 3? entered characters?
2. It seems the sqlite datatypes are missing in the autocompletion list, maybe were already missing before. 
 The changes in the preferences dialog only affected the editor after restarting the application... This is fixed now, so you get an immediate effect! Thanks for reminding me of that :) The small arrow indeed indicates a drop down menu but you have to hold your mouse button down for some time to have it opened. A single click performs the default operation (Save As when not saved yet, and Save when already saved).

As @rp- suggested I've also changed the auto completion to start only after three characters and include some SQLite datatypes.
 Does regex still work? (as per https://github.com/sqlitebrowser/sqlitebrowser/issues/215)

I'm trying to think of how to test it myself, but my brain is not clicking for it (focused on other stuff atm :wink:).
 what does REGEXP have todo with this?
 Gah yeah... you're right.  It's been a long day. :wink:
 Yes, this is a frontend-only change (or at least it should be), things like the regular expressions are not affected. So this means we should test the following:
- Does it build well? (an entire library has been added...)
- Typing, scrolling, Tab, etc. (i.e. basic text editor features)
- Syntax highlighting
- Auto completion (keywords, functions, tables, columns)
- Other code editing features (brace matching, help texts, code folding...) [these are mostly new, so there's no comparison to the master branch possible here]
- Accessing the contents correctly (the execute current line button and the execute selected SQL only feature!!)
- Settings (colours, fonts, ...)
- All this should work for all SQL editor widgets in the application. Besides the Execute SQL tabs, these are the SQL log views and the SQL preview in the Create/Edit Table dialog.
 Just reorganised the pull request: The actual transition to the new widget is done in one commit now (the first one) while the other commits add new features or make improvements, so they can be viewed separately. I've also updated the QScintilla source code to the newly released version 2.9.

As I haven't heard of any objections I'll merge this now and see what happens :)
 Excellent.  Lets get some people to test this. :smile:
 Hmmmm, just noticed an interesting behaviour with this.  When compiling this on OSX single threaded (eg "make") it's compiling fine.  But when compiling multi-threaded (eg "make -j9") it's sometimes barfing:

```
[sqlitebrowser (master)]$ qmake
[sqlitebrowser (master)]$ make -j9
[...]
clang++ -c -pipe -stdlib=libc++ -mmacosx-version-min=10.7 -O2 -arch x86_64 -fPIC -w -DSCINTILLA_QT -DSCI_LEXER -DQT_NO_DEBUG -DQT_GUI_LIB -DQT_CORE_LIB -DQT_SHARED -I/usr/local/Cellar/qt/4.8.6/mkspecs/unsupported/macx-clang-libc++ -I. -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/include -I. -I../include -I../lexlib -I../src -Irelease -F/usr/local/Cellar/qt/4.8.6/lib -o release/moc_SciClasses.o release/moc_SciClasses.cpp
clang++ -c -pipe -stdlib=libc++ -mmacosx-version-min=10.7 -O2 -arch x86_64 -fPIC -w -DSCINTILLA_QT -DSCI_LEXER -DQT_NO_DEBUG -DQT_GUI_LIB -DQT_CORE_LIB -DQT_SHARED -I/usr/local/Cellar/qt/4.8.6/mkspecs/unsupported/macx-clang-libc++ -I. -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/include -I. -I../include -I../lexlib -I../src -Irelease -F/usr/local/Cellar/qt/4.8.6/lib -o release/moc_ScintillaQt.o release/moc_ScintillaQt.cpp
clang++ -headerpad_max_install_names -stdlib=libc++ -mmacosx-version-min=10.7 -arch x86_64 -o sqlitebrowser.app/Contents/MacOS/sqlitebrowser release/main.o release/sqlitedb.o release/MainWindow.o release/CreateIndexDialog.o release/EditTableDialog.o release/PreferencesDialog.o release/AboutDialog.o release/EditDialog.o release/ExportCsvDialog.o release/ImportCsvDialog.o release/sqltextedit.o release/sqlitetypes.o release/csvparser.o release/ExtendedTableWidget.o release/Sqlite3Lexer.o release/Sqlite3Parser.o release/sqlitetablemodel.o release/FilterTableHeader.o release/SqlExecutionArea.o release/VacuumDialog.o release/DbStructureModel.o release/Application.o release/CipherDialog.o release/ExportSqlDialog.o release/SqlUiLexer.o release/moc_sqlitedb.o release/moc_MainWindow.o release/moc_CreateIndexDialog.o release/moc_AboutDialog.o release/moc_EditTableDialog.o release/moc_PreferencesDialog.o release/moc_EditDialog.o release/moc_ExportCsvDialog.o release/moc_ImportCsvDialog.o release/moc_sqltextedit.o release/moc_ExtendedTableWidget.o release/moc_sqlitetablemodel.o release/moc_FilterTableHeader.o release/moc_SqlExecutionArea.o release/moc_VacuumDialog.o release/moc_DbStructureModel.o release/moc_Application.o release/moc_CipherDialog.o release/moc_ExportSqlDialog.o release/moc_SqlUiLexer.o release/qrc_icons.o release/qrc_flags.o   -F/usr/local/Cellar/qt/4.8.6/lib -L/usr/local/Cellar/qt/4.8.6/lib -lsqlite3 -ldl -L/usr/local/lib -L/usr/local/opt/sqlite/lib -framework Carbon -L/Users/jc/git_repos/sqlitebrowser/src/../libs/qhexedit -L/Users/jc/git_repos/sqlitebrowser/src/../libs/antlr-2.7.7 -L/Users/jc/git_repos/sqlitebrowser/src/../libs/qcustomplot-source -L/Users/jc/git_repos/sqlitebrowser/src/../libs/qscintilla/Qt4Qt5 -lantlr -lqhexedit -lqcustomplot -lqscintilla2 -framework QtGui -L/usr/local/Cellar/qt/4.8.6/lib -F/usr/local/Cellar/qt/4.8.6/lib -framework QtCore -framework QtNetwork 
ld: library not found for -lqscintilla2
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[2]: *** [sqlitebrowser.app/Contents/MacOS/sqlitebrowser] Error 1
make[1]: *** [release] Error 2
make: *** [sub-src-make_default] Error 2
make: *** Waiting for unfinished jobs....
rm -f libqscintilla2.a
ar cq libqscintilla2.a release/qsciscintilla.o release/qsciscintillabase.o release/qsciabstractapis.o release/qsciapis.o release/qscicommand.o release/qscicommandset.o release/qscidocument.o release/qscilexer.o release/qscilexersql.o release/qscimacro.o release/qsciprinter.o release/qscistyle.o release/qscistyledtext.o release/MacPasteboardMime.o release/InputMethod.o release/SciClasses.o release/ListBoxQt.o release/PlatQt.o release/ScintillaQt.o release/LexSQL.o release/Accessor.o release/CharacterCategory.o release/CharacterSet.o release/LexerBase.o release/LexerModule.o release/LexerNoExceptions.o release/LexerSimple.o release/PropSetSimple.o release/StyleContext.o release/WordList.o release/AutoComplete.o release/CallTip.o release/CaseConvert.o release/CaseFolder.o release/Catalogue.o release/CellBuffer.o release/CharClassify.o release/ContractionState.o release/Decoration.o release/Document.o release/Editor.o release/EditModel.o release/EditView.o release/ExternalLexer.o release/Indicator.o release/KeyMap.o release/LineMarker.o release/MarginView.o release/PerLine.o release/PositionCache.o release/RESearch.o release/RunStyles.o release/ScintillaBase.o release/Selection.o release/Style.o release/UniConversion.o release/ViewStyle.o release/XPM.o release/moc_qsciscintilla.o release/moc_qsciscintillabase.o release/moc_qsciabstractapis.o release/moc_qsciapis.o release/moc_qscilexer.o release/moc_qscilexersql.o release/moc_qscimacro.o release/moc_SciClasses.o release/moc_ScintillaQt.o
ranlib -s libqscintilla2.a
[sqlitebrowser (master)]$
```

Any ideas what could cause that?
 On my system -j9 seems to reliably trigger the failure.  -j5 and -j7 don't.  Weird.
  Hmmmm, in theory (!) if the first command line argument you pass is a database file name... it should open it.  Isn't that what Automator should be doing?
 Yeah, I'm not sure how to change that.  Sounds like we need someone with good Automator understanding to look into it (might be possible).  If it means we need to change something in our OSX builds, we can definitely consider it. :smile:
 Good stuff. Although I wonder why it's needed for you (on my OSX 10.9 system it "just works") it's good that your workaround does the job. :smile:
  Interesting idea.  It should not be too hard to add this. :smile:
 @rp- Any idea if creating a zip from the contents of an installed version will work ok? (I can prob try it tomorrow, I just need sleep atm)
 yes should work
 Cool, I'll make .zip files tonight for the windows binaries.
 @jonorozcoc Would you be willing to create the .zip files instead?
 Is it small enough to email?  If so, try emailing it to me at justin@postgresql.org.  I'll try it out. :smile:

Oh, we should not include VC2013 yet.  We need to understand the license terms for that bit first. :wink:
  Yep, this sounds useful. :smile:
 @schdub wrote code to make this happen, and it's merged into our main code base a few minutes ago. :smile:

In my quick testing here, it seems to work well. :grin: 

@JC3 Would you be ok to try it out and confirm it's working the way you want?

I'm not sure which OS you're using, but if it's Windows or MacOS then tomorrow's "nightly build" will include it.  (download locations for our nightly builds are on the front page of our repo)
 @JC3 Do you have time to try our latest nightly build? We've [updated the code](https://github.com/sqlitebrowser/sqlitebrowser/pull/260) we use for the Execute SQL tab, and it now supports Tab for multi-line indent (plus more).
 This is definitely fixed now in the new 3.6.0 release. :smile:
  Yeah, I'm not sure how to solve this.  A dodgy workaround :wink: is to have "end transaction;" before your statement.  This closes our implicit transaction, then executes the statement after.

[Example here](https://github.com/sqlitebrowser/sqlitebrowser/issues/234#issuecomment-84955263), if that helps.
 > Adding "END TRANSACTION" can have catastrophic consequences if my main app is running at the same time which sadly is how I found this problem in the first place.

How is that possible? different database connections cannot interfere each other?

But option1 with sqlite3_stmt_readonly sounds reasonable.
 @lridgard Any interest in submitting a pull request with the change? :smile:
 Oh wow.  Yeah, all of that sounds good. :grin:

With the situation you mention of the main app complaining... I suspect it might be something to do with the way SQLite locks tables to do writes.  It's been ages since I looked at the fine details though, so that's a rough guess thing. :wink:
 Hmmmm... a thought just occurred...

How about in the "Execute SQL" window, we have a line with a checkbox somewhere like:

&nbsp; &nbsp; [‚úì] Run inside transaction

We leave it on by default, but that would let people turn it off as needed.

?
 @lridgard I already did the msvc stuff in https://github.com/sqlitebrowser/sqlitebrowser/commit/8cbc13a106a680e7e1ce97e2e49bb85eb80e9d8f so if you have the dependencies and the paths correctly set in cmake it should work.
  Yeah, this makes sense. :smile:
 well, there is a difference between NULL and empty string, that's why there is a clear button.
maybe a key like shift-(delete, backspace) make it faster to edit such columns
 For me, on OSX, the delete and backspace keys don't do anything at present.  Are they supposed to already be the equivalent of making a null string? (just checking)

It does sound reasonable to have something like delete / backspace be the "make an empty string" keystroke, with shift-delete / shift-backspace being the "make a NULL" key combination.
 Can we close this now that for issue #443 we've implemented the Delete and Alt+Delete shortcuts?
 Good point, lets do that. :smile:
  A bug report is fine. :smile:

I had a similar question not long ago too... and it turns out there's a bug in the current release which makes it hard.

First you'll probably want to grab the latest nightly build (has the bug fixed).

Then, to set a null value you edit the cell in question, then "clear" the field (there's a button).
![01](https://cloud.githubusercontent.com/assets/406299/7099960/2687dc24-dffe-11e4-93f9-140f38a0282c.png)
![02](https://cloud.githubusercontent.com/assets/406299/7099961/2a471500-dffe-11e4-99aa-12a900420861.png)

The result should be a NULL field:
![screen shot 2015-04-11 at 03 51 48](https://cloud.githubusercontent.com/assets/406299/7099963/2f26fce8-dffe-11e4-887a-fb237d8552ca.png)

Let me know if that doesn't work for you? :smile:
 Hmmm, it's similar to that, so it might be the same thing.

Would you be ok to try the latest nightly build and see if it still happens wrongly there?
 Awesome.  Thanks for trying it out to be sure. :grin: 
  ADD:
- export SQL options dialog (referenced in issue #242);
- option: Keep column names in INSERT INTO (false by default, store in settings);
- option: New INSERT INTO SQLite 3.7.11 syntax (false by default, store in settings);
- select table(s) to export.

FIX:
- Export sql doesn't name insert columns #242.
 @schdub This is failing on the Travis test.  Are you ok to investigate? :smile:

Also, with this Pull Request, would you be ok to squash all of those several commits into one?
 Ok. I'm newbie on github: sorry about this.
 It's no problem at all.  We all started out doing this same thing too. :wink:
 The error info is here, if that helps: :smile:

&nbsp; &nbsp; https://travis-ci.org/sqlitebrowser/sqlitebrowser/jobs/58024669
 @glawrence Awesome. :grimacing: 

Just scanned over it, and adjusted the wording slightly for (I think) slightly better readability.  Does it still sound ok to you now? :smile:
 Yep, fully agreed.  Btw, on that note, is [this](https://github.com/nickdesaulniers/What-Open-Source-Means-To-Me/issues/20) your kind of thing? :smile:
 @glawrence and @justinclift thank you guys for help.
 @schdub To me, this code seems well structured, and has a reasonable amount of comments.  I haven't yet compiled the code to try it out (I will tonight), but it seems ok.

The hard coded strings in English I'm unsure about though.  It would be good if we can make them translated strings instead.
 @justinclift not sure I complete understend your point about hardcoded english strings. See file ExprortCsvDialog.ui for example, there are also present "hardcoded" strings like:
<string>&amp;Column names in first line</string>
<string>Field &amp;separator</string>
and other.

Its standard practique in Qt to write in .ui files text in English.
To add translation for new strings we need to regenerate *.ts files
for every translations. Stardart Qt-way to it - is lupdate command,
but your project build by CMake:
http://stackoverflow.com/questions/24095800/qt-internationalization-and-cmake-how-to-update-ts-and-dont-lose-them
in Qt Linguist open updated .ts files and add translations for new
added strings.
Next we need to regenerate .qm (lrelease). Not sure how it's works
on Travis.

Internationalization with Qt:
http://doc.qt.io/qt-4.8/internationalization.html

PS: sorry for my bad English.
 You are correct about the hardcoded strings in the other files.  I didn't know about them before this, so this was a new thing for me. :smile:  (I am not a coder :wink:)

I'm looking through the links you gave, to better understand this.
 @rp- Do you have a few minutes to look over the code for this PR?  To my non-C++ mind it looks ok. :smile:
 @schdub I've just tried this code out... and I really like this.  It even has a progress bar. :grinning: 

@rp- I'm inclined to merge this, as long as it looks ok to you, @MKleusberg, or @samir-aguiar.
 Hmmm, I'm just going to merge it.  We can fix any issues with it up later. :smile:
 This is very welcome @schdub. :smile:
 Btw, I fixed the "Multiply" ‚Üí "Multiple" typo here: https://github.com/sqlitebrowser/sqlitebrowser/commit/8a9380ef41b496a51822b54d6ec7d9fb29854dab

Seems to work still. :grinning: 
  celloman, please provide your table schema to reproduce this issue.
 I kind of suspect it's because we're compiling using 32 bit on Windows (win32), and not 64 bit.

@schdub Would you happen to have any skill with Windows compilers?  eg Visual Studio or anything :smile:
 @celloman Would you be ok to try this again with our new release from a few hours ago?  We have a 64-bit windows version, which (in theory) should open larger database files now like yours.
 Awesome!

@rp- Looks like it was the 32-vs-64 bit builds.  Thanks for working on that. :smile:
  Hmmmm, kinda thinking that forcing /usr at the start of the install path isn't the correct approach.  Wouldn't the right approach be for the installer to not put things under /usr/local?  If so, that sounds like an install time option thing doesn't it?
 @lbartoletti This PR will affect the FreeBSD packaging won't it?  If so, any thoughts? :smile:
 @DiegoQueiroz Oh, just to double check... this problem is with the current git master head isn't it?  You're not meaning this problem is with a packaged version from a .ppa or something? :smile:
 Thanks for investigating guys.  This does sound like a Mint issue.  Lets leave this open for now, and see what happens with https://github.com/linuxmint/Cinnamon/issues/4026. :smile:
 @glawrence Yeah, but this particular change is hard coding a base path.  That will break anything which DOES use /usr/local.  eg the BSDs
 Sure.  The bug is likely in our version of a Makefile, where's it's setting the path wrongly in some variable.  If we can figure out which one we should be good. :smile:
 @schdub @rp- Do you guys have thoughts about this?  I'm thinking that hard coding the / in the path isn't really correct.  There might be some environment variable or similar that needs to be set instead.

?
 I'm thinking there should be something in our build process which detects the correct path, and that's what needs fixing.  Hard coding / at the start is a workaround.

If that's the only way to do things though, then yeah, I'm ok with it.  @deepsidhu1313 is our official packager for .deb's, so might have some insight/thoughts on this. :smile:
 Closing this, as we'll need to figure out a better solution instead of hard coding the root directory location.  The install location needs to be relocatable, not hard coded.
 I closed the pull request, as it's not the correct approach.  There's also been no further development on this in many months... so I'm calling time on it for now. :wink:
  Just to be super clear, when you say a licence header file, are you meaning the project GPL/MPL licensing info? :smile:

If so, I'm not sure that needed.  Our repository has a license info pretty clearly included, and the [bundled libraries](https://github.com/sqlitebrowser/sqlitebrowser/tree/master/libs) also have their own licence files included in their individual directories.  I could be wrong though. :wink:

@richardfontana - Is this needed?  Looking at our [GPL licence here](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/LICENSE#L639-L640) it does have:

```
... and each file should have at least the "copyright" line and a pointer to where the
full notice is found.
```

... and that seems pretty clear that we should.  The Mozilla license though does state it's ok to just include itself in a likely spot (such as a main. LICENSE file).
 Thanks Richard. :grinning:

@dridk Closing this, as it looks like it's unnecessary.  Thanks for taking the time to open the issue, and get us to look into it though.  Hopefully cuterest goes really well. :smile:
  Well, it pretty much means when you're creating something from this project, you can choose whichever of the two licenses best suits you, OR you can use both of them.

  eg, if you're creating something to put in (say) the Apple Store - which forbids GPL usage I think - you'd want to use the Mozilla license for that.  You're obliged to only follow the Mozilla license terms then.

Conversely, you can do the same thing, but using the GPL license version instead.

Or, you could do what we do, and just do both. :smile:

It's really up to you. :grinning:

Does that help?
  Hmmm yeah, that doesn't sound good. :frowning: 
 @DongilKim Do you have time to try out the next nightly build, and see if it's working properly for you now? :smile:
 Awesome!  Thank you @schdub for this, and thank you @DongilKim for checking and letting us know. :grinning: 
  Hmmmm, needing to import columns in a different order than defined in a csv file is pretty unusual (I think anyway).  I doubt we'll do this... but if someone sends in a patch to make it happen we'll happily merge it. :smile:
 Looking back over this... @jungle-boogie how did you rearrange the column order during import? @justinclift,

I think I'm mistaken. 

I think what I was saying is that within a table I can change the column order, but I cannot change a table order of an import. Sorry about that.

best,
jb  Yeah, that makes sense.  We'll probably need some kind of dialog so people can choose their preferred options too. :smile:
 @galmok Our very latest code has a new export dialog for changing options with the output CSV file.  One of those options is to explicitly state the column name in the output.

Do you want to take a look and make sure it would work for your situation?  The nightly build (tomorrow) would have the changes included, if that helps. :smile:
 Closing this as it was fixed ages ago. :smile:
  @schdub This sounds like the kind of thing you would know how to do.

Do you have any interest in doing this? :smile:
 @justinclift, –æ–∫. Waiting when my previous pull-request will be merged.
 @schdub Done. :smile:
 Can we close this issue? The feature should be in the code since v 3.6.0 :smile: 
 Sure. :smile:
  @MKleusberg ?
 should be fixed:
cecf681620e4911a70e02884fe03fea15b73b558
 Cool. :smile:

@fu-hsi Do you have time to test the next nightly build, and let us know if it works ok now?
 @rp- Thoughts? :smile:

@fu-hsi:

> I am usung now SQLiteStudio since two weeks (sorry guys :)) and works like a charm :)

That's no worries.  When there's a problem that needs solving I often use whatever works first too. :wink:
 @rp- Sounds like the fix really didn't work. :wink:
 well, all i did was enabling to have tables without rowid and pks of any type, as allowed by sqlite3.
I think we still don't really support editing tables without rowid, because most of our code depends on it.
 At least the thing with the crash when adding a UNIQUE constraint in that special case seems to be a bug in SQLite itself. The same happens when executing this code using the command line utility:

``` sql
CREATE TABLE `test` (
    `Field1`    TEXT UNIQUE NOT NULL,
    `Field2`    INTEGER NOT NULL DEFAULT 1,
    PRIMARY KEY(Field1)
) WITHOUT ROWID;
```

In the latest development version of SQLite, however, I couldn't reproduce this anymore.
 Ok.  What's the right way forward here?  Should we go back to having "without rowid" only for numeric columns?
 Ok, to quickly summarise the situation:
- The UNIQUE TEXT primary key thing is a SQLite bug which seems to be fixed in the latest version. So I suggest ignoring this one.
- Without Rowid table are more or less supported, so editing, deleting, adding, etc. of rows works most of the times. I don't think there's any code left which really depends on the rowid column, the only remaining issues may occur because we don't handle some situations not entirely correct yet.
- One of this was the text primary key thing. The SQLite documentation says the primary key column in a without rowid table must be numeric but apparently this isn't the case. @fu-hsi is right that most of our code assumed the primary key was numeric which caused a lot of trouble when it wasn't. The commit I've just pushed _should_ fix these issues, so we handle non-numeric primary keys correctly.

So I think we don't need to go back because it as easy enough to fix the problematic parts. The new code needs a bit of testing (in a scenario like the one described in this issue as well as under normal circumstances) but should fix all the problems described in this issue (except for the SQLite bug that is of course).
 Cool. :smile:

Is this something we should ask @fu-hsi to test again in the next nightly build?
 Yes definitely, if he has the time and motivation :smile: 
@fu-hsi Do you? :wink: 
 Somebody willing to test this? If not I'd suggest closing this issue and if there should be any more problems with this it can always be reopened.
 Closing it for now.  @fu-hsi Do you have a few minutes to test our latest nightly build, and let us know if it's not working after all?
  Definitely sounds like a bug. :smile:

https://github.com/sqlitebrowser/sqlitebrowser/issues/229 may be the same thing too.
 @justinclift, on my local repo I've fix to this bug.

long story short: in SqliteTableModel when setTable() is called need to fetch and store data types of each field of DB.

next, in  DBbrowserDB::updateRecord() append argument - bool isBlob.

and then in code this function: 
    //...

```
if (isBlob) {
    sqlite3_bind_blob(...)
} else {
    sqlite3_bind_text(...)
}

//...
```

and we can rewrite "Cheap BLOB test here..." function to:

```
bool SqliteTableModel::isBinary(const QModelIndex& index) const
{
    return m_vDataTypes.at(index.column()) == SQLITE_BLOB;
}
```

PS: this solution will be work incorrect if need DB with values of multiple data types in one field.
PPS: waiting to resolve situation with my last pull-request.
 @gimKondo Would you be ok to try our latest nightly build, and let us know if the problem is completely fixed for you?

In theory it should be now, due to the fix by @schdub.  But, it's always good to verify. :smile:
 Interesting. :smile:

@gimKondo If the solution you're trying works, would you be ok to make a Pull Request out of it? :wink:
 @gimKondo Would you have time to check if this is fixed in [our new 3.9.0 release](https://github.com/sqlitebrowser/sqlitebrowser/releases/tag/v3.9.0)?

I **think** it is, because the new release checks the data type for each cell, instead of only checking the column.  So, this new release should be more accurate. :smile:
 Closing this due to lack of response. üò¶ 
 You're welcome @gimKondo. :smile:
  We support Linux already.  Some distributions already package us, though maybe not the very latest version.

Which Linux distribution are you using?  If a package for us doesn't exist, would you be interested in creating/maintaining one? :smile:

Btw - Instructions to compile on Linux are in [BUILDING.md](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md).  It's pretty easy. :wink:
 Sure.  If you can put together an initial PPA for Mint, we can add it to the download locations on the front page.  We can also include you in the release process (eg emails :smile:), so that Mint has packages ready for people at release time.

How does that sound? :smile:
 Awesome. We're planning on releasing v3.6.0 in a few weeks, on 18th April (roughly):

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/milestones

So, you have some time. :smile:
 for reference there is an PPAR for an older version. As I don't have really the time and motivation to keep the PPA up to date:

https://launchpad.net/~peinthor/+archive/ubuntu/sqlitebrowser
 Cool. :smile:
  Thanks for the report Jay.  This is fixed in the nightly builds already.  Well, in theory it is. :smile:

Are you ok to grab the latest nightly build and try that, just to make sure? (locations are listed on the front page of this repo)
 I think this is the bug where it's identified and fixed, if that helps: https://github.com/sqlitebrowser/sqlitebrowser/issues/203

If it turns out this is not the same bug, and you hit it with our latest code, then yeah, it's a real bug that needs fixing still. :smile:
 It's no worries at all. :grin:

If something else weird/not-great turns up, please report that too. (really) :smile:
  Yeah, lets omit it. :smile:
 Excellent. Yep, the licensing info is fine. :smile:

Now, lets see if @hughsie can look it over and approve.  @hughsie ?
 @hughsie What's the vertical / horizontal padding warning about?
 Gotcha.  How important is it?

Preferably, I'd strongly like to be able to ignore those two warnings.  Bulking out our git repo just to fix these warnings... not really a fan of that idea.

?
 Hmmmm, if we can have the screenshots in a different repo, that might be the solution.  That would avoid bulking out our main source repo.
 k, I'll create a "screenshots" repo here and we can have them in there.  That'll avoid bulking out the repo size for 99.9% of people using the source. :smile:
 k, new repo created here:

  &nbsp; &nbsp; https://github.com/sqlitebrowser/db4s-screenshots

We can add screenshots in there (Pull Requests accepted btw), and then choose a suitable one for the AppData file.
 I'll get some updated screenshots into the repo in a few hours.  I have some that @MKleusberg @rp- and @piacentini (I think) emailed to me a while ago, which I never got around to committing.  If @samir-aguiar or anyone else wants to directly commit some or do a PR on the screenshot repo with new ones, that's good too.

@glawrence If the screenshots aren't ready by the end of tonight (unlikely, but could happen), then I'll just merge this change as-is and we can do the screenshot update later. :smile:
 @glawrence Did them right away instead.  They're for v3.3 (interface is pretty much the same).

Are any of them suitable, with the 16:9 restriction?  If so, pick one.  Your choice. :smile:
 @glawrence Cool.  Btw, would you be ok to merge the commits into a single one?  Makes it better/easier for the repo history that way. :smile:
 Sure, there are a few ways to do it.  This way (below) is the way I generally do it, out of bad habit. :wink: (but it works)

So, first jump into your git repo directory, and do a git log to see what's what:

```
$ git log
commit c3e5fbda48e06fc7dcfe7284723841c6d8df8e7c
Author: Geoff Lawrence <geoff.j.lawrence@gmail.com>
Date:   Wed Mar 25 21:16:12 2015 +0000

    Updated with new images

    Final change with images from new repository

commit 4bb0dbc3b9d4803b3c3647257a8c331d93ecc768
Author: Geoff Lawrence <geoff.j.lawrence@gmail.com>
Date:   Tue Mar 24 15:05:24 2015 +0000

    Changed url to direct to issues

    Need to specify a url type, so used bugtracker

commit 1d1a019a5b4f783080176bed6d53673d1cb388c2
Author: Geoff Lawrence <geoff.j.lawrence@gmail.com>
Date:   Tue Mar 24 09:09:43 2015 +0000

    Removed e-mail address

    There is no e-mail on the sqlitebrowser.org domain

commit 3ee1ecbb897879109d4a37111a3d579a0dd2ed5d
Author: Geoff Lawrence <geoff.j.lawrence@gmail.com>
Date:   Mon Mar 23 17:12:17 2015 +0000

    Create an AppData file

    As per issue #178 I have created an AppData file and got it to install
    to /usr/local/share/appdata/. I believe the license and updatecontact
    tags need checking.

commit c3c8f8ce568114d7aae1ae263e03390617c7c878
Author: Samir Aguiar <samir.aguiar90@gmail.com>
Date:   Sat Mar 14 22:32:41 2015 +0100

    sqlitetablemodel: Don't apply NULL fields colours to BLOB fields
```

This shows the commits you've added since Samir's last one.  What we want to do is rewind the commit log back to Samirs commit, then add your new files in one brand new commit.

So, using the id for Samir's commit - c3c8f8ce568114d7aae1ae263e03390617c7c878 - do this:

```
$ git reset c3c8f8ce568114d7aae1ae263e03390617c7c878
Unstaged changes after reset:
M   CMakeLists.txt
$ git add CMakeLists.txt
$ git commit
```

It will ask you for the new commit message, and will do a new commit right after Samir's.  Do a git log again, to verify it seems sane:

```
commit 12f266c6ff2a4c4763a26b37f150f4e444948f74
Author: Justin Clift <justin@gluster.org>
Date:   Wed Mar 25 22:19:18 2015 +0000

    A super awesome git commit message! :)

commit c3c8f8ce568114d7aae1ae263e03390617c7c878
Author: Samir Aguiar <samir.aguiar90@gmail.com>
Date:   Sat Mar 14 22:32:41 2015 +0100

    sqlitetablemodel: Don't apply NULL fields colours to BLOB fields

commit 7a6410c04fb4a94e5648b2c4c2dcd2a22ee48c83
Author: Martin Kleusberg <mkleusberg@gmail.com>
Date:   Sat Mar 14 01:32:48 2015 +0100

    When searching for a column by name make the search case insensitive

    See issue #228.
```

Except it will have your new commit in there instead of my bogus example one. :smile:

Then push it back here to GitHub, which should automagically :wink: update this issue with it.

Workable?
 Thanks @glawrence, that's Awesome. :grin: 
 The [wiki needs helping along](https://github.com/sqlitebrowser/sqlitebrowser/issues/226), if you're up for it? :smile:
  Yeah, that doesn't sound good.

Which version are you using, and on which OS?
 Hmmm, it happens here on OSX 10.9.5 too, using our latest code:
![screen shot 2015-03-20 at 18 53 36](https://cloud.githubusercontent.com/assets/406299/6758762/951c77ee-cf32-11e4-9e2b-9726e2607ab5.png)
@yura371 File ‚Üí Compact Database works for me though.  Is that good enough for you for now?

![screen shot 2015-03-20 at 19 07 10](https://cloud.githubusercontent.com/assets/406299/6758990/62322494-cf34-11e4-883e-baf80c10fc96.png)
 this doesn't work, because internally we create a transaction around all statements in the execute sql editor. And VACUUM can't be run within an transaction.

As a workaround use the "compact Database", from the menu as suggested.
 @rp- Interesting.  This seems to work if someone **really** needs a way to run vacuum instead of doing the Compact Database option for some reason:
![screen shot 2015-03-23 at 11 17 56](https://cloud.githubusercontent.com/assets/406299/6778882/8bddb972-d14e-11e4-95d8-c9aff2323ad1.png)
Dodgy workaround though. :wink:
 Closing this for now, as it seems like something we're not going to change.

"Compact database" is hopefully a workable alternative instead. :smile:
 The 'Compact database' is just a GUI element for calling the vacuum function, so it's not even really a workaround in a technical sense but just exactly the required function here :)
 Excellent. :smile:
  Yep, just confirmed it on OSX 10.9 with our latest code. :wink:

Thanks for pointing it out. :smile:
 Thanks @samir-aguiar, tried it here and it seems good to me as well. :smile:

@AndreasMartin72 Do you have a few minutes to try the latest nightly build (tomorrow), and verify if it's working properly for you? :smile:
 Oops yeah, you'd need to wait until tomorrow because the nightly build process hasn't run yet. :smile:
 Awesome.  Thanks for testing it and getting back to us Andreas. :smile:
  Interesting.  I'll try this out after work to get a better idea what you mean, although I kind of think I know already. :smile:

Which version of DB4S and OS are you using btw?
 Cool. :smile:
 On OSX 10.9 here, and I'm trying it out now.  It seems to be **trying** to page through results by 100 at a time, but getting it wrong for the first page worth.  Here's an example... I've resized the window to just show the first 10 results:
![screen shot 2015-03-19 at 23 31 43](https://cloud.githubusercontent.com/assets/406299/6743317/258c7d72-ce90-11e4-97b0-b17ab6efab07.png)
Now I click the single > right arrow:
![screen shot 2015-03-19 at 23 32 37](https://cloud.githubusercontent.com/assets/406299/6743326/45b9dedc-ce90-11e4-80e6-fdf4959d9e42.png)
Then I click it again:
![screen shot 2015-03-19 at 23 33 22](https://cloud.githubusercontent.com/assets/406299/6743335/5b8c9bc8-ce90-11e4-987f-3fe791331e57.png)
And again:
![screen shot 2015-03-19 at 23 34 16](https://cloud.githubusercontent.com/assets/406299/6743345/7bbd6940-ce90-11e4-832c-a6fe02097e4f.png)
Next I make the window a bit bigger, and click the single > again:
![screen shot 2015-03-19 at 23 34 58](https://cloud.githubusercontent.com/assets/406299/6743360/a02162fa-ce90-11e4-8f87-7e7de583706a.png)
Interestingly, the cursor is (I guess correctly) placed on row 1, then 101, then 201, then 301, then 401.  I think it's just the window positioning (eg not 101-110, 201-210), which is making it look really inconsistent.

Thoughts?
 Are we able to control the positioning of the cursor in the window, so the cursor keeps it's current position in the window?  eg if it's on the first row when the arrow is pressed, the new window still has it on the first row

Kinda thinking it might be tricky, but then again I don't know Qt. :wink:
 Ahhh, so the correct approach here is probably to determine how many rows are visible in the Browse Data tab, then have the next/previous pagination buttons move by that value.

Changing the size of the window would change that too of course. Just tried to implement the pagewise scrolling. But I think it needs some more testing.

Also, the code for calculating the number of currently visible rows if off by one for me, and thus is the page-wise scrolling. Does anybody else have this issue, too? You can check by looking at the row numbers at the bottom of the window and comparing them to the row numbers in the table view. Trying this out here on OSX, and it's a lot better now than the previous step-by-100 behaviour. :smile:

The "off-by-one" thing could be kind of annoying though. üòï 
![screen shot 2017-05-17 at 09 39 03](https://cloud.githubusercontent.com/assets/406299/26145610/f3f949e8-3ae4-11e7-9e33-74df62a71d95.png)
![screen shot 2017-05-17 at 09 38 52](https://cloud.githubusercontent.com/assets/406299/26145616/f7ba09a0-3ae4-11e7-9dd4-084ea4d44323.png)
![screen shot 2017-05-17 at 09 42 31](https://cloud.githubusercontent.com/assets/406299/26145751/8560e90e-3ae5-11e7-80f3-8d961978dee8.png)

Wonder if this is a Qt bug more than a DB4S bug? Actually, it looks a lot better on your system than on mine. In your case it's (as far as I can see) just that we're counting the last "visible" row even if it's just one pixel high. That doesn't make a lot of sense but there's not that much we can do about it because only counting fully visible rows is no alternative either. And only counting rows that are more than x % visible will always be messy because all possible values for x are arbitrary. On the other hand we can play around with this and test it. But...
On my system when I resize the window, the row number at the bottom changes when about half of the row is visible. I have no idea why it does this because it's not in our code and it didn't use to be like this. Might be a Qt thing or a Qt platform specific thing. Also, I get an extra +1 on the number of the last visible row. So e.g. in your last screenshot I'd see 44793. So no matter how I resize the window it's always wrong :frowning:  Wow, that's weird.  Sounds like we need to intercept the event handler on Linux that changes the row counter, and stop the +1 behaviour. But we'd need to know when exactly it's happening. The problem seems to be that our ```ExtendedTableWidget::numVisibleRows()``` method returns the wrong value which probably means that Qt's ```rowAt()``` returns a wrong value. But as this only happens on some platforms and with some Qt versions it's going to be hard to fix it... Gah. ‚òπÔ∏è   I'll check this out tonight too. :smile:
 Hmmmm, on OSX 10.9 here, and it doesn't seem to be wrong for me.  For example, the sort column here is the "hour" column.  The little arrow is pointing downward which should mean biggest to smallest, and the sort order is doing that:
![screen shot 2015-03-19 at 23 53 55](https://cloud.githubusercontent.com/assets/406299/6743547/3c5c720c-ce93-11e4-850d-cd15d9c57855.png)
It seems to be correct in the other direction too:
![screen shot 2015-03-19 at 23 55 18](https://cloud.githubusercontent.com/assets/406299/6743565/6bd9c21e-ce93-11e4-8026-cf22326e145c.png)
If it's not doing this for you, are you ok to screenshot the problem?
 Interesting.  What data type is the parent_list_id field defined with there?
 Awesome @samir-aguiar. :grin: 

Just tried out the behaviour for this before-vs-after, and yeah, you guys are right.  Here's a sort showing the wrong order (from the commit right before this one):
![screen shot 2015-03-22 at 20 49 40](https://cloud.githubusercontent.com/assets/406299/6771413/0ebb98e8-d0d5-11e4-850a-b852a90b2d5c.png)
and the opposite direction:
![screen shot 2015-03-22 at 20 51 30](https://cloud.githubusercontent.com/assets/406299/6771421/3d943508-d0d5-11e4-9d77-ad008665e938.png)
Here's the same thing, but compiled with the fix:
![screen shot 2015-03-22 at 20 54 26](https://cloud.githubusercontent.com/assets/406299/6771439/ab0639d8-d0d5-11e4-8eb2-1e6e664bfa96.png)
![screen shot 2015-03-22 at 20 55 00](https://cloud.githubusercontent.com/assets/406299/6771443/b719604c-d0d5-11e4-8f77-574c53f1cb88.png)
Seems good now. :grinning:

@harrisrap Would you have a few minutes to try out the nightly build (tomorrow), and let us know if that works properly for you? :smile:
 @harrisrap ping? :smile:
 No worries. :smile:

**1**. Remove the existing DB4S / SQLite Browser application from your /Applications list.

**2**. Grab the .dmg here:

&nbsp; &nbsp; &nbsp; &nbsp; http://mirror.salasaga.org/sqlitebrowser/nightly/sqlitebrowser_20150325.dmg

**3**. Open that dmg file (double click on it in Finder), then drag-n-drop the sqlitebrowser.app file to your /Applications folder.

In theory, that should install the latest nightly build.  If it doesn't for some reason, let us know. :smile:
 Awesome. You've nailed another one perfectly @samir-aguiar. :grin:

@harrisrap Thank you very much for reporting the problem, and verifying the fix.  It really helps. :smile:
  Just tried importing an image file into a database field, but the file selector isn't working correctly.
![screen shot 2015-03-18 at 19 54 10](https://cloud.githubusercontent.com/assets/406299/6718086/0178777a-cda9-11e4-8cca-bf670016667e.png)
The "image" and "all" selectors aren't letting me select the .jpg files in the folder, as shown.

Something incorrect in the way the filters are constructed?
 Hmmm, looks like it's been sitting there unfixed for about a year. :frowning: 

As a workaround for us for now, maybe we should make the "All files (*)" filter the default?  That way people can at least select stuff.

I had to rename the file I wanted to use (an image) to .txt, just so I could recognise it.  Doesn't seem fantastic. :wink:
 How about we #ifdef the other filters on OSX, so only the All Files one is there?  That should be a "it just works" solution for users shouldn't it, and a bunch less effort than subclassing? :smile:
 Thanks, that's working perfectly. :smile:
  Which version is it happening for, and on which OS?

I've just tried it here on my desktop (OSX 10.9) using our latest nightly build.  For me it worked fine, with the export file being the exact same size as the imported file.

This is what I did to import it:
1. Open a database (a test one I often use)
2. Edited a field (type "REAL", but it should not matter)
3. Changed the type to "binary" (I do not know if that is important)
4. Imported original.jpg
5. "Write Changes" to the database, then quit

To export it, this is what I did:
1. Open the database
2. Edit the field
3. "Export" button.  Saved the image.

The exported image is the same size as original.jpg for me.

Does that help at all?
 @Z4us Well, by "edited a field" I mean I double clicked on it in the Browse Data tab, so it brought up the dialog with the import and export buttons.
 @yura371 Would you be ok to try our latest nightly build, and let us know if the problem is completely fixed for you?

In theory it should be now, due to the fix by @schdub.  But, it's always good to verify. :smile:
 I've just tried to reproduce this but weren't successful. The exported file with twice the size looks like it's been treated as a Unicode text file during export. But I have no idea how to make DB4S doing this...
The only thing I noticed is that importing an image into a field and then editing the table schema destroyed the image data (but by deleting bytes rather than adding bytes).

So _I think_ we can close this issue and assume it's fixed in the latest build if there's no follow-up information on this coming.
 Edit: Now I'm taking back the data corruption from table schema editing, too. This probably happened because I single clicked into the cell first, thus opening the inline editor which doesn't handle binary data correctly.
 What do we need to do, to make it handle binary data correctly? :smile:
 @MKleusberg Any idea what the status of this one is?
 Closing this due to lack of response.
  The problem here was that the spelling of the columns used in the foreign key clauses are different from those actually used in the table definition. See here for example 'customerID' vs 'customerId' (note the final letter 'd'):

``` sql
CREATE TABLE orders(
  id INTEGER,
  customerID INTEGER,
  date TEXT,
  FOREIGN KEY(customerId) REFERENCES customer(id)
);
```

Of course this should work anyway and a crash is a bit of a overdramatic reaction :smile: I've just pushed a fix for this issue. If you want to try out the latest version with the fix applied you have to use our nightly builds from http://rp.oldsch00l.com/sqlitebrowser/ Luckily, because it's already night here in Europe, the new version should be there in half an hour or so.
 @lallousx86 Would you be ok to try out the nightly build, and let us know if it does or doesn't work well for you now? :smile:
 @lallousx86 Reminder ping... :smile:
 Awesome.  Thanks for checking and confirming back to us @lallousx86. :smile:
  Placeholder issue for wiki pages we should add:
- ~~[How to use regular expressions in the Execute SQL tab](https://github.com/sqlitebrowser/sqlitebrowser/wiki/Regular-Expressions), as [added here](https://github.com/sqlitebrowser/sqlitebrowser/commit/6d1a874f8077b859bee2dd9d4031f242cfa1e807) by~~ @MKleusberg. - [Done](https://github.com/sqlitebrowser/sqlitebrowser/wiki/Regular-Expressions) by @glawrence :)
- How to translate language files, as [added here](https://github.com/sqlitebrowser/sqlitebrowser/issues/182#issuecomment-70413095) by @MKleusberg.
- How SQLCipher encryption works
- ~~How to [Squash several commits into one, ready for merging](https://github.com/sqlitebrowser/sqlitebrowser/wiki/Merging-Commits)~~ - [Done](https://github.com/sqlitebrowser/sqlitebrowser/wiki/Merging-Commits) by @glawrence :)
- Purpose/description info on what our project files do
- How to create an encrypted database (and/or encrypt an existing one)
- How to build on Windows, including SQLCipher support (assigned to @glawrence)

Anyone wanting to help out is definitely welcome (and encouraged!) to begin or improve any of these pages [in the wiki](https://github.com/sqlitebrowser/sqlitebrowser/wiki)! :grinning: 
 Good thinking.  And yeah, we should add stuff here as we think of it. :smile:
 Just added one more, too :)
 @glawrence You really are pretty amazing.  That's truly awesome.  Thank you. :grinning:

I've just tweaked the wording a bit, and added a screenshot for clarity too.  (turns out adding screenshots isn't straightforward, but it is possible)
 Added an item for making a wiki page to explain what our project files are for.  As I don't seem to have gotten around to it in https://github.com/sqlitebrowser/sqlitebrowser/issues/35. :wink:
 Added an item for "How to create an encrypted database (and/or encrypt an existing one)".  @glawrence Any interest in that? :smile:
 @glawrence Definitely needs some screenshots added.  Do you have something that runs the SQLCipher versions and can do them with?
 Ahhh, the soft borders is an automatic thing done by the inbuilt OSX screenshot key combo.  :wink:

I'll get some screenshots done for the SQLCipher stuff done at some point, as I think it'll help. :grin:
 I agree, it would help. To be fair images have always been an Apple strong point.
 I am working on documenting the Windows build process, which will start as a Wiki page. Some issues to refer to are as follows:

[Open Encrypted Database #12](https://github.com/sqlitebrowser/sqlitebrowser/issues/12)
[Complete quoting for parameters of some CMake commands #58](https://github.com/sqlitebrowser/sqlitebrowser/issues/58)
[Build sqllitebrowser from source, sqlcipher support (Windows) #482](https://github.com/sqlitebrowser/sqlitebrowser/issues/482)
[ Autocomplete table name on export #484 ](https://github.com/sqlitebrowser/sqlitebrowser/issues/484)
[Build fails on Windows 10 with Qt 5.6 #525](https://github.com/sqlitebrowser/sqlitebrowser/issues/525)
 Any update on the build wiki? Also, will it apply to OSX too? I want to contribute but I'm not able to build and run the project. And I don't know how to use Qt creator. I would want to know how to open an IDE and view the source code, build it and run it. I created a Qt project from the `CMakeLists.txt` file but didn't see any source code.
 One more thing: We need to update the wiki page on using the filters. There are two things that changed in the meantime:
1) We've added a range operator (```1~5```). See #939.
2) We've changed the default behaviour when no operator is specified. In the Wiki it says that for text a case-independent exact search is performed by default. But that isn't true anymore. What we do now is add ```%``` in the front and at the end of the search string. So filtering for ```b``` actually queries ```%b%```. To override this you have to use the ```=``` operator (```=b```) or manually add ```%``` characters: ```b%``` doesn't expand to ```%b%%`. Just added a new wiki page listing the more hidden keyboard shortcuts that I know of: https://github.com/sqlitebrowser/sqlitebrowser/wiki/Keyboard-shortcuts Feel free to extend it :smiley:  Couple of questions.. :smile:
- Which version of DB4S (new acronym for SQLite Browser) are you trying with?
- Which Operating system are you using?

If the file is not too big (eg couple of MB's), and the info in it isn't confidential, you can email it to me directly (justin@postgresql.org) and I'll see if I can figure it out.
 Just took a look through them, and they don't appear to be with SQLite version 3, nor SQLite version 2 database files.

There's definitely data of some sort in them, as using "vi -b" or even "strings" on them shows bits of text in them.

Sorry to say, but I have no idea what you can open them with. :frowning: 
 Good luck. :smile:
 Btw - Don't get stressed about the "Invalid".  It's just so I can scan down the closed bug list quickly when preparing our next release. :smile:
  Yeah, I tend to agree with this.  Had the same thought the other day, but didn't get around to turning it into a proper issue here.

Thanks for doing so. :smile:
 Hmmm... actually no, I've just remembered we've had discussion about this before and it turns out there are several viewpoints on it.  (it's in previous issues here if you want to investigate)

There is a way forward, but I'd need to go and dig through the issues again myself to refresh my memory first... :wink:
 This should be fixed in the 3.7.0 release where we've introduced a new option to the Preferences dialog to change this behaviour. This way everybody should be happy :smiley:
![lastlocation](https://cloud.githubusercontent.com/assets/3153504/8273318/9c697f04-1868-11e5-9791-7dce9ff25cfe.png)
If there are no objections I think we can close these issue soon.
 Good thinking @MKleusberg. :smile:

@jmagyari Have you had a chance to try out the new behaviours in our recent 3.7.0 release? :smile:
 Closing this as it's been reported to work in issue #276. If there still should be any problems with this feel free to re-open the issue or open a new one.
  Interesting.  I'll take a look after work today. :smile:
 Just took a look now instead, and yep, you're right.  This is what's showing for me on OSX 10.9.5:
![screen shot 2015-03-11 at 14 15 26](https://cloud.githubusercontent.com/assets/406299/6598089/297766ba-c7f9-11e4-8dcb-1e4017d599dc.png)
 The same thing is on Linux and even on the commandline client.
So my guess is that the database didn't get correctly converted to a UTF16 sqlite3 db or the strings are not correctly converted to UTF8 strings
 @jmagyari Looks like a problem with the data itself then, so I'm marking this as invalid and closing it.

You're completely welcome to re-open this though, if you find out the original data really is ok somehow. :smile:
 Hmmm... thinking it through more... it doesn't appear to be something wrong with the data.  Here's what it looks like in Navicat for SQLite (just grabbed their trial):
![screen shot 2015-03-11 at 16 16 07](https://cloud.githubusercontent.com/assets/406299/6600864/fcd02fa0-c809-11e4-8e74-22a3a665bce4.png)
 Awesome, thanks for looking into it @samir-aguiar.

Is this something we should try to recognise and work around (similar to Navicat), or are we good as-is?

Kind of wondering if there's a way to detect bad data, so we could at least warn the user.  No idea how feasible that really is though. :wink:  If it's a major undertaking, then lets not bother. :smile: 
 k.  Sounds like we should mark this off as "won't fix", because although technically possible to deal with... it's an edge case for dealing with bad data and is likely a lot of effort.

Although, if someone does come along and contribute a fix/patch to address the problem, we'll happily merge it. :smile:
  Sounds useful. :smile:
 Thanks Martin. :smile: Seems to work well here for the standard SQLite build:
![screen shot 2015-03-11 at 20 32 31](https://cloud.githubusercontent.com/assets/406299/6606220/d9a8c414-c82d-11e4-8a2f-9eb9606b08ab.png)
I haven't tried with the SQLCipher build yet.  Having some issues on my local system after a recent Xcode software update. :innocent: 
 It's exactly the same in the SQLCipher version. However, I haven't added the OpenSSL version (though that would be nice to have) because SQLCipher doesn't seem to report it anywhere and I can't think of a sane way of getting it from somewhere else.
 k, lets ask the SQLCipher people if there's already a way, or if they think it's a good idea to add in their future releases. :smile:

Just asked on the SQLCipher forum:

&nbsp; &nbsp; https://discuss.zetetic.net/t/how-to-retrieve-the-openssl-version-in-use-by-sqlcipher/466

Lets see what happens. :smile:
 Cool, looks like it'll be available in future SQLCipher versions.  We might want to keep this issue open until then, when we can add the relevant bits.
 @MKleusberg Would it be feasible to add the git Commit ID in the About dialog, when DB4S is compiled from git manually?

&nbsp; &nbsp; eg same thing that detects master_git, but puts something like "git master commit c3c8f8ce568114d7aae1ae263e03390617c7c878" instead

Ooohhh, just noticed GitHub turned that full Commit ID in my example above into a URL link to the direct commit in the source.  That would be cool in our About dialog... just saying. :grinning: 
  Strange, I can't reproduce this... Are you sure you're using the latest version? You can check this by clicking on the Help->About menu item; it should be 3.5.1.
 @grahamlabdon ping?
 Closing this issue as we haven't had any updates on this for some time now. If the problem still pesists please feel free to reopen this issue, @grahamlabdon :smile: 
  At the moment, the default background colour for NULL fields is a very strong red.  It makes things seem like there's an error, when there's not:

![screen shot 2015-03-09 at 13 37 50](https://cloud.githubusercontent.com/assets/406299/6555908/8287b6ae-c661-11e4-96d3-94a9feda660a.png)
Maybe #ffd0cd instead?

![screen shot 2015-03-09 at 13 39 22](https://cloud.githubusercontent.com/assets/406299/6555934/b89d986c-c661-11e4-9bbf-8578e6a26da2.png)
Even lighter might be better too (unsure).  It depends on how the colour displays across a wide selection of monitors...

[side question - how does a person reset an existing field with a value to NULL?  I just tried and didn't find a reliable method. :frowning: In the edit dialog for a field, changing to "binary" then clicking "clear" and exiting works initially, but then the table goes white/non-NULL again after changing to the Database Structure tab and back again (sounds like a bug really) :wink:]
 Yep, looks workable to me too.  Clean look, clear info.  Pretty good. :smile:
 Actually, is it easy to have the "NULL fields" title at the top of the containing box be a bit more um... stand out?  Bolder or underlined or errr... something?

Not at all critical, but I'm just thinking "it's the heading for the stuff below" and it's not really standing out as a heading that much.  Yet. :wink:
 Looking good.  Is there a way to horizontally centre the "NULL" string in the field?
 Hmmmm, just tried it.  It's showing centred in the Preferences dialog, but not for the fields themselves in the Browse Data tab?
![screen shot 2015-03-11 at 21 49 07](https://cloud.githubusercontent.com/assets/406299/6607666/77ebbd52-c838-11e4-8476-bff2f7b591bf.png)
![screen shot 2015-03-11 at 21 49 42](https://cloud.githubusercontent.com/assets/406299/6607680/8dcc2530-c838-11e4-9765-6af42f7b4d3d.png)
Is it showing centred in the Browse Data tab fields for you?
 Then again... I'm kind of wondering if centering the NULL text in the Browse Data tab will actually look ok when the data-filled fields themselves are left aligned... :wink:

Um, try it out, see what you think, and let us know?
 Hmmm yeah.  I think you're right.  It looks good centred in the Preferences dialog bit, but in the Browse Data tab... not so much.  Leave it left aligned. :smile:
 Awesome.  Just tried it out, and NULL values are now kept correctly.  No more reverting back to blank spaces at every opportunity.

They're written out to disk correctly now too, so things set to NULL **keep** as NULL.  Until changed on purpose of course.

Thanks @samir-aguiar I think this is an important fix.  Kinda feels like we'd been missing foundational data handling, having this busted. :wink:
  When you say "misaligned", would you be ok to screenshot it and add it here?  (dragging and dropping images into these comment fields works)

It's kind of hard to visualise the problem without a screenshot.  Not impossible... but a screenshot would really help. :smile:
 @Z4us Thanks.  Looking now... incredibly slow web server though (27KB/s). :frowning: 
 @Z4us They're both SQLite database files.

@atoregozh I've downloaded example.db and exported the result table to a .csv file.  The file is hugely wide though, so can't be sensibly viewed in my OSX Terminal window.  How are you viewing it? (a screenshot really would be helpful btw :smile:)
 Awesome @samir-aguiar. :smile: 
 Excellent.  Thanks for verifying and letting us know @atoregozh. :smile:
  Interesting, that seems to have loaded it ok.  I wonder why our latest code isn't working with it. :frowning: 

Um, how big is that database file?  If it's not too big, are you ok to email it to me or something (justin@postgresql.org)?  I'll see if I can figure out what's wrong with it, and if not, I'll forward it to our main developers for having a look.
 the file didn't load, check the output, the directory doesn't even exists:
`-bash: cd: /Users/me/Desktop/Cashe/db: No such file or directory`

if sqlite3 is called with a non existent file, it will just create a new database.
 @rp- Yeah, saw that.  Am figuring the only way to be sure is to take a look at it and see what's what. :wink:

@Oldimac10yrsold Weirdly, I didn't receive the email.  It's definitely possible my anti-spam stuff automatically deleted it, so I've turned them off completely for now.  Would you be ok to try sending it again?

In theory, there shouldn't be anything that can stop it from getting through this time. :smile:
 Yep, got it this time.  It's definitely a SQLite3 database file, and DB4S opened it ok on my system.

Now, we just need to figure out why recent versions of DB4S aren't working on yours.

As a first thought, which version of DB4S have you downloaded to try?  If you're not sure, would you be ok to grab the latest version **without encryption** and try that?

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/releases/download/v3.5.1/sqlitebrowser-3.5.1.dmg

Your Cache.db file isn't encrypted, so you don't need the encryption version. :smile:

If it doesn't work, can you screenshot it, and add the screenshot(s) here?
 @Oldimac10yrsold Ahhh, I just thought of something.  I kind of suspect your iMac might not be using an Intel processor, which is what our OSX downloads have been made with (so far).

Would you be ok to screenshot your "About this Mac" dialog?  The one that shows the overall system info, from the Apple menu?  For example, this is what mine looks like:

![screen shot 2015-03-09 at 13 07 54](https://cloud.githubusercontent.com/assets/406299/6555383/5947d80e-c65d-11e4-8f96-796508018fa1.png)
 32 bit OS/CPU?
 @Oldimac10yrsold In theory, you should be able to compile this on your Mac and it would work.

I'm just trying to think of an easy way for you to do that, as it's normally done from the command line.  There's probably a GUI way to compile it, but it's not coming to mind. (it's very late here, and I'm very tired, so might be able to remember it tomorrow) :wink:

As a side thought, how often do you need to modify the integers?  There's only a few rows, so I can probably just modify them for you and email back the file (this time).  Not right now though. :smile:
 @Oldimac10yrsold Is this the model of Mac you're using? :smile:

&nbsp; &nbsp; http://www.everymac.com/systems/apple/imac/specs/imac_cd_2.0_20.html
 @samir-aguiar Any idea how we could compile a 32-bit version of DB4S as a once off?

I don't have access to any 32-bit OSX systems, and the virtualisation stuff I have either won't run OSX or won't present a 32-bit Intel cpu to it. :frowning: 
 @Oldimac10yrsold If we can't get this figured out, you may need to use something like [Navicat for SQLite](http://www.navicat.com/products/navicat-for-sqlite).  Their product page says it supports OSX 10.6, and is a 32-bit/64-bit version.  It's a commercial product though. :frowning: 

Note - we have no association to the Navicat people.  I was just looking at it earlier today for another bug. :wink:
 Heh Heh Heh.  This is proving to be a challenge eh? :wink:
 Out of curiosity, do you have Xcode installed on your iMac?

We might be able to write some clear instructions for you to compile things yourself... but I suspect you might not have the software needed to compile it.
 @Oldimac10yrsold Try this, and let us know if it works?

&nbsp; &nbsp; http://mirror.salasaga.org/sqlitebrowser/onceoffs/sqlitebrowser_32bits.dmg

That's from @samir-aguiar, who left an initial 32-bit compile running overnight.  We're hoping it works, but not 100% sure. :wink:
 Oops, that'll be a problem on my end.  I must have gotten the permissions wrong on the server directory...  gimme a minute. :anguished: 
 Should be good now.  Sorry about that.  I rarely make that kind of dumb mistake, but it does still happen. :smiling_imp: 
 k.  Next version to try: :smile:

&nbsp; &nbsp; http://mirror.salasaga.org/sqlitebrowser/onceoffs/sqlitebrowser_32bit_20150313.dmg
 @Z4us Hmmm, not yet.  It's a good idea though.  We should add something to the About dialog to show the git commit id it was compiled with, if it's on master_git.

Just asked [here](https://github.com/sqlitebrowser/sqlitebrowser/issues/222#issuecomment-81000342), as there's already an open issue being worked on for stuff in the About dialog box.

I think I'll ask my work colleagues at Red Hat if someone has a 32-bit OSX box hanging around, preferably with OSX 10.6.  There's a decent chance... :smile:
 Potential way forward.  @CBredesen (colleague at Red Hat) has a suitable OSX box, and we're working on getting the right development bits installed on it. :grin:

Hopefully this works out. :wink:
 @cbredesen No worries.  As a first step, run this to get Homebrew to check it's environment for gotchas:

```
$ brew doctor
```

Ideally, it should come back like this:

```
$ brew doctor
Your system is ready to brew.
$
```

Guessing it won't, so we'll need to see what's wrong and address that first.
 @Oldimac10yrsold How big is the file?  If it's only a few MB, then maybe email it to me?  I can get it to @samir-aguiar from there. :smile:
 Hmmm.  That's a bit big for an email.

Do you have an FTP or SFTP program you're comfortable with?  If you do, I can create an account for you to upload the file somewhere. :smile:

Btw - Sorry this is dragging out so long.  It turns out this is more complicated than it seemed... :frowning:
 @cbredesen btw ping... just in case. :smile:
 That's Fantastic @cbredesen. :grinning: 

Just tried it here on 64-bit OSX 10.9.5 out of curiosity, and it works here too.  Don't really need it myself, but it's interesting to note. :wink:
 @Oldimac10yrsold FINALLY! :dancers: Awesome that it works. :grinning:  Hopefully you figure out the data fields you need at some point... :wink:

@cbredesen Thank you, you're a legend. :smile:

Team - we should probably add this specific .dmg file to our Releases page, so anyone else using a 32-bit Mac can also benefit.  It'd be interesting to see the download #'s for it over time too, in case it's not just a very small #.

Not sure how to make it not appear right at the top of our releases list though which probably isn't the right place for it (could confuse people?)... :confused:  Ideas welcome. :smile:
  This is a duplicate of #203 and should already be fixed in the nightly build.
 @nuzvid Have you had a chance to try out the nightly build, to see if it's fixed for you there? (it should be)
 Closing this.

@nuzvid If the latest nightly build doesn't have this fixed for you, please reopen this. :smile:
  Awesome stuff @Z4us . :smile:
  Query via Twitter:

&nbsp; &nbsp; https://twitter.com/BryanMcConkey/status/573115725595844608

```
Any plans to support REGEXP in the Execute SQL tab? I would find this very useful
in testing queries.
```

Thoughts? :smile:
 Thinking about this more... we pretty much rely on SQLite to provide the SQL processing part of things.  @BryanMcConkey (hoping that's is the correct GitHub user account :wink:), what's a good example of what you're looking for?

Depending on what/where it may or may not be possible, and we may need to suggest it to upstream SQLite developers first...
 Just a bit of background:
SQLite syntax includes the REGEXP keyword but SQLite lacks an implementation of an regular expression algorithm. Instead it tries to call a user-defined function and just errors out if it can't find one: https://www.sqlite.org/lang_expr.html#regexp
I have no idea why they do it this way - maybe fore more flexibility or simply to avoid adding dependencies to any other libraries. Either way, they're probably not going to change this :)

Anyway, Qt implements a regex algorithm which is easy enough for us to connect to SQLite. This is done in 6d1a874f8077b859bee2dd9d4031f242cfa1e807. I've also added an option to disable this feature just in case somebody prefers to load their own extension implementing a different algorithm.

@BryanMcConkey You can download the next nightly build (though you'll have to wait till tomorrow) or build the latest code yourself and test this feature. Any feedback is welcome and if you have any further questions feel free to ask us :)
 Wow.  That's unexpected and pretty darn awesome. :grinning: 
 Fantastic news.  Thanks for testing and confirming it @bryanmcconkey. :grinning: 
  Trying out the new NULL background colour thing, and discovered a minor bug.

1) In the Browse Data tab, with a table open that has NULL values shown correctly (using the colour from preferences)
2) I then go into the Preferences dialog and change the colour.  When I exit the dialog, the fields with NULL values change to (blank) white, instead of the new colour chosen.

Clicking the "New record" button helps, with the new line being the correct colour, and the previously blank fields now also changing to the right colour.

Can provide screenshots if that's needed. :smile:
 Sure. :smile:

So, starting with this table:
![start](https://cloud.githubusercontent.com/assets/406299/6472491/d522f0fc-c1ea-11e4-936b-fc39b9fa2037.png)
I then click the "New Record" button to create a new row:
![new row created](https://cloud.githubusercontent.com/assets/406299/6472493/da109646-c1ea-11e4-87be-0a0653f25c39.png)
(yeah, it's green - that's just the NULL colour value setting at the time of doing these screenshots)

Not liking the green as NULL, I go into the preferences.  Here you can see the preferences (unchanged):
![pref dialog opened - colour unchanged](https://cloud.githubusercontent.com/assets/406299/6472505/f9c610ce-c1ea-11e4-8455-758c6657683a.png)
I change the NULL colour to a strong red:
![pref dialog opened - colour changed](https://cloud.githubusercontent.com/assets/406299/6472528/143b333a-c1eb-11e4-8e24-06af5cc46f0a.png)
And now exit the Preferences dialog.  The Browse Data rows have slightly moved up 1/2 a row (23 is only 1/2 visible now - wasn't me doing that), and the cell colour that was green has now gone blank:
![pref dialog closed - last row has gone blank](https://cloud.githubusercontent.com/assets/406299/6472550/35fbe884-c1eb-11e4-95e2-b822a38b8e5d.png)
When creating new rows though, the displayed NULL colour is using the updated value correctly:
![new rows have the updated colour though](https://cloud.githubusercontent.com/assets/406299/6472559/4fa529bc-c1eb-11e4-9d6a-0cf67b145739.png)
Kind of suspecting there's something in the "exit the preferences dialog" code that refreshes the view, and it doesn't know about null values having a background colour yet.

I can email you the database if you want.  It's only a couple of kB. :smile:

[edit - typo fix]
 Tried it, and no change.  I'll email the database to you. :wink:
 Just tried it... not sure if it's fixed or not... :wink:

With that database, I removed the "NOT NULL" constraint for both fields in the table ("Database Structure" tab ‚Üí modify "Modify Table..."), then went to the Browse Data tab.  Clicked the "New Record" button to add a row, then clicked off of it to un-highlight it.  And got this:
![screen shot 2015-03-06 at 00 26 37](https://cloud.githubusercontent.com/assets/406299/6517886/88facfde-c397-11e4-9211-14153d1405d4.png)

Doesn't seem right?  Tried it all over again, and it happened both times, so it's consistent...

Ideas? :smile:
 Thanks @samir-aguiar, all good then. :grin:

We're going to have to do something about the default NULL colour too (need to make a new CR).  It's a super strong red by default, and made me think there was something wrong... :wink:
  Hard to tell without the CSV file... - are you, by any chance, able to provide us the file which is causing you trouble? You can also send it by email. Maybe the first 3 lines or so will already suffice for reproducing the problem, so you could check that beforehand if you want to reduce the amount of data.

I've also improved the error messages. They won't be much more detailed in your case but if you're unable to provide the CSV file you can retry the import with tomorrow's nightly build (http://rp.oldsch00l.com/sqlitebrowser/) and we might be able to narrow down the error source.
 Non-empty strings between separators? (just saying... I really have no clue if that's appropriate) :grin: 
 @ircer Is this problem still happening for you?
 Closing this due to lack of response. Just a nod that if you have a blank CR on the end of a SQL statement, DB4S throws up this 'error'.
Appreciate this is now closed, but if it ever gets reopened and this is referred to, this note'll be found! ;)  This sounds as your used Mac editor wrote Mac line endings CR.

The CSV RFC (http://www.ietf.org/rfc/rfc4180.txt) specifies CRLF (windows line endings) as line separators.
 Interesting.  Guess I've only ever exported CSV files instead of importing them. :wink:

Wonder if it's possible to reliably detect all of the common line endings (*nix, OSX, Windows) and not have to make it an option?
 @samir-aguiar Yeah, if it's easy to also add support for just CR as line endings - and not muck up anything else - then lets do it. :smile:
 I agree that we should add 'silent' support for CR line endings, so just treat them as LFs and not having a checkbox in the dialog for it. In my opinion we should support as many broken CSV variations as possible (as most CSV files are broken in one way or another according to the RFC).

@samir-aguiar Feel free to change the csvparser code. Maybe adding some more tests before changing it just to make sure it doesn't break anything else.
 @atoregozh We have a script which runs every night, compiling the very latest code on MacOSX and leaving it's results here:

&nbsp; &nbsp; http://mirror.salasaga.org/sqlitebrowser/nightly/

It's a way for people to test the very latest changes, without needing to wait for an official release.

Please try out the latest build (in a few hours), to verify things are working for you now.  If they're not, it's important to let us know so we can investigate + figure out what else we need to do.

Workable? :smile:
 @atoregozh They're both very similar (same GUI), but the -sqlcipher one supports full database encryption as well.  Pick whichever one best meets your needs. :smile:
 @atoregozh - @samir-aguiar deserves your thanks, as he did the work, not me. :wink:
  there is no statement separator after the SAVEPOINT pre.
you need a ';' or sqlite will see this as ONE statement
 Not sure if this is a bug in our program?  Does the statement (including the IF NOT EXISTS) work with the standard sqlite3 command line too?  If it doesn't there either, then it sounds like a limitation of SQLite itself (for now anyway).
 Thanks @Z4us.  Closing this now. :smile:
  @jon80 It's probably best to ask on the SQLite Users mailing list:

&nbsp; &nbsp; http://mailinglists.sqlite.org/cgi-bin/mailman/listinfo/sqlite-users

:smile:
  When inputting a bunch of data today, it became a real pain having to click on "New Record" to create each new line.  It would be a bunch more user-friendly for this scenario, if pressing "TAB" when on the very last field of the last record in a table, automatically started a new record and placed the cursor in the first
field of it.

In theory, this should be pretty easy to implement too. :wink:
 Oops, missing word.  "became a real pain having to click...".  Fixed.

Thanks for pointing it out. :smile:
 Done :smile: Good idea, by the way!
 Thanks Martin, trying this out now. :smile:
 Yep, well done.  This is a lot nicer to use now, and a lot faster for inputing multiple rows of data. :grinning: 
  Hmmm, that does sound like a bug which needs fixing.

And yeah, using the registry may not the most portable approach.  Using a .ini file or similar is probably a suitable alternative. :smile:
 I've just added a new option to the settings dialog which lets you disable the update check altogether. If you don't want to wait for the next version to have this included, you can wait for the next nightly build (see download links in the README.md file). Either way, all you need to do is removing the tick from the Automatic updates enabled check box in the settings dialog.

As for the registry/INI discussion: This is a bit more complicated than it might seem because loading and writing settings is entirely done by Qt which stores it in a different locations depending on your platform (http://doc.qt.io/qt-5/qsettings.html#platform-specific-notes). Now, it is possible to implement this by ourselves but honestly I don't see a huge benefit. On the other hand this means more work than it looks like at first because we'd have to implement reading and writing of multiple data types, tons of error checking for the reading part, etc. I'm not sure what you want to do with your INI file but if it's just for backups a small batch script exporting the registry keys (maybe of all installed applications) might be a solution. If it's for copying settings between systems, the Portable Apps version of DB4S might be something for you.
 @MKleusberg switching to ini file might not be that complicated. We can specify on every platform if you want to store settings in native style(registry on win) or with an ini file. The problem is just, that we would need a proper upgrade mechanism for windows users, so they don't lose their settings. And I'm not sure if this is worth the work.
 @MKleusberg What's the right way for us to verify this is working correctly, before our next release?

I'm thinking maybe building a release from latest source, but modify the source to have an older version number in it, so it should notice the update.  And then see if the on/off toggle works.

Sound about right?
 @justinclift Yes, that's one possible approach. Maybe it's a bit easier to leave the version number as it is but change the link in [MainWindow.cpp, line 182](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/src/MainWindow.cpp#L182) to point to a copy of the file in some other place. Then you could change the currentrelease file and test this option as well as the notifications in general (like the patch variable thing from 2c25b7ecb52944db225516a9b41c9f6c1860e749) without recompiling all the time.
But in the end it probably makes no difference which way you choose. Shouldn't take too much time either way :)
 The version checking code, and the Preference toggle to disable it, definitely works in the 3.6.0 release.  Tried it earlier. :smile:
  Shouldn't be too hard. :smile:
 By the way, are you using "Close File" then the recent files list at the moment?

eg:
- File &rarr; Close 
- File &rarr; 1

?
 All good. :smile:
 You don't even have to close the database when reopening it using the history. DB4S does that automatically for you :smile:
  Hmmm yeah, both sounds useful.  A "_History Browser_" (that saves between sessions), and a "_Snippet Manager_" to organise often used SQL er... snippets, would be cool.

First question... are you able to assist in getting it done?  eg coding skills, or design skills (eg whip up some potential layout screenshots) or similar? :grin: 
 @sergbus That should be do-able.  We should open a brand new issue here for that though, as the code to make it happen would be tracked separately from @hko-gh's idea. :smile:

@sergbus As an thought, do you have the skill (or desire to learn) to do the implementation for this?
 Heh, that's going to be a lot of challenge then. :wink:
  Aha, sounds like a bug.  Which OS, and which version of DB4S (our acronym) are you using? :smile:
 @MKleusberg @rp- Any idea how easy a fix this would be?  It sounds like a function call needs to be run after each Execute SQL command.  ?
 shouldn't be to hard, just a call to update the stored tables/columns in the texteditor widget after a execute sql was done
 @MKleusberg This should be fixed now yeah?
 Just tested this with the latest version and it seems to be fixed. No idea when the fix was pushed, sorry for the waiting time :frowning: I'm going to close this issue since it's really old and everything seems to work as expected now. But if any further problems should arise, feel free to reopen this issue :smiley:  @hko-gh Do you have a few minutes to try this out with our latest nightly version, to double check it from your point of view? :smile: You need to download one of the nightly builds (usually version 3.9.99) from here:
https://nightlies.sqlitebrowser.org/win64/

eg:
https://nightlies.sqlitebrowser.org/win64/DB%20Browser%20for%20SQLite-2017-01-09-win64.exe

v3.9.1 is our 'last release' which doesn't get automatically updated with fixes, etc.

You can install v3.9.99 in its own directory (separate from v3.9.1), and you don't have to uninstall v3.9.1 first... multiple copies/versions of DB4S can co-exist on the same PC. @hko-gh Did you have a chance to try a recent nightly build?  A lot of improvements have happened since our 3.9.1 release. üòÑ   Installed DB4S 3.5.1 on Windows 7, then looked at the languages available in the Preferences dialog.  It only has "English (United States)" available in the drop down.  Also tried the latest nightly, which has @samir-aguiar's latest code in it, and that has the same limitation.

Wondering if this could be a packaging problem on Windows or something?
 @mafagafogigante, which version do you use?
Should be fixed after #310.
 @mafagafogigante, it's already fixed
![screenshot from 2015-05-20 02 10 32](https://cloud.githubusercontent.com/assets/1304776/7715979/15cdcebe-fe96-11e4-8c3e-c5471c7c7ef9.png)
You must wait for 3.7.0 version or use our Nightly build:
http://rp.oldsch00l.com/sqlitebrowser/
 @justinclift, can we close this issue? On screenshot above is .exe from Nightly build.
 Yep, lets close it. :smile:
  Ouch, that doesn't sound good.  Um, hopefully one of the guys has time to look into it in the next couple of days.
 Yep, sounds like a definite bug then.
 @samir-aguiar Awesome. :grinning: 
 @StormTrooper Excellent, thanks for testing and confirming back. :smile:
  A user on Twitter mentioned that 3.5.0 is crashing on Windows when trying to open an 11GB SQLite database file.

The thought occurred to me that maybe if we can provide a 64-bit windows version (instead of Win32), maybe that would work.

Though, I have absolutely no idea where to even start.  Maybe we need to look into the "free" version of Visual Studio that (from dodgy memory) Microsoft started making available a while back?

Anyone have ideas/thoughts/etc? :smile:
 For reference, the problem report on Twitter is here:

  &nbsp; &nbsp; https://twitter.com/MikeSchwert/status/564645625547870208

I'm pretty sure he's not using FAT32.  He wouldn't have an 11GB file to open if he was. :wink:
 @glawrence Thanks yeah, that's probably it. :smile:
 We now provide a 64-bit windows build (thanks @rp-), so closing this. :smile:
  No worries at all. :grinning: 
  When testing #189, it turns out some of the translations have their Preferences dialog turn up in the wrong menu under OSX.

For OSX, it should always be under the Application menu.  For at least Russian and French it's turning up in a different menu ("Vue" for the French).
 Hi Justin, can you test this with the commit I've just made? If I understood the Qt documentation correctly it might work this way but I've no chance to actually test it...
 Sure, I'll give it a shot tomorrow.  Need sleep atm. :wink:
 Tested this just now (OSX 10.9.5) instead, and yep, it works:
- Compiling the v3.5.1 version &rarr; Preferences entry is in the wrong menu
- Compiling with this patch applied &rarr; Preferences entry is in the Application menu (checked all of Chinese, French, German, and Russian).

Awesome stuff Martin. :grinning:
 Thank you both :smiley: 
  We don't have a funky project name for our 3.6.0 release yet.

Anyone have suggetions?

They started out with sunlight/light based names, then I ran out of ideas and just picked interesting word sets.  So, pretty much anything that sounds interesting is a valid suggestion. :grinning: 
 Heh, that's two decent thoughts... keep them coming. :grinning: 
 Personally, I'm kinda against using letters of the alphabet.  (Due to Canonical doing that, and I'm no fan of theirs. :wink:)... and place names is kinda boring.

eg "Space Pizza Express" does sound more interesting... and could lead to nifty release-logos :grinning:

For 3.6.0, how about "Dragon Emperor Chu"?
 ??? Not really.  China didn't really spring to mind at all.  Just been watching anime today tho, while doing other stuff. :grinning: 
 Ahhhh, that's an interesting idea.

March 1st is our next tentative release date, so lets look for some March 1st people for that. :smile:
 Maybe name it after "Gioachino Rossini"?

&nbsp; &nbsp; http://www.thefamouspeople.com/march-1st.php
 @samir-aguiar Famous historical battles &larr; Meh.. naming a release after the death of lots of people... doesn't sound optimal. :anguished:
 Naming it after some event that happened on this particular date kind of forces us to stick exactly to the planned release date. Don't know if that's a good or a bad thing... - but it definitely might make releases more stressful ;)
Anyway, I'm looking at https://en.wikipedia.org/wiki/March_1 at the moment... How about Beer Day? Or Justin Bieber? :wink: Or, more seriously, Naomi Anderson.
 Naomi Anderson seems like a decent figure.  Now, how to turn that into an interesting project name... :grin: 
 Not that I care too much about release names, actually I hate the debian/ubuntu naming, because I never really know which name belongs to which release.

I don't think using names of real characters is a good idea, I would rather use fictional characters or something completely different.
But again release names don't really add anything useful, until they are funny. (e.g. grml release names if you know german)
 Hmmmm....

k, on that note how about "Zoidberg has landed".  That's a fictional character (Futurama), and sounds somewhat interesting.  Now, we just need someone with illustration skillz... :grinning:

(Though I could go with "Naomi Anderson's Dream" as well tbh) :wink:
 Cool.  There have been a few suggestions, so lets put them together in a list and vote here for them +1/-1 style.

I'll get the list assembled later on today (after work), unless someone has time to do it sooner. :smile:
 "Naomi Andersons Dream" it is. (ran over time, forgot to set up a vote, so just picked the one that appealed most to me :wink:)
  Yep, that fixes it. :grinning:
  As reported here (and confirmed by myself just now), the "Default Location" preference value can't be changed.  The text field can't be typed into, and the "clickable" button doesn't open a dialog.

&nbsp; &nbsp; https://twitter.com/umeya_mann/status/562772757021491201

![b9hkk02ccaigrwg](https://cloud.githubusercontent.com/assets/406299/6084142/76fa04ac-ae26-11e4-9ca3-ab8f16ac32e6.png)

We may want to do a 3.5.1 or 3.6.0 shortly after fixing this. :wink:
 Thanks. :smile:
 Awesome Samir, yep, that fixed it. :smile:

@MKleusberg @rp- I'd like to get this fix into a main release very quickly.  @rp- Do you have time to build a new windows release in the next few days?  I can do the OSX bits, release notes, etc. :smile:
 We might want to merge a few more bug fixes into 3.5.1 (csv import, ...)
But yeah I can build a windows version tomorrow.
 @rp- Yeah, I reckon we should include all of the bug fixes since release. eg the CSV import off-by-one bug, the support for empty table names, 64-bit primary key support, both of @samir-aguiar's PR's, etc
 draft is up.
 @rp- Thanks, that's Awesome. :grinning: 
 3.5.1 is released: https://github.com/sqlitebrowser/sqlitebrowser/releases/tag/v3.5.1
  Well I can live with the argument that an empty: ',,' column should NULL and if you want a empty string the CSV data should be ',"",'.
But to get default values for columns is a bit more tricky and maybe not always what a user would expect or want. And usually it shouldn't be such a problem to get default values you want into the csv data. e.g. with libreoffice calc or excel.
 Thinking through this a bit, its pretty straightforward (to me atm :wink:), that a field consisting of only two single quotes, should be an empty string.  eg:
- '','other stuff'
- 1,'',13
- 1,2,''

Also, a field with only NULL in it (unquoted) is very likely meant to be a NULL.  eg:
- NULL,1,2
- 1,NULL,2
- 3,4,NULL

Though section 2.6 of [RFC 4180](https://www.rfc-editor.org/rfc/rfc4180.txt) does indicate it could also be considered a string value of "NULL". :frowning: 

A field without a value though...yeah, that's interesting.  NULL or "default field value" are both possibilities.

At the risk of making things more complicated, we may need another option added to our cvs import dialog. ..._sigh_...
 Just tested CSV import with our new 3.8.0 release.  We still need to add that extra option to the CSV import dialog, to specify what happens to fields without values.

It should be a very simple bit of coding, if someone has time to get it done.  @MKleusberg maybe? :smile:
 @revolter This "adding an extra option to the CSV import dialog" seems like it might be your kind of thing.  Want to take a look at it?
 @justinclift, If only I would know how to branch based on the setting.
 The database interaction bit could be tricky at the moment, yeah. üò¶ 
  This is an interesting catch ;) I wasn't aware at all that SQLite would allow you to do this. Anyway, the problem should be fixed in the next nightly build, so you can use the database and the table just like any other - that's if I didn't miss anything while testing the patch, of course :smiley: 
 @da3moon Would you be ok to try the next nightly build (tomorrow), and confirm back to us if it's all working properly now or not?  (download locations for the nightlies are listed on the front page of this repo)
  Hi!

Can you provide such a CSV file? Maybe as real download, pasting it somewhere might ruin the linebreaks.
 Thanks, I think I got it, looks like a stupid mistaken variable.
 should be fixed: 8d55fd5c48ef9ac5f94edfbe0af463dacf071593
 @harysutanto Sounds like this was just a simple mistaken variable bug, so should be fixed now.  However, just to be 100% sure, would you be ok to test with the latest nightly and confirm back if it's ok or not? :smile:
 Awesome. :grinning:
  We could parse the foreign key constraints in a table definition to understand which column links to which column of a different table and then use that information in the Browse Data tab: When hovering over a cell with a foreign key constraint and some data in it, we could show a tooltip telling the user to what table is linked here. And when holding Ctrl and then clicking the cell (or some similar combination) we could jump there directly.
 Sounds like a really good idea.  Please make it so. :grin:
 @karai17 Adding foreign keys already is possible :smiley: You have to scroll to the right side end of the grid view in the Edit/Create Table dialog but then you'll find the field you need:
![foreignkey](https://cloud.githubusercontent.com/assets/3153504/8273293/70984122-1867-11e5-93f7-a671dd7eefff.png)
 @karai17 No worries, you're probably not :smiley: And I have to admit, too, that the field for foreign keys isn't placed very well...

As for the original issue described here: With commit 39a49e33c2e48f0b389ad9681998d7ac1588e2ef I try to add exactly that feature. There's a tooltip now appearing for cells with a foreign key set which tells you the name of the referenced table and when you hold Ctrl+Shift and click on the cell it jumps to the referenced row. Anyone willing to test this? :smile: 
 @MKleusberg With the latest commits, is this now fixed? No, not yet. The last commits only fixed some bug I've introduced during my code refactoring. This means we're in a much better position now to start working on this but it's not yet implemented. No worries. :smile: #614 seems related to this too.  It'd be nice to have the option to search for texts or patterns in the SQL code in the Execute SQL tab. Some people keep all their SQL queries as some sort of history (I don't), but this would also be useful when opening a database dump or some similarly large SQL file. A find & replace function makes it even more useful.
I would suggest implementing this as one of these search bars modern application like to have, instead of adding a new dialog for it. The search bar is a bit more difficult to implement but easier to use and, when added to the SqlTextEdit class, would also work for all the other places where this class is used (like the SQL log).
 This is a bit unclear to me.   Can you whip up a dodgy pic or something to illustrate?  (doesn't have to be pretty, just needs to get the concept across) :wink:
 Here's a mockup of what I mean - "something you'd expect to open when you press Ctrl+F" might've been a better description :)
![find_mockup](https://cloud.githubusercontent.com/assets/3153504/5962376/c61a3ef6-a7e3-11e4-95c8-c7c4c0394f36.png)
 Ahhh, ok.  In the example above, would it then reduce the output to show only rows with 'example' in them?
  What do you mean with 'nothing happened'? It should ask you for a name to attach the database under and - if the attach operation performed successfully - won't show any message, the new database is just there and can be accessed by SQL, eg:

``` sql
INSERT INTO main.destinationtable SELECT * FROM attacheddb.sourcetable;
```

Of course, the attached DB should be shown somewhere in the UI but either way, it should be attached. But maybe even that's not working for you - that's why I'm asking :)
 @ashishkumartiwari Ping?
 Hmmm, going to close this for now.

@ashishkumartiwari If this is still not working for you and you still need assistance, you're welcome to reopen it. :smile: 
 Hi @DAOWAce I have had a look at this and did the following:
- Create a new database file with TableOne in
- Create another new database file with TableTwo in
- Create a third database file with nothing in
- Attach (File -> Attach Database) first database file, naming it "One"
- Attach (File -> Attach Database) second database file, naming it "Two"
- You will note that the "Database Structure" and "Browse Data" tables are empty
- In "Execute SQL" you can use "select \* from One.TableOne" and see the table

So, I believe this works. @MKleusberg I assume there is a reason why the Structure and Browse tabs don't show attached database
 Opening this for now, as there is still activity here after all.  @DAOWAce / @glawrence Feel free to close this again when it's taken care of. :smile:
 I am happy this is all working as it should, up to @DAOWAce really unless @MKleusberg thinks something is wrong
  I'm in Brussels for FOSDEM 2015 (conference), and don't have access to an OSX box until I get back on the 4th Feb.  I think we'll need to wait until then before I can test this then merge it.  (sorry) :/
 Cool, this works properly. :smile:

On a side note, when testing in French the "Preferences" menu item doesn't show up under the main application menu in the correct spot.  It starts up under the "Vue" menu.  No idea why. :wink:

Tested on OSX 10.9.5.
 Interesting.  Just created an issue for it, so we can track it properly and fix it. :smile:
  The 2000 columns limit is set by SQLite itself, so unfortunately we have no influence on that. There is a way of increasing the limit, however. You'd need to compile SQLite by yourself with the SQLITE_MAX_COLUMN setting changed to 8000 (see https://www.sqlite.org/limits.html#max_column). After that you need to compile SQLiteBrowser, too, using the modified SQLite library you just compiled. If you need any help with this feel free to post any questions here. We'd only need to know which operating system you're using. Either way, a good starting point should be these links:
https://www.sqlite.org/limits.html#max_column
https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md
This would need to be done for each application using the database file.

That said, if you're only about to design a database file and not trying to open an existing one you really should consider some alternative layouts. I just can't imagine a table that should have as many as 8000 columns. Maybe an EAV model (https://en.wikipedia.org/wiki/Entity%E2%80%93attribute%E2%80%93value_model) is a better approach in your case? The only drawback is that it's not very efficient with SQL databases; but 8000-column-tables are neither :smile: 
 Hmmmm, you might want to cheat.  When Homebrew downloads source code, it caches the tarball on the filesystem (for me on an OSX 10.9.5 system, it's under /Library/Caches/Homebrew).

So, you can change the parameter in that tarball + update the md5sum of the sqlite Homebrew formula to match it.  That way, if you tell Homebrew to recompile the formula it will get your updated code.

Note though... this is a very dodgy hack.  I'm not sure of a better approach though. :frowning: 
 @asanchez75 How did this go? :smile:
 @asanchez75 ping?

(note - I'll close this in a day or two if no response...)
 Closing this as there's not really anything we can do for it.
  Seems to work quite good, just a question as I'm not really into the code here. Can we have also an combobox entry to "revert" back to the system locale detected language?
 Ok, kinda makes sense to me, just wanted to have something to go back to the default language.

I would go with the native version. You wouldn't select it if you don't understand it.
 Interesting stuff.  I guess we'll find out how well it fits real world usage... by getting people to use it, then lets tweak from there if needed? :smile:
 I agree with @justinclift to get this to real world usage and, besides, the code quality is very good - so I really don't see any objections not to merge this :) Nice work, @samir-aguiar :+1: If you're interested in doing more coding work you're absolutely welcome to - if you should need any assistance or inspiration on which areas to work on, feel free to ask us any time!

Regarding the default language option: Maybe a compromise would be to keep the list as it is, but append the string ' (system language)' to the list entry corresponding to the detected system language, or the string ' (fallback language)' to the list item for the English language when there is no translation available for the system language. Maybe one could even move this marked item to the top of the list or so to make it even clearer.
 @MKleusberg Ahh yeah, those sound like good ways to indicate when a language is the system one, fall back one, and that kind of thing. :smile:
 @samir-aguiar Awesome :smile: I'll just open new issues with suggestions as soon as I remember them. But pick any issue you like to work on :)
  @vassileiosdermentzis Did you get this figured out?
 Ok, I will try to help. :smile:

For me, using our 3.5.1 release, I can go to the 'Execute SQL' tab and type in a query.  Like this:
![screenshot1](https://cloud.githubusercontent.com/assets/406299/6206041/4dc9c956-b578-11e4-9850-93a3b069c244.png)
It opens up a file dialog, so I can choose a location to save the file.  I give it a filename ('myquery.sql'), then click 'Save'.  Like this:
![screenshot2](https://cloud.githubusercontent.com/assets/406299/6206069/1d7f1b74-b579-11e4-9ccf-721a50c478e9.png)
That creates a text file - myquery.sql - with the SQL query in it.  Opening that in a text editor shows this:
![screenshot3](https://cloud.githubusercontent.com/assets/406299/6206096/0414dc54-b57a-11e4-80d2-26ce925865b5.png)
Is this what you are doing, and it isn't working?
 @vassileiosdermentzis ping... :smile:
 @vassileiosdermentzis How did you go with this?
 Sure, not a problem @vassileiosdermentzis. :smile:
  Thank you very much for that pull request! Nice work tracking that error messages down to these lines of code :+1: 
  You can just type your own datatypes into the data type field. The INTEGER/TEXT/BLOB/REAL/NUMERIC drop down box is just a list of suggestions and the text field next to the button opening it is a free-type input field.
 @jvonmitchell Thoughts? (wondering if we can close this :wink:)
 Closing this, as it's not really anything we can do something with.
  there was some kind of small bug in our parsing grammar, because it wasn't really covered in the sqlite3 documentation.
Should be fixed with next nightly build.

c6f585e9c4ca86faf9667339c9102c3a357fd48f
 Re "After "compact database" the button "write changes" is disabled.":
This is actually supposed to happen. The reason is that SQLite requires us to commit all changes before compacting the database, so this is what SQLiteBrowser does. There's also a warning at the top of the Compact Database dialog telling you about the fact that all changes are going to be written to disk before the database is compacted.
 @SIRprise Reading through this again, this confuses me:

```
Writing the changes is ok, but if you open a db-file and compress it you need to
change anything in db to be able to save the compressed one.
```

Do you mean that changes are NOT being saved when the database is compressed?

I just tested it with our latest code, and it **seems** to be saving things when compressing.  Am I not seeing something important? :smile:
 Cool.  :smile:
 As far as I know there is no way to not automatically save your database after doing a VACUUM in SQLite. https://sqlite.org/lang_vacuum.html says that a VACUUM writes all the data into a new database and then replaces the old one; to me this sounds like there's no way to do this without having it written to disk. So unfortunately there is no way for us to let you save the changes manually. Not sure why you couldn't see any file size changes earlier, though. Our vacuum code hasn't been changed for quite some however - so maybe it was a problem in the bundled SQLite version or just some random coincidence.
  Interesting idea.  On Linux and OSX it's not too difficult to change the language for a program prior to launch (change the LANG environment variable, then launch).  But that's not the case for every OS (eg windows), so this is probably a useful enhancement.
 @samir-aguiar 
If you wanted to work on this that'd be awesome :smile: As for the question of where to put the new option in the preferences dialog I think it might be best to create a new tab (called 'Application' or 'Interface' or similar) for this. If you move the 'Default Location' option to that tab as well, the language option wouldn't even be the only field in there.
 @Z4us There's a tool included in the Qt framework for this: Qt Linguist (http://doc.qt.io/qt-5/qtlinguist-index.html). The basic translation process is to add a new entry to the TRANSLATIONS part in the src/src.pro file (currently around line 90), then re-build the project. Now, the build system will collect all the strings to translate in the entire application and put them in the file you just added. This newly created ts file can than be opened in Qt Linguist and using Qt Linguist you can translate all the strings. After saving and rebuilding the translation should be in the application.
By the way, if somebody, probably someone who already made a translation, wanted to write a more detailed Wiki page about this process, that would be fantastic :)
 Hmmmm, thinking about where to put a "change language" user interface element... shouldn't that go on the main window somewhere (unobtrusive)?

Just thinking of this from the point of view of.... "what happens if it starts up in a language I can't read?"  (eg mandarin, japanese, etc).  It would be very tricky to navigate to the preferences dialog in that situation, let alone finding the correct tab/options/'OK'-button.  A language choosing element on the main UI though would let me solve the problem without getting stuck.

Does this make sense?
 @samir-aguiar @glawrence No worries at all, I was just kinda idly thinking out loud. :wink:

eg whatever you guys come up with is all good.  If it turns out to be non-optimal in practise, someone will probably create an issue about it then. :grinning: 
 Are we ok to close this one now, as #187 is merged?
 Sure, no worries at all. :smile:
 Heh, nah that length is fine.  Feel free to widen out the combo box as needed for it. :smile:
 Flags aren't a bad idea, but some people can have a problem with them. eg where there are conflicts over national boundaries

That being said, if it's easy to include them, maybe lets do that anyway... we can adjust later if people have a serious issue with them. :grinning: 
 ... they do add some nice colour... :innocent: 
 Hmmm, yeah, lets add them.  Does this look useful?

&nbsp; &nbsp; https://github.com/sqlitebrowser/iso-country-flags-svg-collection

Forked that to our own org repo, so it doesn't go away or disappear mysteriously. We can delete it if it turns out not to be useful.
 Just tried the latest nightly on Win7, and the combo box width looks really good.  Good stuff! :grinning:

Interestingly, only "English (United States) [System Language]" is available in the drop down box.  I'll create a new issue for that in a minute (guessing its a packaging problem on Windows). 
  Just updated the README.md file with the port info.  Is there anything else we should do?
 Is "quiterss" the correct package name there?
 Thanks, updated the installation info. :smile:

Btw, we'll probably be releasing v3.5.0 in the next few days.  Would you be ok to update the FreeBSD port when that happens?
 Thanks.  It'll probably be this weekend. :smile:
 @lbartoletti 3.5.0 is out now. :smile:
 Thanks, that's awesome. :grinning:
 Out of curiosity, the port seems to be carrying some patches (as below), should we merge these into the main codebase?

```
+--- src/Application.cpp.orig   2015-01-30 19:48:06.000000000 +0100
++++ src/Application.cpp    2015-02-01 15:40:02.790619098 +0100
+@@ -30,8 +30,15 @@
+ 
+     // First of all try to load the application translation file.
+     m_translatorApp = new QTranslator(this);
++
++#ifdef Q_OS_FREEBSD
++    QString trans_dir = "%%DATADIR%%/translations";
++    ok = m_translatorApp->load("sqlb_" + name,
++                               trans_dir);
++#else
+     ok = m_translatorApp->load("sqlb_" + name,
+                                QCoreApplication::applicationDirPath() + "/translations");
++#endif
+ 
+     if (ok == true) {
+         PreferencesDialog::setSettingsValue("General", "language", name);
+@@ -47,7 +54,9 @@
+         ok = m_translatorQt->load("qt_" + name,
+                                   QLibraryInfo::location(QLibraryInfo::TranslationsPath));
+         if (ok == false)
++  {
+             ok = m_translatorQt->load("qt_" + name, "translations");
++  }
+         if (ok == true)
+             installTranslator(m_translatorQt);
+     }
```

```
+--- src/PreferencesDialog.cpp.orig 2015-02-01 15:27:53.407669984 +0100
++++ src/PreferencesDialog.cpp  2015-02-01 15:30:51.885904399 +0100
+@@ -266,9 +266,13 @@
+ void PreferencesDialog::fillLanguageBox()
+ {
+     // Use the path relative to the main executable
++#ifdef Q_OS_FREEBSD
++    QDir translationsDir("%%DATADIR%%/translations",
++                         "sqlb_*.qm");
++#else
+     QDir translationsDir(QCoreApplication::applicationDirPath() + "/translations",
+                          "sqlb_*.qm");
+-
++#endif
+     // Add default language
+     ui->languageComboBox->addItem("English (United States)", "en_US");
```
 @lbartoletti It turns out there were a few important bugs in 3.5.0, so v3.5.1 has just been released (if you want to update the port?). :smile:
 @MKleusberg Hmmm, any ideas? :smile:
 Thank you. :grinning: 
 @lbartoletti We've just released v3.6.0.  Would you be ok to update the port with it? :smile:
  Would you be ok to try the latest nightly build?  There's been a lot of bug fixing since the 3.4.0 release, including with constraints. (download locations are listed on the front page of the repo)

Hopefully it's already fixed :smile:, though if it's not we'll need to look into it. :wink:
 Hello Andrea!
I can confirm this issue and could track its source down to the combination of a complex check constraint expression (containing an 'or') and using string literals inside it (comparing the column against a number would work). Anyways, the problem is fixed now, so tomorrow's nightly build will hopefully work better for you! :)
 Cool. :smile:
  This isn't something I'm personally interested in doing (not a fan of Gnome, and I don't use KDE).  However if someone does a pull request with the right bits, we'll happily merge it. :grinning: 
 @glawrence Any interest in picking this up?  If you're willing to, we might as well get it done... :wink:
 Yep, April 18th. :smile:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/milestones
 Awesome stuff @glawrence. :smile:
  Yeah, it's a known bug in the current release.  It's fixed in the latest nightly builds (and our source code too), if that helps.

If you're on OSX or Windows, would you be ok to try the latest nightly build and try that out? (download locations are on the front page of this repo)
  Thanks for telling us about this! The problem should be fixed in the next nightly build (see Readme.md) :)
 @malitech Out of curiosity, have you had a chance to try out the latest nightly build?

Wondering if this is working well for you now or not. :wink:
 Excellent.  Thanks for verifying. :grinning: 
  I can see no reason why this shouldn't work on any system. The OUT_PWD variable is a standard qmake feature since a long time. So it really will work on any system and for any Qt version (any version we support anyways). Just to be sure, I tested it on my system and it didn't break anything.

@samir-aguiar Sorry for the late reply but I'd be happy to include this fix in our code. cmake might be the preferred build system but we still try to support qmake as well as we can, so this is definitely welcome! Do you want to open a pull request for this, so you're the author of this fix? If not I can make the commit, too :)
 Thanks again for your effort! :+1: I've just merged your pull request. I suggest leaving this issue open for another week or so, just in case this does cause problems for somebody, though I'm pretty confident that won't happen :)
  Ahhh, interesting.  That definitely sounds like a bug.
 Thanks for noticing this! This issue should be fixed by commit f63b11925df2f7b538ef0f9f7da975e875aa5289 which, however, probably needs a bit more testing.
 @Z4us Do you have a few minutes to try out the fix in the next nightly build (from tomorrow onwards)? :smile:
 Thanks for the kind words, @Z4us :smiley: Not sure if we're going to release a 3.5.1 but I hope 3.6 won't take that long :)
 Thanks guys, that's awesome. :grin:
  Any idea what's in the phone home transfer?

At first guess, I'd think this is just the check to see if it's running the latest version.  If that's the case, then the 5monkeys thing is probably just co-incidence.
 Sqlitebrowser itself just does 1 connection (if enabled, default on windows) to github to check a file for the current version number. Any other connection shouldn't be opened.

To be honest I would remove all downloads except maybe for source form sourceforge as it is known that they patch installers and maybe also executables to add adware and other sh***.

http://blog.gluster.org/2013/08/how-far-the-once-mighty-sourceforge-has-fallen/
 k, for the next release (3.5), we'll only put the binaries on GitHub.  I'll also remove all of the existing binaries from SourceForge, and point people at the GitHub download location.
 @bonerfart Btw, which OS did you find this behaviour on?
 A 'whois' on the IP you reported says, it's owned by Fastly. That's a company which hosts all sort of websites and web applications, including Github. So I'm not that sure this connection is opened by some code added by Sourceforge - it might just be our update code connecting to Github. But without any information on the transferred data we can't really be sure.

Either way, maybe we should add an option for disabling the auto update feature on Windows. Or at least not query Github after each start if the user has clicked the Don't-show-again-option.
 @MKleusberg Yeah, that's probably a decent preference thing to add.
 Just added that option: In the preferences dialog you can now disable the automatic update check and I'm pretty confident that this will lead to no network connections being opened. If this should still be the case with any version from now on, we know the source code has been changed before compilation.
 @bonerfart Sound workable to you?
 Closing this issue as it is quite old and we have a fix applied some time ago.
 Hmmm, I think I need to test this on OSX too, just to verify it's good all round.  I'll try to get it done tomorrow.
  Oh interesting.  Martin/Rene what do you think?

@Blackkatt As additional info, which version of DB Browser for SQLite are you using, and on which OS? :smile:
 Hard to follow this report, if we have no information what "this entry" means, nor is there any delete statement in the log.

the sorting reset might be actually an issue.
 Can you tell me the exact database/table/row?
 Sorry I can't follow you, I just opened the database_{main,user}.s3db and I don't have blank only rows nor were there any problems deleting any of the rows, that where there.
Version 3.4.0

But I have to admit the sorting is reset.
 So, I could track down the issue to the very large primary key values used in the database which wouldn't fit in the int datatype we were using at some places. This should be fixed in the next nightly build.
Thanks for your bug report, @Blackkatt :smiley: 
 @Blackkatt Would you be ok to try the next nightly build (after tonight), and confirm back whether it's now working properly or not?  (download locations for the nightly builds are on the front page of this repo) :smile:
 @Blackkatt For Windows you can find them [here](http://rp.oldsch00l.com/sqlitebrowser/). Just download the sqlitebrowser.exe.xz file and uncompress it with 7-Zip or some similar program.
 Excellent, thanks for confirming back. :smile:
  In addition to that, I also removed the default "Null" text.

Let me know your comments or suggestions of what I should change.

Thanks :smile: 

Chuong
 Hmm. I should of read the building.md and actually build using cmake instead of just through the Qt Creator.

Will review to make sure it passes build correctly and run the unit tests.
 Building this with cmake/make worked fine. However the below when I try and make the unit tests
Undefined symbols for architecture x86_64:
  "PreferencesDialog::getSettingsValue(QString const&, QString const&)", referenced from:
      SqliteTableModel::data(QModelIndex const&, int) const in sqlitetablemodel.cpp.o

Would anyone mind looking over what I need to add or change? :smile: 
 @MKleusberg / @rp- Do you have a few minutes to look into this? :smile:
 @samir-aguiar 
I appreciate the feedback. I haven't touched this in a while nor will I be able to for a while. So if anyone would like to take over, please feel free to do so. No hard feelings. Otherwise I will try and jump back on this in a couple of weeks.
 @samir-aguiar Any interest in picking this up and getting it finished?  Kinda thinking it should be pretty straightforward. :smile:
 Heh Heh Heh, I guess that's a "yes" then. :wink:
 No worries at all. :smile:

Is the failure in Travis something to be worried about?
 Looks like it passing again now. :smile:
 @samir-aguiar 
I appreciate you taking this over for me!  :smile:  Sorry I couldn't finish what I started. 
 @samir-aguiar To me (non-coder on the team), this sounds fine to me.  Thank you very much for taking care of it. :grinning:
 @Chuongv No worries at all.  It's good you got it started, and you're welcome to keep being involved and do more stuff as you have time. :smile:
  Interesting.  Which OS are you on?

As a first thought, if you're on Windows or MacOS X would you be ok to try out the latest nightly build and see if that works better for you? (download locations are shown on the front page of the repo)

As a next thought, I'm looking at the above example and trying to figure out what the wrong bit(s) you're meaning are.  The carriage returns in the above example are quoted properly with ' characters aren't they?
And yeah, I'm expecting I'm not seeing something obvious... :wink:
 No worries at all. :grinning: 
  Cool, good idea. :smile:

I'm not technical enough to review the code for this, but Martin and Rene are so they should have feedback in the near future.  (hopefully this weekend) :grinning: 
 thanks
  @MKleusberg @rp- This confuses me a bit.  Google Translate has this as the first part of the translation:

```
hello,
Is there any way to introduce features like DEFAULT value for a field?
What I need is the UTC time value as an integer with this scheme:
`` `sql
`INTEGER NOT NULL DEFAULT timestamp` strftime ('% s', 'now')
`` `
see the code and it seems that is not possible.
```

But we do support default values on fields already, don't we?
 Ahhh yeah, that's clear.  By the way, your English is fine. :smile:
 Hola Alberto!
Gracias por esta idea. Con el pr√≥ximo 'nightly build' podr√°s usar la expresi√≥n '=(...)' as√≠ como sugeriste.

A prop√≥sito, pod√©s escribirnos en Ingl√©s o Casellano - como vos (t√∫ :grinning: ) prefieras. Yo entiendo un poco (pero hablo muy mal :grinning: ).
 @aMarCruz Would you be ok to test our latest nightly build, then tell us if this problem is fixed now? :smile:

If so, the download locations are in the README.md file (and front page of our project). :grin: 
 Sounds like good progress, but not quite finished yet.

@MKleusberg Is it workable to have the '=' sign be included?
 @aMarCruz 
Casi olvid√≠ este problema... :frowning: Pero ahora, si se abra una tabla para modificarla ponemos el signo '=' en el campo default. Si todav√≠a tienes tiempo y ganas a probarlo puedes descargar el pr√≥ximo nightly build (pero espera hasta ma√±ana): https://github.com/sqlitebrowser/sqlitebrowser#windows

@justinclift Finally, fixed the '=' sign to be included. So this should be fixed now, so we might be able to close this issue soon :) 
 @MKleusberg Awesome. :grin: 
 Excellent!  Thanks for checking and letting us know @aMarCruz. :smile:

Great work again @MKleusberg. :grinning: 
  what version are you using?
I'm getting correct syntax errors
 Ahhh yeah.  The 2.x series was released a bit over 8 years ago.  So, really, really, really out of date. :wink:

The present series is much better put together.  Our latest release (3.4.0) was only a few weeks ago.

It looks like you'll need to compile it yourself, but that's not hard.  Instructions for compiling on Ubuntu are here if it helps (under the "Ubuntu Linux" heading):

  &nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md
 I'll try to create a ppa for the latest LTS.
 @rp- Cool. :smile:

@rob-hills If you can locate the person who built the package in 14.04 (the info is probably in Launchpad somewhere), it probably wouldn't hurt to ask them about an updated package.  There's a chance they're already working on it (or least aware of new versions), and just need a bit of encouragement. :grinning: 
 After a few hours fighting with debian packages I think I managed to get a ppa for trusty.
https://launchpad.net/~peinthor/+archive/ubuntu/sqlitebrowser

Note to myself: I'll never become a debian maintainer
 Yeah.  Of all the packaging systems I've ever tried building for over the years, .deb's are the worst by far.  OSX Homebrew is easy.  The BSD's and Solaris (of a decade ago) wasn't too bad.  Native NSIS is ok.  rpm's aren't great, but are workable.  .deb's however are crazy (for me anyway). :grin: 
 @rp- Is the ppa built using 3.4.0 release, or latest master?

@rob-hills Would you be ok to give the ppa a shot, and let us know if it works for you?

If it does, we can Tweet about it so others with Ubuntu 14.04LTS can use it.  And we should probably add that ppa location to the website and README too.
 Thanks @rob-hills.  Lets leave it open for a bit longer.  We should adjust the README.md file and website to point people at the ppa for Ubuntu first.  Then we can close it in the knowledge we've done all we can that's in our control. :grinning:
 @AndroidGecko Are you using ubuntu 14.04 LTS with that ppa?  I think that's the specific version it's been compiled for so far, and not other ubuntu releases.

You can compile DB Browser for SQLite pretty easily yourself though.  Exact steps are here under the "Ubuntu Linux" section, and it's pretty quick:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md
 Cool. :smile:
 Hmmmm, we could probably put a call out through Twitter, to see if someone wants to create a PPA for our releases on an ongoing basis.  Pretty sure @rp- is busy with other stuff atm.

Guessing no objections? :smile:
 Yep, we're looking forward to having this too.

@deepsidhu1313 volunteered in https://github.com/sqlitebrowser/sqlitebrowser/issues/238 to do the Ubuntu packaging for the next release, which should flow into at least Mint + (I'm guessing) Elementary too. :smile:
 @rob-hills @Jerome67000 Would you have time to try out an initial test build?

If so, @deepsidhu1313 created one here a few hours ago:

&nbsp; &nbsp; https://launchpad.net/~linuxgndu/+archive/ubuntu/sqlitebrowser-testing
 Cool. :smile:
 @deepsidhu1313 3.6.0 is released.  You ok to update your ppa?

We should add it to the front page when that's done too. :smile:
 @rob-hills @AndroidGecko @Jerome67000 Would you have a few minutes to try out the new PPA above (if it suits your Ubuntu version)? :wink:
 Ahhhh, @deepsidhu1313... it sounds like you packaged master branch and not the v3.6.x branch?

I should probably have [pointed you to this](https://github.com/sqlitebrowser/sqlitebrowser/wiki/Release-process) before, but I didn't think of it until now. :anguished:  Sorry about that.

We can update that info in the wiki, if there's anything special that's needed for the Ubuntu builds btw.  That page is a work in progress. :wink:

@Jerome67000 Thank you, it's good you checked. :smile:
 No worries. The "master" bit on the end of "https://github.com/sqlitebrowser/sqlitebrowser/tarball/master" is the branch name.  "master" in this case is our active development branch, not the 3.6.x stuff.

Here's the link you want: :smile:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/archive/v3.6.0.tar.gz
 Excellent.  Just added pointers about it to the front page.  Please let me know when the PPA location changes (eg moves out of the -testing one), so it can be updated.  Or submit a Pull Request with the updated info, whatever works. :smile:
 Excellent.  URL on the front page now updated.

Oh, I need to update the website "Linux" bit too.  I'll do it after work tonight (if I forget, pls remind me!). :wink:
 @rob-hills Already taken care of.  Thanks for responding.  Maybe try stuff out when back from your cruise (I'm jealous :wink:), and see if everything works as you expect then? :smile: 
 Awesome. :grinning:
  I'm having a bit of trouble visualising the problem.  When you say NULL field values aren't highlighted, in which of the interface are you meaning, and how do you reckon they should look?

As a thought, are you ok to do a screenshot?  That generally helps make things clearer. :smile:
 valid request, its hard to impossible to see if the field is NULL or empty string
 @77tb Thanks, that's a lot clearer. :smile:

And yeah, that's not a bad idea. :grin:
 This should be fixed with the next nightly build!
 @77tb Do you have time to try out the nightly build (from today onwards), and report back if this problem is fixed ok for you now?

We like to double check, just in case. :grinning: 
 I just downloaded both the nightly builds for December 2nd. I am not seeing a change yet. 

Below: ![image](http://i.snag.gy/Ealr8.jpg)

Also are we supposed to be using Qt Creator for this project if we want to make changes/explore the code?

Thanks
 Ah sorry, I was expecting a red column. So yes the change is in there.
 Yeah, I went for a more subtle style there because changing the background colour of the cell (even to light grey) looked kind of awkward and was a bit too attention-grabbing for my taste...

If you're still interested in making changes/exploring the code that's awesome! We always like getting feedback or pull requests. Both, Rene and I, are using Qt Creator for development, so while you can use any IDE you'd like, Qt Creator is probably the recommended choice. With it it's really just a matter of opening the sqlitebrowser.pro file and start browsing and building the code :)
 @Chuongv Trying with different background colour shadings to show NULL sounds like a decent idea.  Human brain seems to recognise colour a little bit faster than words, so some people may find it helpful.

Do you want to implement that, then maybe do some comparison screenshots in this ticket so we can discuss (as a group) whether to incorporate it or not?  I'm generally in favour of the concept, but would like to see how it looks in reality first. :grinning: 
 @justinclift I am still pretty new at C++ right now so I don't feel confident hacking away at anything yet. Currently taking an intro to C++ class. I'll take a look this weekend but I can't guarantee anything. :smile: 
 This turned out easier than I thought. So here are the various options. We could turn the Null to a red color.

Edit: This is a fake database which can be found here http://chinookdatabase.codeplex.com
So no personal information is being exposed.
![nullredtext](https://cloud.githubusercontent.com/assets/5170710/5277377/4c14f9f6-7a80-11e4-96d5-86d14aaf140e.png)

Seemed a little too red for me so I opted to turn down the opacity.

![255redopaq180](https://cloud.githubusercontent.com/assets/5170710/5277367/287cb498-7a80-11e4-9202-6959ff16307d.png)

Still didn't like it so I went and remove the null text and opted for a background color change like suggested from @77tb 

![backgroundopacity90](https://cloud.githubusercontent.com/assets/5170710/5277386/6d8910d6-7a80-11e4-9bd4-d26f5b8e8d2f.png)

Turned down the opacity here a bit. Which I liked a little bit better
![backgroundopacity20](https://cloud.githubusercontent.com/assets/5170710/5277389/75f0640e-7a80-11e4-97b4-7d530230cc19.png)

I am still pretty new to the codebase so I will probably need someone to review to make sure I didn't break anything.

Let me know your thoughts.

Thanks
 Cool, well done. :grinning:

For me, I kind of like the extreme red NULL (first version) on white background.  Yeah, I'm weird. :wink:

Although, I don't mind the lighter red background (no text) version either.

As a thought, what does it look like with the light red/pink background + using NULL (text word) inside at the same time?

Hmmm, I can see we'll probably need to make this a config option or we'll be bike shedding it all day. :smile:
 @77tb What are your thoughts on this too? :smile:
 If I would have to pick one, I would also stick to the second version.
But this is really some kind of user preference, but for a consistent UI (BLOB indication) I would write the string "NULL"
 Awesome.  That's all good input. :smile:

How about if we add a field to the preferences dialog (SQL tab), called something like "NULL values".  In the value for that field, people can set a text string (including blank) along with changing the foreground + background colour for the field.

The contents of that field (background, foreground, text) is used as the value for NULL fields in the Browse Data tab?

If that's workable, @Chuongv, are you up for that challenge?  I'm guessing it'll be a good learning thing, and you'll figure it out.  Plus we're here to give pointers if you have questions and/or run into trouble. :grinning: (And yeah, I'm specifically encouraging you to keep doing stuff on DB Browser for SQLite.  To my thinking, this project is a good avenue for developing C++ skills in software lots of people use. :wink:)
 Sure thing! I would love to give it a try. It won't be perfect, but I'll try my best :smile: Not sure if you guys have a deadline for this, but if so feel free to take over if I take too long. :hourglass: 
 Cool. :smile:

Our next release (3.5) is due on 14th December.  Do you reckon you could get it done a day or two before that, so people can test it and comment?

That's only about a week away though... :wink:
 @justinclift
Once I'll get home, I'll sift through the code to see how viable I can do this. The biggest hurdle for me will be understanding the qt framework. I'll try and get you an answer by tomorrow. 

Again if anyone wants to take over, feel free to do so. I won't get upset üòÑ. 
 @justinclift 

After spending a couple of hours looking over the code, I have no idea on how to proceed with this. So feel free to assign this to someone else.

I was only able to add NULL to the preference table, but I do not understand Qt enough to link the view to the action of popping up the color picker.

Anyways, I'll be following this project and I appreciated the offer in letting me take a stab at it :sweat_smile: 

Thanks
 @Chuongv Don't give up yet. :wink:

Are you ok to push your code to GitHub where it adds NULL to the preference table?  Martin or Rene should be able to look over it, then guide you on the bit after that which you're having trouble with. :grinning: 
 Sure thing, here it is https://github.com/Chuongv/sqlitebrowser/commit/82ac2fa9ebb48ef6ff7866aff49952faf7db6928
I didn't add much :disappointed: 

edit: Figured out how to make it so the user can change the background color of the NULL fields.
Also I did not realize that Github would automatically link my issues. That is pretty cool :grinning: 

Anyways, comments are appreciated.
 Btw, if anyone has time to check, the code for this is in our latest nightlies.  Feedback (prior to next release) would be awesome. :smile:
 Closing this as we have configurable NULL value highlighting for some time now. It should be well tested and any new errors should probably be reported in a separate issue.
  Yeah, that's a good idea.  Probably not hard to implement it for windows at least.

Not sure if the current installer code automatically removes the previous version though, which is probably a requirement too.  Will need to check. :wink:
 Yeah, that sounds like the right approach for Windows.  For OSX, it **might** not be that straightforward.  DB Browser 4 SQLite (we really need to think of an acronym for this program :wink:) can be installed using one of the OSX package managers (eg Homebrew).  So using a solution blindly on that platform probably isn't the right approach.  [Sparkle](http://sparkle-project.org) does sound worth investigating though, for the "updating manually installed OSX binaries" use case. :smile:

Hoping your next Pull Request will be for this auto-updating stuff? :grinning:
 Looking at the Sparkle instructions, this seems doable:

&nbsp;&nbsp;  https://github.com/sparkle-project/Sparkle/wiki

Sounds like it's mostly a packaging approach, and won't really touch the executable code itself.  This would probably work well for our existing .dmg/.app bundle downloads, without conflicting with the Homebrew installed versions.
 If it helps, I can provide the cronjob script used for the nightly builds of D2B4S (acronym test 1 :wink:) for OSX.  Probably chuck it in a gist or something.  Want it?
 With Homebrew, I don't _think_ it has an auto-update capability yet (unless recently added).  So yeah, people need to manually update when they're using that.
 Cool.  This is the script that generates the nightlies:

&nbsp; &nbsp; https://gist.github.com/justinclift/38887c1cfe480adfb11b

It's not at all elegant, and could be improved a lot (eg checking return codes for failures and similar)... but it works.
 Btw, I'm kinda thinking "DB4S" is the shortest potential acronym we could use...
 Cool.  All good progress.  Pleae keep it up. :grinning: 
 As useful reference info, @revolter pointed out [fervor](https://github.com/pypt/fervor).  That project itself appears to have died, but it may be worth looking over its code if we need to make our own system.
 Sparkle is great, but AFAIK is not cross platform :( `fervor` was inspired by Sparkle, and made it cross platform, so maybe we have can salvage something from there.
 Yep.  Our ideal solution on Windows and OSX would probably be to copy the approach of modern browsers. eg download updates automatically in the background, and install them when the application is next used.  The BSD's and Linux distro's have their own update mechanisms already, so it wouldn't need to run on those.
 Parsing version numbers is a pain.  v3.9 is always written as 3.9 instead of 3.09, which it is technically.  Applications see a new version of v3.10 not 'higher' than 3.9 (which in maths terms is 3.90, so higher than 3.10).  Argh.  You have to break each part of the number down rather than treating it as a 'number'. 
I'm sure this is like the advice they give for logins on websites - always take someone elses code and never roll your own! :wink:

Personally, I prefer the option to have a notification of a newer version rather than the program 'auto update' only because (no offense!) newer versions tend to break things, so when you just have to get something done, you don't want the program going, "hang on, just download the newer version.  Oh, hang on.  I've uninstalled the old one, but before I install the new one, it needs these runtimes, so go to this site, download this pack, click that link...no that other one....download the relevant 32/64bit, unpack it, but don't install the other DLL which has known issues....oh too late, you've installed it....aah, so now you need........._pop_
 Hmmm, version number parsing for semantic versions major.minor.patch is pretty easy.  But yeah, it has to be broken into the separate parts first. :wink:

Auto-updating... yeah... we're need to have more confidence in our releases being very stable before we start doing that for everyone.  Optionally enabled (defaulting to off) code, for the brave few, is a reasonable idea to get things started with though. :smile:
 @chrisjlocke, https://regex101.com/r/bB0hB2/1.
 Added `v3.9.0-beta1`: https://regex101.com/r/bB0hB2/2
 v3.9.0.-1 :wink: 

Edit: I was joking.  That won't work... don't try it.  No, don't.  Step away.
 üòè 
 https://regex101.com/r/bB0hB2/3

_Edit:_

Or a simpler solution: https://regex101.com/r/bB0hB2/4

Too bad Qt doesn't support look behinds :(
 @revolter it is supported. In QRegularExpression.
 Searching for `behind` in the [`QRegularExpression`](http://doc.qt.io/qt-5/qregularexpression.html) documentation yields nothing :| Can you point me where is it mentioned?

If it is supported, [this regex](https://regex101.com/r/bB0hB2/5) works too.
 @revolter I got this information [here](https://dangelog.wordpress.com/2012/04/07/qregularexpression/), it's peppe's blog, who is Qt developer. Ctrl+F `lookbehind`, further investigations are up to you :)
  Thinking about this, I suspect the right way to present it would be a pop up dialog showing progress.

Something like this:

&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ![progress bar 1](https://cloud.githubusercontent.com/assets/406299/6651687/f2e2822e-ca46-11e4-8485-f3ce09abffcb.png)
 @Z4us Ahhh, hadn't thought of that as it's not a browser.  But yeah, point taken. :smile:

So, maybe a status bar thing instead then...?
 Qt provides [a "progress bar" widget already](http://doc.qt.io/qt-4.8/qprogressbar.html), so that's probably the thing to use for the display.

Collecting the info to use with it is likely harder.  For (say) a CSV import it would probably be something like:
1. Do an initial row count for the input file.  This is so we can know how far we've progressed through the total file, during the import.
2. Figure out how often to update the progress bar
   - Maybe figure out how wide the progress bar is in pixels (if there's a way). Divide total rows / # pixels
   - If figuring out the # of pixels for the progress bar isn't easy, then go with a percentage approach instead.  eg Divide total row / 100
3. Now run a loop to import the CSV data, updating the progress bar every x lines (as worked out in previous step), and checking for a press of the Cancel button

That's without error handling though, and I have no solid idea on the correct behaviour if the user hits the Cancel button (eg doesn't want to wait further).  Keep the data successfully imported so far?
  Hmmmm, as a first thought, can Excel be made to put quote marks around those hex numbers?  eg "000000"

That (in theory :wink:) should get them to be treated as strings, which then should "just work".

Reality might have other ideas, but it's worth a shot. :grinning: 
 your last marked line isn't the same as in your excel file.
But apart from that, until we implement some kind of pre/post detection of datatypes you better should stick with telling excel to export that field as string.
 @rallyRays Looking back through our older issues atm.  Did putting quotation marks around the hex numbers get it to work? (wondering if it did, and if this issue can be closed :wink:)
 Yeah, that sounds like a workable approach.  Closing this issue for now.  If you reckon it's worth opening again for further investigation, feel free to. :smile:
  Interesting.  Looks like you have coding skills too... we're very open to pull requests if you're interested in submitting one. :grinning: 

?
 No worries at all.  Was just hoping. :grinning:
 hm what version did you try?
I have no crash, neither on master branch or 3.4.0.
Even the 3.4.0 windows version doesn't crash.
 I copy/pasted your samples from above, and than looked at the schema tab and browse tab
 For more reference also see #51.
Martin did most of the work with the without rowid support, but according to him most of it should work.
Of course bug like this could always be, I just can't reproduce it here.
 @Lukas-W Do you have an example database that crashes for you, that we can get a hold of somehow?  That might help (unsure).
 Oh, I wonder.... I'm pretty sure the examples of table structure above were a bit different when you first pasted them in (eg you neatened them up afterwards).  I'll see if I still have the email GitHub sent out with the original structure in it.
 Nope, I was misremembering.  It was a different issue I was thinking of.  Sorry for the noise. :wink:
 confirmed and identified.
will commit a fix later today.
 crash should be fixed. 16b8428b66b6e002054cd1a6ff5700fb2ee9cca2
 Awesome. :grinning:

@Lukas-W Do you have a few minutes to try with the latest code (using master branch) and let us know it it's all fixed now?
 Excellent.  Thanks for testing and letting us know. :smile:
  That'd be useful, though I suspect it could be a bunch of work. :smile: 
  When you say "compile to OS2", what are you meaning?  Are you compiling on the ancient IBM OS/2 operating system? :wink:

With the error you're getting, it looks like you've pasted the wrong bit maybe.  The one you pasted was a warning message, so it probably means the error was further back in the output.

Maybe paste the whole log output in here so we can see it, or in a gist? :smile:
 Hi!
To compile the current sqlitebrowser you need at least qt 4.8.
 only way is to rewrite the parts that don't work.
For your error above a simple copy into a QString will do it I guess, but I'm sure that won't be the last error.
 @rp- If @TeLLie does manage to get it working properly with Qt 4.7.x (cleanly), should we merge the changes into the main DB Browser for SQLite repo here?

I'm kinda thinking we probably should... :wink:
 @TeLLie Will you be adjusting the code to make it work with Qt 4.7.3, or should we close this issue for now? :smile:
 Cool. :smile:
 That's pretty awesome. :grinning:

Do you want to contribute the patches here, so we can merge them into our code?
 Cool. :smile:

With that failing test, it looks like something's not quite right yet with the conversion to Qt 4.7.3.  Hopefully it's something simple.

It might be possible to tell from the diff. (unsure)
 Hmmm, not sure if that diff is really correct here.  GitHub doesn't have good tools for attaching files directly to issues. :frowning:

Are you skilled enough with using git, that you could submit a GitHub Pull Request?

If not, then maybe email the diff to me directly? (justin@postgresql.org)  I can turn that into a GitHub Pull Request, which will show the diff visually and stuff. :smile:
 @TeLLie Does this look correct?

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/pull/165/files

Created that by cutting and pasting from the .diff you emailed (and I was pretty careful).  So in theory I didn't miss bits. :wink:

Note - I haven't tried compiling this on Linux or OSX yet, so that needs to be done first.
 Cool.  Please do. :smile:
 You'll need to email them to me directly (justin@postgresql.org).  GitHub doesn't seem to attach files to issues correctly. :wink:

Btw, what name do you want on the commit message?  At the moment it's:

```
Elbert & Nicole Pol <elbert.pol@gmail.com>
```
 @TeLLie Do you have time to try compiling our latest source code?  Rene added the initial code for Qt 4.7 compatibility.

We'll still need to follow up with the OS2 rc and icon file anyway though. :wink:
 @TeLLie ping?
 @TeLLie Did you still want the OS2 ico and .rc file included?

If so :smile:, are you ok to email them to me (justin@postgresql.org)?
 Thanks. :smile:

Something seems to be going weird with my email occasionally, so they didn't get through to me. :frowning: 
 So, in theory the icon and resource file should be in the latest code now.

@TeLLie Do you have some time to try compiling with the latest code, and report back if it works?  If it does, we can probably close this issue. :smile:
 You're completely welcome.  Thanks for sharing your changes with us. :grinning: 
 @TeLLie - Seen this? http://www.techrepublic.com/article/os2-resurrected-blue-lion-becomes-arcaos-details-emerge-for-upcoming-release/
 Sounds possibly useful, but not sure what that is?

Is it for the newly resurrected OS/2? :wink:
 Out of curiosity, do you know if Qt5 support is being added to Blue Lion?
 That's good news.  We've been [thinking of going to moving to Qt5 only](https://github.com/sqlitebrowser/sqlitebrowser/issues/603), so I'd been concerned we'd have to drop OS/2 support. :smile:
 Cool. Co-incidentally, we're releasing version 3.9.1 today too. üòÅ 
 Excellent. :smile:

Should we add that to the README.md file, or will OS/2 users already know where to look?
 Awesome. :smile:
  Hmmm, the 1st one (additional space) shouldn't be a problem.

The 2nd one could be more interesting.  If the .sql file is for importing back into SQLite, then it probably doesn't matter.  But... if the .sql file is for importing into some other database (with strong data types), then yeah, that could a problem.

Martin/Rene, what do you guys think?
 Should be fixed: 85578bd9b6db336e3b7c5a456db347f628f72d8d
 @DongilKim Which operating system are you using?  If it's Windows or MacOS X, would you be ok to try our latest nightly build, and let us know if it's fixed now?

The download locations for our nightly builds are on the front page of this project repository (if that helps). :smile:
 @DongilKim Cool.  Would you be ok to try our latest nightly build, and let us know if it's working properly for you now? :grinning: 
 Oh wow.  Yeah, that's not good.

@rp- One for you? :wink:
 issue should be fixed. e814fa2a03327b3306ebea72381cf37d6f220165
 @DongilKim Would you be ok to try the nightly build (tomorrow), to check if the problem is fully fixed now?
 Awesome.  Thanks for testing it and letting us know. :grinning: 
  With the SQLite database you created using the password 'abcd', was that created by our program too?

I'm trying to understand if our program isn't opening a file it created itself, or if it's not opening a file created by a different program. :wink:

By the way, which operating system and version of DB Browser for SQLite are you using? :wink:
 Martin/Rene any ideas?
 From a very quick look at the System.Data.SQLite code it seems they use sqlcipher in the background, but Martin might know more.
 Oh interesting.  This might work with our latest code then.

@chucklu Do you have access to an Apple Mac or a Linux computer?  We recently added support for SQLCipher to our code.  It's only working for MacOS X and Linux so far, not Windows.  We're investigating getting it working on Windows too, but it's not there yet. :wink:
 Interesting info from [Ulrich Telle](http://www.telle-online.de/wxwidgets/wxsqlite3.html) on the sqlite-users mailing list, about the encryption algorithm used in System.Data.SQLite:

> At least the _original_ component System.Data.SQLite, available from
> 
> &nbsp; &nbsp; https://system.data.sqlite.org
> 
> uses its own encryption implementation based on a 128-bit RSA cipher (using the Windows Crypto API), while SQLCipher uses a 256-bit AES cipher (using the OpenSSL library). SQLCipher provides a .Net interface (SQLCipher for ADO.NET), which is _based on System.Data.SQLite_, that is, the SQLCipher guys used the .Net wrapper part of System.Data.SQLite, but replaced the internal implementation of the encryption algorithm by their own implementation.
> 
> The page
> 
> &nbsp; &nbsp; https://www.zetetic.net/sqlcipher/sqlcipher-ado/
> 
> explains how to use SQLCipherfor ADO.Net together with Visual Studio.
> 
> Unfortunately the various encryption extensions for SQLite are not compatible, so the developer has to take care that the development environment and the database management tools intended to be used support the same encryption extension.
 Hmmmm, thinking this specific issue through, it seems like it's not really a problem with DB4S, nor something we can really do anything with.

Going to close it as "invalid" for now, as it's most likely a file created using an encryption method we don't support yet (nor plan to, unless someone wants to take up the task :wink:). 

If that doesn't seem right, feel free to reopen this. :smile:
  Hmmm, that sounds more like the kind of thing you'd create using a form in (say) LibreOffice or similar.

With LibreOffice, you can create forms that do things like that, tying them to a backend database like PostgreSQL, SQLite, etc.

Have you looked at doing that yet?
 @AAverin It's been years since I used LibreOffice (or OpenOffice) in depth, so I'm really not the right guy to help you with that.

In theory (:wink:), there should be guides and tutorials around for doing this.  I haven't checked though, so it may take some time and research.

As @Z4us suggested, asking on the SQLite Users mailing list is a good idea too.  There's a decent chance someone has already created something like this, or at least knows in good depth how to do it. :smile:

@Z4us LibreOffice is a fork of OpenOffice created after Oracle were dicks (my wording :wink:) to the OpenOffice developer Community.  The **vast** majority (but not all) of the OpenOffice developers moved there, and the pace of development + engagement there seems to be much, much higher than in OpenOffice.  (that's a very, very rough explanation, from someone not directly involved :grin:)
  @AAverin Which operating system are you using, and which version of DB Browser for SQLite are you trying it with? :smile:

@MKleusberg @rp- Any ideas?  This is an area of things I have no clue about. :frowning:
 was waiting for Martin, he did the fancy hex and blob edit input stuff ;)
  Interesting thoughts. :smile:

A few other people have also asked for "remember the path from the last time X was done" recently.  eg https://github.com/sqlitebrowser/sqlitebrowser/issues/149#issuecomment-62305299

Some people prefer a behaviour of always starting in the default directly though.  eg https://github.com/sqlitebrowser/sqlitebrowser/issues/115

I guess we could have a preference checkbox along the lines of "[ ] Remember last location in file dialogs?", which lets people choose their preferred approach.

I don't think that would be hard to do, just a bit time consuming to write the code.  It'll probably need each type of file dialog (eg SQL export) to have it's own path variable which gets updated, and saved/loaded across sessions.

---

This one is a bit confusing to me:

```
when I press save it does not remember that I opened a sql file in the first place so I have to find the file.
```

With the "Save Project" dialog, it also does that for me.  I'm not sure you need to actually do that though when you want to just save your changes.  You might be able to use the "Write Changes" button in the top bar for that.  Lets ask Martin and Rene, just to confirm. :wink: @MKleusberg @rp- Thoughts on that?

---

With the "execute currently selected text" idea, for me it already does this:

![2014-11-13-execute-sql-result](https://cloud.githubusercontent.com/assets/406299/5034992/78eddb6a-6b6b-11e4-9164-c6ecc0cce70a.png)

Are you doing it like in my dodgy picture above? :grinning: 
 Gotcha, I get it now. :smile:  Yeah, that should be doable.  Doesn't sound like a huge amount of effort either. That being said, I'm not sure when we'll have time to add it.  We kind of have a pretty extensive list of existing stuff to get through already.  Guess we'll need to prioritise and stuff.

Don't suppose you're interested in learning C++ and Qt programming?  If so, this is a very good project to start out on. :grinning: 
 No worries, it didn't take that much time. Should be fixed in the next nightly build :)
 @spassvogel Which operating system are you using?  If it's Windows or MacOS X, would you be ok to try the next nightly build (tomorrow), and let us know if the Save/Save-As bit is working well for you for .sql files now? :smile:
 Hmmm, we haven't really thought about donations or that kind of thing (yet).

We probably should though, just in case it turns out to be a useful stream of $ to do stuff with. :grin:

@MKleusberg @rp- Any objections into us looking into Gittip or something? (I have no preferences towards one service over another atm, this isn't something I know much about yet)
 No experience, except that I got once a donation via paypal for another project.
But I'm not sure the gittip(gratipay) is the thing we are looking for with weekly payments.
 Yeah, good point.  It doesn't hurt to look into for awareness, but it's not a high priority. :wink:
 Thanks @spassvogel, that's awesome. :smile:

Btw, everything in the nightlies becomes part of the next major release, so all good there too. :grinning:
  With this, are you meaning the bottom-most pane? :smile:

I've just checked the current behaviour, and I'm not sure if this is a good idea or not. :wink:

At the moment, this is what's shown when there is a result:

![2014-11-10-sqlitebrowser_1_result](https://cloud.githubusercontent.com/assets/406299/4980376/c330e096-68ff-11e4-9075-037512749ae1.png)

And this is shown when there isn't:

![2014-11-10-sqlitebrowser_0_results](https://cloud.githubusercontent.com/assets/406299/4980391/d8af7874-68ff-11e4-8aa2-52cb035113c0.png)

I kind of think having the bottom pane showing "0 Rows returned from: [query] (query time)" is a lot more informative than clearing that bottom pane.

What're your thoughts? :smile:
 Ahhh yeah, that makes sense now.  That's probably doable without heaps of effort too. :smile:
 Thanks for pointing this out! It should be fixed in the next nightly build.
 @reverendhomer Would you be ok to try the next nightly build (tomorrow), and let us know if it's working well for you now? :smile:

The download locations for the nightly builds are on the front page, if that helps.
 Awesome!  Thanks for verifying it @reverendhomer. :grin:
  Frankly, your SQL statement _is_ wrong. There are no 'FROM's in an update statement. But even if you fix that it won't work because SQLite doesn't support joins in an update statement. There is nothing we can do about that, it's just how SQLite works. There is a workaround though: https://stackoverflow.com/questions/773441/how-do-i-make-an-update-while-joining-tables-on-sqlite

The same applies for the error message by the way. This is the message SQLite returns, the only way to improve it is parse the entire statement by ourselves (which we might want to do in the future but unfortunately is quite complex and currently of little use...).
 @dylan666 No worries. :wink:
 @dylan666 You're welcome - glad we could help :smiley: 
  Ahhh, this is probably a good idea and not hard to do.  We already save some info into project files and similar.

This sounds more like it should be saved into the same spot as our general program wide preferences though, as it's not likely project file specific.
 This should be fixed in the latest nightly builds :)
 @kannes Would you be ok to try out the latest code, and let us know if this works well for you now? :smile:
 Ahhh yeah, that sounds both simple enough to implement + useful too.

@MKleusberg What do you reckon? :smile: 
 A bit of background information here: All our file dialogs are opened always showing the same directory which can be configured in the Preferences dialog. So it's used for all dialogs (no matter whether you're opening a DB, exporting a CSV, ...) and it's used all the time (the application doesn't remember the most recently used directory at any point).

Personally, I think this behaviour is stupid and annoying. But looking at issue #115 I can see that other people actually expect this very behaviour when using the application. So I'm not sure what to do here... Maybe we can have a little poll ;) I'd vote for remembering the latest path.
 I would make this a bit more advanced and remember the path depending on the taken action/category.
So for opening/saving db's we have directory and for cvs import/export.
Something like that
 @rp- Even better :) I fully agree.
 Yep, that sounds like the right approach. :smile:
  you are using the ancient 2.0 version.
Please check if your distribution provides a newer version, or compile it yourself.
See BUILDING.md for instructions.
 @reeshkov Out of curiosity, which operating system are you using? :smile:
 Cool.  That should be pretty easy for you to compile our latest code on.

At a guess, the instructions for Ubuntu [here](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md) are probably what you want.

If they don't work for some reason, please let us know (with as much information as possible), so we can try to fix the problem. :smile:
 Why are you trying with ancient versions (over 8 years old)?

The download location for our most recent release (version 3.4.0) is here:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/releases/tag/v3.4.0
 No worries. :smile:
 @reeshkov Is the latest version working better for you? :grinning: 
 We haven't heard back from @reeshkov, so I'm closing this now.

@reeshkov If the same problem still happens in the new releases, you're completely welcome to re-open this issue and we'll investigate. :smile:
  Interesting.  That sounds like a worthwhile request.  Unsure if it would be straightforward, but it could be done.
 It's a random thought, but one workaround might be to export all of the item tables to csv files (yeah, slow atm, sorry).  Then see if there's some other program (like LibreOffice Calc) which can search through all of them at once (after it's loaded them).
 @Tythesly, I don't know how would this work. Should it search a string in all the columns of all the tables?
  Good point.  Some kind of dialog with checkboxes - listing the tables, should work, and it shouldn't be too hard to implement.
 Hi!

With 1ce33792c534f7228fd888d0b27f5abdc51c8c28 multiple tables can be selected to be exported into an selected folder.
 That's awesome Rene! :grinning:

@Tythesly Would you be ok to try tomorrow's automatic nightly build?  That will have this feature in it, and we'd like to know if it works well for you. :smile:
 Awesome. :grinning:

If other stuff turns up, yep, please report it. :wink:
  Hmmm, this sounds like it may be a bug with the NSIS installer part of things we're using.

@rp- Any ideas?
 Ahhh, cool.  Thanks. :smile:

That's probably enough of a hint for us to figure it out.  Let's see...
 @timrae In theory (!), this should be fixed a while ago.  Do you have a few moments to download our recent 3.8.0 release, and test this out just to be sure? :smile:
 Cool, it's all good. :smile:
  Interesting. :wink:

First thing to do is try opening up the exported table file using WordPad.  If the Korean characters look ok in the file, then the problem is likely in Excel.  However, if the Korean characters aren't correct in the file-opened-with-WordPad, then our table exporting code could be needing work. :flushed: 

Also (if our code seems to be the problem), which version of DB Browser for SQLite are you using, and how did you export the table? (eg which options, etc) :smile:
 Ahhhh.  The problem seems to be Excel not understanding how to import unicode characters properly, and is trying to import them as text.

Doing some Googling, this looks like the solution (step 7 in particular):

&nbsp; &nbsp; http://support.mobileapptracking.com/entries/27347804-How-To-Import-a-Unicode-CSV-to-Excel

Give that a shot and see what happens. :smile:
 Hmmmm, that's not good. I'm not sure of the solution for this.  It seems our export is working ok, but Excel isn't doing the import properly. :frowning:

Keep researching this and trying stuff I guess.  If there's something we can tweak on our end so that Excel imports better, let us know.  We'll definitely consider it (if the amount of effort needed isn't too overboard of course). :wink:
 Yep, that's already possible.  Kind of surprised you didn't notice it already (it's not hidden). :wink:

In the "Export data as CSV" dialog, there's a "Field separator" line with a drop down box.  This lets you choose what to use for separating the fields.  The pipe character is one of the common options, and there's a "Other" option too, for specifying less common stuff if needed as well.
 Now this is interesting.  I don't have MS Office, so I exported the items table to a .csv file then imported it into [Libreoffice Calc](http://libreoffice.org) instead (a free equivalent to Excel).

![2014-11-07-dbbrowser_original_item_table-specific_rows_highlighted](https://cloud.githubusercontent.com/assets/406299/4959340/7b46706a-66b7-11e4-8e99-4a07f92fdbe1.png)

At first I thought it worked 100% perfectly, but then I noticed **some** of the rows (not many) aren't importing quite right.  For two lines (id values 150 & 155), their description field value is being broken up into three columns (E, F, G) on the import:

![2014-11-07-libreoffice_calc_text_import_result-slightly_broken](https://cloud.githubusercontent.com/assets/406299/4959332/70f32798-66b7-11e4-8a50-670b3c2ba1bb.png)

And looking at the .csv file, it seems the problem is in there.

![2014-11-07-csv_file_shown_in_vi](https://cloud.githubusercontent.com/assets/406299/4959346/83d6151e-66b7-11e4-8094-942d55acbe21.png)

So it looks like our csv export code has a bug in it somewhere. :wink:

For reference, these are the import settings I used:

![2014-11-07-libreoffice_calc_text_import_settings](https://cloud.githubusercontent.com/assets/406299/4959349/90a0e0f8-66b7-11e4-9c2c-584d00642b85.png)

@MKleusberg @rp- Any ideas?  If it helps, I've uploaded the .sqlite3 file, the .csv file, and the LibreOffice calc .ods file here:

&nbsp; &nbsp; http://mirror.salasaga.org/sqlitebrowser/issue144/
 Heh heh, I've just done exactly the same, Justin (also wanting to be worshipped for months) ^^

But I have to admit I didn't see the problems you found. The fix for this was trivial though - the next nightly build will export it correctly.
 @MKleusberg Heh Heh Heh, awesome.  :grinning: 

@Tythesly Have you downloaded LibreOffice? (www.libreoffice.org)  The LibreOffice Calc program will open .ods files, which are its equivalent of MS Excel files.  Libreoffice is completely free, so you're 100% ok to download/install/use it, etc without hassle.

To make things a bit easier, here's the .csv and .ods file again, but this time exported using Martin's fix. :smile:

&nbsp; &nbsp; http://mirror.salasaga.org/sqlitebrowser/issue144/compact_decrypt-fixed_version.csv
&nbsp; &nbsp; http://mirror.salasaga.org/sqlitebrowser/issue144/compact_decrypt-fixed_version.ods

If you grab tomorrow's nightly build of DB Browser for SQLite (from the download location on our front page), you'll be able to export them correctly yourself too. :grin:
 Ahhh gotcha.  The "native" file format for LibreOffice Calc is .ods.  In the same way that the "native" file format for Excel is .xls.

So, I imported the .csv file into LibreOffice Calc, then saved it out as .ods.

Is that the bit you were unsure of? :smile:
 Awesome, I think you're all set to get stuff done now. :grin: 
 Ahhh, didn't think of that.  Yeah no worries.  Gimme a few minutes.
 Hmmmm, it's possible we've found a bug in LibreOffice Calc.  I can export and import the .csv file ok, but Calc is having problems saving to .ods.  eg it uses 100% of a cpu core (hasn't finished yet), and doesn't create the .ods file.

Here is the .csv if it helps:

&nbsp; &nbsp; http://mirror.salasaga.org/sqlitebrowser/issue144/localized_texts.csv
 Heh Heh Heh.  Try opening this with Excel:

&nbsp; &nbsp; http://mirror.salasaga.org/sqlitebrowser/issue144/localized_texts.xlsx

I'd forgotten that Calc can also save in some MS Excel formats.  The old .xls format isn't good enough (65535 row maximum), but the newer .xlsx format seems to have all of the information.  And Calc seemed to save that without too much problem (unlike .ods). :grin:
 You're welcome.  Good luck. :smile:
 @Tythesly It's already available in our nightly builds (download location for the nightly builds is on the front page). :wink: : 
  Are you able to put the file online somewhere, so we can try it out?

Or, if you don't want it accessible to the public, are you able to email it to me (justin@postgresql.org)?  I can then forward it to Martin and Rene (the technical guys). :smile:
 As a second thought, does the sqlite3 command line client open the file ok?
 Hmmm, that file doesn't seem to be showing up in a way I can get it.

Emailing it to me might actually be the easiest approach. :grin:
 sorry but I get this even with the sqlite3 commandline client:
`sqlite> .schema`
`Error: file is encrypted or is not a database`

So either the file is encrypted or the database is corrupt
 The file looks encrypted to me since there is no readable text in it whatsoever if you open it in a hex editor. Unfortunately we don't support encrypted databases (yet) but even if we did support the encryptions algorithm used in this particular file you'd still need the passphrase...

Now, after some googling, I suppose you got that file from ArcheAge? If this is the case, there's still some hope. On [this Russian site](http://allcheats.ru/t220061/) there's a description of a tool which extracts the passphrase and decrypts the database. You should then be able to open and edit the decrypted database.
 Good luck.  Hope it works out for you.  Once you get it unencrypted, it should work with DB Browser for SQLite. :smile:

(feel free to re-open this issue, if it doesn't work after being decrypted)
 Oh wow, yeah.  If you cut-n-paste the data out of the "name" and "description" fields into Google Translate, does that work? (guessing that's the first thing you tried :grinning: )
 Hmmmm, maybe there are separate files in the program, that just have the english translated strings?
(likely in database format too then)

With computer software (by English-speaking authors), it's very common to have all of the program in English, but also include a file with translated text strings.  When the program starts up, it detects the computer is in (say) French, and loads the French language file.  For every bit of text to display, it loads the French text string from that file, instead of displaying the English version.

DB Browser for SQLite does this too.  Here's our French translation file as an example:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/src/translations/sqlb_fr.ts

So, it's not guaranteed ArcheAge does things that way... but there's a decent chance.

Hope that helps. :smile:
 Yep, that sounds like the right kind of file.
  What turned out to be the problem? :smile:
  Yeah, not sure about this.  Martin/Rene?

We might want to reject this for now, but consider it again at some future point?
 It's pretty likely we'll support them at some point.  But it's not likely for the upcoming release (3.10.0), and we still a fair amount we need to get done for that. üòï  This takes you through the complete developer environment setup process for Windows, along with getting DB4S built and running:

* https://github.com/sqlitebrowser/sqlitebrowser/wiki/Setting-up-a-Win64-development-environment-for-DB4S

Does that help? :smile: If you're up for getting it done (takes a few hours, though that's mostly downloading and waiting for installs to finish), be aware that some of the paths in the setup guide no longer match the ones hard coded in the source.  They're not far off, and it's easy to fix if you know to watch out for it. :wink:

The paths used in the source at the moment are: https://github.com/sqlitebrowser/sqlitebrowser/blob/master/CMakeLists.txt#L18-L30

(that's for compiling on 64 bit windows)

Notice the "5.7" in the Qt path?  That'd likely need updating to "5.8".  Similar for the OpenSSL and SQLite paths in that highlighted section too, just make sure they match the directory structure you create when you go through the guide. :smile: @nowox Working on this now. Turns out to be trickier than expected but I might be able to push a first version this evening. Progress:
- [X] Update
- [ ] Insert
- [x] Delete

Delete seems easy enough, insert however more tricky.

By default, views are still locked from editing because most databases don't have triggers in place for editing views. This means you have to enable editing for a view by browsing it, right clicking on the column headers, and clicking "Unlock view editing". You'll then be asked for the name of a unique column in that view. That's because we somehow have to decide how to address rows in the view and there doesn't seem to be any good way to find out a suitable column automatically.  Interesting.  I didn't realise this had changed.  May have been an oversight.

Martin/Rene, thoughts?
 This is actually an interesting issue you're raising here. To be quite honest I didn't even know that you could copy the create statement of a view ;)
So here's what I found out: If you look at the tree view in the Database Structure tab (or the DB Schema pane) as a table, what is being copied depends on where you click. If you click on the name of a view and press Ctrl+C the name gets copied but if you click on the create statement and press Ctrl+C that one gets copied which I guess is what you wanted.
Now, we could change that behaviour to always copy the create statement no matter on what column you clicked but this _might_ conflict #119 where the suggestion is to make it easier to copy the name only. But maybe this already helps you; if not we can still add a context menu or so.
 I've just added a new action called 'Copy Create statement' to the right-click menu of the Database Structure tab which copies the CREATE statement to the clipboard. From there it can be put in a file or in a SQL editor tab. I hope this makes it more obvious how to access the CREATE statement.

There is no editor window for creating views and therefore we don't support editing them in a graphical way neither. I can't imagine any way of implementing such a dialog, too, because the create statements of views can be incredibly complex... But maybe (hopefully) making it easier to copy the statement to an SQL editor tab already does the trick :) 
 Thanks @MKleusberg, that's excellent. :smile:

@MarcoTroester @Greg-Roberts Would either of you have time to try out our latest nightly build, and let us know if the new 'Copy Create Statement' approach is workable from your points of view?
 You're in luck. :smile:

We automatically compile a build each night from our latest source code (it's scripted), and make that available for download here:

&nbsp; &nbsp; http://rp.oldsch00l.com/sqlitebrowser/

The .xz file there is the compressed version of the program.  Use [7zip](http://www.7-zip.org) to uncompress it, and you should be right to go. :grinning: 
 @MarcoTroester It's @MKleusberg's work. :smile:

It sounds like this issue is pretty much resolved now, so I'm going to close it.  If that's not the case, feel free to reopen it. :wink:
  Would you be ok to try the latest nightly build (download locations are on the front page), and see if the problem is fixed there?

We've made a few minor adjustments to things recently to make this better, so your feedback on whether it's good enough now or now would be great. :smile:
 By "tooltip", are you meaning the text information pop ups that appear over the icons?

I'm trying to visualise the problem in my head, to better understand it. :smile:
 Should be fixed in the next nightly build. I slightly modified your suggestion in order to not remove any line breaks from the tooltip text even if they are removed in the display role (there's a new option in the preferences dialog which makes all create statements one-liners).
 Awesome Martin. :grin:

@xiangxw Would you be ok to try the next nightly build, and let us know if the tooltip thing is working ok now? :smile:
  Wow, that's awesome! :grinning: 
 Thanks!!
 @efreeking Would you have the time + interest to update this translation?

We have (mostly) frozen the strings for our upcoming 3.9.0 release, and
generated new .ts files using lupdate.  So... they are in a good state for
translating now, if you have the time. :smile:
  I'm ok with the g++ part, but why would I step out of the build directory?
This will not work
 Ahhh.  Would you be ok to update this pull request, with the new fixes? :smile:
 No worries at all.  We're glad you're trying to help and improve things.  Please keep doing so.  Really. :smile:   
  Thanks
  Confirmed and I also noticed that we suffer the same memory problem as in the csv export before the rewrite.
So while fixing this bug I will also change the export to be streaming like.
 Should be working now with 8c5dfbb9779023f315c4801c27c21ad04b852680
 @roehrip You're welcome. :smile:

Would you be ok to try it out again, using the latest source, and confirm back if the bug is fixed now or not? :wink: 
 Closing this for now, as it **should** be fixed.  @roehrip If it turns out not to be, please let us know/reopen this, etc. :smile:
  Thanks, that's excellent. :smile:
  Thanks Jade, this sounds like good brainstorming. :grinning: 
 Thanks for spotting this! And my bad - totally forgot about this option :grinning: 
I've just pushed a commit which fixes it this way: If you delete your default value the entire DEFAULT clause gets removed, just like it was before. I think that's the most intuitive approach and also what I originally intended. If somebody wants to have an empty string as default value they can do so by typing in "''" (<- that's two single quotes). The dialog won't touch your default value if it is quoted already.
 Cool. :smile:

@jadeade Would you be ok to try the new nightly build (Friday's), and double check it's all ok from your point of view?
 Thanks @jadeade, that's Awesome. :smile:
  Ouch, that doesn't sound great. :frowning:

As a thought, which OS are you using?  If it's Windows or OSX, would you be ok to try out our latest nightly build? (download locations are on the front page of this repo)

We've been adjusting our CSV import code recently, so there's a decent chance the new builds will "just work" for you. :smile:
 xz is a lossless data compression program and file format which incorporates the LZMA compression algorithm.

One can think of xz as a stripped-down version of the 7-Zip program. xz has its own file format rather than the .7z format used by 7-Zip (which lacks support for Unix-like file system metadata).
 Heh yeah.  .xz just means it's compressed.  Use [7zip](http://www.7zip.org) to uncompress it.
 Cool. :smile:

I'll close this issue.  The fix will be in our next release (very soon), and has been in our nightly builds for a while.  Thanks for double checking this. :wink:
  If you change the size in the Preferences dialog, does it work?
 k, that's weird.  I noticed someone similar temporarily a few versions ago, but it seemed to er... "magically" go away. (eg it just started working again)

I'll have to try this out on my OSX desktop later today or next week after I return (travelling), to see if I can figure out what's going wrong. Sorry for the inconvenience. :frowning: 
 Just as a thought, would you be ok to try the latest nightly build and see if the behaviour is the same there?  Guessing it will be, but it's worth a shot just in case. :smile:

&nbsp; &nbsp; http://mirror.salasaga.org/sqlitebrowser/nightly/
 Oh interesting.  This probably won't be too hard to fix.

@MKleusberg Your kind of thing?  Notice the small font size in the bottom left pane.  It should have the font from "SQL log font size" preference applied to it as well.
 Yes, I can do that - in fact, I just did :wink: For the log in the Execute SQL tab we're now using the same font size as for the SQL log pane on the right. Previously it was set to a fixed value of 8.
The fix should be in there in tomorrow's nightly build and should work automatically without you being required to change any settings.
 Awesome. :smile:

@elton12345 Would you be ok to try out this onceoff build, which has the new code, and confirm back whether it works or not?

&nbsp; &nbsp; http://mirror.salasaga.org/sqlitebrowser/onceoffs/sqlitebrowser_201410151310.dmg
 Heh heh heh, sounds like it worked then. :wink:
  Hmmmm, also interesting.  Did it crash immediately, or did it take a bit of time before crashing?  eg to run out of memory first

@rp- Should we stream statements into the Execute SQL dialog too? (remembering your recent streaming patch)
 Hmmm, doesn't sound like a memory exhaustion problem then.  Maybe we need to batch inserts into 'X number of inserts per transaction' or something... I guess Rene or Martin will have better ideas. :smile:
 This could be related to #95, so trying the nightly build is worth a shot.
 Good thinking. :smile:
 Awesome.  Closing this Issue report then, as it's a duplicate of the one in #95 and the fix will be in the next release. :smile:
  Interesting.  Good catch. :smile:
 Okay, the actual problem here is the default value for the fourth field. It doesn't get handled correctly and this causes most other features of that dialog to break. Luckily I've put some effort into solving this issue today (commit c29702a1b97e6fcc30651973591b7b565746a90d). So just like with your font size issue this should be resolved in tomorrow's nightly build :)
 Thanks guys.  Closing this Issue now, as Martin's fix will be in the next release (soon) and will be in the nightlies until then. :smile:
  Not a bad thought at all.  Do you have design or coding skills, and some time to help? :smile:

Thinking it would be easier to begin progressing this with some concept diagrams / screenshot-type-things.  Helps work out features, clarify / prioritise things, and so on. :wink: 
 Cool, please do. :smile:
 Thanks, downloading that now.  Is it ok if I insert those pictures into this Issue, so others can see them?
 Cool.  It looks like you've spent a lot of time and effort thinking this through, so I hope someone picks up this Issue + implements it. :grinning:

![plein_ecran_08_02_15_14_00](https://cloud.githubusercontent.com/assets/406299/6099064/d331a48e-afe6-11e4-987d-465ec33871ff.png)
![plein_ecran_08_02_15_14_10](https://cloud.githubusercontent.com/assets/406299/6099068/d3390e54-afe6-11e4-93fe-fd1655782cec.png)
![plein_ecran_08_02_15_14_24](https://cloud.githubusercontent.com/assets/406299/6099066/d3384866-afe6-11e4-967d-39061840faf0.png)
![plein_ecran_08_02_15_14_56](https://cloud.githubusercontent.com/assets/406299/6099067/d338c82c-afe6-11e4-8522-cb5589896e1a.png)

We already have this one as part of our normal UI:

![plein_ecran_08_02_15_16_16](https://cloud.githubusercontent.com/assets/406299/6099069/d33ad8ce-afe6-11e4-8368-94de5015ed06.png)

![plein_ecran_08_02_15_16_17](https://cloud.githubusercontent.com/assets/406299/6099065/d33741b4-afe6-11e4-8c96-069406e78520.png)
![plein_ecran_08_02_15_18_03](https://cloud.githubusercontent.com/assets/406299/6099070/d3458490-afe6-11e4-8569-06820eb25e06.png)

This bit is making sense to me now for "form views":

![plein_ecran_08_02_15_18_04](https://cloud.githubusercontent.com/assets/406299/6099073/d34db516-afe6-11e4-9aa5-d92b063d7345.png)

So yeah, I get what you're meaning. :smile:

![plein_ecran_08_02_15_18_06](https://cloud.githubusercontent.com/assets/406299/6099071/d34cd22c-afe6-11e4-93ba-6dbac8acf050.png)
![capture_d ecran_2015-02-08_a_18_13_05](https://cloud.githubusercontent.com/assets/406299/6099072/d34d7eac-afe6-11e4-865f-10b87b43b84f.png)
![plein_ecran_08_02_15_18_43](https://cloud.githubusercontent.com/assets/406299/6099074/d34eb4de-afe6-11e4-83c2-135e7286ae07.png)
![plein_ecran_08_02_15_18_46](https://cloud.githubusercontent.com/assets/406299/6099075/d3518718-afe6-11e4-8b35-b3b7828937a4.png)
![plein_ecran_08_02_15_18_54](https://cloud.githubusercontent.com/assets/406299/6099076/d357c182-afe6-11e4-8731-ed1244c0426b.png)
![plein_ecran_08_02_15_18_56](https://cloud.githubusercontent.com/assets/406299/6099077/d3628216-afe6-11e4-9a39-40af17fd9a9c.png)
 I guess there would need to be a "form designer" part, and a "form viewer" part (eg for displaying data and/or data entry).
  No worries Steve.  As a thought, which version of SQLite Browser / DB Browser for SQLite are you using? (same program, we've just recently done a bit of renaming :wink:)  Also, which OS are you using?

Just to point out, we have nightly builds available for both Windows and MacOS X.  Probably best to try out the one for your OS (or compile your own if on Linux), to see if the problem still happens with our latest code.  Locations for the nightly builds are on the front page of this repo (and on the sqlitebrowser.org website). :smile:
 Ahhh sorry, I worded that a bit unclearly.  There's no need to learn linux or use a dev environment, since you're on windows. :smile:  The windows executable here is updated every night (automatically) using our very latest code:

&nbsp; &nbsp; http://rp.oldsch00l.com/sqlitebrowser/sqlitebrowser.exe.xz

So, it'd be nifty if you download it again and see if the problem still happens.  That will let us know if it's something still needing fixing, or if it's already been fixed. (we've done a bunch of fixing recently) :smile:

Does that make sense?
 Yeah, probably good to update it, to try and keep it clear. :smile:
 This issue seems to be related to #64. I've just pushed a commit which (with any luck) fixes both of them.
 Excellent. :smile:

@stevefalzon Would you be ok to try tomorrow's nightly build, to check if this new code fixes the problem for you?
 Hmmm, I'm wondering if this new problem is the same as https://github.com/sqlitebrowser/sqlitebrowser/issues/133?  If it sounds like it, would you be ok to check the new nightly build tomorrow (Friday), which has Martin's initial code for fixing that in it. :smile:
 @stevefalzon Reminder ping.  @jadeade in Issue #133 says the problem is now fixed for her.  Just wanting to confirm it's now fixed for you as well. :wink:
 Hopefully that title change is correct (just noticed the updated OP). :wink: 
 Pretty sure this is all fixed now, so closing it.  @stevefalzon If it does turn out to still be a problem, please reopen this. :smile: 
  What version are you using?
 @DSLituiev Would you be ok to include a screenshot as well?  I'm finding it hard to visualise the problem. :frowning: 
 Hmmm, those images aren't showing up for me.  If you're ok to email them, send them to me directly at justin@postgresql.org.  I'll figure out how to get them into this issue report properly.:smile:
 I don't know why, but those screenshots aren't showing up in the issue for me in Dmytro's comment above, even when I manually paste them in.

But they are showing up in my comment (markdown related?), so I'll include them below. (weird)

---

This is how it looks
![one](https://cloud.githubusercontent.com/assets/406299/4622272/380d4cb0-5339-11e4-991d-c97a16cc31e9.png)

Now I press backspace and get:
![two](https://cloud.githubusercontent.com/assets/406299/4622279/483704aa-5339-11e4-98c2-4d993defecac.png)

Once more backspace:
![three](https://cloud.githubusercontent.com/assets/406299/4622283/55916244-5339-11e4-924b-01f03d6c937f.png)
 @DSLituiev If you change the font in the Preferences menu, does this problem still happen?
 The menubar looks like from an ancient version.
Please try a newer build.
 Oh, good point.  That's from the old pre-3.x releases.  Several years old. :dizzy_face: 

@DSLituiev It should be fairly easy to compile our newest code on Ubuntu.  There are [instructions for Ubuntu in BUILDING.md](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md), if that helps. :smile:
 @DSLituiev How'd you go with this? :smile:
 No worries.  Thanks for testing @DSLituiev. :smile:

I guess Ubuntu 12.0x LTS will keep using the ancient version forever, and only some newer versions of Ubuntu have our latest releases.  Not much we can do about that. :frowning: 
  What build version are you using?
 Can you give a nightly build a try:
http://rp.oldsch00l.com/sqlitebrowser/

I added dummy collation support in there. see #54 
 @VrIgHtEr Did you have a few minutes to try this out?  Hopefully it solves the problem. :smile:
 @VrIgHtEr ping?
 Thanks for checking, that's really good news.  The fix will be in our next release (soon) as well, so I'll close this issue. :smile:
  As reported by @beyonav in https://github.com/sqlitebrowser/sqlitebrowser/issues/107#issuecomment-57966995, it looks like our quote character handling still needs a bit more tweaking.

With reference to the spec at https://tools.ietf.org/html/rfc4180:

> 1. Double quotes issue:
> 
> The spec says double quotes are optional as long as no special chars are in the field. So the current version is strictly correct, yet it creates trouble with Excel (it prevents automatic field type detection). Since Excel is a widely used tool AND avoiding unnecessary double quotes creates smaller files I would recommend removing them.
> 
> >    "5."  Each field may or may not be enclosed in double quotes (however
> >        some programs, such as Microsoft Excel, do not use double quotes
> >        at all).  If fields are not enclosed with double quotes, then
> >        double quotes may not appear inside the fields.  For example:
> > 
> > ```
> >    "aaa","bbb","ccc" CRLF
> >    zzz,yyy,xxx
> > ```
> > 
> >    "6."  Fields containing line breaks (CRLF), double quotes, and commas
> >        should be enclosed in double-quotes.  For example:
> > 
> > ```
> >    "aaa","b CRLF
> >    bb","ccc" CRLF
> >    zzz,yyy,xxx
> > ```
> > 
> >    "7."  If double-quotes are used to enclose fields, then a double-quote
> >        appearing inside a field must be escaped by preceding it with
> >        another double quote.  For example:
> > 
> > ```
> >    "aaa","b""bb","ccc"
> > ```
> 
> "2." CRLF issue:
> The spec says all files should be CRLF ‚Äì means Windows style. There is no ambiguity here. That should be an easy fix.
 Ahh, good thinking. :smile:
 Hmmmm, if the Excel version of csv is consistent (I haven't read csv.html yet), then we might be able to add an "MS Excel compatible?" checkbox to the dialog or something, with corresponding code bits to make it work.
 With latest master it should new produce more RFC like CSV files.
62d72e6a9e1f and f38c3f13caa
 @beyonav Do you have a few minutes to try the latest nightly build, and check if that works better for you? (download locations are listed on the front page of this repo) :smile:
 @beyonav Ping?
 Closing this for now.  @beyonav If the newest code doesn't turn out to work well enough for you, please let us know. :smile:
  Hmmm, I'm not sure I'm understanding the problem.  Is it the "0 - 0 of 0" line in the bottom left corner?
 Thanks for reminding me of that issue with the wrong row numbers - I noticed that some time ago but completely forgot about it ;) Anyway, this should be fixed now by commit ae19911.

Regarding the '<' & '>' operators: You're right that they probably make no sense in this specific context but then again, this is valid SQL and exactly what SQLite returns when executing a query like that. In other cases they might even make sense, e.g. when there are mixed types in a column (some numeric rows, some text rows).
  @rp- @MKleusberg Looks like a decent idea to me.  What do you guys reckon?
 @mcirsta Thanks btw. :smile:
 thanks
  Hello,

When running the DB browser for SQLite version 999.0.0 under Kubuntu 13.04, I get my menu bar, dialog buttons and tab headers in a different - and wrong - language (specifically German) from my locale settings (Country: United States of America, Preferred Language: American English). Seems like everything explicitly KDE-related is being mistranslated. All of the rest looks correct. Screenshots for verification attached below.

Relevant details:

OS: Kubuntu 13.04
DB Browser for SQLite version: 999.0.0
QT Version: 4.8.4
KDE version: 4.10.5

Kind Regards,

David

![dbbrowserforsqliteversion](https://cloud.githubusercontent.com/assets/8994559/4490140/87fc8220-4a26-11e4-852f-95a33a3eb023.png)
![kdecountrysetting](https://cloud.githubusercontent.com/assets/8994559/4490139/87f745d0-4a26-11e4-8e01-f7ca4d625802.png)
![kdelanguagesetting](https://cloud.githubusercontent.com/assets/8994559/4490141/88050a1c-4a26-11e4-8644-f39138ad66cc.png)
![kdeversion](https://cloud.githubusercontent.com/assets/8994559/4490138/87f16a0c-4a26-11e4-891a-2c3f619f3dda.png)
![problem](https://cloud.githubusercontent.com/assets/8994559/4490142/880794f8-4a26-11e4-98ed-77ccc35c268d.png)
 Heh Heh Heh, that's an interesting bug. :wink:

Was DB Browser from source, or was it installed from a package in the Kubuntu repos?
 In theory (!), the language you're seeing should be controllable by environment variables.

Try setting this environment variable first from the command line, then starting the application again right after that (from the same command shell):

```
LANG=en_US.UTF-8
```

If that works, then it's _probably_ something in your environment that's not quite right.  That being said, DB Browser should at least be consistent in it's language choice, even when it gets things a bit wrong... so something's not 100% in the code. :wink:
 > On Thu, Oct 2, 2014 at 4:19 PM, Justin Clift notifications@github.com wrote:
> 
>    In theory (!), the language you're seeing should be controllable by environment variables.
> 
>   Try setting this environment variable first from the command line, then starting the application>again right after that (from the same command shell):
> 
>    LANG=en_US.UTF-8

Tough luck I'm afraid... that's already what it is (ref. attachment) :-(.

![environmentlanguagesetting](https://cloud.githubusercontent.com/assets/8994559/4506580/214054f6-4b04-11e4-9fc6-d08e1cd9d5ef.png)
 Was a thought. :wink:

Would you be ok to list the complete output of our environment here (or in a gist, or maybe fpaste.org)?

I'll try and replicate it here and see what happens. 
 On Fri, Oct 3, 2014 at 4:03 PM, Justin Clift notifications@github.com
wrote:

> Was a thought. [image: :wink:]
> 
> Would you be ok to list the complete output of our environment here (or in
> a gist, or maybe fpaste.org)?
> 
> Not necessary anymore I think. I've been investigating myself, and it seems
> like the LC_ range of environment variables was set to  de_DE.UTF-8. I have
> no clue why that is happening really... LANG, meanwhile, was set to the
> correct value. When I set everything to en_US.UTF-8, it works as it should.
> Very bizarre! I have to check out where the LC_ variables (e.g. LC_NAME,
> LC_TIME, ...) are coming from to fix the issue on my machine. I've never
> had visible problems with it before.

I'll do a bit more investigation, and if I don't find anything more I will
close the issue.

Sincere thanks for the very prompt assistance!
 You're completely welcome. :smile:
 Going to close this, as it's (hopefully) just that once off of weird environment variables.  If other people report the same problem in future, we can look into it in more depth. :smile:
 Sorry, I was planning to do that myself but RL issues came in between I'm afraid.
 No worries at all. :smile:
 It's just a placeholder version number in the development code.  It's replaced in the released versions with the release number.  eg 3.3.1, 3.4.0, etc. :smile:
  Interesting idea. Could be the start of a visual query builder. :wink:
 Tab completion of variable names and keywords in the Execute SQL window would be nice too.  Unsure what it would take to implement though...
  Buena pregunta. Yo no creo que vaya a funcionar. Podemos preguntarnos los principales desarrolladores (Ren√© y Martin), sin embargo, para estar seguro.

@rp- @MKleusberg Any ideas?  Have we tried compiling with sqlite2.x to see if it would work?
 :frowning: 
 the last sqlite 2.x release is from 2005.
I think even the "old" sqlitebrowser only had sqlite3 support (at least the later versions)

And definitely no support for sqlite2 as it has completely different API calls.
 @jonorozco2013 Lo sentimos, pero DB Browser para SQLite no soporta SQLite 2.x de ninguna manera.
No puede ser compilado para usarlo y no abrira ficheros de base de datos de SQLite 2.x. 
Simplemente SQLite 2.x es demasiado antiguo :frowning:

(thanks to Francisco Fuente Diez again for translating :smile:)
 @Z4us Not sure if it would work in this instance though, as @jonorozco2013 mentioned his team work with SQLite 2.x for their web development.  So it sounds like an ongoing usage of SQLite 2.x, rather than a once off thing.

Updating their usage to be all SQLite 3.x would obviously be an improvement from our point of view, but I have no idea what other constraints they're working with keepinng them to the old version.
 @aMarCruz De nada. :smile:

---

I'm going to close this issue, as I doubt we'll ever introduce SQLite 2.x compatibility.
  ¬øSe puede incluir una captura de pantalla? 

NOTA - Esto es de Google Translate. S√≥lo me hablo Ingl√©s nativa. :wink: 
 ¬øEs el problema con la vista "DB esquema" en el lado derecho? 

Si es as√≠, entonces usted puede desactivarlo mediante View ‚Üí "DB Schema". En el men√∫ superior. 

¬øEso ayuda?
 Tambi√©n puede arrastrar la vista "DB Schema" de la interfaz principal. Entonces ser√° en su propia ventana. :smile:
 Lo siento mucho, pero estoy teniendo problemas para entender. Voy a pedir un compa√±ero de trabajo de traducir para m√≠, pero ser√° ma√±ana. 

Espero que est√° bien. :smile:
 from what i filtered out, this is related to #79 
 Translations from a work colleague (thanks Francisco Fuente Diez!):

Jonorozco2013 reported:

> Hi, the problem is that you show the scheme of a table inside Treeview,
> the size changes considerably damaging the entire interface of your program."

Just after screenshot he also said:

> I reccomend you the scheme of the table is shown in a messagebox or in
> a form in order to don't damage program interface"

In the next comment, he said:

> No, but DB Schema is useful to him to know the elements of a table. What
> I mean is into the data structure"

And finally he remarks in two red circles the area he suggest it would be nice to put into a messagebox or in a form.
 Sinceramente, no estoy completamente seguro cual es tu problema. Pero acabo de a√±adir una nueva opci√≥n que elimina todas las nuevas l√≠neas en el TreeView. La nueva versi√≥n ma√±ana se podr√° descargar ac√°: http://rp.oldsch00l.com/sqlitebrowser/

Opci√≥n:
![1](https://cloud.githubusercontent.com/assets/3153504/4679774/ca625592-5604-11e4-9c26-e62760db37f3.png)
Antes:
![2](https://cloud.githubusercontent.com/assets/3153504/4679776/ce2f17dc-5604-11e4-862d-76458c294bd2.png)
Despu√©s:
![3](https://cloud.githubusercontent.com/assets/3153504/4679792/fdb60452-5604-11e4-80f5-acb791ceff0a.png)

Para mas detalles acerca de la tabla pod√©s (disculp√° el voseo :grinning: ) hacer doble clic al nombre de la tabla. Tal vez eso te ayudar√° un poco. Si ten√©s otra idea una captura de pantalla modificada con Paint o algo semejante para mostrarla ser√≠a perfecto :) 
 Closing this as the issue is quite old and should be solved. I hope this is fine for everybody :) 
  Interesting.  I wonder if the project rename broke the save preferences or something.  Would you be ok to try the 20th September nightly build, and see if that works as expected?

&nbsp; &nbsp; http://mirror.salasaga.org/sqlitebrowser/nightly/sqlitebrowser_20140920.dmg
 Figured it out?
 Interestingly, @MKleusberg added https://github.com/sqlitebrowser/sqlitebrowser/commit/5d20d97e249a42d7dae1061d946c90c9c987d608 earlier today.  Kind of wondering if that might fix this problem for you on 10.6.  Want to try tomorrow's nightly build and check?
 Found one more place where we didn't use the default location from the preferences dialog and fixed it (280d5c17737f3f380b98c6d952441ded1f900d07) but I don't think this latest commit changes something about this issue.
 @Z4us Out of curiosity, have you tried any of the recent nightly builds? It'd be interesting to know if this works 100% on OSX 10.6 now. :smile: 
 Yeah, not sure.  Guess we'll need to keep an eye out for it. ;)
  This may be related to https://github.com/sqlitebrowser/sqlitebrowser/issues/107.

Unsure how to approach this though for such large file sizes.
 Does the command line version of sqlite open this database ok?
 if the command line utility can open it, I see no real reason why sqlitebrowser shouldn't be able to.
Until of course there is some sort of bug or we run out of memory while we generate additional table information

But for example the row size shouldn't really hit us, as since 3.0 we added partial table retrieve to not fill up the memory with huge tables.
 @serden84 Is this still being a problem for you?

If so, would you have time to try opening the database file with the command line client, to see if that works?
 @serden84 @renkun-ken Our new release from a few days ago has a 64-bit Windows build.  Would you have a few minutes to try it out with your larger data set files?

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/releases/tag/v3.6.0

We're hoping the 64-bit builds work better for large data sets now... :smile:
 @ogloo Would you be ok to try our recent (3.7.0) release? The 64-bit version that is.  In theory, it should open larger database files without a problem: :smile:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/releases/tag/v3.7.0
 The 32 bit version is unlikely to ever load large database files.  To load large ones, you must use the 64 bit version.  And yeah, I understand that might not be easy. :frowning:
 Closing this as we introduced large database support on Windows with version 3.6.0 64-bit.
 Yes, the 64 bit version sounds like the right approach here.

But let's not forget the 'x rows affected' thing @ogloo mentioned above as this makes a lot of sense (even though it's a bit off topic in this issue :smiley: ). With the latest commit I've just added this feature. Now, it's a bit awkward to say but it'll be available in the next nightly build which - unfortunately - is only available as a 32bit executable...
 @MKleusberg Good catch. :smile:

@ogloo Would you be ok to try tomorrow's nightly build, and let us know if the new UPDATE output is working well for you? (download locations are on the front page of this repo if that helps)
  Bug reported via private email:

```
I have a small issue. On the screen ‚ÄúDatabase Structure‚Äù it‚Äôs great to see the
Schema but I cannot see the whole line as it is too long. Unfortunately, it‚Äôs not
possible to scroll or copy. It would be great if you could add one or both
functionalities to be able to see the whole line.
```

![noscrollingindatabasestructureview](https://cloud.githubusercontent.com/assets/406299/4398404/476bf8ac-4455-11e4-91c5-8650775545c4.png)
 I've just pushed a commit which resized the Schema column to fit its contents; if it's too long a horizontal scroll bar will be shown.
A minor problem with this approach is that this overrides any custom column widths on each reload. However, I think that this doesn't really matter as it's the last column anyway and the other two remain untouched.
 Thanks Martin.  I'll ask the original reporter to try out the latest nightly build, and see what they reckon. :smile:
 Closing this issue as it is quite old and we have a fix applied some time ago.
 Thanks for testing this @glawrence. :smile:
  Hmmm, I'm pretty sure that standard SQL wildcards work (eg the '%' character), though I'm unsure about quotes.  Does this page on the wiki help?

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/wiki/Using-the-Filters
 @raananb Ping...
 Closing this, as I'm guessing it was a non-issue and the "Using-the-Filters" page probably covered the wildcards.
  Good point.  Linux is fully supported, so we should add instructions for building on it.

On a side thought, the README page is starting to get pretty long so we might want to start migrating instructions into separate BUILDING doc per OS, or maybe onto pages in the wiki.
 There is a BUILDING.md file, I would rather move the macos compiling from readme there.
And maybe make the support for Linux a bit mor prominent, but as a developer for me that is pretty clear after seeing the cmake stuff :)
 Well yes and no. :wink:

BUILDING.md doesn't explicitly have a "Linux" heading anywhere, so the "BUILD INSTRUCTIONS AND REQUIREMENTS" bit doesn't really jump out as applying.

And yeah, we should probably move the OSX stuff into there too.  Probably need to add heading for Linux and OSX, just to make it super obvious.  And put some kind of pointer in the README file, to direct people there.

I can get around to it later. :smile:
 How does BUILDING.md look now?

Just added Linux build instructions with https://github.com/sqlitebrowser/sqlitebrowser/commit/59a9e0bc6aca437fd378e999798e10add9cbb161 and https://github.com/sqlitebrowser/sqlitebrowser/commit/9c00bd9965e37c29cadd80cf4a74e8970617d694. :smile:
 Closing this now as it's pretty definitely fixed (and Garrett is away sick).

Get better Garrett. :grin: 
  Thanks.  I'm not technical enough to look into this, but the guys (Rene and Martin), should be able to figure out what's wrong. :smile:
 Thanks, should be fixed. 594ea3842024f69d2966302d8b8690acd582f4c2
 @ToniTaste Would you have time to try the latest nightly build (tomorrow), to verify this is working for you now?
 Closing this, as it **should** be fixed, although we haven't yet had confirmation back from @ToniTaste.

@ToniTaste If you test this and it's not completely fixed, please reopen this issue (or let us know some other way). :smile:
  With the next nightly build editing foreign keys will be possible. I'm updating this issue because the other constraints mentioned in #81 are still missing but at least foreign keys are implemented now :grinning: 
  Thinking this over, I can't see any reason **not** to do it.  It's up to Rene and Martin though, as they're the actual developers. :wink:

That being said, you're also completely welcome to submit a pull request to address this, if you want to add it yourself. :smile:
 Don't worry i have it nearly finished.
Just a few remaining bugs and i'm pretty busy right now.but i guess its in
next week
On Sep 25, 2014 6:46 PM, "jadeade" notifications@github.com wrote:

> It's curious because on version 2, the product had a [...] button to add
> custom types! so seems that this feature was dropped somewhere :)
> 
> About adding it myself, I feel a little lost with the used tools, I
> already downloaded the code and QT Creator, but couldn't make it compile,
> need to investigate a little. I have two long holiday weeks ahead, so I
> will consider it if I can fight against this lazyness :D
> 
> ‚Äî
> Reply to this email directly or view it on GitHub
> https://github.com/sqlitebrowser/sqlitebrowser/issues/108#issuecomment-56847737
> .
 Should be working now, 5713bc9a0762a9640a5d3d42646f60176ac5a8d4
 @jadeade Would you be ok to try the latest nightly build (tomorrow), and let us know if it's working for you as expected? :smile:
 Thanks @jadeade, sounds good. :smile:
 Ahhhh yeah, sounds like this code still needs a bit of work.  Good thing we like people to verify stuff. :smile:
 Thanks for noticing, now only on enter a update is triggered.

017715510f8e55
 @rp- Thoughts? :smile:
 I would and will for now stick with the enter default, as this is also the default key to really add the value to the combobox.

Also it's a bit more work to implement this, as we either have to subclass the combobox or handle the QApplication::focuschanged SIGNAL and keep track of our created comboboxes.
 k, we'll keep with just using the Enter key then.  If other people open future issues about this, we can look into in the subclass or signal handling approach. :smile:
  You are right, for streaming our sqltablemodel is not really useful as it will not free any unused data.
But doing real streaming for import and export shouldn't be to hard to implement and was on my list anyway.
 csv data is now streamed out and shouldn't fill up memory.
50731cd73010053bd43b4dc3ade70a43ce5044b1
 @beyonav Would you have time to test this out in the Windows nightly builds, and confirm back to us if it works?
 Oops, I should have mentioned. :smile:

You can download the nightly windows builds from here:

&nbsp; &nbsp; http://rp.oldsch00l.com/sqlitebrowser/sqlitebrowser.exe.xz

.xz is a compressed file file, you can use [7-zip](http://www.7-zip.org/download.html) to uncompress it before installing.
 Thanks for testing Jens. :smile: I'll close this issue here, because the original reported problem is fixed.

With the quote characters, they're supposed to be optional.  Testing here just now, in Export ‚Üí "Table as CSV file" dialog there is a "Quote character" option.  Change that from the default of ", to the third line down (no character).  That seemed to work for me, although I don't have a lot of data in the example database I just tried it on.  Does that work for you?
 Is this the right spec? https://tools.ietf.org/html/rfc4180

We had some discussion about CSV handing in https://github.com/sqlitebrowser/sqlitebrowser/issues/84.  I guess we need to tweak things further still. :smile:
 Hmmm, we should probably turn this into a new Issue, for better tracking.

Are you ok to do that?  If not, just say so and I'll create one. :smile:
  Yeah, this sounds like a good idea. :smile:
 Should be fixed now - with the latest build you can press Tab or Shift+Tab to jump between the filters.
 @maxslimmer Would you have a few minutes to try the latest nightly build (tomorrow), to verify this works properly for you now? :smile:

Not sure which OS you're on, so Windows nightly builds are here:

&nbsp; &nbsp; http://rp.oldsch00l.com/sqlitebrowser/

OSX nightly builds are here:

&nbsp; &nbsp; http://mirror.salasaga.org/sqlitebrowser/nightly/
 Thanks Geoff, I forgot to mention it needs uncompressing first. :smile:
 @maxslimmer No worries, thanks for testing. :smile:

@MKleusberg Should we do something with the enter key for this?  eg same behaviour as tab, or maybe it also moves the cursor to the start of next line or something?
 I haven't done anything with the enter key yet because personally I'd expect it to perform some real action and not just move the cursor. So what I thought was that if we're ever going to add some other feature and bind it to the enter key, we don't break any workflows when we don't use it now ;) It wouldn't be difficult however to support the enter key as well if people would like.
 Yeah, I guess the question is "what do we want enter to do?".

I'm thinking the equivalent of the tab key sounds ok... but yeah, that could just be my limited imagination atm, and someone might have a better idea. :wink:

@maxslimmer @glawrence @Z4us Any thoughts on this? :smile:
 Cool, no worries.  We'll leave Enter alone for now, until someone comes up with a Nifty use for it. :wink:

Closing this issue now too, as the tab key binding bit is resolved. :smile:
  Hmmm, I'm more inclined to think it's a bug, and the refresh button shouldn't clear the filters.

Lets see what Rene and Martin think. :smile:
 thanks, fixed 57d086fbf2697f40857236d7c1a8bf351035e258
 Was in a hurry and missed to commit a file :/

Either someone revert meanwhile or wait unril i'm back home
 now it should be good. c615e9ac46c30bc3f6d79512484ade3506d3ff5e
 @mikeee324 Would you be ok to try out the latest nightly build for your OS, to verify this is fixed? :smile:
 @mikeee324 You're welcome. :smile:
  Yeah, that's not a bad idea.  At the moment it does the whole database to a .sql file, which can then have the INSERT statements stripped out.  But a schema only export would be useful to some people too.
 @MarkyMar We've added code for this today (written by @schdub).  Would you be ok to try our latest nightly build (tomorrow), to check that it's working the way you meant it? :smile:
 Closing this as it has been fixed quite a while ago and nobody reported issues since. If there any problems left with this let's just open a new issue :smiley: 
  Just noticed these. :wink:

```
sqlitedb.cpp:13:23: warning: unused parameter 'pArg' [-Wunused-parameter]
int collCompare(void* pArg, int eTextRepA, const void* sA, int eTextRepB, const void* sB)
                      ^
sqlitedb.cpp:13:33: warning: unused parameter 'eTextRepA' [-Wunused-parameter]
int collCompare(void* pArg, int eTextRepA, const void* sA, int eTextRepB, const void* sB)
                                ^
sqlitedb.cpp:13:64: warning: unused parameter 'eTextRepB' [-Wunused-parameter]
int collCompare(void* pArg, int eTextRepA, const void* sA, int eTextRepB, const void* sB)
                                                               ^
sqlitedb.cpp:23:29: warning: unused parameter 'pData' [-Wunused-parameter]
void collation_needed(void* pData, sqlite3* db, int eTextRep, const char* sCollationName)
                            ^
4 warnings generated.
```
 @Z4us Completely agree.  They're mostly harmless.

That being said, we managed to get rid of all the warnings a while ago, so we kind of try to keep that way now.  It helps demonstrate that our code is cared about. :smile:
 Yep, it's best to avoid warnings whenever we can, in my opinion, just to make sure, warnings which point out actual problems are more salient.
   You missed the [CMakeLists.txt](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/CMakeLists.txt) file ;) 
 Oops.  Will fix later today. :smile:
 Found out why.  Bad grep on my part.  I used this:

```
$ grep -ri "database browser" *| grep -v .ts
```

When I should have used this:

```
$ grep -ri "database browser" *| grep -v "\.ts"
```
 Now, the next question is... do we want to make the change right away with a 3.3.2 release, or should we just do it with the next (3.4.0) release?

I'm kind of tempted to be lazy, and do it with the 3.4.0 release... :smile:
 Sorry that I only noticed now but in the [distri/sqlitebrowser.desktop](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/distri/sqlitebrowser.desktop) file it still says "SQLiteBrowser". Maybe we should change that as well, for consistency's sake.

I'd also opt for making this part of the 3.4.0 release. This time the change is so subtle that it's probably not really worth the annoyance for anybody ;)
 Ahhh, well spotted.  Fix coming up.
 @MKleusberg With the "Name=" field in that file, does it have to be a 1 word name (eg DBBrowser4SQLite) or can we use the long version? eg DB Browser for SQLite
 Now I'm looking closer, there are other places I missed as well.  Fixing them too...
 @justinclift You're definitely allowed to have spaces in there. That's the text that shows up in the application menu of your Linux desktop.
 When you guys reckon this is good, please merge it. :smile:
 Heh, and it's saying merge conflict now... I'll fix it later. :wink: 
 Yeah, we could do that.  We're trying to avoid changing the project URL, registering new domain names, and so on though. :wink:
 Should be ready to merge now. :smile:
  With the commit I've just made you should be able to attach other databases using the new menu item. Because of a SQLite restriction this is only possible when you're not in a transaction - that is when you haven't made any changes since the last save, i.e. the 'Write changes' button is disabled.

Maybe this commit solves your problem already but as I said in the commit message there is some more work to be done. I'll be on holiday soon but would continue working on this in October - unless it's already done by then of course ;)
 Good point.  Just added it to the milestone list for 3.4. :smile:
  We don't have one at the moment.

I can create an updated build for you using the latest code though if you want?
 Is this workable?

&nbsp; &nbsp; http://mirror.salasaga.org/stuff/sqlitebrowser-3.4dev-201409071420.dmg
 The thought of a nightly build for OSX is a good one btw.  Will think it over and see if we can make it fully automated. :wink:
 Thinking about this, compiling the .dmg file itself each night shouldn't be too difficult.

@rp- With a nightly .dmg for OSX, should we put it in the same location as the Windows nightlies?  Guessing it could be auto-uploaded using rsync with ssh public key authentication or similar?
 :smile:

When you say "compressed and complete" what are you meaning?  That's unclear to me.
 Initial automatic nightly builds for for OSX here:

&nbsp; &nbsp;  http://mirror.salasaga.org/sqlitebrowser/nightly/

"Initial" because they're created by a hastily made script which has no real error checking in it (yet).  We can improve that over time, if it turns out to be needed. :smile:
 @Z4us As a thought, you can always download a tarball of the latest source code here:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/tarball/master

Does that help?
 Ahhh 10.6, cool.  Just added that to the list of versions known to work.  Wasn't sure before. :smile:
  Thanks, fixed 9682d34ca7a46d227a0
 @mattn Would you be ok to try our latest nightly build, to confirm the problem is fixed for you? :smile:

&nbsp; &nbsp; http://rp.oldsch00l.com/sqlitebrowser/sqlitebrowser.exe.xz

.xz is a type of compression.  It can be uncompressed using [7-zip](http://www.7-zip.org/download.html).
 Awesome. :smile:
  Ahhh, interesting.  There was another .csv file bug reported recently too (https://github.com/sqlitebrowser/sqlitebrowser/issues/84), so it sounds like our .csv code needs some adjustment.

Without knowing the code involved, I'm suspecting this doesn't sound like a hard bug to fix. :smile:
 Rene added a "Trim fields?" option to the import dialog today, so it's controllable now:

![screen shot 2014-09-03 at 11 51 09 pm](https://cloud.githubusercontent.com/assets/406299/4142666/028ec212-33bd-11e4-9eba-d3128374a3ea.png)

That'll be in the next release in ~5-6 weeks. :smile:
 the new cvs parser already supports line breaks in quoted text, trimming and is a bit faster.
 Good point. :smile:

@nielscup Would you be ok to try the very latest code, to confirm it works for you now?  Not sure which operating system you're on... if it's Windows, there are nightly builds available here:

&nbsp; &nbsp; http://rp.oldsch00l.com/sqlitebrowser/sqlitebrowser.exe.xz

.xz is a type of compression.  It can be uncompressed using [7-zip](http://www.7-zip.org/download.html).
 @nielscup The next nightly will auto add missing columns (with NULL values) on import.
What step is slow? There are 2 steps involved:
1. parsing of the CSV file (1. progress bar)
2. inserting parsed data into sqlite table

Maybe you could provide your slow csv file, or a sample file that is slow also in your case?
I did test with CSV files up to 100 000 records and didn't have any speed problems.
 I'm sorry, but I can't really reproduce this slow import behavior, even on windows.
I just tried a 86mb csv file with 1.4 mio records and it is reasonable fast (19s for decoding).
http://www1.ncdc.noaa.gov/pub/data/swdi/
hail-2002.csv sample(first 2 lines removed)

Also the 3.3.1 version takes nearly the same time, just memory consumption is a bit lower.

Could you check your memory consumption while importing? Maybe you run out of memory and windows starts swapping, if so we could do some kind of stream-writing of data and we would only need one record in memory at a time.
 btw. file attaching doesn't work here.
 @nielscup If there's any kind of file you can generate (and share with us) which gives the same slowdown problem, you're welcome to email it to me directly (justin@postgresql.org).  I'll forward it to Rene and Martin. :smile:
 created a 104k record file ~ 120mb and I have no different behavior than with the hail file.
same speed as with 3.3.1. the only thing is that the new parser takes more memory.
So I still guess you run out of memory in your scenario, I can't think of anything else.
 @nielscup How did this go?
 @nielscup ping.  Any chance you can test out the new 3.4.0 release, and let us know if the problem is fixed or not? :smile:
 Thanks Niels.  I'll close this now then. :smile:

Hopefully the performance is workable on at least some of your computers. :wink:  If not, feel free to open a bug about that and we can look into that aspect of things as time permits.
  Just tested this on OSX 10.7.5, and it's still compiling + running fine.  So, no breakage from this patch.

Rene/Martin, is it ok to merge it?
 @hurzl Thanks for this.  Wasn't sure if it runs on FreeBSD, so now we know. :smile:
 thanks
 Our rough aim for 3.4 is October 5th. :smile:
  Thanks, fixed 1f6fe115602bf790e5180
 @diego0020 Would you be ok to try out the latest code (which includes this fix), to confirm it works for you now?

Not sure which operating system you're on... if it's Windows, there are nightly builds available here:

&nbsp; &nbsp; http://rp.oldsch00l.com/sqlitebrowser/sqlitebrowser.exe.xz

.xz is a type of compression.  It can be uncompressed using [7-zip](http://www.7-zip.org/download.html).
 You're welcome. :smile: 
  Best would be if you do a pull request with your translation file.
 @mvt91 Ahhh, file attaching generally doesn't work in these issues.

You're welcome to email the file to me though (justin@postgresql.org).  If it's something that just needs to be dropped in the right place, I should be able to figure that out. :smile:
 @mvt91 The pull request seems happy, though I'm not sure how to actually test it:  https://github.com/sqlitebrowser/sqlitebrowser/pull/92

What author info do you want on it?
 @mvt91 Would you be interested in updating the translation for our next release (in a few weeks)? :smile:
 Cool.  I think I'll need to generate it first, which I don't remember how to do off the top of my head.  I'll look at it tonight. (I really should write down instructions for myself eh? :wink:)
 Awesome.  Would you be ok to email it to me (justin@postgresql.org)? :smile:

GitHub just drops email attachments. :frowning: 
  No worries at all.  I had a similar problem ages ago when I first tried out SQLite Database Browser too. :smile:
  Hmmm, that's unexpected.

How did you install v3.3.1?  It's possible I included an older version of SQLite accidentally. (!)
 Ahhh yeah.  I've just looked at the SQLite version in the .dmg file, and it's indeed 3.7.12.

I'll get this fixed in the next day or two.  Sorry about this. :frowning: 
 Probably not.  We generally compile against the latest released version of SQLite, which is then picked up and included in the .dmg file.

In this instance, I think what happened is I missed a setup step in the compiling procedure and instead compiled against the old OSX provided version of SQLite.  So that got picked up and included instead. :frowning:

The OSX machine I compile releases on isn't accessible until tomorrow (routing issue that needs fixing), so we're kind of stuck until then. _sigh_
 Just added a v2 .dmg to the releases page:

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/releases/download/v3.3.1/sqlitebrowser-3.3.1v2.dmg

I'll remove the older .dmg in a while.  Just need to update a few links that point to it first.
 k, all the links and various sources for the .dmg now have the v2 one, so I've nuked the first version.

@Z4us Would you have time to double check it, just to make **absolutely** sure? (you're completely ok to close this once you're happy with it) :smile:
 I'll close this issue for you but I think you shouldn't need any special permissions for that. There's a 'Close issue' buttons below the text field for writing comments on GitHub.

Because you mentioned the Without Rowid issue:
I've put some effort into this lately and it's more or less functional now - the only thing missing is an option for converting between w/o rowid tables and normal tables, and maybe some testing. So the next release will definitely support tables without rowid. If you really need that feature sooner you could try compiling the current development version yourself or maybe ask Justin to do so :)
 > BTW: you could avoid above bug by recognizing the 'C' in the Deming-circle

Definitely.  It's hugely ironic for me that I'm very big on verifying work that's done, and here I didn't.

I've just added a step to our Release Process for manually verifying this, to stop this particular problem happening again.  https://github.com/sqlitebrowser/sqlitebrowser/wiki/Release-process
- Install the new OSX .app from the .dmg, start it, and check the SQLite version in the About dialog.  If this isn't at least 3.8.6 then something has gone wrong and needs to be fixed.
  What version are you using?
this sounds like a pre 3.3.0 bug, btw. couldn't reproduce with master branch.
 @cbigsby Interesting.  Would you be ok to email the sample database to me (justin@postgresql.org), and I'll forward it directly to Martin and Rene. :smile:
 hm works here
 @cbigsby No worries at all. :smile:
  Interesting.  I'm not in-depth enough to answer this intelligently, but Martin or Rene should know. :smile:
 Hi!

The [REGEXP](http://www.sqlite.org/lang_expr.html#regexp) function needs to be defined(mapped) by the application, which leads to certian problem for our use case:

What regexp library should we use? there are certian regexp libraries around and I think the std::regexp just made it in gcc 4.9, but with c++11 standard. A logical choice for us would be to use the [QRegExp](http://qt-project.org/doc/qt-4.8/qregexp.html), but I think this syntax doesn't really match POSIX standard. Or probably the regexp syntax you would expect.

So no, right now we don't support the REGEXP operator.
 @devandanger Cool. Are we ok to close this issue? :smile:
  That should already work. :smile:

Have you tried it, and it's not working?
 I just tried it here on OSX 10.7.5 and it worked.  Tested with the command line compiled version of sqlitebrowser, not the .app bundle version.  No idea (yet) if it'd work on OSX with the .app bundle version. :smile:
 Ahhh yeah, that makes sense. :smile:
  Oh, that doesn't sound good.  Do you have a part of the csv file you could share with us, so we can figure out what's going wrong?  eg first few lines or something (they need to trigger the problem too :smile:)

If you do, you're welcome to email it to me (justin@postgresql.org), and I'll forward it to Martin and Rene for investigating. :smile:
 Right now I can only give you 2 workarounds, until those bugs are fixed.
1. save your CSV file in the UTF-8 encoding, e..g with libreoffice calc (character encoding can be set on export)
2. Quote all your strings with whitespaces in it, I don't know if there is a CSV rfc or how strings in fields should really be handled, but i guess we shouldn't throw away whitespace between field separaters if they don't mess up the file format.
 Fix list for us:
- Add a text encoding combox in the import dialog, so the user can select the correct character encoding, I think right now we only support UTF8/Unicode
- Fix the whitespace skipping
 If the bug is something to do with us stripping whitespace around field separators, maybe we should add a checkbox to the import dialog about "preserve whitespace"?
 for some reason we don't add any spaces add all if they are not quoted see:
https://github.com/sqlitebrowser/sqlitebrowser/blob/master/src/sqlitedb.cpp#L948

and since we do line based parsing now, we should never get 0x10 or 0x13 characters (else if above)
 The behaviour regarding spaces goes back to commit 37e195ad6fed542e8373368096c6d1d578762866 - I can kind of see the point of that commit as well but, at the moment, would tend to remove lines 946-952. Any objections or better ideas? Maybe adding a checkbox for trimming the field contents would be a good compromise?
 checkbox sounds reasonable, I would save the content of a field in a separate buffer to allow post processing as soon as we hit a new field.
It would also be nice to save the last used settings in the main config or per project.

I can do that if you are busy Martin.
 Yes, feel free to do that :smiley: Remembering the settings sounds good as well. I also though about extending the list in the encoding combobox automatically whenever a custom codec was used - e.g. user uses "ISO-8859-15", so it's safe to assume that this encoding might be used again. This maybe makes selecting encodings easier without having that endless list of never used formats in there.
 Maybe the whole decode csv algorithm needs a rewrite, for example we don't support new lines in field data (if quoted), did this work with the old version?
And I too don't think the sqlitedb.cpp is a good place for this routine.
 Cool @Z4us, that's potentially useful.  At the very least it gives us a minimum reference spec to follow.  And it's only about 4 pages long of content. (unless other RFC's I've seen) :smile:
 @deichbilder This should now be fixed in the latest code.  Would you be ok to try it, to confirm it works for you now?  Not sure which operating system you're on... if it's Windows, there are nightly builds available here:

&nbsp; &nbsp; http://rp.oldsch00l.com/sqlitebrowser/sqlitebrowser.exe.xz

.xz is a type of compression.  It can be uncompressed using [7-zip](http://www.7-zip.org/download.html).
 Awesome, thanks for confirming. :smile:
  Oh interesting.  We'll need to wait for Rene or Martin to merge this, but I think it looks good. :smile:
 Thank you! Looks good :+1: 
While testing your changes I also noticed that one of our tests is failing because of an error in our actual program code - probably wouldn't have noticed that without this PR :)
  From @TWiStErRob:

> I see all the schemas listed, however I can't edit (don't even want to, see my comment on #78) nearly any of them because it would remove all the foreign keys and constraints and cascades. See Category_Descendant in http://temp.twisterrob.net/share/MagicHomeInventory.sqlite

This is following on from https://github.com/sqlitebrowser/sqlitebrowser/issues/77.
 > Do you have any idea how to approach this?

Not so much, as I'm not that in depth with the programming side of SQLite Browser.  Rene and Martin are though, so they may come up with ideas.  Suggestions and pull requests from other people are welcome too of course. :smile:
 Martin just added code to not remove the Foreign Keys part of things when editing tables.  As mentioned here:  https://github.com/sqlitebrowser/sqlitebrowser/issues/109#issuecomment-62020996

It's not a complete fix, but we're making progress. :smile:
 All table statements in the sample database are now parsed correctly. This means no foreign keys, constraints, and cascades should be removed when editing those tables. Furthermore, if there *is* a table which isn't fully supported yet you'll see a warning when editing that table.

There are more missing details in the grammar parser but I think we should collect those in issue #741. So I'd suggest closing this issue as all problems mentioned in here should be fixed and for further issues we have a separate issue already. Can somebody, @justinclift maybe :smiley:, double check it's working with the MagicHomeInventory.sqlite database before closing this issue? Just tried to download the database, but the link is 404-ing.

@TWiStErRob Do you still have a copy of it handy? @justinclift Luckily I had still a copy on my disk. Just emailed it to you :smiley:  Thanks, added a ToDo item to try this out tomorrow. :smile: @MKleusberg Is this warning on the virtual table 'Search' expected?

![screen shot 2017-01-06 at 22 52 36](https://cloud.githubusercontent.com/assets/406299/21735580/d8ad16b2-d462-11e6-8223-667e62f4b508.png)
"USING USING" seems like an error (causing the warning?), though I'm not sure where it's originating from.  Haven't attached a debugger. :smile:

On a side note, choosing that virtual table (no defined fields) in the Browse Data tab displays strangely.  No filters row, probably because no fields.  But the background colouring for the filter row is there.  Not real high urgency to fix though I reckon... :wink:

![screen shot 2017-01-06 at 22 59 31](https://cloud.githubusercontent.com/assets/406299/21735711/d4a11f36-d463-11e6-8cd3-ed69e6192593.png) Thanks @TWiStErRob.  I was definitely taking the lazy approach. :wink: @justinclift Just fixed the double 'USING' bit. Thanks for pointing this out :smiley:
The warning is still showing up but that's expected. You'll see it for all tables that aren't fully parsed by our grammar parser yet. This is true for all virtual tables. Because of this the Browse Data tab stays empty, too. See issue #917 as well. Virtual tables are a going to be a whole new problem for us :frowning:

@TWiStErRob Thanks for commenting back :smiley: I'm going to close this issue since we have #741 for further parsing problems and #917 for all the virtual table stuff. If you find any other parsing issues in your databases feel free to comment in one of these issues or open a new one :smiley:   The crash is already fixed in master branch.
I'll commit some kind of bad workaround for inserting/updating rows, today.
But this kinda goes on par with the issue with the new WITHOUT rowid features. #51 
 @MKleusberg sorry Martin have to reopen, just try to insert new rows in such a table or update on of them :)
 Mhh, works for me :confused: 
It's not working for WITHOUT rowid tables but this isn't one of them. At least the sample file by @manisandro is working now :)
 try a table where rowid is not the PK
 but I have already some quick workaround in the pipe, so you don't need to fix it.
 Ok, i see now ;) An actual, proper fix for this will be awkward though, I imagine...
 workaround is commited: 55678bb9450a0546835b2d86f5124e7efb0a1109
it basically just shifts the issue from rowid to '_rowid_', but that should be very rare.
 @manisandro Do you have a few minutes to try out the latest nightly build, and see if that works for you?

Download locations are listed on the front page of this repo, if that helps. :smile: 
 Excellent, thanks for verifying. :smiley: 
  > On the 'Database Structure' tab, could the schema be made to collapse along with the field list? As it is, the benefit of collapsing is rather lost when the schema is long and you can only see a few (or only one) tables on your window anyway.

makes sense to remove newlines while collapsed.

> On the results from running an SQL query, long fields (varchar and friends) should only be displayed up to some maximum length. Otherwise you have to do massive horizontal scrolling to see all your fields.

Maybe we can add saving of column width like we do for the browse table, but there is no easy general solution for this.

> On SQL query results and table browsing, how about a right-click option to copy the value of the field into the copy buffer. At the moment you can accomplish this with browse data by double-clicking and copying from the 'Edit database cell' window, but you can't do it at all with query results.

whats wrong with `CTRL+C`?
  I'm not able to create such a table.

```
sqlite> create table test;
Error: near ";": syntax error
```
 thanks, got it.

I'll commit a a fix for the warning and empty table definition in dialog today.

But keep in mind that we don't support setting of primary key ordering in the edit table dialog and this is somewhat related to issue #77 
 It should always be possible to browse the table data and with (e9fc2229c200940a21b0245d636a7e4bde6aa172 and 2cadb387199bfa6a395b7496e0430fccb7ccd08b) this should now always work.
If our parser fails for any reason we will get column names from sqlite directly.

We have no full engine, but right now a parser for create table statements to get information for edit table dialog and it was also to have more information for additions to the auto completion.
 And the warning should also be gone, for your create table statement. 6d47c749f8cdc60bc38b6ac14ad96b85826f0b8f
 @jschultz Do you have time to test the new changes to confirm things are now working for you like they should? :smile:

I'm not sure which OS you're using.  If it's Windows, the latest nightly build should have these changes in it:

&nbsp; &nbsp; http://rp.oldsch00l.com/sqlitebrowser/sqlitebrowser.exe.xz

.xz is a file compression type, you can open it with 7zip.
  hi!
Yeah your table has a _nice_ thing not covered by the sqlite3 create table documentation:

```
    PRIMARY KEY(_id AUTOINCREMENT),
```

Additionally, we shouldn't allow to modify tables with constraints on columns, as if the user would rename the table, we would completely remove those constraints, as we can't edit them.

I have a local fix for the crash and will test it more tomorrow and commit a fix.
 yes, this is the culprit.

yeah if we just do a simple `alter table .. rename to` then yes sqlite3 will do the right thing, but I'm not sure if we really keep all constraints if you modify a field. Have to check that.
 the crash should be solved with this commit: 9fdc71be2ccbfc416d3adfd7f990a829afe2171f

I'm still worried about the modify table dialog, I'm not sure it if is useful to create a full featured create/modify table dialog with all sqlite3 features. if a user want's to create so much fancy stuff he should stick to SQL grammar imho, but of course we shouldn't destroy or remove features from such tables if a user would try to edit them.
 > I'm not sure it if is useful to create a full featured create/modify table dialog with all sqlite3 features.

Hmmm, I kind of think it is.  On the other hand, we're definitely aiming at "keeping things simple and not scary" for novice users too.  Having too many options in a dialog could just scare novice SQL users away.

Maybe n "Novice mode" option set in preferences, would let us keep stuff simple for novices.  When it's turned off we can present every option that SQLite supports?
 @TWiStErRob Would you be ok to try out the latest nightly build (tomorrow), to verify it doesn't crash any more when opening your database?

&nbsp; &nbsp; http://rp.oldsch00l.com/sqlitebrowser/sqlitebrowser.exe.xz

.xz is a file compression type, you can open it with 7zip
 > That's not a good idea in general, lot of features will be used by a really small userbase (hard to discover), for example Visual Studio has a nicely hidden "Advanced UI" option in a non-intuitive place: http://i.msdn.microsoft.com/dynimg/IC429789.jpg

Ahhh yeah, that looks non-optimal.  Maybe an obvious slider or something like this instead (to pursue this line of thought for a moment more)?

![sqlitebrowser_advanced_mode_screenshot_exploration1b](https://cloud.githubusercontent.com/assets/406299/3965436/d2e22978-2796-11e4-892a-366b50bdcc40.png)
 Yeah, good point.  Simple + plain + in-sight in context sounds like a better approach in the short term, without a complete UI rethink. :smile:
 Going to close this issue as the initially reported problem is fixed, and we're putting out a new release with it.  Let's get this follow on bit into a new issue instead:

> I see all the schemas listed, however I can't edit (don't even want to, see my comment on #78) nearly any of them because it would remove all the foreign keys and constraints and cascades. See Category_Descendant in http://temp.twisterrob.net/share/MagicHomeInventory.sqlite
  Interesting catch. :smile:
 Fixed. cf0213cd7e2020619f27f0d79b1e8c84b93b2b1c

thanks for the report
 @ou9810 Would you be ok to try this out, and make sure it works for you now the way you're expecting?

If you're on Windows, the next nightly build (tomorrow) will have this fix in it:

&nbsp; &nbsp; http://rp.oldsch00l.com/sqlitebrowser/sqlitebrowser.exe.xz
&nbsp; &nbsp; (.xz is a type of compression, you can use 7-zip to uncompress it)
  This is interesting.  I'm kinda wondering if making the "Database Structure" and other tabs detachable, would be a useful approach.  That way it would be possible to have both that and the "Execute SQL" tabs be open and displayed at the same time.

Thoughts?
 I've just pushed a commit which adds a basic DB schema panel. You can't do a whole lot with it except for looking at the schema, but it might help you. Making all tabs detachable looks more complicated to me but could be possible as well at a later point.
 @MKleusberg Just tried it out.  Looks pretty workable.  As a thought, how easy is it to make the vertical centering (as shown below) be at the top of the space instead of in the middle?  I'm not 100% sure it would look better... but if it's easy to try we might as well do some screenshot comparisons and find out. :smile:

![sqlitebrowser_db_schema_fix_vertical_centering](https://cloud.githubusercontent.com/assets/406299/4022498/93a0ce6c-2b3e-11e4-8ad4-706529349d6e.png)
 Good news: It's quite easy to move the texts to the top.
Bad news: The icons will stay where they are and the result looks super-weird :/
See this [link](https://stackoverflow.com/questions/4403704/qt-qtableview-alignment-of-checkbox-when-using-isusercheckable) for some more details.
 Ahhh, interesting.  Should we re-open this bug in upstream Qt about it, and provide them the needed info?  https://bugreports.qt-project.org/browse/QTBUG-9047
 Maybe put the icon + text in some kind of invisible container, and make the whole container itself go to the top?
 @Tmdean Is this issue resolved enough for us to close this? :smile:
 You're welcome.  Very good work on @MKleusberg's part there. :smile:
  yes, this is missing
 btw. I'm working on it
 done ff50a94eef96830e94db20041abb17dce266d3c0
 @Mech7 Do you have time to try the next nightly build (tomorrow) to verify this works for you, the way you want it to?

&nbsp; &nbsp; http://rp.oldsch00l.com/sqlitebrowser/sqlitebrowser.exe.xz
&nbsp; &nbsp; (.xz is a compression format.  You can use 7zip to uncompress it)
 Should already be in todays build.
On Aug 8, 2014 5:24 PM, "Chris de Kok" notifications@github.com wrote:

> Cool thank you I will test it tomorrow :)
> 
> ‚Äî
> Reply to this email directly or view it on GitHub
> https://github.com/sqlitebrowser/sqlitebrowser/issues/73#issuecomment-51616394
> .
 Its in the master branch
On Aug 9, 2014 8:58 AM, "Chris de Kok" notifications@github.com wrote:

> Ah I just see that this is a windows build but i only have linux, the
> changes are not pushed in the repo yet? I could not see a branch for it.
> 
> ‚Äî
> Reply to this email directly or view it on GitHub
> https://github.com/sqlitebrowser/sqlitebrowser/issues/73#issuecomment-51679308
> .
 ohh I missed composite unique keys, we already have the functionality for primary keys.
 @rp- Should we close this Issue for now, or is it better to leave it open until composite keys are added as well?
 :smile:
  Unfortunately the building instructions are slightly different for each Linux distribution. But for Ubuntu 14.04 this should work:
1. Make sure the build-essentials, cmake, libqt4-dev and libsqlite3-dev packages are installed.
2. Download the SQLiteBrowser source code.
3. Open a terminal in the code directory.
4. Run

``` bash
$ mkdir build
$ cd build
$ cmake ..
$ make
```
1. Now it should generate you a binary file called 'sqlitebrowser'.

By the way, just a few days ago the Debian package has been updated to a fairly recent version of SQLiteBrowser which apparently is also available in [Utopic Unicorn as well now](http://packages.ubuntu.com/de/utopic/sqlitebrowser). So alternatively you could try downloading and installing that package. But then again, we've made some improvements since this release which you'll only get by compiling it yourself.

Either way: Let me know if you have any further difficulties and I'll try my best to aid you through the building process :)
 Cool - glad I could help :smile: 
 I'll add these to the BUILDING.md file as well in a bit, under an Ubuntu heading.
 Just did this with https://github.com/sqlitebrowser/sqlitebrowser/commit/59a9e0bc6aca437fd378e999798e10add9cbb161 and https://github.com/sqlitebrowser/sqlitebrowser/commit/9c00bd9965e37c29cadd80cf4a74e8970617d694. :smile:
 Ahhh cool.  I'll fix it now. :smile:
 Thanks Tobias. Done in https://github.com/sqlitebrowser/sqlitebrowser/commit/e93392c4364a5da4048662f53d3679cf757c39e2 :smile:
  Good point.  This seems to be needed on at least Fedora 19 as well.  Haven't tried OSX yet.
 Thanks Tim. :grinning: 

This problem is confirmed on both Fedora and OSX 10.8, so this patch has been merged as https://github.com/sqlitebrowser/sqlitebrowser/commit/2e5405a60b392155756dcaf58bb6ea77883dd360.
  Thanks @mafagafogigante, that's very welcome. :smile:

Now merged as https://github.com/sqlitebrowser/sqlitebrowser/commit/262612928d1cf2543596e20fd700931ca68ff6d7.
  Running this should do the trick:

```
$ sudo aptitude install libsqlite3-dev
```

Alternatively you can search & install the libsqlite3-dev package using whatever package manager Ubuntu uses these days :)
 Cool.  Are we ok to close this? :smile:
  @rp- @MKleusberg Does this look ok to merge?

It fixes the following compile warning for me on OSX 10.7.5:

```
clang++ -c -pipe -O2 -arch x86_64 -fPIC -Wall -W -DQT_NO_DEBUG -DQT_GUI_LIB -DQT_CORE_LIB -DQT_SHARED -I/usr/local/Cellar/qt/4.8.6/mkspecs/unsupported/macx-clang -I. -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/include -I. -Irelease -F/usr/local/Cellar/qt/4.8.6/lib -o release/String.o src/String.cpp
src/String.cpp:41:19: warning: format specifies type 'unsigned int' but the argument has type 'size_t' (aka 'unsigned long') [-Wformat]
        sprintf(tmp,"%u",rhs);
                     ~~  ^~~
                     %lu
1 warning generated.
```
 Thanks!
  Want to make a pull request to fix it? :smile:
 @achpile Should we close this?  If you're wanting to fix more of the compilation warnings, we should leave it open. :smile:
 As a data point, here on OSX 10.7.5 these ones show up as well:

```
clang++ -c -pipe -O2 -arch x86_64 -fPIC -Wall -W -DQT_NO_DEBUG -DQT_GUI_LIB -DQT_CORE_LIB -DQT_SHARED -I/usr/local/Cellar/qt/4.8.6/mkspecs/unsupported/macx-clang -I. -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/include -I. -Irelease -F/usr/local/Cellar/qt/4.8.6/lib -o release/CommonASTWithHiddenTokens.o src/CommonASTWithHiddenTokens.cpp
In file included from src/CommonASTWithHiddenTokens.cpp:9:
./antlr/BaseAST.hpp:140:61: warning: unused parameter 'txt' [-Wunused-parameter]
        virtual void setText(const ANTLR_USE_NAMESPACE(std)string& txt)
                                                                   ^
./antlr/BaseAST.hpp:145:27: warning: unused parameter 'type' [-Wunused-parameter]
        virtual void setType(int type)
                                 ^
2 warnings generated.
clang++ -c -pipe -O2 -arch x86_64 -fPIC -Wall -W -DQT_NO_DEBUG -DQT_GUI_LIB -DQT_CORE_LIB -DQT_SHARED -I/usr/local/Cellar/qt/4.8.6/mkspecs/unsupported/macx-clang -I. -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/include -I. -Irelease -F/usr/local/Cellar/qt/4.8.6/lib -o release/CommonAST.o src/CommonAST.cpp
In file included from src/CommonAST.cpp:12:
In file included from ./antlr/CommonAST.hpp:12:
./antlr/BaseAST.hpp:140:61: warning: unused parameter 'txt' [-Wunused-parameter]
        virtual void setText(const ANTLR_USE_NAMESPACE(std)string& txt)
                                                                   ^
./antlr/BaseAST.hpp:145:27: warning: unused parameter 'type' [-Wunused-parameter]
        virtual void setType(int type)
                                 ^
2 warnings generated.
clang++ -c -pipe -O2 -arch x86_64 -fPIC -Wall -W -DQT_NO_DEBUG -DQT_GUI_LIB -DQT_CORE_LIB -DQT_SHARED -I/usr/local/Cellar/qt/4.8.6/mkspecs/unsupported/macx-clang -I. -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/include -I. -Irelease -F/usr/local/Cellar/qt/4.8.6/lib -o release/CharScanner.o src/CharScanner.cpp
clang++ -c -pipe -O2 -arch x86_64 -fPIC -Wall -W -DQT_NO_DEBUG -DQT_GUI_LIB -DQT_CORE_LIB -DQT_SHARED -I/usr/local/Cellar/qt/4.8.6/mkspecs/unsupported/macx-clang -I. -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/include -I. -Irelease -F/usr/local/Cellar/qt/4.8.6/lib -o release/CharBuffer.o src/CharBuffer.cpp
clang++ -c -pipe -O2 -arch x86_64 -fPIC -Wall -W -DQT_NO_DEBUG -DQT_GUI_LIB -DQT_CORE_LIB -DQT_SHARED -I/usr/local/Cellar/qt/4.8.6/mkspecs/unsupported/macx-clang -I. -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/include -I. -Irelease -F/usr/local/Cellar/qt/4.8.6/lib -o release/BitSet.o src/BitSet.cpp
clang++ -c -pipe -O2 -arch x86_64 -fPIC -Wall -W -DQT_NO_DEBUG -DQT_GUI_LIB -DQT_CORE_LIB -DQT_SHARED -I/usr/local/Cellar/qt/4.8.6/mkspecs/unsupported/macx-clang -I. -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/include -I. -Irelease -F/usr/local/Cellar/qt/4.8.6/lib -o release/BaseAST.o src/BaseAST.cpp
In file included from src/BaseAST.cpp:13:
./antlr/BaseAST.hpp:140:61: warning: unused parameter 'txt' [-Wunused-parameter]
        virtual void setText(const ANTLR_USE_NAMESPACE(std)string& txt)
                                                                   ^
./antlr/BaseAST.hpp:145:27: warning: unused parameter 'type' [-Wunused-parameter]
        virtual void setType(int type)
                                 ^
2 warnings generated.
clang++ -c -pipe -O2 -arch x86_64 -fPIC -Wall -W -DQT_NO_DEBUG -DQT_GUI_LIB -DQT_CORE_LIB -DQT_SHARED -I/usr/local/Cellar/qt/4.8.6/mkspecs/unsupported/macx-clang -I. -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/include -I. -Irelease -F/usr/local/Cellar/qt/4.8.6/lib -o release/ASTRefCount.o src/ASTRefCount.cpp
clang++ -c -pipe -O2 -arch x86_64 -fPIC -Wall -W -DQT_NO_DEBUG -DQT_GUI_LIB -DQT_CORE_LIB -DQT_SHARED -I/usr/local/Cellar/qt/4.8.6/mkspecs/unsupported/macx-clang -I. -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/include -I. -Irelease -F/usr/local/Cellar/qt/4.8.6/lib -o release/ASTNULLType.o src/ASTNULLType.cpp
clang++ -c -pipe -O2 -arch x86_64 -fPIC -Wall -W -DQT_NO_DEBUG -DQT_GUI_LIB -DQT_CORE_LIB -DQT_SHARED -I/usr/local/Cellar/qt/4.8.6/mkspecs/unsupported/macx-clang -I. -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/include -I. -Irelease -F/usr/local/Cellar/qt/4.8.6/lib -o release/ASTFactory.o src/ASTFactory.cpp
In file included from src/ASTFactory.cpp:8:
In file included from ./antlr/CommonAST.hpp:12:
./antlr/BaseAST.hpp:140:61: warning: unused parameter 'txt' [-Wunused-parameter]
        virtual void setText(const ANTLR_USE_NAMESPACE(std)string& txt)
                                                                   ^
./antlr/BaseAST.hpp:145:27: warning: unused parameter 'type' [-Wunused-parameter]
        virtual void setType(int type)
                                 ^
2 warnings generated.
```

This is using:

```
$ clang++ --version
Apple LLVM version 4.2 (clang-425.0.28) (based on LLVM 3.2svn)
Target: x86_64-apple-darwin11.4.2
Thread model: posix
```

Any idea how to fix those? :smile:
 Commit e43f43a3f8a5da65c8e31d11a179a01a059d4376 fixes them. I'm not sure if it makes sense to update to a newer version of antlr sometime but either way, (until then) the warnings are gone now.
 @MKleusberg Thanks, that works. :smile:

Compiles with no warnings at all now.  This is good.
  Interesting.  The guys recently did some stuff to improve the handling of default values.

Not sure if it would have any affect on this, but it might.

Would you have time to try the latest "night build", to see if the problem still occurs for you?  If so, it's always here (generated automatically):

  http://rp.oldsch00l.com/sqlitebrowser/sqlitebrowser.exe.xz

The .xz file is a type of compression.  I think you can uncompress it using 7-Zip (www.7-zip.org, also open source).  Hopefully it all "just works". :smile:
 Thanks for trying, it was worth a shot. :smile:

We'll definitely need to look into this then, since the problem's obviously not fixed yet.  It'll have to be Marrtin or Rene who do that though, as I'm not technical enough with the code bits. :wink:
 This issue seems to be related to #126. I've just pushed a commit which (with any luck) fixes both of them.
 @jadeade @nealpaze Would you have time to try the nightly build (tomorrow), to check if the problem is now fixed?
&nbsp; &nbsp; http://rp.oldsch00l.com/sqlitebrowser/sqlitebrowser.exe.xz

The .xz file is a type of compression.  You can uncompress it using 7-Zip (www.7-zip.org, also open source).  Hopefully it all "just works". :smile:
 Awesome. :smile:
 Thanks @jadeade. :smile:
  Ahhh, that's interesting.  We had a few reports of something like this just after the v3.2 release, but no resolution yet.

A first thing to try, to see if it's the same thing, is creating a brand new database (any name, tables, etc).  Once that's created, without quitting the program, try then loading the database that's crashing for you.  Please let us know if that does/doesn't work, so we can try and figure out what the problem is from there. :smile:

Also, which operating system are you using, in case we need to create a special Debug version just for you with extreme logging or something added. :wink:
 Yeah, fully agree.  It'll be good to figure out wtf is going wrong and get it fixed.

I'm not personally technical enough to be able to help with the debugging for this, we'll have to wait for Martin or Rene.  They're both pretty responsive though, so they'll probably jump on this before tomorrow. :smile:
 As a thought in the meantime, would you be ok to try the older 3.1.0 release of SQLite Database Browser?

  https://github.com/sqlitebrowser/sqlitebrowser/releases/tag/sqlb-3.1.0

That will determine if the problem is a new one added in the last release, or if it's been around for a while.
 Hmmm.  Are you comfortable emailing the file to my personal address (justin AT postgresql DOT org)?  I can forward it on to Martin and Rene.  Having the file in hand would really help. :smile:
 Understood.  Is it workable to delete all of the data (just leaving the table/field structure) and email that?

Note - It's completely ok if that's also unworkable.  Am just trying to think up possible ways to figure out wtf is going wrong with it. :smile:
 With any luck this is the same issue as #56. If this is the case the tomorrow's nightly build from http://rp.oldsch00l.com/sqlitebrowser/ should work.
 Thank you, @EoD, for providing this horrible, horrible database :smiley: As you can see it revealed a number of issues, two of which made the application crash. Tomorrow a new nightly build will be prepared which includes these fixes. Here's the link: http://rp.oldsch00l.com/sqlitebrowser/
I'd love to hear your feedback on any problems you encounter while working with the database - it's not unlikely that there are some more problems. You should also note that adding new rows to a table often won't work because most of the triggers depend on a function called 'trigger_rowid' which has got to be defined in some SQLite extension. If you manage to find that DLL you can try loading it though by clicking View->Preferences -> Extensions and adding it there.

@rp- It's probably best if you could double check my commits. The fact that that sots2 database works is a good test case I think, but I'm not entirely sure this didn't break anything.
 @MKleusberg Back from holiday, apart from 8d23c7757820a16b260faec81ab5fe30a62535c8 I give green light, I would need to check that specific commit a bit more, as there are also additions with the no rowid stuff, that I didn't really look into.
 Thinking out loud here... is there any way to make the application display a warning message when it can't open the database, instead of crashing?  Maybe something like:

```
  Failed to open database [path here] with error [something].

  Please create an issue about this at https://github.com/sqlitebrowser/sqlitebrowser/issues
```

?
 @EoD Do you have a few minutes to try out the latest nightly build, just to confirm it works for you now?

&nbsp; &nbsp; http://rp.oldsch00l.com/sqlitebrowser/sqlitebrowser.exe.xz

The .xz file is a type of compression.  I think you can uncompress it using 7-Zip (www.7-zip.org, also open source).  In theory it should all "just work". :smile:

@richardwiden If you have time too, would you be ok to try the latest nightly build as well?
 @rp- Do you reckon this issue can be closed?  (there's mention of you wanting to review some bits first)
 The changes are fine.
  Hi,
this is an issue which was fixed by @TheVanDoom some time ago, so the problem will be solved in the next version. For the time being you can use the nightly build from http://rp.oldsch00l.com/sqlitebrowser/ (assuming you're using Windows). If your CSV file doesn't use quotes you should wait until tomorrow, however, to include an additional bug fix.
 @error505 Out of curiosity, which operating system are you running on?  If it's OSX, I can create a new  .app bundle for you with our latest development code.  That has the fix for this problem.
 @error505 Would you have a few moments to try out the latest nightly build, to confirm whether it fixes the problem you reported? :smile:

&nbsp; &nbsp; http://rp.oldsch00l.com/sqlitebrowser/sqlitebrowser.exe.xz
&nbsp; &nbsp; (.xz is a compressed file, you can use [7-zip](http://www.7-zip.org/download.html) to uncompress it)

And yeah, I understand you've already figured it out with other software.  Just wanting to make sure it's also fixed in our latest code too, if you have the time to check. :smile:
 Thanks @error505, that's awesome. :grinning: 
  you have some weird characters in your schema definition (scores)
and our internal grammar parser will 99% fail on them i guess.
How did you create the table?

maybe you can paste the table schema, if you use the sqlite3 commandline tool

```
sqlite3 databasefile.db
.schema
```
 What I did notice while looking at this is that SQLite allows a whole bunch of UTF8 chars in column and table names, including the '‚ô™' character. But our grammar parser only covers the range '\u0080'..'\u02B8' which excludes basically all writing systems except Latin script. This is accepted by SQLite but not by us:

``` sql
create table foreignscript(
 ‚ô™‚ô™‚ô™ int,
 Œ£Œ£Œ£ int,
 –¥–¥–¥ int,
 „Çå„Çå„Çå int
);
```

@rp- What do you think? Is it safe to increase the range up to \uFFFE? Or are there any special chars in there which might cause trouble?
 @MKleusberg kinda missed that issue, well if sqlite "supports"/handle them, we should also try to do it as good as we can.
 @rp- This turns out to be **way** more difficult than I expected. The problem is that antlr + Unicode + C++ seems to equal trouble: antlr doesn't handle multi-byte sequences at all, so what it does for these characters is reading them one by one and trying to make sense out of each one separately.
Provided with the antlr source code there is a UTF-8 example which I've adapted for our purposes and maybe it would work but the input reader class they've written doesn't support case-insensitive literals which makes it useless for SQL.
I'm going to take a break from this issue; but I've pushed my latest version to the [utf8grammar branch](https://github.com/sqlitebrowser/sqlitebrowser/tree/utf8grammar).
 Would a newer version of antlr address this issue better?  We're a couple of major versions behind aren't we?

We could also ask the upstream antlr Community what they're recommend in this situation.  Seems like they have a Google Groups based mailing list (and an old presence on Stack Overflow):

&nbsp; &nbsp; http://www.antlr.org/support.html
 The thing is, antlr 2 is the only parser version of antlr with a good c/c++ interface. All other version are either not very good documented or buggy and not complete at all. At least when I started to write the parser.

Maybe the improved the antrl3 c++ target and a switch might be relative simple to that version, if it fix our issues. We might review that for version 3.4. Or maybe there is a better parser generator I missed completely.
 No worries.  Googling around to get a better idea of antlr stuff shows that v4 probably isn't going to turn up any time soon either.  Oh well.

&nbsp; &nbsp; https://groups.google.com/forum/#!topic/antlr-discussion/vFjTg9jzCaM
 Interestingly, there is progress on the C++ port for ANTLR 4:
- https://github.com/DanMcLaughlin/antlr4cpp
- https://groups.google.com/forum/#!topic/antlr-discussion/rjVEUxMJBcI

Doesn't sound usable yet, but it's slowing happening.
  Thanks a lot! I have played around with translating the application into German and can therefore imagine the amount of work you had to put into this. Creating the qm files at compile time also makes a lot of sense - awesome that you did this for the qmake and the cmake project files :smiley: 
 You're welcome to make more contributions any time if you'd like to :smile: 
 @VanDerSam Would you be interested in updating the translation for our next release (in a few weeks)? :smile:
  Interesting.  Does the 3.2 version crash as well?
 Mhh, the reason for the version 3.1 thing could be that we forgot to increase the number when packaging the MacOS build :sweat: This should have been done in the [src/app.plist](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/src/app.plist) file.

Anyway, the interesting thing here is that the crash happens in sqlb::CreateTableWalker::parsecolumn(). This means that there is a table definition in your database that our SQL parser doesn't understand yet. For fixing this we'd need the table definition which causes the problem. Because the entire application crashes you probably have to try another SQLite frontend or download version 2.0 of SQLiteBrowser from the SourceForge page to get the definitions. In either case, it's the output of this SQL statement which we'd need to fix the issue:

``` sql
SELECT sql FROM sqlite_master;
```

If you can bother to provide us this information, that'd be a huge help :)
 @loeschg As a thought, you can email the output to me directly (eg non-public) if that's better.  I'll forward it via email to Martin and Rene.  My personal email address is justin AT postgresql DOT org.
 @MKleusberg Yep, you're correct about the wrong version number being in our src/app.plist file.  Issue created for that here: https://github.com/sqlitebrowser/sqlitebrowser/issues/62
 @loeschg Thank you very much for your effort, Greg!

This is a minimal example of a table which leads to this crash:

``` sql
CREATE TABLE x(x INT REFERENCES reftab(id) ON UPDATE NO ACTION);
```

The problem was indeed a bug in our SQL grammar rules - simply a missing definition for the 'NO' string. This is fixed in the commit mentioned above.
Maybe Justin will even provide you a new MacOS package, so you won't have to wait for the new version :)
 Yep, I can do that.  Coming up. :smile:
 @loeschg k, this is a brand new build based on our latest development code:

  http://mirror.salasaga.org/stuff/sqlitebrowser-3.3dev_201407212257.dmg

Would you be ok to try it out, and let us know if that fixes the problem?
 Awesome. :smiley_cat: 
  Yeah, I've thought about this, but decided against it.  The Homebrew version produces a binary that's only really usable from the command line.

eg: not a .app bundle suitable for going in the /Applications folder, which is useful for more people

I suppose we could update the instructions to mention both...

Thoughts?
 No worries.  I'll think it over, and see if there's a good way to mention both approaches. :smile:
 @martinlindhe I've updated the instructions to include both approaches.  Do you reckon it sounds ok?
 Awesome, thanks. :smile:
 Interesting.  Thanks for the heads up. :smile:
  yes this is an android feature:

> Localized Collation - ORDER BY
> In addition to SQLite's default BINARY collator, Android supplies two more, LOCALIZED, which changes with the system's current locale, and UNICODE, which is the Unicode Collation Algorithm and not tailored to the current locale.

see: http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html

sqlite defines some functions to add your own collations: http://www.sqlite.org/c3ref/create_collation.html

In respect of sqlitebrowser, I'm not sure how we could handle this in a prober way, we can't implement unknown collation functions for frameworks/apps like android.
We might be able to use some fallback for unknown collation sequences, as far as I understand the collations are just used for sorting.
http://www.sqlite.org/datatype3.html#collation
 I'll try to get to it this week
 Do you know where i can obtain such a database file? or can you upload such a test db somewhere?
 @tprochazka You're welcome to email a database file to me (justin@postgresql.org), and I'll forward to Rene and Martin as needed. :smile:
 Thanks got it!
We should now(cf33f3054e613f0a7ac20c5edf4c35ffe994e2bf) support opening of database with unknown collations, for now a messagebox will always open if you are working with such a table of the database.

Check tomorrows windows nightly build (if you are on windows)
 @tprochazka Which operating system are you using?  Would you have time to check if this is now working for you, in the latest nightly build?
 @tprochazka It should be in our nightly OSX builds already. :smile:

&nbsp; &nbsp; http://mirror.salasaga.org/sqlitebrowser/nightly/
 @tprochazka You've completely ok to close this issue when you're happy it's resolved btw. :smile:
  i'll drop the sqlb- in the next release
  Would you be ok to rebase this on the HEAD of master branch, and squash to one commit?
 ?
  It sort of looks like we have a bug in our CSV import code at the moment.  The bug is stopping multi-byte characters from working. :frowning: 

A fix for the problem is being worked on (https://github.com/sqlitebrowser/sqlitebrowser/pull/47), though it could be a few more days until it's ready.

Sorry I don't have better news.
 @nirbal The problem you experienced should now be fixed.

Would you be ok to test the next nightly build?  It will be available here:

http://rp.oldsch00l.com/sqlitebrowser/

(wait until tomorrow's one though, for the new version to be created)

:smile:
 @nirbal ping.  Do you have a minute to try out the latest build?  We're just wanting to make sure it's definitely fixed and working for people now. :smile:
 Closing this as we're **pretty sure** this is fixed, and the original reporter seems to have lost contact so isn't able to confirm. :frowning: 
  We(sqlite3) will use your DEFAULT values, the problem was more that we didn't sync the view with the real data, after inserting a new row.
Commit 6705e8c9f23845a826019347b6bdbd5c030cb913 will fix the not synced view, and hopefully give a better view what was inserted by DEFAULT.

I don't think we have the same user experience for adding rows as SQLiteManager, so a preview of what would be inserted isn't really possible, after hitting the "insert row" button the insert statement was already executed and only a revert will undo your action.
 This was a bug in the parser grammar, thanks!
should be working with f3a2a7495374128a268da4eebda2ea7c5fadb3cc
 @jzsoftware Would you be ok to try the next automatic nightly build, to verify this is working for you?

  http://rp.oldsch00l.com/sqlitebrowser/

(you'd need to wait until tomorrow, for the next build to be made)
 @jzsoftware When you say you removed the .xz extension, did you do that by renaming it, or by decompressing it?

In theory, 7-zip should be able to decompress .xz files:

  http://www.7-zip.org

I haven't personally tested it, but I'm 80% sure. :smile:
 Cool. :smile: 
  Agreed.  John created the PortableApps version for 3.1.0.  I've emailed him a few days ago, to mention that 3.2.0 is out.  Haven't heard back from him yet.

Maybe if you ping him via the PortableApps forums?
 Thanks Steve. :smile: 
 v3.2 PortableApp version is now online:

  https://github.com/sqlitebrowser/sqlitebrowser/releases/download/sqlb-3.2.0/SQLiteDatabaseBrowserPortable_3.2.0_English.paf.exe

Hope it works well. :smile:
  This sounds cool.  I'm not technical enough to review it (Rene or Martin will), but thanks. :smile:
 I'll leave this one to Martin, as he did more on csv import/export.
Just a thing i noted on looking at it, the

```
while (!inStream.atEnd()) {
```

should be changed to a do .. while loop, otherwise I think we do nothing if the import file is just one line.
 Thanks for finding and fixing this bug :+1: 
I'd actually merge this even without applying the change Rene suggested as the old code didn't handle this any better. And it does work as long as the file ends with a line break - which all CSV files should. But of course you're free to change the code to handle those files correctly as well.
The one thing I'd suggest to change before merging is moving the 'current' variable definition inside the body of the outer loop in order to reduce its scope and make the code a bit easier to read. But other than that the change looks pretty good :)
 Had a look at the docs, which confused me a bit more :)
http://qt-project.org/doc/qt-4.8/qtextstream.html#operator-gt-gt-4
"inStream >> QString" works on words and not on lines, which makes me suspicions how this line based loop will work with that?

I didn't try any of the code yet, this is just wild brain-compiler based thinking, so please prove me wrong :)

@MKleusberg We should probably setup some unittests for the csv parsing.
 I've tested this with every configuration I could come up with and it always yielded the expected results. CSV files without trailing line break are now fully imported as well, so another issue we had is fixed as well.
Thanks again for putting your time into this - it was a big help! If you feel like fixing other problems or the like you're always welcome to send in your commits :)
 @rp- Good idea! I'll try to write some unit tests today or tomorrow.
 And the unit tests are written. Here's the commit which adds tests for all the cases I could come up with - they all pass: e7924f3739218575b6d06795787b0dd85e8c5b6a
  Hmmm, wonder if this is related to https://github.com/sqlitebrowser/sqlitebrowser/issues/45 ?

If you try to create a new database file first, **then** open the existing database file you want to use, does that work?
 @Nakedtoe1 ping?
 @Nakedtoe1 Does this problem still happen for you?

As a thought, would you be ok to try our previous release to see if that works?

  https://github.com/sqlitebrowser/sqlitebrowser/releases/tag/sqlb-3.1.0

If that release does, it will help us figure out what is going wrong so we can fix it. :smile:
 I'm closing this for now, as we don't seem to be getting further info about this.

@Nakedtoe1 If this problem still happens for you, you're welcome to re-open this issue.  We'll investigate it then. :smile:
  Hmmm, does it work with SQLite Database Browser 3.1.0? (the previous release)

... wondering if the newly bundled SQLite version in 3.2.0 is busted somehow. 
 Just to make absolutely sure: You're using the "Open Database" command and not the "Open Project" one?
If this is the case this is definitely a bug. The cause would be that the application fails to load your database and then tries to parse the file as project file which then leads to your error message. The question then is why it fails to open the database even though the load code hasn't really changed :confused: I guess we'd need to step through the load process together, checking that everything works as expected... As a first step you can make sure that the database file you're trying to open starts with "SQLite format 3" when opening it in a text editor.
 Or, as Justin just pointed out, a problem in the SQLite version bundled with the Windows release could be a cause as well :)
 That is weird.

Hmmm, if you completely restart the application, does it still fail to open the database if that's the first thing you do?
 Taking advantage of the fact that I'm having a Windows 8.1 laptop available at the moment, I tried to open a whole bunch of databases on that system and didn't encounter any problems. These are the checks done when opening a database:
1. See if the file actually exists (which I assume it does in your case)
2. Check if the file content starts with "SQLite format 3"
3. Giving the file to SQLite
4. Executing two pragmas
One of these fails and causes the error message - my guess would be number 2 or 3. That could also explain why a newly created file works. Still, looking at the code the only difference between the old and the new version should be the error message it gives you...
 @browserboy ping?
 @browserboy ping # 2.
 Closing this, as we're not getting the needed follow up info from the original reporter. :frowning: 
 Honestly, I'd given this some more time. As we have two reports of this issue I think something actually is going on here even though it's only happening for very few people. Then again the problem is not that easy to track down at the moment and might just disappear in the next version or a nightly build using another version of SQLite or so.
 Sure, this could very well be a real issue we need to resolve.  But without further communication from someone experiencing it, I can't see how we'll do it. :frowning:

Feel free to reopen this if desired though. :smile:
 I checked this issue:
- create a new DB
- cancel the table dialog

Then we have a database with a size of 0 bytes and no explicit commit will change anything.
When we try t open that file then, sqlite3 fails as it is no database and we try to open it as a project file, which of course it isn't.
Imho we could only try to check for empty(0 byte) files and ask the user if we should create a new db.
 As an alternative idea, would it be better to not create the new file on disk until the "Edit table definition" dialog has been successfully completed?  That would avoid the 0 byte file problem wouldn't it?
 we can't, sqlite will create the db file as soon as we call the _open API call, and we need that call to get a valid handle to do anything with it.
 Hmmm, thinking about this more, do we really need to do the _open API call before the dialog completes?
 actually found a cheap workaround for this. 32ef063d111305e44d83aa39fc4dcf2dc60f88a1
 Yeah, good approach. :smile:
  Hi!
Could you try a nightly build?
http://rp.oldsch00l.com/sqlitebrowser/

This seems to be already fixed in master branch
  This was indeed missing in our SQL parser. Thanks for telling us!
I've added support for the 'NOT LIKE' operator in check constraints in the commit mentioned above. Tomorrow a new build including this fix should be available via the same link (http://rp.oldsch00l.com/sqlitebrowser/sqlitebrowser.exe.xz).
 @dgeelen Have you had a chance to try this out?

I'm wondering if we can consider this issue as closed or not. :smile:
 yes this needs a more proper fix
 You're right of course :)
I've extended the fix to also work with IN, GLOB, MATCH and REGEXP. The documentation also mentions the EXISTS constraint but I already utterly failed in creating a test table in the first place, getting a "subqueries prohibited in CHECK constraints" error. I might have another go at it later though.
 btw. not exists works.
I think it's fine to close this one
 Cool. :smile:
  Interesting question from Twitter:

&nbsp; &nbsp; https://twitter.com/brianeunilkim/status/479676964521775104

```
Opening and closing database with journal mode Wal it deletes the shm and wal files.

How do I keep them?
```

Any ideas?
 I think this is a SQLite thing. We have no code regarding these files, it all happens in SQLite. On https://www.sqlite.org/wal.html it says that "the wal-index backing file is deleted when the last database connection disconnects" which is exactly what happens on my system: If I have multiple instances of our application with the same file opened, I can close any of them and the files stay where they are. If I close the last one though, they are deleted.
 Thanks for the feedback. Glad I could help :smiley: 
 .db-wal is a temporary file created by the sqlite3 code/library, you cannot directly open such file.
There should be a corresponding sqlite3 db file. 
 well, kinda. I don't know the implementation details, but I think this WAL file has checkpoints and uncommitted data.
But for details you should read the sqlite3 documentation:
https://www.sqlite.org/wal.html
  Which operating system are you using?
 Interesting.  Homebrew is installed, and both qt and sqlite installed from it fine?
 Also, can you show the output of `ls -la` in your sqlitebrowser directory?  That'll probably help. :smile:
 k.  Looking at that, your "qmake" isn't generating the Makefile (which it should be).

Try running "qmake -d".  That '''should''' spit out a bunch of information to say what it's doing.  Are you able to cut-n-paste that here (in monospace for readability), or email it to me?  (justin@postgresql.org)

Or maybe put it in a GitHub gist if you're more comfortable with that.  eg whatever works :smile:

Lastly, what did you use to install Qt and SQLite3?
 Yeah, I'm not sure.  I'm not a C++ coder, so I'm mostly just guessing here. :wink: 

Here's the output of qmake -d for me (with a fresh git clone of the sqlitebrowser repo):

https://gist.github.com/justinclift/8b71f6dde186150b616f

It looks like your system is using gcc to compile with, and mine is using clang.

Ummm... would it be feasible for you to install Qt and sqlite3 using Homebrew, as that's known to work?
 I can only grope about in the dark as well here as I don't have a macOS system available. However, the interesting information seems to be in line 8 where it says 'MAKEFILE_GENERATOR: :=: (XCODE)'. According to [1] this is a qmake internal variable which defines the tool used for generating the makefiles, in your case Xcode which also explains the missing xcodeproj extension.

On my system it's set to 'UNIX' and you seem to be able to override the qmake configuration file which defines this variable. Provided you have the g++ compiler installed you could try this:

```
qmake -spec macx-g++
make
```

If you use LLVM/Clang try this:

```
qmake -spec macx-llvm
make
```

If you have neither of them installed (and don't want to) manipulating line 7 of your /usr/local/Qt4.8/mkspecs/default/qmake.conf file, changing it from XCODE to UNIX, might work but will probably cause problems later on.

[1] https://stackoverflow.com/questions/11569495/using-os-scope-before-setting-makefile-generator-in-qt 
 Thanks @metalrecker, that's really good info. :smile: 
 :smile:
 @kytekoz Do you have a few minutes to try out @metalrecker's suggestions?
 Just added this workaround info in https://github.com/sqlitebrowser/sqlitebrowser/commit/dea0a653850bbe766ce3c90d8e2900e4be361b44.  Guessing we can close this issue now?
 Closing this now, as the new instructions seem to be working for everyone. :smile: 
  Can you post the create table statement of your table, or a simple version of it were you can reproduce it?

I tried on one of my tables, but rows are saved
 @Maypeur Does this problem happen with the new 3.2.0 version of SQLite Database Browser?
 Closing this as it's been almost a year now without any response. It this error still occurs everybody's welcome to reopen this issue.
  We'll need to add description/info stuff about project files to the wiki, so people know what they do.
 Before I do this, I want to check if our project files should be getting added to the "Recent Files" list.

I think they should be (not just database files themselves), but on OSX they're not.  Unsure about other platforms.
 No, they weren't added to the Recent Files list - instead the database file mentioned inside them was added. I've changed this to the exact opposite behaviour with commit ff5cf3e63d3ebe0974fc19b84d4cb7afbf174a45. Feels much more reasonable now :)
In 5d20d97e249a42d7dae1061d946c90c9c987d608 I've made some more (minor!) changes, especially when it comes to saving project files.
 Awesome. :smile:
 So, "auto open last project" would be a preferences setting, that when enabled tells the program to load the last project when it starts up?

I'm having trouble imagining what the "open project from command line" item should do though.  What's your concept for it? :smile:
 Moved this to our overall "Wiki pages we should have" Issue.
  I'm working on this and fixed the basic issue, but encountered another small issue with the resulting CHECK value
 @dgeelen Would you be ok to try out the new nightly build that includes this, and confirm back to us whether it's working or not?  Just in case. :smile: 

  http://rp.oldsch00l.com/sqlitebrowser/sqlitebrowser.exe.xz
  Well, there are two sides to look at this issue:
On the one hand your SQL probably doesn't do what you want it to do and would quite likely raise an error when given to other database engines. The problem here is the 'no null' (note the missing 't' to make it 'not null') constraint. Apparently SQLite parses this column definition in a way that 'episodenb' is the column name, 'integer no' the data type and 'null' the constraint. Now, as SQLite doesn't care about data types anyway the awkward data type is accepted just fine and the null constraint might be redundant (null values are allowed by default) but valid. By the way, you can check how SQLite actually interprets your table definition by executing

``` sql
PRAGMA table_info(`episode`);
```

That said, your statement clearly exposes a bug in our SQL parser: We didn't allow for a NULL constraint; we just checked for NOT NULL instead. Thus a table definition like

``` sql
CREATE TABLE test(a int null, b int null);
```

would result in TEXT columns as well. This is fixed by commit 6e5c98b653bb6ed00807e7e2f95eb5bdfb66b50e which also fixes your table definition. Thank you for pointing this out!! That said, you still might want to fix your table definition :wink: Maybe you can also double check that the fix really does solve the problem as you expected it.
 @rafirafi Any chance you can screenshot the error bit?  It's kind of hard to visualise just from a text description. :wink: 
 Ahhh, like the divider between the field definitions and the SQL is too far down, and should be higher up to display the whole SQL statement?

@MKleusberg @rp- Is that workable to do automatically?  With GTK (heh) it used to be possible to query the inside dimensions of a widget, then ensure the container for it is large enough.  Not being Qt guy though I don't know the details of how Qt does this stuff (yet).
 I added a splitter between the table and create table statement and set better expanding rules.
651e3bf1466cdd6afd9af422e9791fba611252b5
 @rafirafi Would you have time to try this new code out? :smile: 
  Sounds like a good idea.
 the nightly build uses the latest sqlite lib now.
the next release will also get an upgrade of sqlite.
 @marfire Would you be able to check the nightly build, and see if that works for you?

&nbsp; &nbsp; http://rp.oldsch00l.com/sqlitebrowser/sqlitebrowser.exe.xz
 That's excellent.  I'll close this bug for now as it seems fixed properly.

The next full release of SQLite Browser is version 3.2 - likely around the end of this month - which will include this fix.
  Heh, none of that.  It's because I'm the only person on the team with OSX, and I don't know how to generate a self contained .app yet.  My only experience so far is getting things compiled using Homebrew (shared libs, not self contained).

If you know how to do it, your assistance would be **very** welcome! :smile:
 Interesting.  I was expecting we'd need to compile everything statically or something.

If it's just a matter of copying the Qt framework files (and sqlite lib) into the app bundle, it sounds workable without a huge learning curve.
 Sweet, I've been meaning to look into this.  That's exactly the right link to clue me in.

Thanks Mauricio. :+1: 
 Yeah, I tried out your package before.  It works if I have qt4 and sqlite3 shared libs already on my system (eg installed through Homebrew).

Without those already present, it doesn't start.  An OSX dialog comes up complaining about an error with the application.
 @jonasman Yeah, that's not looking happy.  :frowning:

Which version of OSX are you using, and what happens when you run "brew doctor"?
 Does anyone have time to try out this?

  http://mirror.salasaga.org/stuff/sqlitebrowser.dmg

That's SQLite Database Browser v3.1, packaged into a .app using the Qt4 "macdeployqt" tool.

```
$ macdeployqt src/sqlitebrowser.app -verbose=2 -dmg
Log: 
Log: Deploying Qt frameworks found inside: ("src/sqlitebrowser.app/Contents/MacOS/sqlitebrowser") 
Log:  copied: "/usr/local/opt/sqlite/lib/libsqlite3.0.dylib" 
Log:  to "src/sqlitebrowser.app/Contents/Frameworks//libsqlite3.0.dylib" 
Log:  copied: "/usr/local/lib/QtGui.framework/Versions/4/QtGui" 
Log:  to "src/sqlitebrowser.app/Contents/Frameworks/QtGui.framework/Versions/4/QtGui" 
Log:  copied: "/usr/local/lib/QtGui.framework/Resources/qt_menu.nib/classes.nib" 
Log:  to "src/sqlitebrowser.app/Contents/Frameworks/QtGui.framework/Resources/qt_menu.nib/classes.nib" 
Log:  copied: "/usr/local/lib/QtGui.framework/Resources/qt_menu.nib/info.nib" 
Log:  to "src/sqlitebrowser.app/Contents/Frameworks/QtGui.framework/Resources/qt_menu.nib/info.nib" 
Log:  copied: "/usr/local/lib/QtGui.framework/Resources/qt_menu.nib/keyedobjects.nib" 
Log:  to "src/sqlitebrowser.app/Contents/Frameworks/QtGui.framework/Resources/qt_menu.nib/keyedobjects.nib" 
Log:  copied: "/usr/local/lib/QtCore.framework/Versions/4/QtCore" 
Log:  to "src/sqlitebrowser.app/Contents/Frameworks/QtCore.framework/Versions/4/QtCore" 
Log:  copied: "/usr/local/lib/QtNetwork.framework/Versions/4/QtNetwork" 
Log:  to "src/sqlitebrowser.app/Contents/Frameworks/QtNetwork.framework/Versions/4/QtNetwork" 
Log: 
Log: Deploying plugins from "/usr/local/plugins" 
Log: Created configuration file: "src/sqlitebrowser.app/Contents/Resources/qt.conf" 
Log: This file sets the plugin search path to "src/sqlitebrowser.app/Contents/PlugIns" 
Log: 
Log: Creating disk image (.dmg) for "src/sqlitebrowser.app"
```

It seems ok in quick testing here, but I'd like confirmation from other people before I add this to the "releases" page. :smile: 
 @piacentini Hmmm, do either of these work for you?
- http://mirror.salasaga.org/stuff/sqlitebrowser_without_readline_v3.1.dmg
- http://mirror.salasaga.org/stuff/sqlitebrowser_without_readline_pre_v3.2.dmg

If not, then I have another idea (build on a core 2 duo processor).  There's one here I can try on, but it's not available atm. (one of my team mates is upgrading ram in it)
 Created it on my local desktop, running OSX 10.7.5.

I'm kind of wondering if the problem might be that my Mac Mini has a new processor than yours, so it might have been compiled using cpu specific instructions that won't work on yours.

This bit of your crash report is kind of making me think that:

```
Exception Type: EXC_BAD_INSTRUCTION (SIGILL)
Exception Codes: 0x0000000000000001, 0x0000000000000000
```

We have a box here that has a Core 2 duo in it, so I'll make a new app.dmg using that.  Lets see if that works. :smile:
 I compiled the sqlite3 using Homebrew.
 Hmmm, we specifically build sqlite3 because we need it compiled using --with-functions.  The system provided one doesn't have that, so doesn't work (I'm told).
 I can do a build using the system sqlite3 easily.  Do you want me to make an app.dmg using that, and see if it works for you?
 Yeah, compiling fails using the system provided version of sqlite3:

```
Undefined symbols for architecture x86_64:
  "_sqlite3_enable_load_extension", referenced from:
      DBBrowserDB::open(QString const&) in sqlitedb.o
      DBBrowserDB::create(QString const&) in sqlitedb.o
  "_sqlite3_load_extension", referenced from:
      DBBrowserDB::loadExtension(QString const&) in sqlitedb.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[2]: *** [sqlitebrowser.app/Contents/MacOS/sqlitebrowser] Error 1
make[1]: *** [release] Error 2
make: *** [sub-src-make_default] Error 2
```
 @piacentini  Just on the off chance this works, would you be ok to try this:

  http://mirror.salasaga.org/stuff/sqlitebrowser_core2.dmg
 (this one was compiled on OSX 10.8, so that might also help too)
 Thanks. :smiley: It'll probably either be a) compiling on 10.8 made the difference, or b) cpu architecture thing.

Either way, I'll create a v3.1 archive and add it to the releases page.  And we can make v3.2 on the same box as well when it's ready.
 Done.
- Added the .dmg to the Releases page, and SourceForge (ugh)
- Added a button for it to the website
- Tweeted about it
  You're using qmake, I suppose? Because we had some difficulties when it came to using extended features with qmake we've made the decision to move to cmake. We try to keep qmake support but only for a quick build; when it comes to a release build or things like make install I'd suggest using cmake. I hope this is an option for you :)

(Disclaimer: I'm assuming here that we have install support when using cmake but never tried it myself, maybe Rene can confirm this...)
 I didn't come around to add a useful install target to cmake.

Right now we only have the binary as output file, no docs, no translations(yet) to install.
This will get mandatory as soon as we have more additional runtime files.
 Sounds like we should add build instructions for Linux too.
 Good point. :smile:

Which distribution/version of Linux are you using?
 > On Wednesday 28 May 2014 16:21:02 Jonrysh wrote:
> When I find a Makefile in a build directory, I assume that the packager has already run whatever is needed to generate it, and that they have probably done a better job than I will (at least for a first cut), so in this cas I didn't run qmake.

Are you sure the Makefile was there after cloning the repository? Because as far as I see there is none checked in now. It might have been automatically created by Qt Creator, however, and Qt Creator relies on qmake by default.

You are definitely right though in pointing out that the building instructions are wrong in asking to use qmake rather than cmake - especially after suggesting cmake to be installed. Good job in noticing this :) I've fixed it in the commit mentioned above.
 just checked again, there is a install rule for cmake.
It doesn't do much(copy sqlitebrowser to /usr/local/bin, but its there ;)
 @Heart1010 Do the instructions in the BUILDING.md file work for you?

&nbsp; &nbsp; https://github.com/sqlitebrowser/sqlitebrowser/blob/master/BUILDING.md
 In theory, 'make install' should be working now.

Does anyone have a few minutes to test and confirm success/failure? :smile:
 Closing this now, as "make install" is generally known to work ok.

If for some reason it doesn't, please feel welcome to re-open this issue or create a new one (either is good). :smile:
  There is no way to convert an integer into a date string built into SQLIteBrowser. This is mainly because there is no way for us to tell whether a value is to be converted or not. It's made even worse by SQLite allowing all sorts of data types to be mixed even in the same column (i.e. the same column may contain an integer for one row and e.g. a string for the next row, so these column-depending actions require us to do _a lot_ of data checks).

What you can do though - and what I do for one database I have with epoch dates - is using the native 'datetime()' SQLite function by executing this in the Execute SQL tab of SQLiteBrowser:

``` sql
SELECT *,datetime(date_column, 'unixepoch') AS date_column_string FROM table_name;
```

You could also create a view of this by clicking the button next to the result view and then on "Save as view".
For more details and examples on this you may want to check https://www.sqlite.org/lang_datefunc.html
I hope this helps you a bit!
  There's no User Interface documentation yet. :frowning:

Yeah, we understand this sucks.  We've been putting a lot of time into getting bugs fixed, updating compiling instructions, and working on other non-UI documentation stuff.  We'll get to the UI docs over the next few weeks.

For the Filter buttons, are you meaning the "Filter" fields in the Browse Data tab?

If so, they're a place for tying in basic SQL 'where' clause filter.  For example, putting 'a%' in the filter for a text field will then only show stuff starting with the 'a' character.  '%' is the wild card in SQL.  (things like '%foo%' and '%bar' will work in similar way)

Does that help at all?
 I've just written a bit of documentation regarding the filters. I case I didn't cover all questions in there, please let me know. Here's the link: https://github.com/sqlitebrowser/sqlitebrowser/wiki/Using-the-Filters
 @MKleusberg Good stuff.  Screenshot/pics + explanation is a very good approach. :+1: 
 Since nobody complained about missing details in the wiki page I guess it's safe to close this issue.
  Interesting.  The old SourceForge page does already point to this website (eg the Web Site link on the front page), but I guess we could make it even more obvious (eg add info to description).

The new website was appearing in Google too until yesterday, but seems to have dropped out of results.  Not sure how to fix that yet.
 I have the new page as 2nd result on google and 7th on duckduckgo
 Cool, it's showing up similarly for me now on Google too.

After work tonight, I'll change the source on sourceforge.net to point to the new website, and also do something with the description there as well.  That should help make things more obvious.
 @Jonrysh I've updated the SourceForge page's description, and replaced the git source with a README.md pointing here.

Do you reckon the GitHub address stands out better now?
 You're welcome.  Thanks for pointing out it needed to be clearer. :smile:
  Excellent.  I don't have a High DPI display, so haven't been able to test it.

@Shouqun Out of curiosity, does the Applications menu icon for SQLite Browser look ok?  I had to create it without using a High DPI display, so the High DPI icon resolutions were guesswork.
  Yep, this is a good idea.
 I'd suggest extending this idea into adding an option for saving the entire current session (including path to the DB file, window, table and plot settings and content of the SQL tabs) in a file. The idea is to have a single file containing all the information to continue work wherever it was interrupted.
If there are no objections to this idea I'd start implementing it next weekend or so.
 @stevehodgett 
this can also be handled within this session file
 @stevehodgett I have prepared two commits for you:
5e1169b43db79d2d8fc8659bafb9c67787bc8720 saves the column widths for each table independently. Before this the column widths stayed the same when changing from table 1 to table 2 and vice versa.
62622ae8e8bc916982ca2eae9d3d79364a5f53d9 adds two menu entries (File/{Load,Save} Project) which allow you to (re)store this information along with some other data in a project file. As long as the path to your database doesn't change you can just open the project file instead of the database and have the database opened automatically with the correct column widths set.

I hope this solves your issue :) If you encounter any problems let me know.
 Excellent!  Good stuff Martin. :smile:
 As a thought, should the project files be added to the "Recent Files" list?
  This is a difficult one because of Qt doing much UTF-8 converting automatically. What I could do is showing the full data in the text editor and keeping the dialog away from changing back to the hex editor all the time.
However, once you change a BLOB which contains a non-UTF-8 character it is replaced by the UTF-8 replacement character (EF BF BD) and thus rendered useless... This happens somewhere in QTextEdit or QTextDocument. NULL characters work though :)
 Thanks for the hint - commit 41296e3ac0859d560b15a0c51c0a7a3ad2282047 incereases the size of that dialog to fit the entire hex editor widget (at least on my system, that is).
In commit ae4d04f9b1c6149c89ebcd81d9d0aac298cedd8a I've also added a warning which appears when the user attempts to change binary data in text mode.

I think these changes make the dialog a lot more user friendly but I'd still like to keep Qt away from inserting replacement characters. We'll have to see if that's even possible though :unamused: Still, looking forward to your feedback on the new version tomorrow :smile: 
 Don't worry, I do care about this level of detail and all input is welcome :)
1. This might be because of your font or so. I get at least some sort of representation on my system and if you don't have a similar result on yours we might be able to fix it.
   ![5](https://cloud.githubusercontent.com/assets/3153504/3206339/69210448-edc4-11e3-8041-28b64b9dcca6.png)
2. Hmm, I can reproduce this. The problem here is that this bug lies somewhere in the Qt code. While it's possible to rewrite that code inside the application I'm not sure if it's worth the effort to be honest. I think the better approach might be to make editing binary data as comfortable as possible without usage of the text editor. If you haven't noticed them you might want to try the Export and Import buttons. And I'll check if it's feasible to extend the hex editor widget to allow input on the right side where the text representation is. I'd also be interested in any other suggestions!
 As a side thought, is there a difference in the way Qt4 vs Qt5 do this?  At the moment we can compile against either, but if Qt5 is better then we could potentially move to Qt5 specific?
 @stevehodgett We've made a huge amount of changes and bug fixes since this was reported, including many in our unicode handling. Would you have a few moments to try our new release (3.8.0) and make sure it's working properly now for you? :smile:
 Closing this as it's almost been a year without updates. Chances are that the copy-paste situation improved when we moved to Qt5 but either way: there isn't much we can do about it on our side. Adding an edit option to the right side of the hex editor turns out to be difficult, too. We would have improve the QHexEdit widget but that's an external project by different people. The "caf.." problem isn't actually a bug but correct this way: the "√©" is encoded using two separate bytes and none of them represents the "√©" on its own, thus the two dots. And finally, you can now set the font for the edit dialog, choosing one which doesn't omit NULL bytes but prints a box or something instead. This way "testtest" should become ~~ "test[]test". It's been almost three years, so this is probably just for the records, but: Good news! I've just updated the QHexEdit library in our repository and editing the ASCII code on the right side of the hex editor is now finally supported :wink: @MKleusberg That's awesome. :smile:  Hi!

You are right this should be improved and is kinda already stated in the code:

```
bool SqliteTableModel::isBinary(const QModelIndex& index) const
{
    QByteArray val = m_data.at(index.row()).at(index.column());
    return val.size() > 1024 || val.contains('\0');     // Cheap BLOB test here...
}
```

We have to improve the isBinary() function
 I also noticed that if you change the type to "TEXT" in the EditDialog, as soon as you edit something it will change back to binary mode, which is a pain and unusable.
 Martin here is a small diff that would fix the 2 issues, any comments?

```
diff --git a/src/EditDialog.cpp b/src/EditDialog.cpp
index ae1703d..9257151 100644
--- a/src/EditDialog.cpp
+++ b/src/EditDialog.cpp
@@ -141,7 +141,7 @@ void EditDialog::checkDataType()
 {
     // Check if data is text only
     ui->comboEditor->setVisible(true);
-    if(QString(hexEdit->data()).toLatin1() == hexEdit->data())     // Any proper way??
+    if(QString(hexEdit->data()).toUtf8() == hexEdit->data())     // Any proper way??
     {
         ui->editorStack->setCurrentIndex(0);

diff --git a/src/sqlitetablemodel.cpp b/src/sqlitetablemodel.cpp
index 38b3cda..9ad9499 100644
--- a/src/sqlitetablemodel.cpp
+++ b/src/sqlitetablemodel.cpp
@@ -436,6 +436,6 @@ void SqliteTableModel::clearCache()

 bool SqliteTableModel::isBinary(const QModelIndex& index) const
 {
-    QByteArray val = m_data.at(index.row()).at(index.column());
-    return val.size() > 1024 || val.contains('\0');     // Cheap BLOB test here...
+    QByteArray val = m_data.at(index.row()).at(index.column()).left(1024);
+    return val.contains('\0');     // Cheap BLOB test here...
 }
```
 Looks good to me. Especially for the isBinary function we might need to come up with an even better version since this function is called quite often and left()+contains() probably isn't the fastest way to check this - but it's definitely an improvement this way!
 Just commited the patch. The problem should be fixed now - thanks Steve for pointing this out!
 Should we make a 3.1.1 with this fix in say a week (and whatever else turns up in the meantime)?
 Hmmm, thinking about this more, it's a bit iffy to close this without confirmation from the reporter that the problem is solved.  It probably **is** solved, but just in case... :smile:

@rp- Your nightly build - non-portable version - will have the fix in it won't it?

If that's the case, @stevehodgett would you be able to test it?  Even though it's the non-portable version.  http://rp.oldsch00l.com/sqlitebrowser/sqlitebrowser.exe.xz   (but wait until tomorrow, when its freshly regenerated)
 yes the build tomorrow should have the fix, if there is no build error.
so before downloading check the file date or build log:
http://rp.oldsch00l.com/sqlitebrowser/

@MKleusberg How did you commit this patch as me? :)
 @rp- Here is what I did:
git apply yourpatch.diff
git commit -a --author='Peinthor Rene peinthor@gmail.com'
This leads to a commit where committer!=author just like when applying changes from a foreign repository. Hope you didn't mind :grinning: 
 na it's cool, just thought there is some hidden github button for that :)
  Although this one could be a bit of a pain to initially implement, it would be useful to have the UI text strings be internationalised.

This way we can enable translations of the UI to other languages.

Getting the UI translated would rely on something like Ubuntu Launchpad, Transifex, or whatever else is suitable.

We're already "kind of" in Launchpad already, so we may be able to leverage that for translations:
- https://launchpad.net/ubuntu/lucid/+package/sqlitebrowser
 As we are consistently use tr() in our code (at least I think so) it shouldn't be to hard to do translation.
Actually that was one of my next "feature" ideas
 As Rene and Mauricio already said, the application is basically ready for translations. I just fixed a minor bug in the code that loads the translation files (see commits 51be349c748e11868ae948b81d659025151a593d and dac1ed1fdbe3cf354416b7ec5f80c9be635c45c8). It now tries to load a translation according to the current locale settings of the user which I think is enough for now (and what the average user is expecting anyway).

The actual translation work is done by using lupdate to create a ts file which is then opened and edited in Qt Linguist. As a last step it needs to be converted to a qm file using qrelease. If this qm file is called something like 'tr_{locale}.qm' and is placed in the translations directory it'll be used automatically. I just started this process for a German translation but probably won't finish it (soon), this really is a lot of work :unamused:
 Cool, not one of my crap ideas then. :smiley: 
 Thanks @VanDerSam, that's awesome.  :smile:
 Closing this, as translations are up and running (just need more of them).

Btw @VanDerSam is the Russian translation still completely in sync with all of our text strings?  The project rename might mean some adjustment is needed.  Unsure. :wink:
  For Linux/MacOSX and the mentioned see extension this should already be possible if you build the shared sqlite library(with see) yourself and get it loaded before the default system sqlite lib.

For Windows you would need to build sqlitebrowser by yourself as the current builds are fully statically linked.

If you mean a different kind of encrypted sqlite database you would need to further explain.
 As a data point, SQLCipher might be useful to investigate:

  https://github.com/sqlcipher/sqlcipher
 ... and if there are clear steps that can be scripted, I can probably add nightly builds on OSX including it. :smile:
 Awesome! Martin's code for SQLCipher is working (very easily too).  Here is an initial "once off" build for OSX with SQLCipher support enabled:

&nbsp; &nbsp;  http://mirror.salasaga.org/sqlitebrowser/onceoffs/sqlitebrowser_201411051855.dmg

That successfully opened a simple test database, allowing me to see the data structures and browse the test data in there.

Everyone that can, please try it out and report back success/failure/etc for this! :grinning: 
 ![sqlcipher - about dialog](https://cloud.githubusercontent.com/assets/406299/4929079/ec2da6ca-654c-11e4-81bb-2d02d5d8712d.png)

![sqlcipher - file menu](https://cloud.githubusercontent.com/assets/406299/4929138/e39df3d8-654d-11e4-9c76-2ca194c4b80d.png)

![sqlcipher - enter key](https://cloud.githubusercontent.com/assets/406299/4929728/7aa41da8-6557-11e4-91fa-961326728b10.png)

![sqlcipher - set encryption](https://cloud.githubusercontent.com/assets/406299/4929112/6c37ac9e-654d-11e4-9445-652338cf1894.png)

![sqlcipher - database structure](https://cloud.githubusercontent.com/assets/406299/4929121/89b889dc-654d-11e4-9692-34ea56b4fe20.png)

![sqlcipher - browse data](https://cloud.githubusercontent.com/assets/406299/4929126/a5a18cd4-654d-11e4-9a2d-97b6c051fb48.png)

Apologies for the rough screenshots.  I'm screenshoting them through a remote session to an OSX box, then cutting out the appropriate window pieces using the Gimp.  Not fast, and it's been ages since I used the Gimp. :wink:
 New build for OSX available:

  &nbsp; &nbsp; http://mirror.salasaga.org/sqlitebrowser/onceoffs/sqlitebrowser-sqlcipher_201411101930.dmg

This one changes the default page size to 1024 (as recommended by the SQLCipher dev's), and also (should) fix a weird inconsistency of (previously) not always opening encrypted files properly.

Please try it out, and let us know how it goes. :)
 Btw, this is being discussed and tried out by the SQLCipher devs+users on their upstream Forum here:

&nbsp; &nbsp; https://discuss.zetetic.net/t/sqlcipher-support-being-added-to-db-browser-for-sqlite/243
 Not for Windows yet.  We build the Windows binaries by cross-compiling from a Linux system using [MXE](http://mxe.cc)  SQLCipher doesn't seem to be available in MXE yet, so we're not sure of the right approach to take.

We may need to get SQLCipher into MXE first, and then build our Windows binaries with SQLCipher support using that.
 Thanks to @MKleusberg, our SQLCipher on *nix based platforms is up and running. :smile:

Our OSX nightly builds also include a SQLCipher enabled version now.  For example, today's builds:

&nbsp; &nbsp; http://mirror.salasaga.org/sqlitebrowser/nightly/sqlitebrowser-sqlcipher_20141114.dmg
&nbsp; &nbsp; http://mirror.salasaga.org/sqlitebrowser/nightly/sqlitebrowser_20141114.dmg

Next, we need to figure out the Windows side of things.  Anyone have ideas? :question: 
 So then, I've tried my luck creating a sqlcipher package for mxe. I'm not really sure how to test this in a not insanely large amount of time because mxe doesn't support my operating system version and installing an older one in a virtual machine and then compiling gcc and all these dependencies in there would take forever.
But if someone is willing to try it (@rp- maybe?), here's the mxe package: https://github.com/MKleusberg/mxe/tree/add-sqlcipher
If it turns out to be working we can open a pull request at mxe and have nightly builds for Windows :)
 Hey, that's cool. :grin:

@rp- Do you have time to try out the SQLCipher package?  Also, which version of Arch are you using?  We might be able to get build VM's for that online (eg the Rackspace sponsorship thing), so we can all access it and try stuff out on it.
 maybe tomorrow, pretty busy right now.
 k, no worries.  Which version of Arch are you running, that MXE is known to work on for cross-compiling for us?  I won't have time to look at it this weekend, but it's a useful data point in case someone does have time in the future. :smile:
 Arch has no version, It's a rolling release distribution.
But mxe is not tied to a distribution anyway, it compiles its own cross compiler and so on...
http://mxe.cc/#requirements
 Ahhh, I'd forgotten that about Arch.  Installed it in a VM one time, then haven't touched it since.  One day... :wink:
 @MKleusberg cherry-picked your sqlcipher.mk but couldn't get it compiled.
I'm using the stable branch of mxe.

```
libtool: compile:  gcc -Os -DSQLCIPHER_CRYPTO_OPENSSL -DSQLITE_OS_UNIX=1 -I. -I./src -I./ext/rtree -D_HAVE_SQLITE_CONFIG_H -DBUILD_sqlite -DNDEBUG -I/usr/include -DSQLITE_THREADSAFE=1 -DUSE_TCL_STUBS=1 -c ./src/tclsqlite.c -o tclsqlite.o >/dev/null 2>&1
cp tsrc/shell.c tsrc/sqlite3ext.h .
./libtool --mode=compile --tag=CC gcc   -Os -DSQLCIPHER_CRYPTO_OPENSSL -DSQLITE_OS_UNIX=1 -I. -I./src -I./ext/rtree -D_HAVE_SQLITE_CONFIG_H -DBUILD_sqlite -DNDEBUG  -I/usr/include -DSQLITE_THREADSAFE=1    -DSQLITE_TEMP_STORE=1 -c sqlite3.c
libtool: compile:  gcc -Os -DSQLCIPHER_CRYPTO_OPENSSL -DSQLITE_OS_UNIX=1 -I. -I./src -I./ext/rtree -D_HAVE_SQLITE_CONFIG_H -DBUILD_sqlite -DNDEBUG -I/usr/include -DSQLITE_THREADSAFE=1 -DSQLITE_TEMP_STORE=1 -c sqlite3.c  -fPIC -DPIC -o .libs/sqlite3.o
sqlite3.c:28261:40: error: ‚Äòmmap‚Äô undeclared here (not in a function)
   { "mmap",       (sqlite3_syscall_ptr)mmap,     0 },
                                        ^
sqlite3.c:28264:42: error: ‚Äòmunmap‚Äô undeclared here (not in a function)
   { "munmap",       (sqlite3_syscall_ptr)munmap,          0 },
                                          ^
sqlite3.c:28268:42: error: ‚Äòmremap‚Äô undeclared here (not in a function)
   { "mremap",       (sqlite3_syscall_ptr)mremap,          0 },
                                          ^
sqlite3.c: In function ‚ÄòunixShmMap‚Äô:
sqlite3.c:32275:36: error: ‚ÄòPROT_READ‚Äô undeclared (first use in this function)
             pShmNode->isReadonly ? PROT_READ : PROT_READ|PROT_WRITE, 
                                    ^
sqlite3.c:32275:36: note: each undeclared identifier is reported only once for each function it appears in
sqlite3.c:32275:58: error: ‚ÄòPROT_WRITE‚Äô undeclared (first use in this function)
             pShmNode->isReadonly ? PROT_READ : PROT_READ|PROT_WRITE, 
                                                          ^
```

....
 ```
-DSQLITE_OS_UNIX=1
```

I think this is wrong.
 Googling the error messages brought me to https://github.com/sqlcipher/sqlcipher/issues/78 where it is suggested to add a define which I did in https://github.com/MKleusberg/mxe/commit/569a2be7448108c556e5436137ff4e4179c457bd
So maybe this new version will work. I hope.
 We'll get there.  Persistence is awesome. :grinning: 
 Hmmm, that's a good question.  If it's a normal SQLite database file (not encrypted), it should open the file (as per normal) when it's given on the command line.  If the file is an encrypted one though, I'm unsure what it'll do.  Hopefully it'll attempt opening it, and then pop up a dialog asking for a password.

We should probably add command line switches for giving the page size and password on the command line or something though.

Hmmm, password on the command line might be a security risk.  That could probably let other users on the computer see it.  eg by anyone running (say) 'ps -ef' to get a process list.  We'll probably need to think of a better approach.  Suggestions welcome. :wink:
 @Z4us Yes, you can pass a path to an encrypted database on the command line:

```
$ ./sqlitebrowser path/to/encrypted.db
```

At the moment it's not possible to specify the password or the page size using a command line argument though; so it'll just show you the standard encryption dialog in this case.
 @Z4us Any idea if this happens with the SQLite version too (not just SQLCipher version)?

If it's for both, lets create a brand new bug report for it. :smile:
 Wondering if our new build system for windows would let us add SQLCiper support there...? :smile:
 Hmmmm, it might be possible to make work, now that we're using a new build system.

Someone would have to go through the effort of figuring out how to compile SQLCipher with our source on Windows though.  Do you happen to have skill with C++/Qt on Windows? :smile:
 As a useful bit of info, @huy-cong [managed to compile](https://github.com/sqlitebrowser/sqlitebrowser/issues/482#issuecomment-175019996) DB4S + SQLCipher on Windows.

Ideally, we should get the exact requirements + steps for doing so added to our BUILDING.md file.  It may make sense to do it directly in there, or it may be better to assemble something in the wiki.  No real preference at the moment... though using the wiki would allow for including screenshots.  The level of detail needed is probably something like:
- Install Microsoft Visual C++ (which version? Is the free one ok? Include URL to the direct download page if possible)
- Install SQLCipher (which version?, etc, as above)
- Update the hard coded paths in [CMakeLists.txt](https://github.com/sqlitebrowser/sqlitebrowser/blob/master/CMakeLists.txt#L15-L23) to match your installation:
  - QT5_PATH
  - SQLITE3_PATH
  - OPENSSL_PATH
  - VSREDIST
- Instructions on how to compile?  (GUI? Command line?)

We just need a (even rough) initial set of steps that work.  It can be refined & made to look pretty after that. :smile:
 I am working on getting a good and accurate set of steps with what version of what I got from where and exactly what I did. Using a VM means I can go back and repeat, I just need more time but it is coming together, slowly and will be on the wiki when I am done
 That's nice @huy-cong thanks for that
 If anyone on 64-bit windows wants to try out an initial version of DB4S with SQLCipher support added in, there's a once-off package built with it here:

&nbsp; &nbsp; http://nightlies.sqlitebrowser.org/win64/sqlitebrowser-win64-with_sqlcipher-201605041823.exe

Feedback very much welcome. :smile:

Note - I'm still working on smoothing out the integration bits, so hard coding override values in our files isn't needed for SQLCipher to be found. The actual SQLCipher code in the above package should be good as-is though.
 Yeah, sorry the server hosting for it is presently at Linode.  And they really, really suck.  (eg the server flatlined, and didn't get reported)

Rackspace have offered us hosting, I just need to get around to setting it up. :smile:

In the meantime, the 64-bit Windows version with SQLCipher in it is back online.
 Yeah, SQLCipher support definitely works for *nix based OS's (eg Ubuntu).
 Closing this, as we've definitely figured out SQLCipher support on Windows too, and it'll be in the upcoming release. :smile:
 A database is encrypted with a password. You have to know that password when trying to open an encrypted database.
 Aah, an .sql file is a series of SQL commands to _recreate_ a database, rather than the _actual_ database.  You can open the .sql file in Notepad, or its equivelant (depending on your operating system).

While its human readable text, it might not make much sense to you... (ie, full of gobbledegook! :wink: )
 @ligadata-alison If that's a backup of a Wordpress website, then a text editor should let you see part of the contents, as @chrisjlocke pointed out.

The file itself probably has internal formatting / structure purely for Wordpress to understand though.  So it's very likely not going to be super readable.

All of the text strings from the Wordpress site should be present in it, if you're wanting to just verify the backup worked at all.

If the data itself is super important to you, you should try restoring that data to a blank new Wordpress setup, to verify that works.

It might be time consuming to learn how, but it's the only way to know "for sure" you have everything needed. :smile:

Does that help at all?
 You're welcome @ligadata-alison. :smile:
 > without know the password?

There's no practical way to do this. If there was, there would be no benefit to encrypting it... You can brute force the password with every possible combination, but even with 7 bytes, you're looking at 7.20e16 possible combinations.  Good luck with that.  üòÜ  With using a brute force solution... if you used several rooms filled the very best computer equipment existing right now, it would probably take you several ***centuries*** to get the solution.  For just one encrypted database.  In reality, it would probably a lot longer though.

But, you're welcome to try.  Nothing is stopping you. :smile: > because always door have a backdoor

That is only the case where someone has made a mistake, or where someone (government?) has added a weakness on purpose and hopes no-one else finds out about it.

If the encryption we use, called SQLCipher, has this problem, we don't know about it.  If you do find a backdoor in it, please let us know. :smile: > Or where someone has added a weakness on purpose

Only if you log in as Joshua.....

![image](https://cloud.githubusercontent.com/assets/7872218/23587981/e273a0bc-01ad-11e7-8ad8-8a4be4ee7589.png)

If you hack into the DB4S servers and you get an option to play Global Thermonuclear War, look for 'chess' instead...  The above mentioned commit should fix the issue. But if you could double check that would be great.

By the way, you can also use cmake for compilation, that's our preferred way of building the application but feel free to use qmake if you prefer that :)
 @sqlcipherdd ping?
 Ahhh, that looks more like your system doesn't have the SQLite 3 development bits installed.  Which distribution & version of Linux are you using?
 Btw, asking so I can install the same distribution+version into a VM here.  That'll let me try the compile out in a similar environment, so I can figure out why it's acting up for you. :smile:
 Just switched to Qt5 for compiling SQLiteBrowser; as I didn't encounter any problems I think it's safe to close this issue.
For future reference: If the sqlite3.h file couldn't be found, the SQLite dev package needs to be installed. For all Debian and Ubuntu Linuxes this should be libsqlite3-dev.
  Hi!

I would stick with 'sqlitebrowser', thats how I named my AUR(arch linux) packages and also debian has that package name.
  Just got this when trying to compile:

```
clang++ -c -pipe -O2 -arch x86_64 -fPIC -Wall -W -DQT_NO_DEBUG -DQT_GUI_LIB -DQT_CORE_LIB -DQT_SHARED -I/usr/local/Cellar/qt/4.8.6/mkspecs/unsupported/macx-clang -I. -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtCore.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers -I/usr/local/Cellar/qt/4.8.6/include -I. -Irelease -F/usr/local/Cellar/qt/4.8.6/lib -o release/NoViableAltException.o src/NoViableAltException.cpp
MainWindow.cpp:1565:13: error: unknown type name 'QColorDialog'; did you mean 'QFileDialog'?
            QColorDialog colordialog(this);
            ^~~~~~~~~~~~
            QFileDialog
/usr/local/Cellar/qt/4.8.6/lib/QtGui.framework/Versions/4/Headers/qfiledialog.h:66:20: note: 'QFileDialog'
      declared here
class Q_GUI_EXPORT QFileDialog : public QDialog
                   ^
MainWindow.cpp:1568:40: error: no member named 'getColor' in 'QFileDialog'
            QColor color = colordialog.getColor(precolor, this, tr("Choose a axis color"));
                           ~~~~~~~~~~~ ^
2 errors generated.
make[2]: *** [release/MainWindow.o] Error 1
make[2]: *** Waiting for unfinished jobs....
```

Seems to have been introduced by https://github.com/sqlitebrowser/sqlitebrowser/commit/da9f24836aa6c31cff129b84a581c923d5fc6b6e.

Maybe it's due to my Qt version?  I have 4.8.6 installed.  Can try 5.x if that would be better.
 @sarbogast If you need this to compile, then you can roll the cloned repo back a few commits and things should "just work" when you try to compile. eg:

```
$ git reset --hard 75b519df3764618c98ac9dca894f4fd7e70f8a20
HEAD is now at 75b519d plot: no selection for tree plot columns widget
```
 466d78cf53e04c951c49830fa4f9251602a27633
  Just noticed the old logo is still being used in the OSX Applications menu.

Probably not hard to change, I'll look into it tomorrow.  It could even turn out to be something caching on my system, needing a force refresh. :smile:
 Thanks, found it.  It's src/macapp.icns.  I'll generate a new one after getting some sleep in a bit.
 Added an initial one, created using the 256x256 png John gave us.  I've also emailed John to see if he still has the source .svg handy.  If he does, I should be able to create a proper multi-resolution icns file that works for people with high-dpi screens.
 Fixed in https://github.com/sqlitebrowser/sqlitebrowser/commit/fa1f154e6473b672c271e31d67f588740b8b1f0e.
