   Updating this package prevents triggering resizeObserver error sorry for my late reply.
The error is reported in thi issue: https://github.com/maslianok/react-resize-detector/issues/45
I have a list of data displayed with a modified pie chart and as soon as I resize the window, the error pops up. In production wouldn't have been a problem if Sentry didn't catch it, but we had to shut that error because it was catching a lot of them. 
So, the point is that the error is generate from that package and may affect other users, but is not really blocking. Just annoying  ## Do you want to request a feature or report a bug?
bug

## What is the current behavior?
`background` in `Bar` seems not working if you pass a function

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/ndLhnegs/).
https://jsfiddle.net/ex3ntia/vcfwjno4/

## What is the expected behavior?
function should be executed

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
Recharts 1.3.5
Chrome 70.0.3538.67 (Official Build) beta (64 bit)
Ubuntu 18.04
 I've narrowed it down to this line: https://github.com/recharts/recharts/blob/3b807be36f35e0ae8ecb6918cd57f6c0bc257f4a/src/cartesian/Bar.js#L330

Changing it to
```js
return this.constructor.renderRectangle(this.props.background, props);
```
fixes the bug.

I'd be willing to submit a PR if maintainers would accept it. Fixed in https://github.com/recharts/recharts/pull/1550 No problem! Should maybe keep it open until it gets merged?  ## Do you want to request a feature or report a bug?
Bug
## What is the current behavior?
1.3.3 and 1.3.4
## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/ndLhnegs/).

installed recharts as dependency, as soon as it is built with webpack. error msgs come up. msgs below.

## What is the expected behavior?

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?

Im having the same problem. Im using webpack and I've tried adding

`
mainFields = ['jsnext:main', 'browser', 'main']
`

and 

```
loaders = [{
    test: /\.js$/,
    loader: 'babel',
    exclude: /node_modules\/(?!(([^\/]+?\/){1,2}(src|es6)))/ 
  }]


```

Errors below...

```
ERROR in ./packages/charts/node_modules/recharts/es6/container/Layer.js
Module parse failed: Unexpected token (33:4)
You may need an appropriate loader to handle this file type.
| import PropTypes from 'prop-types';
| import classNames from 'classnames';
| var if ('development' !== "production") {
|   propTypes = {
|     className: PropTypes.string,
 @ ./packages/charts/node_modules/recharts/es6/index.js 4:0-39
 @ ./packages/charts/pie-chart/index.js
 @ ./packages/charts/pie-chart/piechart.example.js
 @ ./packages ^((?!node_modules).)*\.example\.js$
 @ ./.storybook/config.js
 @ multi ./node_modules/@storybook/react/dist/server/config/polyfills.js ./node_modules/@storybook/react/dist/server/config/globals.js (webpack)-hot-middleware/client.js?reload=true ./.storybook/config.js

ERROR in ./packages/charts/node_modules/recharts/es6/container/Surface.js
Module parse failed: Unexpected token (34:4)
You may need an appropriate loader to handle this file type.
| import classNames from 'classnames';
| import { getPresentationAttributes } from '../util/ReactUtils';
| var if ('development' !== "production") {
|   propTypes = {
|     width: PropTypes.number.isRequired,
 @ ./packages/charts/node_modules/recharts/es6/index.js 2:0-43
 @ ./packages/charts/pie-chart/index.js
 @ ./packages/charts/pie-chart/piechart.example.js
 @ ./packages ^((?!node_modules).)*\.example\.js$
 @ ./.storybook/config.js
 @ multi ./node_modules/@storybook/react/dist/server/config/polyfills.js ./node_modules/@storybook/react/dist/server/config/globals.js (webpack)-hot-middleware/client.js?reload=true ./.storybook/config.js

ERROR in ./packages/charts/node_modules/recharts/es6/component/Label.js
Module parse failed: Unexpected token (61:4)
You may need an appropriate loader to handle this file type.
| import { isNumOrStr, isNumber, isPercent, getPercentValue, uniqueId, mathSign } from '../util/DataUtils';
| import { polarToCartesian } from '../util/PolarUtils';
| var if ("development" !== "production") {
|   cartesianViewBoxShape = PropTypes.shape({
|     x: PropTypes.number,
 @ ./packages/charts/node_modules/recharts/es6/index.js 16:0-39
 @ ./packages/charts/pie-chart/index.js
 @ ./packages/charts/pie-chart/piechart.example.js
 @ ./packages ^((?!node_modules).)*\.example\.js$
 @ ./.storybook/config.js
 @ multi ./node_modules/@storybook/react/dist/server/config/polyfills.js ./node_modules/@storybook/react/dist/server/config/globals.js (webpack)-hot-middleware/client.js?reload=true ./.storybook/config.js

ERROR in ./packages/charts/node_modules/recharts/es6/component/LabelList.js
Module parse failed: Unexpected token (74:4)
You may need an appropriate loader to handle this file type.
| import { getPresentationAttributes, findAllByType } from '../util/ReactUtils';
| import { getValueByDataKey } from '../util/ChartUtils';
| var if ("development" !== "production") {
|   propTypes = {
|     id: PropTypes.string,
 @ ./packages/charts/node_modules/recharts/es6/index.js 18:0-47
 @ ./packages/charts/pie-chart/index.js
 @ ./packages/charts/pie-chart/piechart.example.js
 @ ./packages ^((?!node_modules).)*\.example\.js$
 @ ./.storybook/config.js
 @ multi ./node_modules/@storybook/react/dist/server/config/polyfills.js ./node_modules/@storybook/react/dist/server/config/globals.js (webpack)-hot-middleware/client.js?reload=true ./.storybook/config.js
```
 @xile611  Thanks your comment made me look into that. 
I have a babel preset that was removing propTypes.
The curious thing is that it was only presenting problems when using recharts, I have other components and libs that did not clash with it.
I've removed it for now. We can close this one.  Fixing unwanted behavior, demos included in the issue.
https://github.com/recharts/recharts/issues/1529

The problem,
If we update the domain even when we don't show an axis (YAxis), then the 'y' offset for the max value of the data is different for each set of data.
(since the max tick value may differ from the max value of the data supplied)

This means that if an app displays several simple charts (tiny*chart) in a row with different sets of data, the charts will have different heights, resulting in inconsistent UX.

  The height of the AreaChart differs with different data sets - even though a fixed height is specified.

For example,
Correct behavior: https://jsfiddle.net/r1tf29ap/
(The height of the chart is '100', like specified)

Incorrect behavior: https://jsfiddle.net/8415b7yx/
(The height of the chart is '84.17' - it should stretch to '100')

Last working version was 0.7.x @xile611 
Thank you for the workaround.

I've tested all the demo cases in various conditions (different data, with and without X and Y axes) and couldn't find any erratic behavior with this commit.

Can you point me to some areas you think this commit can be dangerous to, so I can refactor the underlying design if possible?
  I have been trying to use recharts through UMD as defined in the site
http://recharts.org/en-US/guide

Included this script file in my html
<script src="https://unpkg.com/recharts/umd/Recharts.min.js"></script>

When i run the html on browser by window.Recharts is always undefined.

Looking to use Recharts directly from Html without npm . Please let me know the best way to do this.

## What is the current behavior?
Recharts works with npm

## What is the expected behavior?
Use recharts directly by downloading it or from cdn
 Can confirm. If you open up dev tools on this page https://codesandbox.io/s/jn6xrp5649
see the console logged Recharts is undefined.  With this code:

```
              <ResponsiveContainer width="100%" height={230}>
                <AreaChart
                  width={450}
                  height={200}
                  data={aliasEmailActivationsData}
                >
                  <Area fill="#4A90E2" stroke="#4A90E2" {...areaConfig} />
                  <CartesianGrid {...gridConfig} />
                  <XAxis {...xAxisConfig} />
                  <Tooltip
                    content={<CustomTooltip customLabel="email alias" />}
                  />
                </AreaChart>
              </ResponsiveContainer>
```

I get: 
```
Error: ResizeDetector.render(): A valid React element (or null) must be returned. You may have returned undefined, an array or some other invalid object.
    at invariant (invariant.js?7313:42)
```

I updated from 1.0.0beta10 to 1.3.0 without changing code and I am getting this error. If I simply remove the `<ResponsiveContainer>` from the code above the chart get rendered correctly.

What can cause this problem?

I am on react@15.6.2

 Getting the same error.  Latest version 1.3.0 is breaking our builds. same problem ~ i think the dependence "react-resize-detector" influences the <ResponsiveContainer>.  "react-resize-detector" 1.1.0 can work well. "react-resize-detector" 3.0.0+  can't.  ## Do you want to request a feature or report a bug?

Bug. 

## What is the current behavior?

Throws DecimalError.

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/ndLhnegs/).

```
[DecimalError] Invalid argument: Infinity at new Decimal (http://localhost:3000/static/js/bundle.js:14958:17) at getTickValuesFixedDomainFn 
```

## What is the expected behavior?

Version 1.3.0 is compatible with 1.2.0.

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?

1.3.0, bug found in latest Chrome.
 Also got this error when the data prop for LineChart is empty array or null. Works well in v1.2.0 Haven't got the time to debug where/what its being called with until later this week, but I've also encountered this error after upgrading to 1.3.0.

Reproducible with https://github.com/wopian/kitsu-season-trends/tree/renovate/recharts-1.x Experienced this error after updating to the latest. Switched to 1.2.0 and the error goes away Here is a fiddle that gives the error
https://jsfiddle.net/xqjtetw0/16558/ Here is the error that pops up in console and the chart is not displayed for me. The fiddle link can be seen in the address bar.

![screenshot from 2018-10-03 20-42-20](https://user-images.githubusercontent.com/1889875/46420082-e4828100-c74c-11e8-9321-1c7a30f0c09f.png)

Here is the log message

Uncaught Error: Minified React error #109; visit http://facebook.github.io/react/docs/error-decoder.html?invariant=109&args[]=e for the full message or use the non-minified dev environment for full errors and additional helpful warnings.
    at r (react-dom.min.js:13)
    at p._renderValidatedComponent (react-dom.min.js:11)
    at performInitialMount (react-dom.min.js:11)
    at p.mountComponent (react-dom.min.js:11)
    at Object.mountComponent (react-dom.min.js:12)
    at mountChildren (react-dom.min.js:12)
    at m._createInitialChildren (react-dom.min.js:11)
    at mountComponent (react-dom.min.js:11)
    at Object.mountComponent (react-dom.min.js:12)
    at performInitialMount (react-dom.min.js:11) @arcthur 
Yup. Sorry. My Mistake. I did update my libraries. The is gone now. Thank you. ~~Finally had the time to debug. This error shows up (in 1.3.0 and 1.3.1) when `AreaChart` receives an empty array.~~

I can reproduce this with `domain={['dataMin', 'dataMax']}` on an axis. This error occurs when `data` is an empty array and when the value of the `dataKey` used is not a `Number`.

Two errors are emitted:
- `Error: [DecimalError] Invalid argument: Infinity`
- `Uncaught Error: [DecimalError] Invalid argument: Infinity`

Demo: https://codepen.io/wopian/pen/vVLobr?editors=0010#0

In `1.2.0`, it produces a blank chart when `data` is an empty array and emits `Error: <rect> attribute x: Expected length, "NaN"` when a non-`Number` value is provided as a `dataKey` for a numeric axis. Both still produce a chart without crashing React. Demo: https://codepen.io/wopian/pen/KGzPBW?editors=0010#0

```js
const { AreaChart, XAxis, YAxis, Area } = Recharts

const data = [
  /* This will work fine
  { name: 1, pv: 2400 },
  { name: 2, pv: 1398 }
  */
  /* 1.3.x: [DecimalError] Invalid argument: Infinity (React crashes)
     1.2.x: Error: <rect> attribute x: Expected length, "NaN" (Chart rendered without XAxis labels)
  { name: "1", pv: 2400 },
  { name: "2", pv: 1398 }
  */
]

class App extends React.Component {
  render() {
    return (
      <AreaChart width={600} height={300} data={data} >
        <XAxis dataKey="name" type='number' domain={['dataMin', 'dataMax']}/>
        <YAxis/>
        <Area dataKey="pv" />
      </AreaChart>
    )
  }
}

ReactDOM.render(<App />, document.getElementById('container'))
``` `1.3.2` still produces the same React-crashing error.

Using 1.3.2: https://codepen.io/wopian/pen/vVLobr?editors=0010#0  ## Do you want to request a feature or report a bug?
I want to report a bug.
## What is the current behavior?
Label is preventing Tooltip invocation for Cell rendered under/behind the Label.
## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/ndLhnegs/).
In official example for ScatterChartWithLabels: https://jsfiddle.net/alidingling/gvsspn0h/
When you remove the <LabelList/> and rerun the fiddle, <Tooltip/> will be invoked upon hovering over the Scatter dot.
## What is the expected behavior?
Label should have the same listener and upon hovering invoke <Tooltip/> with the same data payload as the element which the Label belongs to.
## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
Tested with latest Chrome and Firefox on Windows 10. I'm new to Recharts, dunno.  Thanks, but we're going for this visualization of dots:
http://wpsites.net/wp-content/uploads/2014/02/with-box-shadow.png
where value of the dot is always inside the circle. 

Users by nature always tend to point directly to the center of the dot when they want do display the tooltip. I guess this is pretty common visualization of dots/bubbles, would be nice to have this possibility. If it's not possible, then the Tooltip component in example https://jsfiddle.net/alidingling/gvsspn0h/ is obsolete. Will try, thanks  I fixed #1458.

I know there is cause in [recharts-scale](https://github.com/recharts/recharts-scale) without update for 1 year.
I copied recharts/recharts-scale#7 as `src/util/ScaleUtils.js`, simplified the code and deleted the dependency of recharts-scale.

We will have higher performance recharts available.
Thank you. I downgraded npm v5 and I reduced package-lock.json's changes.

By the way, this repository has yarn.lock. Would you use npm or yarn for this project?
Unnecessary lockfile should be deleted. Thank you for the release of recharts-scale@0.4.0.
However, I close this PR. Because this includes large change. I send another PR.

Thanks.  ## Do you want to request a feature or report a bug?
Report a bug

## What is the current behavior?
When accessing Recharts documentation directly by going to [http://recharts.org/en-US/api/RadialBarChart](http://recharts.org/en-US/api/RadialBarChart), I get a `404`. This happens for all pages except the root - [http://recharts.org/](http://recharts.org/).

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/ndLhnegs/).
1. Go to [http://recharts.org/en-US/api/RadialBarChart)](http://recharts.org/en-US/api/RadialBarChart))
2. Receive `404`

## What is the expected behavior?
I should be routed to the RadialBartChart documentation, or any other child routes.

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
Chrome Version 68.0.3440.106 (Official Build) (64-bit)
MacOS High Sierra
 I too get this, on every page - so I can not send links to people, or bookmark pages   Provded multi config to bundle both umd and min version at one step.
Added size snapshot plugin to track different sizes. For esm bundles
it's able to show treeshakability information.

Recharts.js 1.86M
Recharts.min.js 512.9K

Recharts.js 1.56M
Recharts.min.js 421.3K /cc @xile611  @xile611 Friendly ping How does the build time compare? Before 11s, after 67s. Do you think it's relevant? There's a different in output. New build provides more: development bundle and production minified bundle, information about circular dependencies, information about bundle size. When Iâ€™m pulling in recharts as a dependency with yarn link, and hacking on the library, I have to run the es6 build after every change. It feels like slow iteration as is; I feel a minute is too long. It's just `build-umd` command. `build-es6` is not changed. Ah, gotcha.

I don't think the umd build is going to be anyone's primary development environment, especially if the build is going to take a minute. Wouldn't the development bundle and circular dependencies be better identified earlier in the process?

Also, doesn't the karma config depend on webpack? Whatever the gain here, is it worth the complexity of having two bundlers? Webpack is still used for demo. I think it's okay to have two bundlers. We choose what is the best for users.

About circular dependencies: I actually gonna bundle esm and cjs in the next PR. I will add a condition to bundle esm fast. Only full rebuild will take a time. But you will see even more info about your bundles. Size snapshot is able to produce treeshakability info for esm format. /cc @xile611  Webpack still bigger. Rollup produces the most readable and compact code. Okay, will go to write simple and fast charts to finally remove this a piece of dependency bloat. Recharts is still the biggest package in my vendor. The last version got even bigger. Any plans on making it smaller? @Ronnyrr I guess there are no plans. I would help, but the owner of this library is not interested.  It might be related to this issue: https://github.com/recharts/recharts/issues/1305.
Maybe this PR would fix your issue: https://github.com/recharts/recharts/pull/1406. 

Can you fork this repo with the fix and check if it resolves your bug?   ## Do you want to request a feature or report a bug?
Report a bug with BarChart
## What is the current behavior?
Bars do not show up when data is iterated from a multi-dimensional array, same code works with LineChart though.  Even the Tooltip seems to work.
## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/ndLhnegs/).

Demo at [https://codesandbox.io/s/lr4x4ymlll](https://codesandbox.io/s/lr4x4ymlll)

```
const data = [
  { name: "Page A", uv: 4000, pv: 2400 },
  { name: "Page B", uv: 3000, pv: 1398 },
  { name: "Page C", uv: 2000, pv: 9800 }
];

const mydata = [
  {
    name: "uv",
    val: [
      { value: 4000, label: "Page A" },
      { value: 3000, label: "Page B" },
      { value: 2000, label: "Page C" }
    ]
  },
  {
    name: "pv",
    val: [
      { value: 2400, label: "Page A" },
      { value: 1398, label: "Page B" },
      { value: 9800, label: "Page C" }
    ]
  }
];

const lineColor = ["#8884d8", "#82ca9d"];

function App() {
  return (
    <div>
      <h1>Doesn't Fill the Bars</h1>
      <BarChart width={730} height={250}>
        <CartesianGrid strokeDasharray="3 3" />
        <XAxis dataKey="label" allowDuplicatedCategory={false} />
        <YAxis />
        <Tooltip />
        <Legend />
        {mydata.map((s, i) => (
          <Bar
            dataKey="value"
            fill={lineColor[i]}
            data={s.val}
            name={s.name}
            key={s.name}
          />
        ))}
      </BarChart>
      <h1>Same code for Line chart Works</h1>
      <LineChart width={730} height={250}>
        <CartesianGrid strokeDasharray="3 3" />
        <XAxis dataKey="label" allowDuplicatedCategory={false} />
        <YAxis />
        <Tooltip />
        <Legend />
        {mydata.map((s, i) => (
          <Line
            dataKey="value"
            stroke={lineColor[i]}
            data={s.val}
            name={s.name}
            key={s.name}
          />
        ))}
      </LineChart>
      <h1>Basic Examples that Works</h1>
      <BarChart width={730} height={250} data={data}>
        <CartesianGrid strokeDasharray="3 3" />
        <XAxis dataKey="name" />
        <YAxis />
        <Tooltip />
        <Legend />
        <Bar dataKey="pv" fill="#8884d8" />
        <Bar dataKey="uv" fill="#82ca9d" />
      </BarChart>
      <LineChart width={730} height={250} data={data}>
        <CartesianGrid strokeDasharray="3 3" />
        <XAxis dataKey="name" />
        <YAxis />
        <Tooltip />
        <Legend />
        <Line dataKey="pv" stroke="#8884d8" />
        <Line dataKey="uv" stroke="#82ca9d" />
      </LineChart>
    </div>
  );
}
```

## What is the expected behavior?
Bars should show up with data.

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
1.1.0, all browsers @prankris I found myself running into the same issue. Did you find a solution to this problem? @xile611 Do you have a chance to look at this? Following code is working
`<BarChart data width={730} height={250}>...</BarChart>`
and
`<BarChart data={mydata} width={730} height={250}>...</BarChart>` > Hello, include data={data} in the tag, i.e
> `<BarChart width={730} height={250} data={data} >... </BarChart>`
> 
> ![screenshot from 2018-12-20 11-18-13](https://user-images.githubusercontent.com/19705223/50272532-22886a80-0449-11e9-895b-1812300bf06a.png)
> ![screenshot from 2018-12-20 11-18-00](https://user-images.githubusercontent.com/19705223/50272533-22886a80-0449-11e9-998a-8b628fc94e68.png)

Thanks  Iâ€™m working on a chart with several reference areas, some of which extend past the canvas bounds. Though I want to draw the part of the reference area that lies on the canvas, it doesnâ€™t make sense to draw the part that spills out.

It's possible to grow the canvas to accommodate the reference area by specifying `alwaysShow`. Though after thinking about this for a while, it seems that _both_ these things should be possible: to show reference items which are partly off the canvas, and to extend the chart domain to accommodate reference items. This deprecates the `alwaysShow` prop, and adds an `ifOverflow` prop which supports four values:

- `ifOverflow="discard"` (default) â€“ If the reference item falls partly outside the canvas, don't display it. This is the old default.
- `ifOverflow="extendDomain"` â€“ If the reference item falls partly outside the canvas, extend the domain so it fits. This is the old `alwaysShow` behavior.
- `ifOverflow="clip"` â€“ If the reference item falls partly outside the canvas, clip it to the canvas.
- `ifOverflow="keep"` â€“ If the reference item falls partly outside the canvas, draw it anyway. Hi @xile611, it's a good question.

The `ReferenceArea` element already takes an `overflow` property as part of `PRESENTATION_ATTRIBUTES` which is forwarded to `Rectangle`. It seems confusing to have a particular presentation attribute behave differently from the others so I renamed this one to avoid the collision.

Another option could be to drop `overflow` from `PRESENTATION_ATTRIBUTES` and `getPresentationAttributes`, and prevent it from forwarding to the `Rectangle`. Would that make any sense?

Great idea to align with the css properties: `keep` to `visible` and `clip` to `hidden`. Updated!  Hello recharts team, since V1.0.0, I have an error caused by lodash-es:

```
Unexpected token export
/Users/xx/Documents/Devs/xx/node_modules/lodash-es/isNil.js:25
export default isNil;
^^^^^^

SyntaxError: Unexpected token export
    at new Script (vm.js:51:7)
    at createScript (vm.js:136:10)
    at Object.runInThisContext (vm.js:197:10)
    at Module._compile (internal/modules/cjs/loader.js:618:28)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:665:10)
    at Module.load (internal/modules/cjs/loader.js:566:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:506:12)
    at Function.Module._load (internal/modules/cjs/loader.js:498:3)
    at Module.require (internal/modules/cjs/loader.js:598:17)
    at require (internal/modules/cjs/helpers.js:11:18)
    at Object.<anonymous> (/Users/xx/Documents/Devs/xx/node_modules/recharts/lib/util/ReactUtils.js:8:15)
    at Module._compile (internal/modules/cjs/loader.js:654:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:665:10)
    at Module.load (internal/modules/cjs/loader.js:566:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:506:12)
    at Function.Module._load (internal/modules/cjs/loader.js:498:3)
```

My project run with Next.js and an internal dependency library that embed another internal dependency library that need recharts


 It seems that `lodash-es` is used on `lib/` build.
'cjs' build should use `lodash` instead ? This is happening for us as well.
We have meanwhile fixated recharts to `1.0.0-beta.10` in `package.json` as a temporary workaround. We use Jest and are seeing this problem as well as of 1.0. Strongly recommend a rollback to regular lodash since this means a lot of people will have to hack their configs to get green builds. Experiencing the same issue, we also rolled back to `1.0.0-beta.10` as a workaround.  Thanks for this fast fix ! Thanks!    Addresses an issue when we have to re-render the chart as keeping the tooltip displayed.
We allow the developer to explicitly set the tooltip activation status with a `isTooltipActive` prop. It will be used to set the default value of the homonym state property  Fix the label will not shown. To fix the issue #929   Added a tooltip arrow to show where exactly the data is coming from
![2rkqxwyac0](https://user-images.githubusercontent.com/14203988/38912437-9d83eff8-42ab-11e8-8d68-8443dd761dc6.gif)

Issue for this: https://github.com/recharts/recharts/issues/895
This is my first PR here so feedback is absolutely welcome!  ## Do you want to request a feature or report a bug?
### It's good if we implement this. I have added another graphs on top which has implemented this pretty well.

## What is the current behavior?
### Only few values are displayed on x-axis.

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/ndLhnegs/).

## What is the expected behavior?
<a href="https://ibb.co/jkeDsn"><img src="https://preview.ibb.co/bH7Nk7/Screenshot_from_2018_03_11_13_25_05.png" alt="Screenshot_from_2018_03_11_13_25_05" border="0"></a>


## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
### Version: "recharts": "^1.0.0-beta.10", I am using this library first time  Is it possible to set dynamic height in the container? 

If a just put the ResponsiveContainer, the chart doesn't appear. I have to put a div outside with the 'height' set. Is it possible to change this 'height' based in some rule, dynamically?

Thanks  I want to achieve a stacked bar chart and the values are not all start from 0, what I mean is when I have for example 1 Category with 2 Series Items, one with Data value 1 and another with Data value 3 the stacked chart looks like 1 and 2 in different colors  Fixes https://github.com/recharts/recharts/issues/324
When the `content` prop is a React element, eg. ```<Legend content={<SomeComponent />} />```, users should not be expecting the props to be passed to `SomeComponent` as that intention is not clear from the declaration.

To pass in the props, it should be declared as 
```<Legend content={props => <SomeComponent {...props} />} />``` 
or simply
```<Legend content={SomeComponent} />```.  This was already done in #888, but somehow managed to trickle in via #916.
Since the dependency is unused, I believe there is no reason to keep it around, it's just causing confusion, bloating the node_modules and can cause incompatibility issues with `react-transition-group@1.x.x`. @xile611 I saw that, although I'm unsure why this happens. The tests are [passing](https://travis-ci.org/markogresak/recharts) when I ran them on my TravisCI. Same code, same config.
I might be mistaken, but to me, it doesn't make sense that removing a dependency would break test run. My thinking is that if anything is affected, the whole build would fail before it even came to the point where the tests are started. Thanks for merging this PR. The build is passing [on the master branch](https://travis-ci.org/recharts/recharts/builds/335030402). Strange that it failed here in the PR branch.  In the Line component if all point values are null or undefined, the SVGPathElement. getTotalLength() function is causing the following error in IE:

> Unexpected call to method or property access

[Fiddle showing the error(Open in IE).](http://jsfiddle.net/j64rfyju/)  Relates to the issue logged at #791

After call method `childHandler`, method `componentWillReceiveProps` inside `generateCategoricalChart` is called and it call `setState()`, defaultHandler also call `setState()`, 
`setState()` - works asynchronous and changes overwritten, so I think we need to call them synchronously.  
Like the questionï¼ŒI want to draw a gantt chart, but I haven't found any code examples of this  ## Do you want to request a feature or report a bug?
bug

## What is the current behavior?
![image](https://user-images.githubusercontent.com/685316/33975850-f24fa30e-e056-11e7-9f32-04720db8da6d.png)

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/ndLhnegs/).
There does not appear to be any props on the Tooltip component to change this behavior, but the currently tooltip on radial bar charts does not show the same values as before.

Note that the ReCharts demo shows the same behavior: http://recharts.org/#/en-US/api/RadialBarChart

The JSON below is the source of what is processed by our software, which directly creates React ReCharts components. This mechanism is not in question--it works fine under both versions of ReCharts. I've included it to show you the ReCharts components that are being created and the values of the props being set.

```
  {
      "component": "RadialBarChart",
      "container": "chart",
      "data": "traffic",
      "innerRadius": "10%",
      "outerRadius": "80%",
      "components": [
         {
            "component": "RadialBar",
            "dataKey": "waiting",
            "clockwise": true,
            "startAngle": 135,
            "endAngle": -135,
            "minAngle": 15,
            "maxAngle": 255,
            "cornerRadius": 10,
            "background": {
               "fill": "#eee"
            }
         },
         {
            "component": "Legend",
            "layout": "vertical",
            "align": "left",
            "verticalAlign": "middle",
            "iconType": "circle"
         },
         {
            "component": "Tooltip"
         }
      ]
   }
```

## What is the expected behavior?
![image](https://user-images.githubusercontent.com/685316/33975854-f632fa34-e056-11e7-8c4a-884eb8bc2dc6.png)

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
Current (broken): 1.0.0-beta.6
Prior (working): 0.21.2
 Hmmm. I'm not sure what that means. So do I need to add some props to the tooltip component? @xile611 I confirm the same issue, if the provided data collections contains `name` parameter, it should be the one displayed in the tooltip, ie in @Eric24 example, it shows `waiting` which is the name of the dataKey instead of `Dogwood`, which is the name of hovered value. This is how BarChart behaves, but RadialBarChart do not. @xile611 A JSfiddle to reproduce the bug: http://jsfiddle.net/4qo7ba5L/118/
(I just forked the SimpleRadialBarChart http://recharts.org/#/en-US/examples/SimpleRadialBarChart jsfiddle example to add a `<Tooltip />` component). As you can see, if you hover the purple radial bar, the tooltip displays `uv: 31.37`, instead of `18-24: 31.37`
Hope this clarifies.  I have a few questions about 1.0.0-beta6:

1. Is there a list of deprecated props (like Pie.valueKey)?

2. What is a LabelList used for (what kinds of chart elements can it apply to)?

3. What is the difference between a Label component and label prop?
```
  <XAxis dataKey="name">
    <Label value="Pages of my website" offset={0} position="insideBottom" />
  </XAxis>
  <YAxis label={{ value: 'pv of page', angle: -90, position: 'insideLeft', textAnchor: 'middle' }} />
```

4. What controls the presence/color/style of grey area that appears on a barchart on tooltip hover?
![image](https://user-images.githubusercontent.com/685316/33975421-12a3b42c-e054-11e7-8ee9-5a40c8ab02aa.png)

5. Are current on-line examples and API documentation considered up-to-date with code release 1.0.0-beta6? If not, is there documentation available elsewhere?  ## Do you want to request a feature or report a bug?
bug

## What is the current behavior?
![image](https://user-images.githubusercontent.com/685316/33975332-82390e28-e053-11e7-980e-af37a8e2a86d.png)

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/ndLhnegs/).
1. It appears that startAngle/endAngle props are ignored.
2. The order of the bars on the chart is inverted. Can the order be specified?

The JSON below is the source of what is processed by our software, which directly creates React ReCharts components. This mechanism is not in question--it works fine under both versions of ReCharts. I've included it to show you the ReCharts components that are being created and the values of the props being set.

```
 {
      "component": "RadialBarChart",
      "container": "chart",
      "data": "traffic",
      "innerRadius": "10%",
      "outerRadius": "80%",
      "components": [
         {
            "component": "RadialBar",
            "dataKey": "waiting",
            "clockwise": true,
            "startAngle": 135,
            "endAngle": -135,
            "minAngle": 15,
            "maxAngle": 255,
            "cornerRadius": 10,
            "background": {
               "fill": "#eee"
            }
         },
         {
            "component": "Legend",
            "layout": "vertical",
            "align": "left",
            "verticalAlign": "middle",
            "iconType": "circle"
         },
         {
            "component": "Tooltip"
         }
      ]
   }
```

## What is the expected behavior?
![image](https://user-images.githubusercontent.com/685316/33975336-85af362c-e053-11e7-95a1-aea61d75bc8d.png)

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
Current (broken): 1.0.0-beta.6
Prior (working): 0.21.2
 Do you have an example of using PolarAngleAxis with a RadialBarChart? @xile611 Can you give us and example of how to use PolarAngleAxis with a RadialBarChart?  @carcruz Not sure if you're still here, but I ended up tracking down a solution via #1100 and posted a comment there as well... Just in case...
 Thanks @svarlamov !  ## Do you want to request a feature or report a bug?
bug

## What is the current behavior?
![image](https://user-images.githubusercontent.com/685316/33974997-6d085894-e051-11e7-9a3d-cde2e37b98a3.png)

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/ndLhnegs/).
The axis domains seem to be ignored on a scatter chart. I've tried axis domains on other chart types and they work as expected. I've also try omitted the domain and setting it to fixes values, like [0, 100], all with no effect.

The JSON below is the source of what is processed by our software, which directly creates React ReCharts components. This mechanism is not in question--it works fine under both versions of ReCharts. I've included it to show you the ReCharts components that are being created and the values of the props being set.

```
 {
      "component": "ScatterChart",
      "container": "chart",
      "margin": {
         "top": 20,
         "right": 20,
         "bottom": 10,
         "left": 15
      },
      "components": [
         {
            "component": "Scatter",
            "name": "Falcons",
            "data": "falcons",
            "fill": "#638ccc",
            "stroke": false,
            "shape": "circle",
            "legendType": "circle"
         },
         {
            "component": "Scatter",
            "name": "Hawks",
            "data": "hawks",
            "fill": "#72a555",
            "stroke": false,
            "shape": "square",
            "legendType": "square"
         },
         {
            "component": "Scatter",
            "name": "Eagles",
            "data": "eagles",
            "fill": "#ca5670",
            "stroke": false,
            "shape": "triangle",
            "legendType": "triangle"
         },
         {
            "component": "XAxis",
            "name": "Wingspan",
            "unit": "cm",
            "datakey": "X",
            "height": 22,
            "domain": [
               0,
               "auto"
            ]
         },
         {
            "component": "YAxis",
            "name": "Weight",
            "unit": "g",
            "datakey": "Y",
            "width": 30,
            "domain": [
               0,
               "auto"
            ]
         },
         {
            "component": "ZAxis",
            "name": "Count",
            "datakey": "Z",
            "range": [
               0,
               50
            ]
         },
         {
            "component": "CartesianGrid",
            "stroke": "white",
            "strokeDasharray": "2 2"
         },
         {
            "component": "Tooltip",
            "cursor": {
               "stroke": "black",
               "strokeDasharray": "5 3 2 3"
            }
         },
         {
            "component": "Legend"
         }
      ]
   }
```

## What is the expected behavior?
![image](https://user-images.githubusercontent.com/685316/33975005-7530a33c-e051-11e7-882a-36d2d2553fb8.png)

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
Current (broken): 1.0.0-beta.6
Prior (working): 0.21.2
 Excellent. Yes, that fixes it!  Remove unnecessary reduce-css-calc dependency

https://github.com/recharts/recharts/issues/1063 Well in fact it appear that `dy` attribute of `tspan` doesn't allow `calc`.

`reduce-css-calc` avoided this by removing the `calc` but only if `lineHeight` and `capHeight` have the same unit, and let the `calc` otherwise.

At this end we should force `lineHeight` and `capHeight` to have the same unit and calculate `startDy` without using `reduce-css-calc`  I tried 
<Line name="speed"  dot={false} onMouseMove={(e)=>props.handleChartEnter(e)} dataKey="s" stroke="#0000FF" />


on mouseMove getting data
{
	"stroke": "#0000FF",
	"strokeWidth": 1,
	"fill": "none",
	"width": 719,
	"height": 360,
	"className": "recharts-line-curve",
	"clipPath": null,
	"points": [{
		"x": 80,
		"y": 365,
		"value": 0,
		"payload": {
			"s": 0,
			"d": 0,
			"c": 0,
			"lp": 0,
			"rp": 0,
			"ts": "5:57:53 PM"
		}
	}, {
		"x": 102.46875,
		"y": 365,
		"value": 0,
		"payload": {
			"s": 0,
			"d": 0,
			"c": 0,
			"lp": 0,
			"rp": 0,
			"ts": "5:57:58 PM"
		}
	}
	}],
	"type": "linear",
	"layout": "horizontal",
	"connectNulls": false
}

i need data where mouse point.
any suggest how to get data on mouseHover or mouseEnter ?
  Is there any other than gradient setting way, perhaps more explicit way, to set a line color between two dots on line chart?
  Hi, I think the LabelList feature could be a lot more powerful if it allowed for taking a custom component similar to how the standard Label (and other recharts components already do). This would be really useful for a project I am currently working on. I basically need the same functionality that it currently has with the accumulator, but able to wrap the result in my own custom html. I am using this for rendering the total above a stacked bar chart. If there is another way to do this and still keep the result centered above  the bar, then that would work for me as well.

Thanks!  It seems that SSR doesn't work properly because of some inner data is not the same:

<img width="630" alt="screenshot at dec 11 00-28-08" src="https://user-images.githubusercontent.com/671158/33810198-a7bae20c-de0a-11e7-8647-d0ceddea3cbf.png">
<img width="443" alt="screenshot at dec 11 00-27-50" src="https://user-images.githubusercontent.com/671158/33810171-6915aca8-de0a-11e7-932b-77fbb5286314.png">

Recharts 1.0.0-beta.6
macOS 10.13.1 High Sierra
React & react-dom 15.6.2

 I also had different similar problems with areachart, I'll post them here if it happens again, so please don't close the issue for now  ## Do you want to request a feature or report a bug?
bug

## What is the current behavior?
when not set height show nothing

## What is the expected behavior?
when set height should dymically change the height with fixed bar size and bar gap
  ## Do you want to request a feature or report a bug?
Im reporting a bug.
## What is the current behavior?

I have a multi bar chart with two bars in it. When I render it, it just renders the bar with the highest value. The bar with the lowest value does not render unless it has the same value as the highest valued bar.


## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem 

http://jsfiddle.net/oqg00j2j/

## What is the expected behavior?

The expected behaviour is to render both bars.
  reduce-css-calc is mostly use on build process.

It's only use there:
https://github.com/recharts/recharts/blob/master/src/component/Text.js#L141 (3 times)

Does it really worth to load reduce-css-calc and its dependencies in order to precalculate something the browser easily calculate ?  ## Do you want to request a feature or report a bug?

## What is the current behavior?

Considering the fix for #1022, the x and y props of the <Brush /> component should no longer be required as they show a warning in React of expected values
<img width="467" alt="screen shot 2017-12-02 at 6 31 18 am" src="https://user-images.githubusercontent.com/21314258/33512162-939c51fc-d72a-11e7-8486-be887707767c.png">
 Thanks, was preparing a PR already ðŸ™‚  #1060

replaces translate with translate3d on the tooltip wrapper for smoother animation at the cost of some memory. 

```js
    <BarChart>
          <Tooltip gpuRendering />
          ...
      </BarChart>
``` why not always use `translate3d` istead of `translate`? I think `translate3d` or `useTranslate3d` is perhaps more clear about what is actually changing behind the scenes sure. Updated in latest commit.

@khakulov Some may not wish to use `translate3d` if memory is a consideration. Just a thought.  Hello 

I have small charting component that is working fine.
My environment is Rails 5.1 + Webpack 3, Recharts 1.0 beta 5 (latest)
When I try to add a Responsive component I am getting the error bellow:

```
ERROR in ./node_modules/recharts/src/component/ResponsiveContainer.js
Module parse failed: Unexpected token (13:21)
You may need an appropriate loader to handle this file type.

class ResponsiveContainer extends Component {
  static displayName = 'ResponsiveContainer';
  static propTypes = {
  aspect: PropTypes.number,
@ ./app/javascript/page_speed_chart/chart.js 15:27-80
@ ./app/javascript/packs/application.js
```

As soon as I include the ResponsibleContainer component into my app I get this error message.
Import is rather standard:

```
import React,{Component} from 'react';
import { LineChart, Line, Tooltip, YAxis, XAxis, ResponsiveContainer } from 'recharts';
```

Rails 5.1 comes with preconfigured loaders, an up to know all package were correctly loaded. Only for this specific ResponsiveContainer I get the error....

Any idea what could be wrong?

Thanks Ok I have completely restarted my server and now getting a different error message.

I can import the ResponsiveContainer with 
`import { LineChart, Line, Tooltip, YAxis, XAxis, ResponsiveContainer } from 'recharts';`

but when I use it I get this error message:
```
invariant.js?7313:42 Uncaught Error: Element type is invalid: expected a string (for built-in
components) or a class/function (for composite components) but got: undefined. 
You likely forgot to export your component from the file it's defined in, or you might 
have mixed up default and named imports.
    at invariant (23:42)
    at createFiberFromElement (132:5751)
    at updateElement (132:6912)
    at updateFromMap (132:7141)
    at reconcileChildrenArray (132:7324)
    at reconcileChildFibers (132:7672)
    at reconcileChildrenAtExpirationTime (132:7788)
    at reconcileChildren (132:7771)
    at updateHostComponent (132:8024)
    at beginWork (132:8257)
``` 
 Hello I have created several stand alone projects and was not able to reproduce. I just found out the issue. Probably an issue on my side.
I have a custom component <ChartStats /> that was embedded inside the ResponsiveContainer. 
Moving this component outside of the Container make everything working as expected.
The error message was really not explicit at all but it is solved now. 
Thanks for your help In my case I was mapping multiple LineCharts into the ResponsiveContainer... Im having the same problem. Im using webpack and I've tried adding

`
mainFields = ['jsnext:main', 'browser', 'main']
`

and 

```
loaders = [{
    test: /\.js$/,
    loader: 'babel',
    exclude: /node_modules\/(?!(([^\/]+?\/){1,2}(src|es6)))/ 
  }]


```

Errors below...

```
ERROR in ./packages/charts/node_modules/recharts/es6/container/Layer.js
Module parse failed: Unexpected token (33:4)
You may need an appropriate loader to handle this file type.
| import PropTypes from 'prop-types';
| import classNames from 'classnames';
| var if ('development' !== "production") {
|   propTypes = {
|     className: PropTypes.string,
 @ ./packages/charts/node_modules/recharts/es6/index.js 4:0-39
 @ ./packages/charts/pie-chart/index.js
 @ ./packages/charts/pie-chart/piechart.example.js
 @ ./packages ^((?!node_modules).)*\.example\.js$
 @ ./.storybook/config.js
 @ multi ./node_modules/@storybook/react/dist/server/config/polyfills.js ./node_modules/@storybook/react/dist/server/config/globals.js (webpack)-hot-middleware/client.js?reload=true ./.storybook/config.js

ERROR in ./packages/charts/node_modules/recharts/es6/container/Surface.js
Module parse failed: Unexpected token (34:4)
You may need an appropriate loader to handle this file type.
| import classNames from 'classnames';
| import { getPresentationAttributes } from '../util/ReactUtils';
| var if ('development' !== "production") {
|   propTypes = {
|     width: PropTypes.number.isRequired,
 @ ./packages/charts/node_modules/recharts/es6/index.js 2:0-43
 @ ./packages/charts/pie-chart/index.js
 @ ./packages/charts/pie-chart/piechart.example.js
 @ ./packages ^((?!node_modules).)*\.example\.js$
 @ ./.storybook/config.js
 @ multi ./node_modules/@storybook/react/dist/server/config/polyfills.js ./node_modules/@storybook/react/dist/server/config/globals.js (webpack)-hot-middleware/client.js?reload=true ./.storybook/config.js

ERROR in ./packages/charts/node_modules/recharts/es6/component/Label.js
Module parse failed: Unexpected token (61:4)
You may need an appropriate loader to handle this file type.
| import { isNumOrStr, isNumber, isPercent, getPercentValue, uniqueId, mathSign } from '../util/DataUtils';
| import { polarToCartesian } from '../util/PolarUtils';
| var if ("development" !== "production") {
|   cartesianViewBoxShape = PropTypes.shape({
|     x: PropTypes.number,
 @ ./packages/charts/node_modules/recharts/es6/index.js 16:0-39
 @ ./packages/charts/pie-chart/index.js
 @ ./packages/charts/pie-chart/piechart.example.js
 @ ./packages ^((?!node_modules).)*\.example\.js$
 @ ./.storybook/config.js
 @ multi ./node_modules/@storybook/react/dist/server/config/polyfills.js ./node_modules/@storybook/react/dist/server/config/globals.js (webpack)-hot-middleware/client.js?reload=true ./.storybook/config.js

ERROR in ./packages/charts/node_modules/recharts/es6/component/LabelList.js
Module parse failed: Unexpected token (74:4)
You may need an appropriate loader to handle this file type.
| import { getPresentationAttributes, findAllByType } from '../util/ReactUtils';
| import { getValueByDataKey } from '../util/ChartUtils';
| var if ("development" !== "production") {
|   propTypes = {
|     id: PropTypes.string,
 @ ./packages/charts/node_modules/recharts/es6/index.js 18:0-47
 @ ./packages/charts/pie-chart/index.js
 @ ./packages/charts/pie-chart/piechart.example.js
 @ ./packages ^((?!node_modules).)*\.example\.js$
 @ ./.storybook/config.js
 @ multi ./node_modules/@storybook/react/dist/server/config/polyfills.js ./node_modules/@storybook/react/dist/server/config/globals.js (webpack)-hot-middleware/client.js?reload=true ./.storybook/config.js
```  ## Do you want to request a feature or report a bug?
Bug
## What is the current behavior?
Missing a dot on lineChart
## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/ndLhnegs/).
http://jsfiddle.net/ezx7sjrp/
## What is the expected behavior?
It should show second dot because the color of store has value

I tested with different set of data but same structure (https://pastebin.com/WjwevF0n), the bug didn't exist.   When `Sankey` component `data` prop changed, the chart did not update
right away, instead it was deferred until next props update.

This was because `componentWillReceiveProps` function used `this.props` instead of `nextProps` to calculate the next state.

Demo:
http://jsfiddle.net/s2tz0ey7/1/

Affected version:
1.0.0-beta.5, possibly earlier versions

PS. Thank you for maintaining recharts, I've been using it for months and find it very useful ðŸ˜„  â¤ï¸   @xile611 ping :)

BTW, what's the status of `Sankey` component? I'm not seeing it in the docs, perhaps it's not so stable yet?
I'm asking because I'd be interested in making more improvements to `Sankey`. @xile611 thanks :)

I might have another bugfix to `Sankey` component (in certain cases, when the nodes are wide and not far apart, the links aren't drawn accurately).
Would you be interested in such bugfix or is it better to wait until the `Sankey` refactor?  ## Do you want to request a feature or report a bug?
bug

## What is the current behavior?
Exception thrown
`TypeError: Cannot read property 'ReactCurrentOwner' of undefined`

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/ndLhnegs/).
Use react `15.6.1` and recharts `beta.5`

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?

It seems that updating to react-dom 16 is the cause.
https://github.com/recharts/recharts/commit/eb5e1fc6fe0c0739139a4efd0e200ab9f68bf392#diff-b9cfc7f2cdf78a7f4b91a753d10865a2
Last version working is `alpha.6` Thanks! I guess something is wrong with my `package.json`, I will test it later today and reopen if it's relevant.  When I pass an object with all the value equal to zero to Pie chart, as expected the chart disappear, but the legend is also missing. 
My chart tool has a controller when click on legend, it sets the value to 0 to hide the data from the chart.
I'm setting the value to zero, to keep the legend displayed on the chart, and it's possible to return the old values clicking again.
Here's the example of data passed to the Pie chart.

```javascript
const pieChartData = [
  {name: "Bar", value: 0},
  {name: "Foo", value: 0}
]
```

The bar charts on the other hand if I pass values equal to zero, the legend and the Cartesian grid is still there. There's mine expected behavior for the PieChart. Keep the legend to control the values.

```javascript
const barChartData = [
  {timestamp: 1483315200000, foo: 0, bar: 0},
  {timestamp: 1483401600000, foo: 0, bar: 0}
]
```
Someone had this problem? There's a workaround? Is it a bug??   @xile611 Yes, that's exactly what I need to do @guilhermedelucas thanks for bringing this up - we have the same issue  When I do this...

```
<CartesianGrid verticalPoints={["33%", "66%"]} horizontalPoints={["33%", "66%"]} />
```

I get the following warnings:

```
Warning: Failed prop type: Invalid prop `verticalPoints[0]` of type `string` supplied to `CartesianGrid`, expected `number`.
Warning: Failed prop type: Invalid prop `horizontalPoints[0]` of type `string` supplied to `CartesianGrid`, expected `number`.
```

However, everything works fine (i.e. the warnings appear to be false negatives).

---

_Tested in version `1.0.0-beta.4`_ The use case is to render exactly 5 lines, evenly spaced apart, on a responsive chart -- how would I achieve this given the chart is responsive?

Also, this it appears to work, so perhaps "adding the feature" would be as simple as just removing the warning? ðŸ˜›  ahh yes - that would explain the behaviour I saw when the grid lines were being drawn relative to top-left corner of the viewbox.

For my specific case this is actually fine, but understand why this wouldn't be desirable for others.

What's the recommended way forward?

IMO percentages are a must for `CartesianGrid` when combined with `ResponsiveContainer` -- everything else scales relatively, so must the grid. @xile611 What's the status of this issue ? @merraysy Looks like it works. I still get the warnings. Any new updates on how to suppress them orâ€¦? Any updates? Any updates?  Hi,

I am observing the same problem for the bar charts. A good example can be seen here:
expected behavior: http://recharts.org/#/en-US/examples/SimpleBarChart
buggy behavior: http://jsfiddle.net/v8gxrbyu/
For me it looks like the coordinates of the tooltip are always 0,0. So the tooltip is not moving around and the cursor shows a gray box at the left side of the chart.

Also this issue seems to be a duplicate of https://github.com/recharts/recharts/issues/1079

Thanks an best regards

Michael This seems to be the case also with the line chart and its tooltip:
![fullscreen_12_30_17__10_59_am](https://user-images.githubusercontent.com/190833/34456655-cf516a20-ed50-11e7-8529-23ff2b088a7d.png)

It's funny how the version of the docs works fine. I use beta.10 version and I am experiencing this exact issue as well. I am using 1.1.0 and still having this issue. It is only affecting BarCharts on my project though,  LineCharts work beautifully.  ## Do you want to request a feature or report a bug?
I want to report a bug

## What is the current behavior?
After we upgrade recharts to Version 1.0.0-beta.3, we can not build successfully with Webpack.

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/ndLhnegs/).
The error info is: 
16:10:23 [1m[31mERROR in ./~/recharts/lib/shape/Symbols.js
16:10:23 Module parse failed: /home/xiaoju/workspace/lean_web_ci/node_modules/recharts/lib/shape/Symbols.js Unexpected token (72:94)
16:10:23 You may need an appropriate loader to handle this file type.

## What is the expected behavior?
Building successfully

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
Version 1.0.0-beta.3 Version 1.0.0-beta.2 is fine  ## Do you want to request a feature or report a bug?
I would like to report a bug

## What is the current behavior?
If i want to build our react app the production build fail:

Failed to minify the code from this file: 
./node_modules/recharts/es6/util/PolarUtils.js:104 

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/ndLhnegs/).

Install "recharts": "^1.0.0-beta.3" with npm or yarn
run npm run build
or
run yarn build

## What is the expected behavior?

recharts should provide precompiled es5 module, see http://bit.ly/2tRViJ9

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?

recharts 1.0.0-beta.3
npm 5.5.1
yarn 1.0.2 the error is due to the exponentiation operator `**` not being transpiled to ES5 (`Math.pow`) We have the same issue

```
var distanceBetweenPoints = function distanceBetweenPoints(point, anotherPoint) {
  var x1 = point.x,
      y1 = point.y;
  var x2 = anotherPoint.x,
      y2 = anotherPoint.y;


  return Math.sqrt((x1 - x2) ** 2 + (y1 - y2) ** 2);
};
```  ## Do you want to request a feature or report a bug?
Bug
## What is the current behavior?

I got below error 

`Error: Label(...): A valid React element (or null) must be returned. You may have returned undefined, an array or some other invalid object`

when doing this

```
<BarChart data={data} 
stackOffset="sign"
>
	<XAxis margin={{top: '10px'}} angle={-90} interval={0} fontSize={11} tickLine={false} axisLine={false} dataKey="date" />
	<Bar isAnimationActive={false} label={({value}) => {return value != 0 ? `${value}%` : <text></text>}} barSize={24} dataKey="female" fill="#ddd" stackId="stack" />
	<Bar isAnimationActive={false} label={({value}) => {return value != 0 ? `${value}%` : <text></text>}} barSize={24} dataKey="male" fill="#eee" stackId="stack" />
</BarChart>
```

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem.

## What is the expected behavior?
it should show the label. I tried the exact props value on Pie, it just worked.

## Which versions of Recharts, and which browser / OS are affected by this issue?
I'm using Mac and Chrome. @xile611 but it's still a bug, it has inconsistency issue where the use of label props is limited on stackedBarChart.   ## Do you want to request a feature or report a bug?
A bug

## What is the current behavior?
`getLegendProps` expects property that is not defined by some cartesian components

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/ndLhnegs/).
http://jsfiddle.net/xbuvvgoe/

**NOTE:** The lines are not drawn because the `dataKey` is missing on `Line`. But the example is used to demo that `Legend` can somehow use `name` on `Line` to add label to the rendered legend view. This implies that `Legend` consumes (via `getLegendProps` call in `generateCategoricalChart`) non-exist property/attribute from `Line` (`Line`'s propTypes doesn't describe an attribute called `name`).

## What is the expected behavior?
`getLegendProps` should only expect defined properties from a ReactElement.

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
1.0.0-beta.0. The source code I refer to is the master branch. This is a code logic issue and, thus, happen in all environments. Not sure if it's been this case all the time.
 Extra comment: if I'm understanding the code correctly, this seems to be related to the recent change of replacing `name` with `dataKey` (which is a required attribute). @xile611 Sorry. It's my bad. The issue happens when using `ScatterChart`. Neither `dataKey` nor `name` is defined on `ScatterChart`.

I just updated the demo. This now looks more like issues of `Scatter` itself. `name` and `dataKey` are both undefined by its current `propType`. I guess that the last time when `Scatter`'s interfaces was changed, the `ScatterChart` was not taken care of properly. @xile611 I mean... `Scatter` doesn't use either `name` or `dataKey`. Is it proper to add these to its propType? I'm kind of new to React's best practices.  ## Do you want to request a feature or report a bug?

Bug

## What is the current behavior?

XAxis is repeated for each additional selection, but all the lines are graphed on top of each other.

## What is the expected behavior?

 I want the lines on top of each other and do not want the empty XAxis labels to appear

## Demo

http://jsfiddle.net/ndLhnegs/318/

![selection_038](https://user-images.githubusercontent.com/7429786/33139512-7eb5d738-cf7b-11e7-889f-31476dc6ee29.png)


## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?

recharts - 1.0.0-beta.2, react- 16.1.0, Brave browser 0.19.88 (newest chromium), Ubuntu 16.04
 The same issue occurs in a [slightly modified version](http://jsfiddle.net/7coegorj/2/) of the [JointLineScatterPlot example](http://recharts.org/#/en-US/examples/JointLineScatterChart). I saw this line in the [1.0.0-alpha.6(Oct 10, 2017) changelog's "fix" section](https://github.com/recharts/recharts/blob/master/CHANGELOG.md#fix-2) - maybe somehow related?

> Fix ScatterChart when the type of XAxis is "category"

I also receive this warning in the console:

>Warning: Failed prop type: Invalid prop `x` of type `string` supplied to `Symbols`, expected `number`.

 I have attempted to downgrade to `1.0.0-alpha.5` and `1.0.0-beta.0` and the issue persists. Is there any way to disable this or workaround it now? What is the best way to achieve my desired graph in current version? The current workaround I can thinking of is using XAxis as the type `number`, and using tickFormatter to format all the given number to the string value. Similar to #866  There are too many Animations repeatedly implementation across many different components, since we have the PureRender Decorator, using another `AnimationDecorator` is the best solution to avoid repeating.

However, this pull request update doesn't include `chart/Treemap` `shape/Rectangle`, those are fully customized for the functional work and don't follow the same rule with others.

for a better reviewing, please use this link with the append param `w=1`
https://github.com/recharts/recharts/pull/1033/files?w=1 Thanks to the CI test integration, it helps me identify the potential bugs! ðŸ›   Relates to the issue logged at https://github.com/recharts/recharts/issues/935
* Added test case for updating a line chart from a container component, this catches the exception
* Removed the use of `Children.only` from the isSingleChildEqual call. Appears to resolve the issue Cheers for merging. It was happening pretty consistently for me, Windows 7 & 10 machines, Chrome & Firefox.
Any plan on when v1 might make it out of beta? I'm using recharts through TypeScript and when it drops I'll probably go in and correct some of the definitions.  Before the Magic Number `width * 2`
![recharts-bar-animation-w o-magic](https://user-images.githubusercontent.com/18140315/33071593-6bbe47ec-cebc-11e7-8e65-b373f872d7fc.gif)

After the Magic Number
![recahrts-bar-animation-magic](https://user-images.githubusercontent.com/18140315/33071599-6f73639a-cebc-11e7-9751-2d27a58a3ab9.gif)

similar to https://github.com/recharts/recharts/pull/1025 @xile611 what's your account name in Rocket.Chat Recharts channel? @xile611 - initial animation is totally broken. That's because of the `interpolatorX` usage as it's animating the X axis even in the initial render. IMO that PR should be reverted as it breaks more things than it brings to the table. my bad, please revert this pull request ðŸ¤•  @xile611 I didn't receive your reply email since last year.  Hello guys. I am developing a react application that has many charts. I used some of this library charts. Now I need a bubble chart like d3.js. Can any one help me how to use that d3 library in react, or can you add bubble chart to this library (recharts). Any help would be good. Duplicate of https://github.com/recharts/recharts/issues/589  I'm trying to define a height on y axis, but looks like it is calclauting the height internally and not taking my height into account. The reason I'm trying to set height is, the height first calculated is different from subsequent renders. Not sure why

`<ResponsiveContainer>
                            <BarChart layout='vertical' data={this.props.data}
                                      margin={{top: 5, right: 30, left: 20, bottom: 5}}
                                      barGap={2}>
                                <XAxis tick={{fontSize: 12}}
                                       tickFormatter={this.formatValue}
                                       type="number" dataKey="value"
                                       />
                                <YAxis tick={<CustomizedTick tickFontSize={this.tickLabelFontSize}/>} tickSize={4}
                                       interval={0} type="category" width={70} height={190} dataKey="name" />
                                <Tooltip formatter={this.formatValue} wrapperStyle={{ fontSize : 12, maxWidth:200, whiteSpace: 'normal'}}/>
                                <Legend chartHeight={195}/>
                                <Bar name={this.props.legend} dataKey="value" 
                                     label={this.renderCustomizedLabel} maxBarSize={12}>
                                </Bar>
                            </BarChart>
                        </ResponsiveContainer>`
 Try using the domain and allowDataOverflow

```html
<YAxis height="100" domain={[ ..., ... ]} allowDataOverflow={true}/>
``` Thanks. So what should the domain values be? like the min and max. I tried this - height={190} domain={[ 0, 190 ]} allowDataOverflow={true} and it didnt work. Still the first time my height of yaxis is 186 and second render it is 210 1. Try setting the width, height to BarChart
1. Creating the jsfiddle demo link so that everyone can easily help with debugging trying to create jsfiddle. Meanwhile please note my yaxis type is category. so domain would still work? @xile611 Here is my problem:

1st render:
<img width="445" alt="screen shot 2017-11-22 at 6 35 13 am" src="https://user-images.githubusercontent.com/26306011/33125685-7ccbb05e-cf4f-11e7-987c-ca1e50862d6b.png">

2nd render:
<img width="437" alt="screen shot 2017-11-22 at 6 35 26 am" src="https://user-images.githubusercontent.com/26306011/33125691-843c030c-cf4f-11e7-813a-df42c6d6c4a0.png">

The legend overlaps with my xaxis ticks. The chart height is the same in both renders. Just the height of the yaxis is different

 First render DOM:

<img width="983" alt="screen shot 2017-11-23 at 2 51 20 pm" src="https://user-images.githubusercontent.com/26306011/33187162-e18e2b3e-d05d-11e7-98cc-d6ec6435d5c0.png">

Second render DOM:

<img width="1000" alt="screen shot 2017-11-23 at 2 51 41 pm" src="https://user-images.githubusercontent.com/26306011/33187168-eb0cf762-d05d-11e7-86b7-1c2440e29e14.png">
@xile611 If you notice the height of yaxis changes. All I'm doing is just opening/closing the collapse @xile611 My code:

` <div className={classnames('chart-box', { active: this.state.collapse })} >
            <h5 className="toggle " onClick={this.toggleCollapse}>{this.props.title} <i className="fa fa-caret-down pull-right" aria-hidden="true"></i></h5>
            <Collapse isOpen={this.state.collapse}>
                <div style={{height: this.props.height || 250}}>
                    {!dataLoaded &&
                        <div className="loader"></div>
                    }
                    {dataLoaded &&
                        <ResponsiveContainer>
                            <BarChart layout='vertical' data={this.props.data}
                                      margin={{top: 5, right: 30, left: 20, bottom: 5}}
                                        >
                                <XAxis tick={{fontSize: 12}}
                                       tickFormatter={this.formatValue}
                                       type="number" dataKey="value"
                                       padding={{ right: 10 }}/>
                                <YAxis tick={<CustomizedTick tickFontSize={this.tickLabelFontSize}/>} tickSize={4}
                                       interval={0} type="category" dataKey="name"/>
                                <Tooltip formatter={this.formatToolTipValue} wrapperStyle={{ fontSize : 12, maxWidth:200, whiteSpace: 'normal'}}/>
                                <Legend />
                                <Bar name={this.props.legend} dataKey="value" fill="rgba(65,167,192,0.9)"
                                     label={this.renderCustomizedLabel} maxBarSize={12}>
                                </Bar>
                            </BarChart>
                        </ResponsiveContainer>
                    }
                </div>
            </Collapse>
        </div>
` http://jsfiddle.net/ndLhnegs/686/

I am just playing with library and try to have a little bit of `marginTop` between the label of XAxis and the line of XAxies, but with the property `height` doesn't work (maybe is not the behavior of this prop) 

Also I wanted to have for the legend a `line` without the dot, it is possible? 

This is what **I want to achieve**. 

![image](https://user-images.githubusercontent.com/10562610/35685328-b12c476c-0769-11e8-8190-0ba1b9d18571.png)


Thanks!  Hey there,

thanks for this great library, I have found a rendering issue of the current Version `1.0.0-beta.2` with LabelList in vertical bar charts. It does workwith Version `1.0.0-apha.5`. see the below images, whatever I try it seems as the labels are aligned to the YLegend, not to the bar itself.


**Expected behavior as wished with Version `1.0.0-apha.5`**
![image](https://user-images.githubusercontent.com/68172/33024790-5eb5d4d0-ce0c-11e7-9222-75c78d80ed45.png)


**Unexpected behavior with Version `1.0.0-beta.2`**
![image](https://user-images.githubusercontent.com/68172/33024774-52b0bad8-ce0c-11e7-8236-cb1f5b8d99de.png)

The corresponding code is:
```
   				 <ResponsiveContainer width="100%" height={1500}>
					<BarChart data={this.state.data} layout='vertical'>
						<XAxis type="number" orientation='top' hide={true}/>
						<CartesianGrid strokeDasharray="3 3" horizontal={false}/>
						<Bar dataKey="value" fill="#8884d8" barSize={30}>
							<LabelList dataKey='label' position='center' />
						</Bar>
						<YAxis type="category" hide={false}/>
					</BarChart>
		    	 </ResponsiveContainer>
```

 Same issue, after update to 1.0.0-beta.2 I'm seeing this too after upgrading from 1.0.0-beta.1.  I don't have any time to look into it right now, but my hunch is that it is related to commit 93c1366b38affe57531c8e66fb43d2a204bde04d.  how to give label to stacked bar Put a `LabelList` component as the nested component of `Bar`

```html
<Bar dataKey="uv" stackId="a" fill="#82ca9d">
    <LabelList dataKey="name" position="top" />
</Bar>
```

jsfiddle link http://jsfiddle.net/dv9ctsrq/ I'm also seeing the same problem.

@hueitan, 
That works in the fiddle but the exact same code doesn't work in my own project.

"recharts": "^1.0.0-beta.1", the jsfiddle uses the recharts version beta.1

https://npmcdn.com/recharts@1.0.0-beta.1/umd/Recharts.min.js @hueitan,
Yeah, I know -- I can't explain why it's not working on my own project though. The same exact code doesn't work but I'm not sure why. I'm using the same version of React and the same version of the Recharts library (es6 though, not umd).

The <g class="recharts-layer recharts-label-list" ...> is never rendered into the DOM for me...  @hueitan,
I really appreciate the help. I tracked down the issue on my end -- apparently my outer component containing the chart was causing the chart to re-render very quickly and that was somehow causing the labels to never render (probably related to the way the animations work but to be honest I don't fully understand the source code or the cause yet). If I have some time I'll try to setup a minimal sample case and post it here under another ticket. Great! Just use the jsfiddle link above(lots of the setups are already done), all you have to do is updating the code. But if you'll try to give label list for more than one bar you get another problem - positioning/zindex
![2017-11-22 17 29 00](https://user-images.githubusercontent.com/9008978/33132426-b20b6fa6-cfaa-11e7-8b58-eef346681c34.png)
any way to solve this? @bibblebabl was experiencing the same myself with versions prior 1.0.0-beta.3. Upgraded to the last 1.0.0-beta.4 fixed it for me! @bibblebabl 

I was having the same issue you had. The problem is that the `svg`'s `z-index` stack order is sequential by render order. What I did was to invert the implementation of the bars (so they are rendered the correct way, and then I reversed their order again with `reverseStackOrder` on `BarChart`. It will make the svg to render in the correct order.

What also helped me was to position the `LabelList` properly throught `position` property. It supports these following options: `"top" | "left" | "right" | "bottom" | "inside" | "outside" | "insideLeft" | "insideRight" | "insideTop" | "insideBottom" | "insideTopLeft" | "insideBottomLeft" | "insideTopRight" | "insideBottomRight" | "insideStart" | "insideEnd" | "end" | "center"`  ## Do you want to request a feature or report a bug?

Please let me know if this is a Feature or Bug

## What is the current behavior?

The animation looks buggy and not a good user experience

## If the current behavior is a bug, please provide the steps to reproduce

jsfiddle : http://jsfiddle.net/7yb87att/
Click the More Data / Less Data Button

![bug-more-less-data](https://user-images.githubusercontent.com/18140315/32848536-0b7867f2-ca2d-11e7-8ca7-1bd0cb8ae89b.gif)

## What is the expected behavior?

Better animation for the data update?

Desired behaviour, demo from React-vis
![vis-desired-behaviour](https://user-images.githubusercontent.com/18140315/32848847-cd840202-ca2d-11e7-957b-ac02c262659b.gif)
 Here's the temporary solution for **appending the data** which the domain is type number.

http://jsfiddle.net/csen65sk/
```es6
// example code
appendData() {
 this.setState( () => ({
  	left : 1, right : 7, animation : false, data : data2.slice()
 }) );
    
setTimeout( () => { // setTimeout does the trick
  this.setState( () => ({
      left : 1, right : 20, animation : true, data : data2.slice()
    }) );
  }, 0 );
},
```
![recharts-append-animation](https://user-images.githubusercontent.com/18140315/32943540-bf92cede-cb8c-11e7-9147-30d6bec88993.gif)

But this trick doesn't apply to updating the data **in-between**, because the animation doesn't happen
http://jsfiddle.net/o0v5heyp/
![recharts-update-inbetween](https://user-images.githubusercontent.com/18140315/32943801-a18bf108-cb8d-11e7-9ef5-f49dc395a769.gif)
  This pull request fixes only the prop `minAngle` `maxAngle` of `Polar/RadialBar`, 

I have two questions

1. Isn't it better if this prop being set in `RadialBarChart` since it affects all the cells of the radial bar inside the RadialBarchart? Unless there is a requirement to set two `RadialBar`s within one RadialBarChart.
1. should we use the prop name `minPointSize` `maxBarSize` instead of `minAngle` `maxAngle`, I think the latter is more proper with the given word `Angle`

_Example code and screenshot :_

```es6
const data = [
  { uv: 100, fill: '#8884d8' },
  { uv: 0, fill: '#83a6ed' },
  { uv: 0, fill: '#8dd1e1' },
  { uv: 0, fill: '#82ca9d' },
  { uv: 0, fill: '#a4de6c' },
  { uv: 0, fill: '#d0ed57' },
  { uv: 0, fill: '#ffc658' },
];

<RadialBarChart
    width={500}
    height={300}
    cx={150}
    cy={150}
    data={data}
    innerRadius={20}
    outerRadius={140}
    startAngle={0}
    endAngle={180}>

    <RadialBar minAngle={22.5} maxAngle={90} background dataKey="uv" >
    {
        data.map((entry, index) => (
            <Cell key={`cell-${index}`} fill={colors[index]}/>
        ));
    }
    </RadialBar>

</RadialBarChart>
```

![screen shot 2017-11-15 at 12 49 31](https://user-images.githubusercontent.com/18140315/32834665-a7d1589a-ca03-11e7-980f-05c562a66018.png)
 Thanks, looking forward to your bug resolved ðŸ˜ƒ   
> [link to =>](https://github.com/recharts/recharts/blob/master/.github/ISSUE_TEMPLATE.md#if-the-current-behavior-is-a-bug-please-provide-the-steps-to-reproduce-and-if-possible-a-minimal-demo-of-the-problem-via-httpsjsfiddlenet-or-similar-template-httpjsfiddlenetqbmg1567)
> If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/qbmg1567/).

The lib used in http://jsfiddle.net/qbmg1567/ doesn't valid now, please update, do you have any preference cdn?  This is a **proposal example**, please don't merge this pull request(It might contain some unexpected bugs).

When I tried to read the source code of the Recharts component, I found it is difficult to read because all the functionalities of each component combined into only one file, this brings the down-side of the project's readability, reliability, maintenance and bug fixing becomes harder.

I would like to see the **file structure** to be dividing all the functionalities into the separate file (maybe folder), this pull request is one of the examples. 

<h1 align="center">
<img src="https://user-images.githubusercontent.com/18140315/32840343-a7ec43da-ca17-11e7-8afe-764c81780422.png" width="150"/></h1>

I'm not the main contributor to this project so I'm going to ask your opinion to see if this is feasible to the project, and I would like to contribute to improving it.
  ## Do you want to request a feature or report a bug?
There is currently a bug with RadialBar not updating based on the maxAngle property.

## What is the current behavior?
Nothing happens when using a maxAngle property, my understanding was that it should set the angle of the max value in the data, if I'm misunderstanding let me know.

Currently setting it or changing it affects absolutely nothing on the graph that I can see.

## Example JSFiddle
Here is the RadialBarChart example JSFiddle with an added maxAngle property that changes nothing, you can attempt to remove the property or update the value and nothing in the graph will change.
http://jsfiddle.net/4qo7ba5L/21/

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
Google chrome 61, Mac OSX El Capitan, Rechart 1.0.0-apha.5
 I have the same problemï¼Œ Google chrome 61.0.3163.100, Rechart 1.0.0-beta.1, macOS Sierra 10.12.6  ## Do you want to request a feature or report a bug?
Related to animation issue from https://github.com/recharts/recharts/pull/910.
## What is the current behavior?
If a user hovers over a loading bar chart while it animation is in progress. isAnimationFinished flag remains false and does not get changed afterwards by subsequent hover overs. 

## What is the expected behavior?
If a user hovers over a loading bar chart while it animation is in progress animation should finish and set isAnimationFinished flag to true.
## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
1.0.0-beta.1, Chrome. No this has not worked since adoption (alpha.3 version), cannot tell about previous versions. label is not re-rendering..   Is this issue fixed ?  Hi no that is the issue the label does not get re-render since isAnimationFinished is stuck as false value. The issue is still observed in latest 1.0.0-beta.1 version. this is still an issue for me in `1.0.1`  How to get the width of the bars in custom label? I need that to set the `x` for my ComposedChart

https://imgur.com/a/TJNa3

```
class CustomLabel extends Component {
	render() {
		const {x, y, stroke, value} = this.props;

		console.log(this.props) // I found nothing here
		return (
			<text 
				x={x * 2}
				y={y + 16}
	            fontSize={14}
	            textAnchor="middle"
	            >{value != 0 ? value + '%': ''}</text>
	    )
	}
}
``` @xile611 the width and height of the bar? not the label itself.  I would love to be able to define a goal line in radial bars (as shown below).

![image](https://user-images.githubusercontent.com/465729/32438975-48336956-c2f5-11e7-8fcf-8acb489e5657.png)

Is this possible?

Image from [this](https://powerbi.microsoft.com/en-us/documentation/powerbi-service-tutorial-radial-gauge-charts/) article.  ![graph](https://user-images.githubusercontent.com/8968902/32362222-a62ec7b2-c0a2-11e7-8d1a-0924b1fa13f9.png)
  Is it possible to align ReferenceLine to the left of the Bar chart bar?

Currently it looks like this:
<img width="1013" alt="screen shot 2017-11-02 at 13 42 22" src="https://user-images.githubusercontent.com/1790265/32324343-b9c4dba6-bfd3-11e7-8ae3-e07fc7d9d488.png">

But I want that yellow line to align with the white dot. Thanks. @xile611 this looks similar to https://github.com/recharts/recharts/issues/1457

Are you open to PRs? Could you provide any pointers?  I can't get my pieChart to redraw when moving to another page and coming back.
At this point you can't redraw the graph when the data doesn't change. So when you come back from another page, the chart doesn't redraw/animate and so my custom labels (called at animationEnd) are not rendered anymore. +1 for this. I'm dynamically changing a second chart axis - recharts doesn't seem to be aware of this and isn't redrawing.

If the data changes - it rerenders just fine. Would be great if you could expose the internal handler so we could fire it manually.  ## Do you want to request a feature or report a bug?
Problem in a feature
## What is the current behavior?
Not able to animate graphs on change of data.
## What is the expected behavior?
Should animate with every change in data
 I'm not sure what's your use case, but I get the expected animation graphs when updating the data **ONLY** when you re-render the page.

![recharts-animation-640px-hd](https://user-images.githubusercontent.com/18140315/32553766-0f8dd70e-c498-11e7-8a8b-05121d0fa550.gif)

 set attribute to animation true.
`<Bar
      isAnimationActive.................................................
 />` I'm facing this problem.
![animation](https://user-images.githubusercontent.com/8544323/32594867-abd8fc0e-c553-11e7-983a-b686756b9393.gif)
 @xile611 That helped, I was considering it be default true.  ## Do you want to request a feature or report a bug?
BUG
## What is the current behavior?
ResponsiveContainer is not responsive 
## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/qbmg1567/).

I have use the use example and ResponsiveContainer is not working

## What is the expected behavior?
Be responsive
## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?

Chrome last version

Cheers same here. tried with the latest version : recharts@1.0.0-beta.1.
- EDIT - 

it's working when I put the height value to number and width value to % ...hmm... I observed the same behavior as @stmkjp . If with both height and width as "100%" (default), nothing shows up.

I am using an older version, "recharts": "^0.22.1", upgrading results in incompatibility. In this version, margin for ResponsiveContainer doesn't seem working.  I want the radarchart to display the labels with customized font styles and oriention (in terms of rotation).
 Basically I want to decrease the font size and rotate the text, can some body give me an example of tickFormmater in PolarAngleAxis.
`<PolarAngleAxis dataKey="subject"  tickFormatter={........??????}/>`

  Apologies if this has already been asked but I couldn't find the answer I need.

When setting dataKey, for example

`<Bar dataKey="unique_visitors"...`

It would be useful to be able to pass a label value in here, i.e. "Unique Visitors". This is because I would like to decouple my labelling from my actual data source. Is this possible? @xile611 A label would be fine:

`<Bar dataKey="unique_visitors" label="Unique Visitors"...`

So when hovering you see the label, not the dataKey.  ## Do you want to request a feature or report a bug?
bug
## What is the current behavior?

Can't pass multiple props to radar chat

`Uncaught (in promise) Error: React.Children.only expected to receive a single React element child.
    at invariant (invariant.js?4599*:44)
    at Object.onlyChild [as only] (onlyChild.js?27e3*:33)
    at isChildrenEqual (ReactUtils.js?5b63:354)`

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/qbmg1567/).

Create a wrapper component for radar chart, pass 2 props to the component, the error can be seen.

## What is the expected behavior?

It should not has the error, other chart is working fine.

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?

Latest version, chrome, mac. 
 yeah I created a miniature, it works fine, I wonder what's my problem, will try to debug more deeper later.   error "recharts#react-transition-group@^2.2.1" doesn't satisfy found match of "react-transition-group@1.2.1"
error "recharts#react-resize-detector#react@^0.14.7 || ^15.0.0" doesn't satisfy found match of "react@16.0.0"
error "recharts#react-smooth#react@^0.14.0 || ^15.0.0" doesn't satisfy found match of "react@16.0.0"
error "recharts#react-smooth#react-dom@^0.14.0 || ^15.0.0" doesn't satisfy found match of "react-dom@16.0.0" Same problem here. react-resize-detector's current version is 1.1.0 and the only change was the react 16 compatibility --> can be updated? @dmr after update, this problem not fixed! @xile611 thx! at all!  Perhaps it's my setup but i am trying to install with the following `package.json`:

```
{
  "dependencies": {
    "@rails/webpacker": "^3.0.2",
    "babel-preset-react": "^6.24.1",
    "coffeescript": "1.12.7",
    "prop-types": "^15.6.0",
    "react": "^16.0.0",
    "react-dom": "^16.0.0",
    "react-transition-group": "^2.2.1",
    "react_ujs": "^2.4.0",
    "recharts": "^1.0.0-beta.0"
  },
  "devDependencies": {
    "webpack-dev-server": "^2.9.3"
  }
}
```

and i get  `UNMET PEER DEPENDENCY react@^0.14.7 || ^15.0.0`. Shortened for brevity below:

```
....
â”œâ”€â”¬ recharts@1.0.0-beta.0 
â”‚ â”œâ”€â”€ core-js@2.5.1 
â”‚ â”œâ”€â”¬ d3-interpolate@1.1.5 
â”‚ â”‚ â””â”€â”€ d3-color@1.0.3 
â”‚ â”œâ”€â”¬ d3-scale@1.0.6 
â”‚ â”‚ â”œâ”€â”€ d3-array@1.2.1 
â”‚ â”‚ â”œâ”€â”€ d3-collection@1.0.4 
â”‚ â”‚ â”œâ”€â”€ d3-format@1.2.0 
â”‚ â”‚ â”œâ”€â”€ d3-time@1.0.7 
â”‚ â”‚ â””â”€â”€ d3-time-format@2.1.0 
â”‚ â”œâ”€â”¬ d3-shape@1.2.0 
â”‚ â”‚ â””â”€â”€ d3-path@1.0.5 
â”‚ â”œâ”€â”€ lodash@4.17.4 
â”‚ â”œâ”€â”€ UNMET PEER DEPENDENCY react@^0.14.7 || ^15.0.0
â”‚ â”œâ”€â”€ UNMET PEER DEPENDENCY react-dom@^0.14.0 || ^15.0.0
â”‚ â”œâ”€â”€ react-resize-detector@0.6.0 
â”‚ â”œâ”€â”¬ react-smooth@0.3.0 
â”‚ â”‚ â”œâ”€â”€ raf@3.4.0 
â”‚ â”‚ â””â”€â”€ react-transition-group@1.2.1 
â”‚ â”œâ”€â”€ recharts-scale@0.3.2 
â”‚ â””â”€â”¬ reduce-css-calc@1.3.0 
â”‚   â”œâ”€â”€ balanced-match@0.4.2 
â”‚   â”œâ”€â”€ math-expression-evaluator@1.2.17 
â”‚   â””â”€â”¬ reduce-function-call@1.0.2 
â”‚     â””â”€â”€ balanced-match@0.4.2 
â””â”€â”¬ webpack-dev-server@2.9.3 
  â”œâ”€â”€ ansi-html@0.0.7 

....
```

note i had to add `react-transition-group` manually as i was getting errors with that as well. Seems to gloss over now.

Any help is appreciated!  ## Do you want to request a feature or report a bug?
New Feature

## What is the current behavior?
When displaying two lines with the same color like for example:

```ts
<Line type="monotone" dataKey="pv" stroke="#8884d8">
<Line type="monotone" dataKey="uv" stroke="#8884d8" strokeDasharray="3 4 5 2"/>
```

One with `strokeDasharray` and one without, the legend is not very useful:

![screenshot from 2017-10-25 10-56-59](https://user-images.githubusercontent.com/10656223/31993158-3e06c606-b974-11e7-995e-b54e1a79f6dd.png)

## What is the expected behavior?
The legend should allow us to identify which of the lines in the chart is the one with `strokeDasharray`.

# Possible implementation
I would like to send a PR to fix this but I need some help to find the right solution.

At the moment the `iconType` is a property of `Legend`. 

I was thinking that:

- If the `iconType` is set to `line` we can display a dashed line if `strokeDasharray` is used. 

- If the `iconType` is set to `square`, `rect`, `circle`, `cross`, `diamond`, `star`, `triangle` or `wye` we will not be able to differentiate between items with and without `strokeDasharray`.

@xile611 Can you please share your thoughts? Thanks!

 I have created a PR :point_right: #985 Thanks a lot :+1:   I need to draw background of bars in vertically aligned BarChart. I want to draw rectangle with custom background color and width = full barchart width. But in shape option i get width of current bar in props. How can i do it?  ## Do you want to request a feature or report a bug?
Feature

## What is the current behavior?
API docs mention arbitrary shapes such as [Polygon](http://recharts.org/#/en-US/api/Polygon), which leads me to believe that I should be able to include these shapes as part of a chart. For example, something like this:

```javascript.jsx
const data = [
  {x: 100, y: 200}, {x: 120, y: 100}, {x: 170, y: 300},
  {x: 140, y: 250}, {x: 150, y: 400}, {x: 110, y: 280},
];
const polygon = [
  {x: 45, y:100}, {x: 45, y:200}, {x: 90, y:200}, {x: 90, y:100},
];
return (
  <ScatterChart width={400} height={400} margin={{top: 20, right: 20, bottom: 20, left: 20}}>
    <XAxis type={'number'} dataKey={'x'} name='stature' unit='cm'/>
    <YAxis dataKey={'y'} name='weight' unit='kg'/>
    <CartesianGrid />
    <Scatter name='A school' data={data} fill='#8884d8'/>
    <Tooltip cursor={{strokeDasharray: '3 3'}}/>
    <Polygon data={polygon} fill='#8884d8'/>
  </ScatterChart>
);
```
However, it seems that there is only a list of children expected of any particular chart, and anything else is ignored. So, `Polygon` inside any chart is not rendered at all.

## What is the expected behavior?
Shapes inside chart can be added and rendered as a layer within the same coordinate system. The above code should render something like this:

![image](https://user-images.githubusercontent.com/1696726/31913908-971cca24-b7fd-11e7-9f55-53ddceeb6399.png)

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
`1.0.0-alpha.6`
 I had overlooked the `ReferenceArea` component. That's pretty close to what I need to do except I would need to draw polygons and not just rectangles. @xile611 I'm aware of that, but I will have to put in actual svg coordinates, rather than data points on the same scale as my normal data series. I've got a decent implementation using `ReferenceArea` working already, I can open a PR if you are interested. :)  I believe that with `Scatter` it's also possible to draw "shape" like Polygon  ## What is the current behavior?
I am trying to generate a scatter chart with some data which has an x and y values.
X ranges from 1-5 and y ranges from 0-25. I just want to plot all data points into a single chart which respects the ranges as axis.

## Example
My Current Component looks like this:
```javascript
  render() {
    const { data } = this.props;
    const mapped = data.map(d => {
      return {
        x: parseInt(d.orig_x),
        y: Math.round(d.orig_y)
      }
    })

    console.log(mapped.slice(1, 10))
    const limitedData = _.sortBy(mapped.slice(1, 10), 'x')

    return (
      <ScatterChart width={500} height={400} margin={{ top: 20, right: 20, bottom: 20, left: 20 }}>
        <XAxis dataKey="x" name='x' domain={[0, 5]} />
        <YAxis dataKey="y" name='y' domain={[0, 25]} />
        <CartesianGrid horizontal={false} vertical={false} />
        <Scatter name='data' data={limitedData} fill='#8884d8' />
        <Tooltip cursor={{ strokeDasharray: '3 3' }} />
      </ScatterChart>
    )
  }
```

The current code results in a chart which looks like this:
![image](https://user-images.githubusercontent.com/2970814/31896923-3eb69550-b815-11e7-8966-38d54abdf7c3.png)



## What is the expected behavior?
The expected behaviour would be that all data points with an X value of e.g. 3 would be on the same point on the x-axis. But in the current version, there are multiple 3 on the x-axis. Is there a way to prevent this?

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
Recharts: 1.0.0-alpha.6
Browser: Chrome

 I had the same problem!

Use `<XAxis type='number' dataKey="x" name='x' domain={[0, 5]} />`, that should do it! I used Date as x-axis and somehow it's not working..any suggestions? thanks.

![image](https://user-images.githubusercontent.com/102806/38276260-043421d0-375a-11e8-89ac-e491efa805f9.png)
 Try setting `allowDuplicatedCategory={false}` on the XAxis component. hi @Kobzol thank you so much, works perfect!  Is it possible to change the animations when new data is added? Currently the new data suddenly appears and the rest of the graph reacts into place. I would prefer if the new data simply scrolled in from the right or something to that effect.  how to make 3d pie where is the api

  Changing most of the RadialBar props has no effect, including: minAngle, maxAngle, startAngle, endAngle, clockWise.

I tested it in the  [example in JSFiddle](http://jsfiddle.net/4qo7ba5L/?utm_source=website&utm_medium=embed&utm_campaign=4qo7ba5L) It appears that it removed the related props at this [diff ](https://github.com/recharts/recharts/commit/8dfd83dc5e2f6e32958cec16f3009ddc14600cc0#diff-232275603e425a80513a3b40847f82b8) Nice to know it's not my fault that I can't get RadialBar to behave :) I use `PieChart` as a temporary workaround.  There is a realtime datasource which generate 50 numbers every 500ms.
I load the data every 2500ms, which is 250 numbers, into a buffer. Then a timer with 50ms interval  will get 5 numbers from the buffer and push it (by `setState`) into the LineChart, like an animation.
However, the `setState` is really slow, it costs 30ms to 60ms to finish. Is there anyway to interact with the chart to add data?  Hi, first of all great Library I really enjoy it!

I found some weird behavior when using a Line Chart.
My Line goes below the X-axis which leads to a weird looking Chart.
I have reproduced the "bug" in this jsfiddle : http://jsfiddle.net/danielh21/7euyzdu6/10/

My values for the Chart are {x:0, x:0, x:0, x:1} and before last datapoint my line goes below the X-axis.
Can anyone explain why this is happening? 

Thanks in advance 

 Thanks! I will just use monotone then!
I consider this issue to be closed!  ## Do you want to request a feature or report a bug?
it is a bug report
## What is the current behavior?
`Scatter` plot doesn't show anything when there is two data point with same `x` value in data:

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via jsfiddle.net.
Yes here is the demo: http://jsfiddle.net/t1mh8whp/

## What is the expected behavior?
`Scatter` should plot scatter plot currectly.
## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
recharts version is 1.0.0-apha.5. I didn't check previous versions.  I want to use different color for each data point in `Scatter` component, like using different color for each slice in `Pie` component.

I tested `Cell` child in `Scatter` component but it doesn't work. I also read `Scatter.js` source and it seems this component find all `Cell` children. Would you please help me to draw scatter diagram with colorful points?  I test the following snippet but it doesn't work:
```jsx
<Scatter name='A school' data={data01} shape="circle">
                            {
                                data01.map((entry, index) => (
                                    <Cell key={`cell-${index}`} fill={entry.x} />
                                ))
                            }
</Scatter>
``` The documentation makes it sound like Cell isn't valid in Scatter, so I'm not sure about your snippet.  I will say that I had a similar issue recently and although it doesn't scale, I solved it by filtering my data set into multiple sets, then having multiple `Scatter`.

```
      const { units } = this.props                                                                                                                                                                                            
      const bedrooms = []                                                                                                                                                                                                                  
      bedrooms[0] = units.filter((d) => d.beds === 0)                                                                                                                                                                                      
      bedrooms[1] = units.filter((d) => d.beds === 1)                                                                                                                                                                                      
      bedrooms[2] = units.filter((d) => d.beds === 2)                                                                                                                                                                                      
                                                                                                                                                                                                                                           
...
                                                                                                                                                                                                        
<Scatter data={bedrooms[0]} fill={schemeCategory20[1]}  />
<Scatter data={bedrooms[1]} fill={schemeCategory20[3]}  />
<Scatter data={bedrooms[2]} fill={schemeCategory20[5]}  />

```
 Thanks @xile611 .  ## Do you want to request a feature or report a bug?
bug

## What is the current behavior?
When using an iterator (scattercharts.map(s => <Scatter.../>) to generate Scatter components from an array, an error occurs during render.

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/qbmg1567/).
I would! The current fiddles are broken due to an npmcdn.com issue with React 16 :(

## What is the expected behavior?
The parent <ScatterChart/> container should allow multiple children.

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?

Alpha 5 of recharts, latest Chrome. Not sure if this is new or a regression.
 I'm doing the same thing with a `LineChart` and get this error.
```js
{Array.from({length: lineCount}).map((x, i) => (
  <Line key={i} dataKey={`line${i}value`} />
))}
``` Same here :(

EDIT: I also experienced it in the RadarChart This happens in RadarChart too, other charts is fine.  I got the same issue with a composed chart. I worked around it by storing the created array of lines/areas, not recreating it on each render. Another fix is spreading the resulting array.
```jsx
...[/* full with magic */].map(line => (<Line stuff={stuff} />))
```

Edit: indeed it would need to be as @jgentes suggests, this fixed the error but the result was still wrong, so go ahead and ignore this solution.  @sorodrigo I wasn't able to use the spread operator to fix the issue. And I'm not sure that works:

`...Array.map` - wouldn't it need to be `[...Array].map`? Also experiencing this :(

@ryanand26's solution seems like a good workaround, but this is definitely a bug. @rafaelc0sta @jgentes Can you create a demo on jsfiddle? The code I had with the issue was really convoluted so not suited to a demo.
Edit: here's a (hopefully) working JSfiddle template: http://jsfiddle.net/ryanand26/sh4vuy4c/ The problem happens when you re-do the lines in the render() method. If the lines stay the same (lines, not data), the problem goes away. Moving the lines to the constructor() makes it work. I am running into this same issue. It seems to occur when a part of the state is updated which isn't relevant to the chart.  I was able to reproduce it here: http://jsfiddle.net/sh4vuy4c/17/ Having the same problem!

My LineChart component is a stateless component and is used by a wrapper component which has a state. Whenever the state is updated in the parent wrapper (not the data. Only other variables in the state) I get the same error. A solution would be highly appreciated :) Hey, for my project, the problem occurs when using the `ScatterChart` (but it could happen to any components generated by `generateCategoricalChart` upon the analysis)... After some analysis with my team, the issue stems from lines of these two files:
https://github.com/facebook/react/blob/7e7127387ba64f57299eaff8656542cea6fb3a2d/packages/react/src/ReactChildren.js#L405-L407
https://github.com/recharts/recharts/blob/b95a84aa1e879c0f6de05219696a54220048a976/src/util/ReactUtils.js#L370

Since `this.props.children` can return multiple types (ReactNode, ReactNode[] or undefined), **[line370](https://github.com/recharts/recharts/blob/b95a84aa1e879c0f6de05219696a54220048a976/src/util/ReactUtils.js#L370) in ReactUtils.js** should pass the single node rather than the whole array into the checker.

This seems to be an easy fix. Not sure if anyone is interested in raising a PR to fix it. Or I can take care of it later in the next few weeks. Thanks. I've created a test case for this issue in my fork. Unfortunately I don't know the innards of React well enough to be confident in changing the equality check but hopefully this gives someone a head start.
[Fork commit](https://github.com/DaftApethIndustries/recharts/commit/7d0785b72592d04a88440979d5df7acfacd30254)

Edit: I've made a suggested fix in a PR. @ryanand26 I took a look at your PR. Great Job! But, removing `Children.only` seems altering the code's logic, because after the change, `isSingleChildEqual` (which internally expects two ReactNodes to before shallow comparision, check out [this line](https://github.com/recharts/recharts/blob/9511adcf62ea0d8bb847b6b4c4d90e62b8ee73f9/src/util/ReactUtils.js#L351))  will always return false for single node array. As a result, it in turn affects this line https://github.com/recharts/recharts/blob/9d42367e658cab6bed0a8f2517f17be9e0cf0957/src/chart/generateCategoricalChart.js#L185. The code governed by this condition affects Brush and etc. @ZheyangSong @xile611  I've looked into it a bit more and the root cause seems to be that the single elements return a count of one but are wrapped in an array. The code change in the fork above is probably safer than the first attempt. @ryanand26 Yes, it is the root cause. You can find more details regarding it from my earlier comment in this thread. Glad to see you pin the issue down! ðŸ‘   Is there an easy way to calculate the position for each `Label`? I have a line graph with 2 lines, and want to display the label on top for the top line and underneath for the bottom line (the lines may cross, so one is not strictly greater than the other).
 Yes, but is there a way to give each point a different label position? When the 2 lines get near each other at certain points, it would be nice to reverse the positions (eg, if line 1 is `position="top"` and line 2 is `position="bottom"`, I want to switch this at certain x positions to be line 1 `position="bottom"` and line 2 `position="top"`)  Trying to get a label shown on a simple pie chart. No lines or anything are shown.

```
var COLORS = ['#3DCC91', '#FFB366', '#FF7373', '#FFCC00', '#3B22FF'];

        <PieChart width={300} height={200}>
          <Pie data={data} cx="50%" cy="50%" dataKey="value" label={true} labelLine={true}>
            {
              data.map((entry, index) => (
                <Cell key={index} fill={COLORS[index % COLORS.length]}  />
              ))
            }
          </Pie>
          <Tooltip />
          <Legend />
        </PieChart>
```

Why do none of the examples work on jsFiddle or on the main site? It just renders blank page.

UPDATE
So, I dropped back to version 0.22.4 and it shows the label. The latest version doesn't show it. I have the same issue, but I would like not to roll back to an old version! I had the same problem. I came back to the version as the @quangas said and it worked. in the end i went to another lib @davidsonsns which lib did you switch to? Having the same problem. Switching back to 0.22.4 works but then I get other problems. I'm using this @stevelacy [react-chartjs-2](https://github.com/jerairrest/react-chartjs-2) In my case setting isAnimationActive={false} resolves the issue. Of course this means doing without the animation.

The line of code below seems to be the problem - 

https://github.com/recharts/recharts/blob/master/src/polar/Pie.js#L346

The intent is to not render labels until animation completes which makes sense. However, there appears to be a race condition that means labels are never rendered. 
 Hmm - well I am definitely reproducing the issue but I have more than one Pie shape in my PieChart. 

This issue also appears to be present in the examples. I am away from my computer but I will try produce a fiddle to reproduce the issue when I get back. Thanks! @xile611 - I added an additional Pie shape to your fiddle and it works fine. So that's not the problem. I also tried changing a few other properties to try to isolate the issue I am seeing in my build and did not reproduce the issue in your fiddle. It seems to be pretty stable.

My webpack based build is very different from the test and so I am unable to isolate any further at this time. Since the other users on this thread mention an old version and the fiddle is working with a new version - it seems to me like this issue could be closed. I can open another separate issue if I can isolate a problem in my build. Thanks. I think there is currently a bug with the Customized Label. If you go to http://recharts.org/#/en-US/examples/PieChartWithCustomizedLabel directly, the customized label will be drawn. But if you go to any other link first such as http://recharts.org/#/en-US/examples/SimpleScatterChart then click on "PieChartWithCustomizedLabel", then the customized label won't be drawn. I think this is still not working.
I'm on 1.0.0-beta.10

Also example which @xile611 provided http://jsfiddle.net/8wLgvst6/ is all blank isAnimationActive={false} worked for me. Although, my labels are aligning a little funny. I use `<Pie label={customLabel} />` and I also get the problem, unless I deactivate the animation it won't show.

**react**:  ^16.2.0
**recharts**: ^1.0.0-beta.10


 Still happening here too. The work around seems to be disabling the animation which isn't ideal.  So we have to choose between animation or label ... 

react : 16.3.1
rechart : 1.0.0-beta.10 still having this problem as well, seems to happen when fetching async data then the label draw function is never called I'm seeing the issue as well in beta 10. Appears to be happening in the JSFiddle as well. Is there something I can do to help to get this resolved? Preventing the animation does not appear to fix the issue. Why this was closed? The problem still exists (Recharts 1.3.4). Still an issue in 1.4.1.
- animation enabled: no labels
- animation disabled: labels show  ![image](https://user-images.githubusercontent.com/1348993/30981679-19ae686c-a453-11e7-96aa-76b0538120b6.png)

404ing on all the resources needed to load the examples from JSFiddle
 Getting the same errors Same issue here. Broken asset links, 404 errors.  it's effort.

but I was able to view the examples by 

- clicking the Js-fiddle link.
- click external resources
- delete the react-with-addons and react-dom links
- replace them (with the add button) with https://npmcdn.com/react@^15/dist/react-with-addons.min.js
and https://npmcdn.com/react-dom@^15/dist/react-dom.min.js
- move them both up the order to just below browser.js (addons above dom)

if desperately need to see examples now. 

edit: (edit as below says I was wrong about blaming npmcdn) Isn't this related to the fact that React is now bundled differently? According to [this](https://reactjs.org/blog/2017/09/26/react-v16.0.html#installation) & [this](https://reactjs.org/blog/2017/09/26/react-v16.0.html#packaging), I would say this is not npmcdn's fault, as the URL should be different for React 16. Hi there
Any update? I need the examples to show demonstrations on my team discussion.
It's urgent ðŸ˜¢  looks like it is broken again...
![screen shot 2018-04-02 at 15 42 23](https://user-images.githubusercontent.com/16097292/38196571-7debce70-368c-11e8-8357-a3965d682968.png)
  How can I achieve responsive yet aligned center for 2 pie chart? In the demo it simply hardcode the cx position. Below code with not produce nice visual if my container is in different width.

```
<ResponsiveContainer>
	<PieChart>
    <Pie
      dataKey="percentage"
      data={data.female}
      outerRadius={80} 
      innerRadius={30}
      cx="20%" // hardcoded
      cy={90}
    >
    {data.female.map((obj, i) => <Cell key={i} fill={colors[i]} />)}
    </Pie>
    <Pie
      dataKey="percentage"
      data={data.male}
      outerRadius={80} 
      innerRadius={30}
      cx="40%"
      cy={90}
    >
    {data.male.map((obj, i) => <Cell key={i} fill={colors[i]} />)}
    </Pie>
  </PieChart>
</ResponsiveContainer>
```  ## Do you want to request a feature or report a bug?
Request a feature

I am rendering a Bar Chart and am currently using Reference dots in the chart. However, I would like to render custom svg icons (like checks or x marks) instead of circles as reference points and was wondering if the code supported that, and if not, if it was a feasible feature that could be added.

Using v0.22.4 Thanks, I've got an icon showing up now. However, it's not in the correct position. I've tried passing down the props to the custom element and the html shows that i received the x, y, cx, and cy values but it is shifted on the graph.

Reference Dot:
`<ReferenceDot shape={<ValidateCheck />} x={index} y={5} key={`referencedot-${index}`} isFront={true} />`
(where index = 60 for example)

Custom Icon:
`const ValidateCheck = (props) => {
  <svg width="13" height="10" viewBox="0 0 13 10" {...props} xmlns="http://www.w3.org/2000/svg">
    <title>Path 277</title>
    <path stroke="#57DA06" stroke-width="2" d="M1 5l3.5 3.5 7-7.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
}`

For Reference:
<img width="566" alt="screen shot 2017-10-03 at 11 22 14 am" src="https://user-images.githubusercontent.com/14262965/31141813-4484b7f2-a82d-11e7-954d-28537a3b351e.png">

<img width="876" alt="screen shot 2017-10-03 at 11 21 55 am" src="https://user-images.githubusercontent.com/14262965/31141798-381beef4-a82d-11e7-8489-dd2bad250443.png">

I'm using the reference dots as a placeholder but I would like the check marks to be where the circle reference dots are.

UPDATE:
I needed to pass down the cx value and apply it as the x coordinate in the custom component. Working as expected now, thank you!
 For anyone else trying to render custom shapes, here's an example:

```
//custom component
const SmallDot = (props)=>{
    const radius = 2.5;
    const diameter = radius * 2;
    return (
        <svg width={diameter} height={diameter} style={{"overflow": "visible"}}>
            <circle cx={props.cx} cy={props.cy} r={radius} stroke="green" strokeWidth="0" fill={props.color} />
        </svg>
    );
}

//usage
<Scatter name={model.name} data={model.data} key={model.name} fill={#ddd} dot={ dotStyle } line shape={<SmallDot color={fillColor} />}  />

```
the recharts component passes in cx and cy for you.  ## Do you want to request a feature or report a bug?
Bug
## What is the current behavior?
Examples are not working http://recharts.org/#/en-US/examples/SimpleAreaChart 

 The error message in the browser console is:
Failed to load resource: the server responded with a status of 404 ()
https://npmcdn.com/react-dom@16.0.0/dist/react-dom.min.js
 Examples are fetching react@16.0.0 and react-dom@16.0.0, which just got released. How can this be fixed? Experiencing same issue. I've ran the demo script for the git repo, but it doesn't have everything. it's effort.

but I was able to view the examples by 

- clicking the Js-fiddle link.
- click external resources
- delete the react-with-addons and react-dom links
- replace them (with the add button) with https://npmcdn.com/react@^15/dist/react-with-addons.min.js
and https://npmcdn.com/react-dom@^15/dist/react-dom.min.js
- move them both up the order to just below browser.js (addons above dom)

if desperately need to see examples now Sorry about this. React 16 changed the URLs. So it would be reasonable to pin examples to a specific version (in this case, 15) rather than use the implicit `latest` version.

Even if we provided fallbacks for old style URLs, the â€œReact with addonsâ€ build doesnâ€™t exist anymore. So it would have to be fixed anyway.

The new URLs are:

http://unpkg.com/react@16/umd/react.development.js
http://unpkg.com/react-dom@16/umd/react-dom.development.js Thanks!  Updated packages required for react 16 support, resolved few issues observed in the way.

resolved #913 
 LineCharts(https://github.com/recharts/recharts/blob/master/test/specs/chart/LineChartSpec.js) is failing for some reason. Any help is appreciated. Otherwise i would look at it on this weekend. It's not required to upgrade to React Router v4 btw. React Router 3.2.x upgraded to prop-types package. But looks like you did it without issue ðŸ‘ 

I can try to help with the LineChart test. Did a lot of Enzyme changes this week at work lol. @NathanCH yes it's not required but to test locally i have changed. Anyway newer is better right. Thank you for helping with Linechart I really like this pull request :) Thank you.

I read through your code @kamthamc and noticed you put "react-transition-group" into peerDependencies but the changelog for 1.0.0-alpha.5 states:
```
- remove react-transition-group in peer dependencies
```
--> Maybe remove this again from peerDependencies? I feel like there are lots of things happening in this pull request.
I.e. the eslint updates could happen in a different step. They introduce lots of not so nice .eslintrc details IMO. @dmr i am not touching eslint fixes, i am just upgrading libs @dmr i can revert the commits 
60b3730, 38b788a if you think too much is going on this pr I added some code here: https://github.com/kamthamc/recharts/pull/1 to fix brush behavior. I don't think there is going on too much yet, but just wanted to ask how others think about this.
Thank you for pushing the react-16 issue, I really want to see this get merged once it runs. To fix the test you need to do this where you there `.find(DOMselector)` 

```diff
- expect(wrapper.find('.recharts-tooltip-cursor').length).to.equal(0);
+ expect(wrapper.find('.recharts-tooltip-cursor').hostNodes().length).to.equal(0);
```

The behaviour of `.find()` changed in Enzyme 3.x, more info [here](https://github.com/airbnb/enzyme/issues/1237), [here](https://github.com/airbnb/enzyme/blob/master/docs/guides/migration-from-2-to-3.md#element-referential-identity-is-no-longer-preserved) & [here](https://github.com/airbnb/enzyme/blob/master/docs/api/ReactWrapper/hostNodes.md)

As for the changes in general, I think this PR should focus only on React 16 upgrade. ESLint, React Router, etc.. (if they are not needed for R16) should be done in separate PRs. To keep the change surface to the minimum & we keep the PR focused.

One thing that is worrying that I'm not seeing any activity from the owners of the library & not even a comment. There ist still some testcases failing but maybe it's a good starting point For the failing tests, most probably the answers are here https://github.com/airbnb/enzyme/blob/master/docs/guides/migration-from-2-to-3.md because enzyme went through a big change & some APIs changed in behaviour  @ahmedelgabri i tried with hostnodes and its undefined. I was going through documentation & i noticed i have to increase the length by 1. That's odd I just cloned the repo & tried `hostNodes()` & it worked fine, I don't think increasing by one will work
 @kamthamc I opened a PR https://github.com/kamthamc/recharts/pull/2 to merge into your branch that fixes the failing test any eta when this will be merged? =p I fixed a couple of more places that required `.hostNodes()` the tests are still failing, maybe @xile611 can give us some hints or help on how to fix them. Here are a couple of places were the tests are failing:

https://github.com/kamthamc/recharts/blob/739ca2ea03eab84c931368b733f6c2c77feb1f88/test/specs/chart/LineChartSpec.js#L340

This now returns `6` instead of `3` & you can easily see this if you do `console.log(newLineDots.children().debug())`, on master it returns `3` though.

https://github.com/kamthamc/recharts/blob/739ca2ea03eab84c931368b733f6c2c77feb1f88/test/specs/chart/LineChartSpec.js#L343

These are not the same objects

```js
console.log(newLineDots.childAt(0).props().payload)
console.log(data[2]) 
```

Will give this output
```
LOG: '{
  "name": "Page A",
  "uv": 400,
  "pv": 2400,
  "amt": 2400
}'
LOG: '{
  "name": "Page C",
  "uv": 300,
  "pv": 1398,
  "amt": 2400
}'
```

Changing the assertion to this, will fix it but I'm not sure if this the expected behaviour or not. Because this is tested after calling [`wrapper.instance().handleBrushChange({ startIndex: 2, endIndex: 4 });`](https://github.com/kamthamc/recharts/blob/739ca2ea03eab84c931368b733f6c2c77feb1f88/test/specs/chart/LineChartSpec.js#L335)

```js
expect(newLineDots.childAt(0).props().payload).to.equal(data[0]);
```

 What is missing here to merge this pull request? @xile611 any updates on this, tests are passing & seems like everything is good, no? @xile611 makes total sense, thanks! I agree. 
Maybe offtopic, but what else is blocking a 1.0.0? Also been testing this PR against an existing project with extensive `recharts` usage. No issues found ðŸ‘  Any update @xile611, this is really the only thing blocking us to update to React 16 in our apps.  Please the examples don't load
http://recharts.org/#/en-US/examples/StackedBarChart
 React was not loading in the examples. React 16.0.0 moved files from the dist folder to umd.

From the release notes:

>The names and paths to the single-file browser builds have changed to emphasize the difference between development and production builds. For example:
react/dist/react.js â†’ react/umd/react.development.js
react/dist/react.min.js â†’ react/umd/react.production.min.js
react-dom/dist/react-dom.js â†’ react-dom/umd/react-dom.development.js
react-dom/dist/react-dom.min.js â†’ react-dom/umd/react-dom.production.min.js  Hi, I am using recharts **1.0.0-apha.5** in my reactjs webapp. In my chart I don't want to show Y-Axis, for which I didn't include Y-Axis in component definition it was gone but it broke X-Axis labels, I used interval={0} to bring all the x-axis labels, but it doesn't look good check image below

![screen shot 2017-09-23 at 3 27 23 pm](https://user-images.githubusercontent.com/5745637/30772203-6049f1b6-a074-11e7-8356-23f62c71a170.png)

Check the code below

```
const {AreaChart, Area, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Legend} = Recharts;
const data = [{name: "2017-02-03", ios: 2, android: 0},
                {name: "2017-08-30", ios: 2, android: 0},
                {name: "2017-09-02", ios: 1, android: 0},
                {name: "2017-09-05", ios: 1, android: 0},
                {name: "2017-09-06", ios: 1, android: 0},
                {name: "2017-09-07", ios: 1, android: 0},
                {name: "2017-09-09", ios: 3, android: 0},
                {name: "2017-09-11", ios: 1, android: 0},
                {name: "2017-09-15", ios: 0, android: 1}];

const AreaCharts = React.createClass({
	render () {
  	return (
      <ResponsiveContainer>
                <AreaChart data={data}
                      margin={{top: 10, right: 30, left: 0, bottom: 0}}>
                  <XAxis dataKey="name" interval={0}/>
                  <CartesianGrid strokeDasharray="2 2"/>
                  <Tooltip/>
                  <Area type='monotone' dataKey='ios' stroke='#3e9112' fill='#7ec857' />
                  <Area type='monotone' dataKey='android' stroke='#0e6dd3' fill='#0f80fb' />
                </AreaChart>
              </ResponsiveContainer>
    );
  }
})

ReactDOM.render(
  <AreaCharts />,
  document.getElementById('container')
);
```

I tried to add jsFiddle but some what Recharts doesn't work with jsFiddle.

So as in image above, I have two problems

1. Removing Y-Axis disturbs the UI completely.. How to Fix?
2. I wan't to use the exact defined color which I am supplying to the component, how to achieve that?

Thanks.
 @iphonic its broken regardless of whether you add YAxis or not because of the width. X/Y Axis should allow / smartly(depending on the available width for text) render labels horizontally/vertically or with an angle.  Current `jsnext:main` entry in `package.json` is a transpiled file when it shouldn't be: the whole purpose of `jsnext:main` is to let developers transpile everything in their own environments!
`jsnext:main` should just be plain `./src/index.js` file here.

On the other side, `module` entry defines just the main "export" statement thus it's ok to link the transpiled content.
 @xile611 thanks for taking time to further investigate this!
Would you consider a `esnext` field linking the `src` plain folder? 
http://2ality.com/2017/06/pkg-esnext.html
  Good afternoon.
Can I highlight the weekend-days in gray on the chart, thus: 

![image](https://user-images.githubusercontent.com/8881978/30705243-929b1d3e-9efd-11e7-91e7-abdcf7e73a84.png)

If so, how?
Thank you.  any update on this? @giulioambrogi  I used on-hover event  on pie to enable labels that was a quick fix , hope it helps!! Yes, however, what if the task is to show labels? This is applied to Scatter, too.  Hi @andrevinsky,
did you figure out how to handle scatter plot labels overlap?  ## Do you want to request a feature or report a bug?

New feature

## What is the current behavior?

If there is a solid and dotted line of same colour, currently unable to identify these in the legend.  (Unless I've missed a feature).

![image](https://user-images.githubusercontent.com/4816012/30600659-f8232cfc-9d57-11e7-948e-cdaf543b1854.png)

See also #850.
  it seems when using SSR, the id of Pie would be different between client side and server side, 
so would it be better if I can set id by myself? @xile611 I'm sorry... can you fix this problem or should I do another pull requests?  How can i restart animation from zero position => to props, without reload page. When i change data, graph doest restart animation from zero point.  Need restart animation from zero poin to current. @xile611 could u please explain me what do u mean? dataKey? or some other key?
if i change data key! it doesnt work to restart animation from zero position! HI! 

I join @alexeikaratai question. I have the same problem: when Line draws at first by points its animation works perfectly. But when I try to change points (for example send another data from props) animation haven't restarted from zero point. Is it possible to restart animation when data has changed?

```
<Line
    ...
    points={this.props.points}
   ...
/> Generate a new key each time you update data on the main React component so it will rerender.

e.g.
`this.state = {key : 1}`

on your component
`<AreaChart key={this.state.key}>`

In data update function 
`this.setState({key: 2});`

Make sure your keys are stable and predictable:
https://reactjs.org/docs/reconciliation.html#trade-offs  Is there any way to prevent reference dot labels from overlapping each other?

http://jsfiddle.net/yt1h19h0/  I think dataKey and valueKey is the same props on Pie, but dataKey is required  i tried to create area chart that the fill color should be different when the data < 0 and the other condition will follow the default color.

<Area type="monotone" dataKey="uv" stroke="#8884d8" fill={ data.uv > 0 ? "#FF0044" : "00FF33" } />

the code should give a custom color but it didn't.

how i can solve this problem ? also need answer( ![screenshot from 2017-09-11 17-57-59](https://user-images.githubusercontent.com/19538309/30429734-3e7ec922-9961-11e7-9775-0a44a61cd24d.png)
something like this,to make me able to do this without  drawing 2 different charts  (1 with positive and 1 with negative values
) any news or thoughts ?)
 maybe now?))) This is also something I would like to see implemented.
I would like to say I'd have a go at implementing it myself, but am brand new to the library and will probably be too time consuming for me I figured out how to do this within recharts utilising LinearGradient of svg.

example fiddle:
http://jsfiddle.net/fpm003na/3/

please feel free to improve my JS if possible (still relatively new to react/es6 stuff)
I think this would be a useful example to add to site, I'll wait for critique on fiddle, then this weekend I can do a pull request to add this as an example to site. (I think name should be DoubleAreaChart) pls note when checking/improving my code above to submit example I found a bug where would accidentally get a gradient if all points were positive/all points negative

corrected code http://jsfiddle.net/fpm003na/3/ Noticed another small issue with my code, new fiddle that seems to work for all possible data ranges:
http://jsfiddle.net/fpm003na/3/

will update links in old requests so people dont accidentally use my bugged attempts
 The above snippet works fine in most cases, even with more than one data set. However, if a `Brush` component is added the snippet has to be extended a little bit in order to behave correctly.
When determining the min/max data values the applied bounds have to be respected. This can be done by providing an `onChange` callback to the `Brush` and `slice` the data array accordingly.  My chart can be loaded normally but when I use the ResponsiveContainer API but did not initially load the animationã€‚
`                <ResponsiveContainer height={300}
                                     width="100%"
                >
                  <AreaChart data={data}
                             height={300}
                             margin={{top: 10, right: 30, left: 0, bottom: 0}}
                             width={500}
                  >
                    <XAxis dataKey="name"/>
                    <YAxis/>
                    <Legend height={36}
                            verticalAlign="top"
                    />
                    <CartesianGrid strokeDasharray="6 6"/>
                    <Tooltip/>
                    <Area dataKey="weChat"
                          fill="#8884d8"
                          stackId="1"
                          stroke="#8884d8"
                          type="monotone"
                    />
                    <Area dataKey="aliPay"
                          fill="#82ca9d"
                          stackId="1"
                          stroke="#82ca9d"
                          type="monotone"
                    />
                    <Area dataKey="gateWay"
                          fill="#ffc658"
                          stackId="1"
                          stroke="#ffc658"
                          type="monotone"
                    />
                    <Area dataKey="quick"
                          fill="#ffe658"
                          stackId="1"
                          stroke="#ffe658"
                          type="monotone"
                    />
                  </AreaChart>
                </ResponsiveContainer>` @xile611  Thanks I seem to find the reason I have the same problem, how to fix it? @happysuns   If the `strokeWidht` is big enough it's visible how fill color overlays the line itself

## What is the current behavior?

http://jsfiddle.net/liubko/ktwfp03m/159/

![screen shot 2017-09-10 at 12 16 03 pm](https://user-images.githubusercontent.com/4257937/30247683-3aaedc8e-9622-11e7-9399-a6b0be448c44.png)

## What is the expected behavior?
I would expect the `stroke` to be drawn above the `fill`

## version
1.0.0-alpha.4  ## Do you want to request a feature or report a bug?

## What is the current behavior?

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/qbmg1567/).

## What is the expected behavior?

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
 @xile611  @xile611  can you share some fiddle example?   I'd like to know how can I create a custom label for a [ReferenceDot](http://recharts.org/#/en-US/api/ReferenceDot)

Here is my attempt:

http://jsfiddle.net/Lphcscom/  As a feature tagged there [https://github.com/recharts/recharts/issues/860](https://github.com/recharts/recharts/issues/860) #895  will this go out with the next release? hey @xile611, sure it's not a problem to shift the tooltip component to another PR. 
But do you propose to extend the `defaultTooltipContent `component with the corner?     ## Feature Request

I tried looking at `<BarChart />`, [`<Bar />`](https://github.com/recharts/recharts/blob/master/src/cartesian/Bar.js), and `<ResponsiveContainer />` but I don't see any option for changing the default `<Bar />` hover from gray (`fill: #ccc`) to another color.

## What is the current behavior?

Hover color is gray

![gray bar](https://user-images.githubusercontent.com/56460/30000728-07303d9e-903c-11e7-871a-ca40821189ee.png)

React Tools shows:

![screen shot 2017-09-03 at 9 11 27 am](https://user-images.githubusercontent.com/56460/30003748-e9118f56-9087-11e7-92fb-7865a7ad6a42.png)
 This style can be defined using the `cursor` prop on `Tooltip`. See [Tooltip docs](http://recharts.org/#/en-US/api/Tooltip). Updated link: http://recharts.org/en-US/api/Tooltip  How can I remove the top and bottom grid lines from this chart?

![screen shot 2017-09-01 at 11 07 30 am](https://user-images.githubusercontent.com/5244313/29973574-6b0fdbe4-8f06-11e7-96a2-068fc5a075d5.png)

Current code:
```javascript
<LineChart>
  <CartesianGrid
    vertical={false}
    strokeDasharray="4 4"
    stroke="#aab8c2"
  />

  <YAxis
    domain={['dataMin', 'dataMax']}
    opacity="0"
    style={{ display: 'none' }}
    width={0}
    ticks={[this.isMinValueNegative() ? 0 : this.getMinValue()]}
  />
</LineChart>
``` In this case I need to keep the horizontal line of the middle, so horizontal={false} doesn't work for me. I was able to remove them with css, however the top and bottom lines are added in a different order that it is shown on the screen, they are the last two elements in the DOM. 
Thanks @xile611   When i try using `<ResponsiveContainer width="100%" height={400}> `my charts are not appearing. 
Also when i try giving width in % for BarChart or PieChart or any other im getting any error width is NaN string is passed.

here is my code:
```
<ResponsiveContainer width="100%" height={200}>
            <BarChart width={300} height={200} data={data} margins = {{ top: 50, right: 0, bottom: 100, left: 0 }} >
                <XAxis dataKey="monthName" />
                <YAxis />
                <CartesianGrid />
                <Legend />
                <Tooltip />
                <Bar dataKey="transactions" fill="#7B1FA2" />
            </BarChart>
            </ResponsiveContainer>
```
can you please tell me where am i doing wrong or something to do with your side. ResponsiveContainer is always 100% of the width of its container element. However the container element needs to have a fixed width or % of another container element which has well defined width. @howardya can you please explain with a sample code. That would be lil helpfull how about this http://jsfiddle.net/4zja5eo0/17/ ? 

The div containing the <ResponsiveContainer> has 50% width. 

Also this one http://jsfiddle.net/4zja5eo0/18/ @howardya both the code are working in fiddle but when i do it in my local system Charts are not displayed. No error in console too  Most likely is your parent element, or the parent of your parent element. 

Or there is no height defined.

For responsive to works, the parent container needs to have well defined height. 

Try debugging it by setting the parent element to have background-color: black then slowly work your way up the tree till it reaches the body or html tag. 

Or try some of the suggestions [here](https://www.google.com.sg/search?q=css+with+percentage+not+working) http://jsfiddle.net/dqj2k8dc/ 
my code is in this format 
responsiveness is not happening @howardya  how about this http://jsfiddle.net/dqj2k8dc/1/

you need to have 100% in all the div container all the way up until either one of this:
1. reach the html/body or
2. reach a div container which explicitly has the width defined. This is working fine in fiddle but, not sure what is going wrong with me. 
i will start from scratch and try for solving the problem
Thanks @howardya  for ur help. @vikkya this solves your problem: https://css-tricks.com/NetMag/FluidWidthVideo/Article-FluidWidthVideo.php

Just wrap your ResponsiveContainer with this below (the paddingBottom will define the proportion of your container (a square, a rectangle etc.):

```
<div style={{
  paddingBottom: '56.25%', /* 16:9 */
  position: 'relative',
  height: 0
}} >
  <div style={{
    position: 'absolute',
    top: '0',
    left: '0',
    width: '100%',
    height: '100%'
  }}>
      <ResponsiveContainer>...</ResponsiveContainer>
  </div>
</div>
```  Is it possible to mark a straight line on a bar chart? ComposedChart can't achieve that. 

## Do you want to request a feature or report a bug?
feature
## What is the current behavior?
can't draw a straight line on bar chart
## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/qbmg1567/).
http://i.imgur.com/pMVOt5X.png
## What is the expected behavior?
Able to draw straight line on a bar chart
  or y axis value has less than 0,  it's lower than x axis, EG:

![image](https://user-images.githubusercontent.com/4242643/29603024-1928b514-8815-11e7-8201-1833abae6fc4.png)
  I'm reporting a bug.
In my webpack configuration I'm transpiling modules with `jsnext:main` entry.
Recharts transpiling results in the following error (or in one of its dependencies):

Snippet importing recharts:
```
import { ResponsiveContainer, Legend } from 'recharts';
import { Radar, RadarChart, PolarGrid, PolarAngleAxis, PolarRadiusAxis } from 'recharts';
import { LineChart, Line, BarChart, Bar, PieChart, Pie, XAxis, YAxis, CartesianGrid, Tooltip } from 'recharts';
```

Error thrown:
```
configUpdate.js?14c6:3 Uncaught ReferenceError: exports is not defined
    at eval (configUpdate.js?14c6:3)
    at Object../node_modules/react-smooth/lib/configUpdate.js (vendor.js?c26c97f3dfed16ef0fc7:23117)
    at __webpack_require__ (vendor.js?c26c97f3dfed16ef0fc7:21)
    at eval (Animate.js?3335:35)
    at Object../node_modules/react-smooth/lib/Animate.js (vendor.js?c26c97f3dfed16ef0fc7:23052)
    at __webpack_require__ (vendor.js?c26c97f3dfed16ef0fc7:21)
    at eval (index.js?b145:8)
    at Object../node_modules/react-smooth/lib/index.js (vendor.js?c26c97f3dfed16ef0fc7:23143)
    at __webpack_require__ (vendor.js?c26c97f3dfed16ef0fc7:21)
    at eval (Tooltip.js?7a33:1)
(anonymous) @ configUpdate.js?14c6:3
./node_modules/react-smooth/lib/configUpdate.js @ vendor.js?c26c97f3dfed16ef0fc7:23117
__webpack_require__ @ vendor.js?c26c97f3dfed16ef0fc7:21
(anonymous) @ Animate.js?3335:35
./node_modules/react-smooth/lib/Animate.js @ vendor.js?c26c97f3dfed16ef0fc7:23052
__webpack_require__ @ vendor.js?c26c97f3dfed16ef0fc7:21
(anonymous) @ index.js?b145:8
./node_modules/react-smooth/lib/index.js @ vendor.js?c26c97f3dfed16ef0fc7:23143
__webpack_require__ @ vendor.js?c26c97f3dfed16ef0fc7:21
(anonymous) @ Tooltip.js?7a33:1
./node_modules/recharts/es6/component/Tooltip.js @ vendor.js?c26c97f3dfed16ef0fc7:24183
__webpack_require__ @ vendor.js?c26c97f3dfed16ef0fc7:21
(anonymous) @ index.js?2177:1
./node_modules/recharts/es6/index.js @ vendor.js?c26c97f3dfed16ef0fc7:24222
__webpack_require__ @ vendor.js?c26c97f3dfed16ef0fc7:21
(anonymous) @ index.js from dll-reference vendor?d5ec:1
./node_modules/recharts/es6/index.js @ app.js?c26c97f3dfed16ef0fc7:15863
__webpack_require__ @ app.js?c26c97f3dfed16ef0fc7:20
(anonymous) @ results.js:18
./apps/user/components/results.js @ app.js?c26c97f3dfed16ef0fc7:180
__webpack_require__ @ app.js?c26c97f3dfed16ef0fc7:20
(anonymous) @ router.js?b5bd:1
./apps/user/router.js @ app.js?c26c97f3dfed16ef0fc7:258
__webpack_require__ @ app.js?c26c97f3dfed16ef0fc7:20
(anonymous) @ index.js?9420:1
./apps/user/index.js @ app.js?c26c97f3dfed16ef0fc7:219
__webpack_require__ @ app.js?c26c97f3dfed16ef0fc7:20
(anonymous) @ app.js?c26c97f3dfed16ef0fc7:63
(anonymous) @ app.js?c26c97f3dfed16ef0fc7:66
``` Done, here is the repro: https://github.com/damianobarbati/react-app/blob/master/apps/user/index.js#L10

```
git clone git@github.com:damianobarbati/react-app.git
npm install -g yarn pm2
yarn install
yarn serve:dev && yarn build:dev
```

Go to `localhost:8080/user` to see the error in console!

Also check out dependencies because I had to explictly install babel-polyfill@^7.0.0-alpha* otherwise recharts breaks with next `babel-preset-env` version.
 Nobody else having this problem or was able to reproduce it? :\ @xile611 do you have any idea what could it possibly be? I'm stuck but I don't want to move to another charts library! ðŸ˜¢ For anyone who may get the same problem: it all lays in the `jsnext:main`, `/lib` and `/es6` handling of the package (where the latter looks like a mix between original sources and transpiled ones). 
I'm leaving the repro if anyone wants to give a stab at this.

I could not find the real root of the problem nor a a real solution.
Here is the current horrible fix to have it working:
```
    "scripts": {
        "postinstall": "cp -r node_modules/recharts-scale/src src/recharts-scale && cp -r node_modules/react-smooth/src src/smooth && cp -r node_modules/recharts/src src/recharts && find src/recharts -type f -name '*.js' -exec sed -i '' s#react-smooth#../../smooth#g {} + && find src/recharts -type f -name '*.js' -exec sed -i '' s#recharts-scale#../../recharts-scale#g {} +"
    },
```
Long story made short: 
- copy the src (not the /lib nor /es6) folders from `react-smooth`, `recharts-scale` and `recharts` after installing/upgrading them
- require the sources directly  Hi, how to custom y-axis'label in <YAxis type="number">?
I just want to add an unit(%) after y-axis'label under type="number" circumstances, like:
90%|
........ |
60%|
........ |
30%|â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
            one          two         three        four         five

I just want to add % after 30/60/90;
I expect it's type="number" not type="category";

how can i do? I'm looking forward to your reply. @xile611 Thanks for your reply!  ## Do you want to request a feature or report a bug?
Bug

## What is the current behavior?

When dragging the brush and the cursor moves outside of the brush area, text gets selected causing the brush dragging to stop. So if not dragging explicitly inside the brush, the experience seems very buggy.

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/qbmg1567/).

![aug-14-2017 00-03-30](https://user-images.githubusercontent.com/406115/29252401-0fa14e86-8084-11e7-9207-56f3f316483b.gif)

Can be reproduced here: http://recharts.org/#/en-US/examples/BrushBarChart
## What is the expected behavior?

Text should not be selected when dragging the cursor using the Brush and should continue to work on dragging as long as the mouse button is pressed.

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
Mac OS 10.12.6
Chrome  60.0.3112.90 
Recharts 0.22.4 FWIW This is also implemented with d3 and works really well (with added benefit of scroll to zoom):
https://bl.ocks.org/mbostock/34f08d5e11952a80609169b7917d4172

![aug-14-2017 00-15-46](https://user-images.githubusercontent.com/406115/29252481-cc61e44e-8085-11e7-8871-1e7b8e83cb42.gif)


 It is not lib fault. A simple CSS trick could solve this issue by setting the style property of text element to `user-select: none`.

http://jsfiddle.net/wn4jhdu5/13/ @xile611 @li-xinyang While it does stop text from being selected, I still cannot drag while the cursor is outside the brush, as demonstrated in the gif I posted, leading to a poor UX when using it. Notice the cursor in the d3 gif above when compared to the one here:

![aug-21-2017 23-48-39](https://user-images.githubusercontent.com/406115/29532578-6d3b5e0e-86cb-11e7-9d61-be5978fa8c4b.gif)
 this is such a basic UX requirement really, even bostocks examples have it right.  How should I use startAngle and endAngle in RadialBarChart?

It's not working the way stated on example. I don't see any effect on changing the values.

Also clockWise set to false doesn't rotate chart anticlockwise. I too noticed the same behaviour as stated above.
I tried to modify the exemple fiddle, but when changing the 'startAngle', 'endAngle' or 'clockWise', nothing seems to be happening.  ## Do you want to request a feature or report a bug?
Request

## What is the current behavior?
I am not able to show the status of pie chart where we show like colorwise filled checckbox and its meaning either below or above pie chart.
![image](https://user-images.githubusercontent.com/18165261/29002880-194a94d4-7aca-11e7-8e7b-879011b36819.png)


## What is the expected behavior?
![image](https://user-images.githubusercontent.com/18165261/29002889-452113a8-7aca-11e7-99ef-d2b90bf880bd.png)

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
Recharts version: 1.0.7
Windows 10  Request for documentation

I am unable to style the reference line label to match this example:
http://recharts.org/#/en-US/api/ReferenceLine

![image](https://user-images.githubusercontent.com/15603579/28835896-88d5d3a4-7719-11e7-8b40-3b950a06c17c.png)

It ends up looking like this:

![image](https://user-images.githubusercontent.com/15603579/28835912-9ad64e76-7719-11e7-8ad1-7e0afaecf925.png)

I tried passing a ReactComponent into the label props. The result is no that no label gets displayed.

My code looked like
`
    <ReferenceLine
        x={firstQuadPercentile}
        stroke={'green'}
        label={<text>{'25th percentile'}</text>}
    />
`

and

`
    <ReferenceLine
        x={firstQuadPercentile}
        stroke={'green'}
        label={<div>{'25th percentile'}</div>}
    />
`

Since no label gets displayed, it didn't seem like this solution would work.

How can I style the label to match the first example shown in this request?

My recharts version : 1.0.0-alpha.2 +1 @xile611 The label align is always center? Which attribute can effect? or I need to customize label element? Need help with the alignment too @botaifilip I have implemented this feature by overwriting Reference Line Label component. so, you can try it. @xile611 still doesn't work.
@wewoor can I see what you did? same issue here @westoncolemanl @fengshuo 

The below is my custom ReferenceLabel component. you can try it.


```javascript
export function ReferenceLabel(props) {
    const { 
        fill, value, textAnchor, 
        fontSize, viewBox, dy, dx,
    } = props;
    const x = viewBox.width + viewBox.x + 20;
    const y = viewBox.y - 6;
    return (
        <text 
            x={x} y={y}
            dy={dy}
            dx={dx}
            fill={fill}
            fontSize={fontSize || 10} 
            textAnchor={textAnchor}>
            {value}
        </text>
    )
}
```

use it

```javascript
<ReferenceLine label={<ReferenceLabel  />} /> 
```
hope it can help you. Is there a way to make it stick to left or right? 

Basically making it act as a tooltip, its position would be depending on 
1. where the reference is located in the chart
2. the actual width of the label

-------------
also, are PRs welcome?
I can try implementing a `position: 'auto' ` > I can try implementing a position: 'auto'

That would be grand. I currently use vertical referencelines for annotation like: `Deploy x happened`, `Launch feature Y`, `Adwords campaign 1 started` to help us spot what caused trends. But if there are events close to each other they become unreadable.

Automatically shifting the labels vertically, or making them show only when hovering over the ReferenceLine would solve the problem for my use case, but I wouldn't know how to go about that.

PS, much love for recharts! It's the most delightful graphing environment i've ever experienced and i've tried, well, all of them :) does anyone know how to influence positioning of the ReferenceLine? I need mine to be in the middle of a Bar in a BarChart (same as ReferenceDot), instead it is positioned on the left side. Any help would be appreciated!! 
<img width="1082" alt="screen shot 2018-09-28 at 12 12 54" src="https://user-images.githubusercontent.com/31188583/46427111-cb73d300-c740-11e8-8fe3-646643a128be.png">
 > does anyone know how to influence positioning of the ReferenceLine? I need mine to be in the middle of a Bar in a BarChart (same as ReferenceDot), instead it is positioned on the left side. Any help would be appreciated!!

Same here. My ReferenceLine always aligned on the left of the bar. How can I put it to the center as shown in the example?

![image](https://user-images.githubusercontent.com/1003183/46988729-555a6d80-d13d-11e8-8f04-a8c262507f00.png)

  onClick åº”åœ¨ Pie ä¸Šï¼Œ PieChart æ‹¿ä¸åˆ° index ä¼šè®©é¼ æ ‡ä¸€è¿›å…¥ç»˜å›¾åŒºå°±æ— æ³•æ˜¾ç¤ºæ¿€æ´»çŠ¶æ€ï¼Œå®¹æ˜“è®©äººè¿·æƒ‘ã€‚  e.g.

`<YAxis strokeWidth={3} label={<h1>Test</h1>} />`

does not render a Test header if u search the dom element , u'll find the label  element existï¼Œ but u need to set it's x , y to show it.  please use svg not  html.

`<XAxis dataKey="name" label={<text><tspan x="260" y="360">hehe</tspan></text>}/>`

but we recommend to set lable like this when u need to add some style to label,    http://jsfiddle.net/huxiaoyun/x2m72age/3/

` <XAxis dataKey="name" label={{value:'hehe',stroke: 'red',fontSize:20,}}/>`


 @huxiaoyun Thank you for your example. How can configure the label to not be on top of the ticks?  Hi there, right now I would like to build a simple chart with barchart, what I want is when my mouse entered that exact bar (not the whole barchart), the color of that bar will be changed and the rest remain unchanged, is there any way I can do that?

Thanks so much!
  ## Do you want to request a feature or report a bug?
Bug

## What is the current behavior?
Customized label for BarChart has wrong position and with given data (x, y, width, height, etc.) it's not possible to set it in the horizontal center of bar. (It worked this way in recharts v0.20.5)

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/qbmg1567/).
http://jsfiddle.net/teuwcpcL/1/
It's example from recharts.org that has added label to one of the bars.

## What is the expected behavior?
In func arguments it either has x that centers it horizontally, or there is one more argument with width of bar to calculate middle on your own.

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
1.0.0-alpha.2, newest version of Chrome, Linux Mint.
It worked in v0.20.5
 Got the same problem with custom label horizontal positioning. Should center the position of the text e.g. textAnchor="middle".

```
const CustomLabel = ({
  x,
  y,
  value,
  fill,
  ...props
}) =>
  <text 
   x={x} 
   y={y}
   dy={-10}
   fill={fill}
   fontSize='1.2em'
   textAnchor="middle">
    {value}
  </text>
```
  The `StackedAreaChart` currently uses hard-coded colors.
It took me some time to figure out how to use a predefined colormap for automated coloring.

There's a very nice example in [BarChart.js](https://github.com/recharts/recharts/blob/master/demo/component/BarChart.js) using `d3-scale`.

Maybe it would be worth incorporating this into the examples?  ## Do you want to request a feature or report a bug?
Feature

## What is the current behavior?
Area is filled by one color, specified as a prop.

## What is the desired behavior?
Area could receive a string (e.g., `fill="fillColors"`) and extract the fill color from `data` (similar to how dataKey string extracts the data value).
  ## Do you want to request a feature or report a bug?
feature - if it doesn't already exist

## What is the current behavior?
The labels on the X-Axis are horizontal

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/qbmg1567/).

## What is the expected behavior?

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
    componentDidMount() {
        this.iterator = setInterval(() => {
            const newData = {name: defaultData.length, uv: this.mockData(), pv: this.mockData(), amt: this.mockData()}
            defaultData.push(newData);
            this.setState({
                data: defaultData
            });
        },1000)
    }ï¼›
write setInterval in componentDidMount and push newData in data, but The page is not newï¼›  Recharts have a mobile version, or you can only set inital scare to 1  
 render() {
        const {data} = this.props;

        const renderLegend = (props) => {
            const { payload } = props;
            const spaces = "    ";
            return (
                <ul>
                    {
                        payload.map((entry, index) => (
                            <li key={`item-${index}`}>
                                {entry.value}
                            </li>
                        ))
                    }
                </ul>
            );
        }


        return (
            <div className="card">
                <div className="card-block">
                    <h6>TOP {data.length} VEHICLES WITH MOST ALARMS</h6>
                    <ResponsiveContainer minHeight={500}>
                        <PieChart>
                            <Pie dataKey="ac" data={data}  nameKey="vehicleNumber" valueKey="ac"
                                  fill="#8884d8" label/>

                            <Legend content={renderLegend} layout='vertical' verticalAlign="middle" align="right"/>
                        </PieChart>
                    </ResponsiveContainer>
                </div>
            </div>
        )
    } @xile611 Thanks It is working now after updating the library.  I would like to know if there is a way to add **active** class/state/style to currently clicked/selected legend (without making a completely custom component that's passed via `content`).

Taking one of the examples - http://jsfiddle.net/z9orjuww/ - I would like to change the `pv` or `uv` font color on mouse enter/leave. 
   I got the latest release of recharts and the line chart onClick event does not work.  I tried changing the strokeWidth and that did not help. @mclarentgp Did you get it to work? I am facing the same issue. LineChart onClick works but not the Line onClick. Hi, I also got the same issue... For the time being will try to fix it with e.g. https://github.com/recharts/recharts/issues/261 thanks, will test it next week (and will report about the result).  Is this working yet? You can pass the onClick function to the activeDot attribute, like:

```jsx
<Line activeDot={{ onClick: console.log }} />
```  Hi Team,

As a recharts user, just want to edit the wiki to add my product/company to 'Who use recharts'. But get permission alert. 

Here's my product: HoopHubs.com 
Pages using recharts:
![screen shot 2017-07-20 at 4 19 34 pm](https://user-images.githubusercontent.com/3183116/28407609-5b36a8c6-6d67-11e7-9a38-b8736028b112.png)
![screen shot 2017-07-20 at 4 19 57 pm](https://user-images.githubusercontent.com/3183116/28407610-5b429212-6d67-11e7-86b9-cffffbcb480d.png)
 
Company name: æ— é”¡ç¯®åœˆç§‘æŠ€æœ‰é™å…¬å¸
logo is coming


 @xile611 It works, thanks :)  I m using recharts in my project.When using bar chart with brush it works perfect.
Current behaviour is the data is displayed within the selected bounds.
Is there a way to show the entire data cells but only highlight the data cells in the selected bounds and fade away the rest?
  In [this commit](https://github.com/recharts/recharts/commit/08c50dabecf4231f59f32a8c0ccc532976b4ce1f), I see that the labels were gotten rid of in the source code in a lot of places. I'm seeing some issues with this because now I can no longer create custom labels for axes, and the labels that are created look really bad. See your own example: http://recharts.org/#/en-US/examples/ComposedChartWithAxisLabels

<img width="543" alt="screen shot 2017-07-13 at 10 48 30 pm" src="https://user-images.githubusercontent.com/14845624/28199825-78032d48-681d-11e7-9ec7-031ca13322e4.png">

The default XAxis label overlaps with the axis ticks and the YAxis label looks even worse. Worse, there is no way to customize the label anymore. Please let me know what I can do or please fix this change. Thanks! Resolved: For anyone else who runs into this issue, axes now take a `Label` child that can be [formatted](https://github.com/recharts/recharts/blob/master/src/component/Label.js) much more nicely. Thanks @ardasahiner ... I'm having the same issue? Do you have an example on how can I format it? I've got resolved @ardasahiner. For future reference what I do is the following: 
```
<YAxis unit="LBs">
     <Label value="LBs" position="insideTopLeft" offset={10} />
</YAxis>
```

Thanks I'm struggling to format an Axis label to be rotated vertically. Any examples would be appreciated. ![](http://j4p.us/2s070G060T2x/Screen%20Shot%202017-08-01%20at%202.02.41%20AM.png) +1 @jpdevries  @jpdevries @juampick In case you haven't found a solution to this yet, here's what I came up with:
```
<YAxis>
    <Label angle={270} position='left' style={{ textAnchor: 'middle' }}>
        Vertical Label!
    </Label>
<YAxis>
``` @xile611 Setting `textAnchor="middle"` in @Germanika's example above doesn't work. I have to set the `style` as they did. Is this a bug?  Hello, can u add waht aruments are passed to callback functions in docs? How to use ReCharts Docs:

1. Don't use Rechart Docs.
2. Go to Github/issues and search for the issue you're having.

That's why there are so many Github issues, the docs are very incomplete. I'd submit a PR but it's easier to just complain.  ## Do you want to request a feature or report a bug?
bug
## What is the current behavior?
`<YAxis domain={['dataMin-0.5','dataMax+0.5']} tickCount={10} allowDecimals={false}/>`
Produces the following:
<img width="695" alt="screen shot 2017-07-11 at 7 53 44 pm" src="https://user-images.githubusercontent.com/20210402/28099718-f36cdc92-6672-11e7-95c2-d0e743cd9b83.png">

There are neither 10 ticks nor decimal-less tick values.

I managed to get somewhat correct behavior with:
`<YAxis domain={[170,187]} tickCount={10} allowDecimals={false}/>`
<img width="680" alt="screen shot 2017-07-11 at 8 00 31 pm" src="https://user-images.githubusercontent.com/20210402/28099927-153c1cf6-6674-11e7-8373-6bd3df9d6720.png">

As you can see, there are now decimal-less tick values but there are only 9 ticks, which is better than 8 from before but still not the 10 that we want.

Interestingly enough setting `domain={[170.2,187.2]}` breaks the allowDecimals prop again.

I managed to get correct behavior by completely taking out domain as a prop:
`<YAxis tickCount={10} allowDecimals={false}/>`
<img width="687" alt="screen shot 2017-07-11 at 7 54 44 pm" src="https://user-images.githubusercontent.com/20210402/28099963-460cf2c4-6674-11e7-9780-5881ba95364c.png">

However, my graph now looks ugly.

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/9y45ut13/).
Run the above code. Also I would use the jsfiddle but is anyone aware that the template doesn't render? Might be another issue to submit but maybe I'm missing how to use it?

## What is the expected behavior?
`<YAxis/>` should respect those props even if domain is set. 

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
1.0.0-alpha.2/Chrome and Safari. Unsure.
 I think I identified where the issue is. 

It's in `getNiceTickValues.js` from `recharts-scale` library. 

The following lines:
```
tickMin: Arithmetic.minus(middle, Arithmetic.multiply(belowCount, step)),
tickMax: Arithmetic.sum(middle, Arithmetic.multiply(upCount, step))
```
don't take into account of `allowDecimals` prop as far as I can tell, so we get integer steps but `tickMin` and `tickMax` may still be decimals. 

I suggest that `tickMin` and `tickMax` be converted to integers when `allowDecimals` is `true`, which should solve the decimal issue. I'll look into the `tickCount` issue soon. 
 I just think there is a small mistake since the operations are made inside of strings.  
Have you tried `domain={[dataMin - 0.5, dataMax + 0.5]}` ?   Yes, and the result is

```
Uncaught (in promise) ReferenceError: dataMin is not defined
``` Ok, well it seems like your problem is not related to recharts. Maybe you can show some code about this specific error for further help. How can you say that after I've basically narrowed down the cause in my first comment? Did you even try to replicate my bug with any test data? 

Here is a JSFiddle that clearly demonstrates the problem I am referring to in this issue:

http://jsfiddle.net/x1yoboc7/829/ If you use numbers inside your array for the domain, it works perfectly [fine](http://jsfiddle.net/3v6ecrgc/). As soon as you put strings, it indeed causes a weird behaviour since the Y values are numbers. Maybe I am not understanding you well, let me know if this helps.  

By the way, to use variables like dataMin and dataMax, make sure those are actually numbers before passing them to the array and do not put them inside quotes as those will be interpreted as the actual strings "dataMin" and "dataMax". 1. You are incorrect. Recharts can support string based domains for `XAxis` and `YAxis`. The creator has stated it here: https://github.com/recharts/recharts/issues/123

> XAxis and YAxis can support domain like ['dataMin - 100', 'dataMax + 50'].

2. Have you actually read my issue? What you're proposing is literally what I did for my second workaround but if you read what i wrote you'd see that I still have issues with that. 

> As you can see, there are now decimal-less tick values but there are only 9 ticks, which is better than 8 from before but still not the 10 that we want.

I understand variable assignment - was only doing it to show you that your suggestion didn't work.  I have run into this same bug when attempting to use strings with decimal values. @al3x-huang is correct about string usage here. 

Here is an example from the API docs: http://recharts.org/#/en-US/api/YAxis
```domainArrayoptional
Specify the domain of axis when the axis is a number axis. The length of domain should be 2, and we will validate the values in domain. And each element in the array can be a number, 'auto', 'dataMin', 'dataMax' or string like 'dataMin - 20', 'dataMax + 100'. If any element of domain is set to be 'auto', comprehensible scale ticks will be calculated, and the final domain of axis is generated by the ticks.
DEFAULT: [0, 'auto']
FORMAT:
<YAxis type="number" domain={['dataMin', 'dataMax']} />
<YAxis type="number" domain={[0, 'dataMax']} />
<YAxis type="number" domain={['auto', 'auto']} />
<YAxis type="number" domain={[0, 'dataMax + 1000']} />
<YAxis type="number" domain={['dataMin - 100', 'dataMax + 100']} />
```

From the API docs, you would expect `<YAxis type="number" domain={['dataMin - 0.1', 'dataMax + 0.1']} />` to work. @al3x-huang It is indeed supported, my mistake, I thought it was a local variable you had defined. It is even in the API [documentation](http://recharts.org/#/en-US/api/YAxis) as mentioned above.

So, it is true that having a minimum value that is a decimal number would result in having decimal numbers as your ticks. Here is a temporary workaround : 

``` javascript
const values = data.map(obj => { return obj.pv; });
const min = Math.min(...values);
const max = Math.max(...values);

const domain = [Math.floor(min / 100) * 100 - 100, Math.ceil(max / 100) * 100 + 100];
```
Sorry for the misunderstanding. No problem, but this still doesn't solve the fact that it doesn't respect `tickCount` I'm getting a similar problem where tickCount is not respected when I set a custom domain on a 'number' type axis.  Here's my example:

<XAxis tickCount={10} type="number" domain={['dataMin', 'dataMax']} 

But my chart only has 4 ticks showing. <YAxis dataKey={'data'} type="number"  domain={[1000000,1141999]} /> ..yaxis not displaying when the datamin and datamax value is greater than 10 lakhs ..how to solve this...  Hi

I did a npm update, but when webpack rebuilt my project appears this log below.

```
ERROR in ./~/recharts/es6/util/ChartUtils.js
Module not found: Error: Can't resolve 'recharts-scale' in '.../node_modules/recharts/es6/util'
```
version => 1.0.0-alpha.2
  Hi,

I am trying to make 9 box plot graph using scatter graph in react js. 
I want to fix the value of X and Y axis. for example the value of X axis labels should be 1.2, 2.8 , 4.4 , 6 and similarly form Y axis. I don't want to derive these value from any column.
How can we do that?

Thanks a lot. 
 If by label you mean the axis ticks, here's how you can do it:  
``` javascript
<XAxis ticks={[1.2, 2.8, 4.4, 6]} />
``` Hi @Amthieu 
Thanks for your response.
For example lets take this example from there official website.

http://jsfiddle.net/zdhvvt2e/?utm_source=website&utm_medium=embed&utm_campaign=zdhvvt2e

In this I was X axis to have these points 100,120,140,160,180. 
I tried using ticks but when i apply it the whole graph disappears.

I know I am missing something. But don't know what.

Thanks once again :) The example is just missing `type="number"` in order to display the ticks you want. You can also specify a domain to make it look better. Here is what I used for your values :  
``` javascript
<XAxis  
    dataKey={'x'}  
    name='stature'  
    unit='cm'  
    ticks={[100, 120, 140, 160, 180]}  
    domain={[80, 200]}  
    type="number"  
/>
``` @Amthieu Thanks a lot :) It worked :D I'm using unit="U$" and getting only values, without U$
`<YAxis unit='U$'/>`

 I think it is important to note that you might have to set an interval between ticks when defining them as a fixed set. Could help mentioning.  ## Do you want to request a feature or report a bug?
Bug

## What is the current behavior?
Adding `id` attribute to `<ResponsiveContainer>` doesn't produce a component with that attribute.
  
## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal 
`<ResponsiveContainer id="container"/>` and setting the style `#container{background-color:red}` doesn't produce a svg with the red background color. Further inspection shows that the component doesn't pass along the ID attribute

## What is the expected behavior?
A `<ResponsiveContainer/>` with the set ID attribute.  I want to using Line in a BarChart. I tried but no luck. You can have a look at: http://jsfiddle.net/0c6nx13n/ @xile611 : yes, I did it. But not work, could you please have a look at my example and give to me your feedback http://jsfiddle.net/0c6nx13n/3/ ? Seem I did any wrongs. @xile611 : thank you :)  ## Do you want to request a feature or report a bug?
Bug Report

## What is the current behavior?
For horizontal bar charts, the tooltip stops rendering when the mouse moves down past ~1000 pixels from the top of the chart.

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/9y45ut13/).
https://jsfiddle.net/h03zu2Lf/3/

The tooltip does not render for the lower entries in this chart. Change the ResponsiveContainer's height to ~250px. Then the tooltip does render for all entries in the chart.

## What is the expected behavior?
Tooltip should render for all bars in this bar chart regardless of how far down it is in the chart.

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
* v1.0.0-alpha.1
* Chrome under MacOS
* Unsure  ## Do you want to request a feature or report a bug?

Report a bug

## What is the current behavior?

In any versions later than v0.22.4, the tooltip renders above the graph.

<img width="333" alt="screen shot 2017-07-07 at 5 00 28 pm" src="https://user-images.githubusercontent.com/5431793/27980726-af272702-6336-11e7-9e6f-84b4661ebbc1.png">

In console, the nesting of the tooltip div seems to have moved

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/9y45ut13/).


        <Tooltip
          cursor={{ stroke: 'light grey', strokeWidth: 2 }}
          labelFormatter={d => moment(d).format('MM/DD')}
        />


## What is the expected behavior?
Tooltip cursor should be behind the bars of the chart.

<img width="437" alt="screen shot 2017-07-07 at 5 07 15 pm" src="https://user-images.githubusercontent.com/5431793/27980736-c28117f4-6336-11e7-9c7e-376ce120408d.png">

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?

v1.0.0-alpha.0 and v1.0.0-alpha.1, Mac OS 10.12 affected, works in versions before this
 Edit: actually, Tooltip on top works, thank you for the help! :)

@xile611 Thanks for the response - I think that I do have Tooltip after bar though - is there something that I'm missing?

```
<BarChart width={graphWidth} height={graphHeight} margin={{ top: 20 }}>
        <XAxis
          dataKey='day'
          padding={{left: 30, right: 30}}
          tickFormatter={day => moment(day).format('MM/DD')}
        />
        <YAxis
          domain={[0, 'auto']}
        />
        {datakeys.map((entry, index) => {
          return (
            <Bar
              dataKey={entry}
              fill={chartColors[barcolors[index]]}
              minPointSize={5}
            />
          );
        })}
        <Legend />
        <Tooltip
          cursor={{ stroke: 'light grey', strokeWidth: 2 }}
          labelFormatter={d => moment(d).format('MM/DD')}
        />
      </BarChart>
```  Hi,
I have problem with areaChart. I can't show few small  values among number of large ones.
For example: I have values [0, 0, 4522, 9500, 9, 0, 0, 0] 9 and 0 values are at the same level  at this chart, so I can't notice the difference.
How can  I add some visual difference between small values?
Thanks in advance  ![chart](https://user-images.githubusercontent.com/11960153/27906810-b7e239e8-624d-11e7-8a21-59f7421ac0d3.png)

Good afternoon!
Is this possible?
Can you suggest what type of data do I need and the type of graphics?  ## Do you want to request a feature or report a bug?

Bug

## What is the current behavior?

When I move my mouse over a bar chart, everything gets re-rendered for every little move, even if i'm not hovering a bar showing a tooltip.
I checked on a custom legend if nextProps were equals to current props, an it was. But the shallow equality returned false, which is a bug / problem in my opinion.

I didn't find any open issue about this.

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/9y45ut13/).

Sorry, couldn't have Perf working in js fiddle.

## What is the expected behavior?

For every component composing the Chart, and the chart itself, they shouldn't be re rendered if their props don't change.

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?

Recharts 1.0.0-alpha.1
  1. Can I change font size of the legend and tooltip of Bar Chart?
2. Can I change alignment of XAxis dataKey? default is horizontal, can I change to Diagonal?
3. Can I filter tooltip which value equal to 0 will not showing in the tooltip?

Thanks textAnchor doesn't exist on the XAxis.  ## Do you want to request a feature or report a bug?

This is possibly a bug.

## What is the current behavior?

Just visit http://recharts.org/#/en-US/examples/TwoSimplePieChart

![image](https://user-images.githubusercontent.com/651208/27813311-a39dddae-60a7-11e7-92f5-48999bf4130f.png)

Labels around pie chart are missing.

## What is the expected behavior?

The pie chart should show labels. Seems a bug of jsfiddle? 

![image](https://user-images.githubusercontent.com/651208/27813369-066cd8f4-60a8-11e7-8927-0d9592ebd182.png)
 I've re-forked official React JSFiddle, the same issue: https://jsfiddle.net/fzcfmrj8/1/  Same with me. Using this example on my app has the same affect, no labels. What should they look like? Same issue. Upgraded to latest and this occurred. Last tested version was 0.15.2 and labels were working. Had the same issue, reverted to 0.15.2 and labels work fine now. The jsfiddle official example doesn't seem to be updated  I need to be able to trigger a mouse event from the entire vertical bar of a Stacked Bar Chart.  

Currently, if you add `onMouseEnter` on on `<Bar ...` it triggers when you mouse over the corresponding colour on each bar (which makes sense), but isn't what I need.

When you add a `<Tooltip ...` it is able to trigger when on a single bar, which is what I need, but i don't need the Recharts tooltip.  I need to be able to call a function that triggers state within my React component.  I've played around with trying to manipulate the `Tooltip` to do what I want, but I can't send down the `active` state (and the `label` which i was planning on using to differentiate between which bar was being hovered over) unless I sent it through the `Tooltips`'s `content` prop as a new component.  This doesn't work because you end up leaving the original component and therefor don't have access to its state.

### My code:
```
        <BarChart
          width={205}
          height={275}
          barCategoryGap="25%"
          data={graphData}
          margin={{ top: 20, right: 15, left: 0, bottom: 5 }}
        >
          <XAxis
            dataKey="name"
            tickLine={false}
            tick={<XAxisTick />}
            stroke={color.grey400}
          />
          <Bar
            dataKey="project"
            stackId="a"
            fill={color.blueMedium}
            isAnimationActive={false}
            label={<BarLabel currency={currencySymbol} />}
            onMouseEnter={this.handleShowDivA}
            onMouseLeave={this.handleHideDivA}
          />
          <Bar
            dataKey="reccuring"
            stackId="a"
            fill={color.blueDark}
            isAnimationActive={false}
            onMouseEnter={this.handleShowDivB}
            onMouseLeave={this.handleHideDivB}
          />
        </BarChart>
```

### What currently happens when using `onMouseEnter` etc:
![current mouse events](https://user-images.githubusercontent.com/5469814/27778530-e846c1d6-5ffe-11e7-8cca-db59636d8c35.jpg)


### What I need to happen:
![desired mouse events](https://user-images.githubusercontent.com/5469814/27778548-0baa7ac8-5fff-11e7-8acd-72ac0768fdfc.jpg)

Does anyone know how to do this? Is it even possible? @xile611 I've updated the JS Fiddle to should you want I mean.  http://jsfiddle.net/cbnsL6vc/1/

Hover over a single bar and switch between the colours.  You'll see in console that the console.log changes.  Now try hovering over each green portion of multiple bars, then hover over the purple portion of multiple bars.  Every time the green portion is hovered over on every single bar it calls one console.log, and every time the purple portion is hovered over on every single bar it calls the other console log.  

What I need is a mouse even for each vertical bar no matter the colour.  I need a mouse even for `Page A` bar, `Page B` bar, etc.  

Any ideas? @corinnebrady did you resolved this? @neu5 No I never did.  Honestly, I ended up building this chart myself from scratch with D3 instead.  @corinnebrady I try to understand what problem you had, is something like that a solution?
https://codesandbox.io/s/n15x65pw4j @corinnebrady I'm facing the same problem, have been trying for a whole day to change the stacked bar.

@neu and @xile611, The codepen (http://jsfiddle.net/fm1qLLsz/) is broken. Anyway, how would you get only the active bar on mouseover and change its style? @yuriploc did you check out my codesandbox.io?
https://codesandbox.io/s/n15x65pw4j @neu5 Yes, I checked your code, it's not useful for the problem I need to solve. The object is read-only and has no style attrs.

The solution I had was to use the `Cell` and vanilla JS. The problem is that the stacked bar renders the bottom bars, then it renders the top bars, and we can't access _a_ stack as an element. @yuriploc yup, unfortunately that's the way it's implemented.  Hi, 
First off, awesome project. Love how seamless and reusable the components are.

I wanted to see if it was possible to shade _vertical_ sections of an area chart with different colors. Something like this:
![image](https://user-images.githubusercontent.com/406115/27671546-1e3045d8-5cb2-11e7-8e0f-fa771e4aa7c9.png)

I coudn't see anything similar in the examples. Any idea if this is possible? You would have to render each colour as a separate <Area/> inside <AreaChart/> @xile611 give me pls example, thx. Here's the example: http://recharts.org/api/#/en-US/api/AreaChart @jgentes is there a way to use gradient fill with pies? @jgentes got that working, using `fill={url(#colorPv)` props on `PieChart`.
It may be obvious, but not familiar with SVG so it took me some time.
Thanks!

Next question, but unrelated to this thread: Is there a way to change the size of a pie cut?
E.g: I want my pie to look like this 
![screen shot 2017-11-13 at 1 58 19 pm](https://user-images.githubusercontent.com/5843816/32751417-ba51de84-c87a-11e7-9584-00c79ca1165a.png)

when it currently look like this:
![screen shot 2017-11-13 at 1 58 47 pm](https://user-images.githubusercontent.com/5843816/32751444-c9b18c1c-c87a-11e7-8415-94286f0f3b98.png)
 I am curious about how you fixed the problem. Is here any example?  I would like to add my own custom tooltip ( popup which a list of links or icons, so a user can click on it to perform some actions). This popup would show when a user hovers over the pie sector or bar in the chart. I wonder if anyone has done it or someone has any idea how to go about it? Thanks in advance.  Does this help?
http://recharts.org/#/en-US/examples/CustomContentOfTooltip  my data is look like this
{name: "xxxx", percentage:30}
and I use nameKey="name" and dataKey="percentage"

and tooltip in pie chart show "xxxx : 30"

I want to add % to the Tooltip so it should be "xxxx : 30%"

how can I do that?

Thanks in advance @xile611 

do you have any example of {someFormatterFunction}?

Thanks @nuugut 

I have this simple example of the formatter:

`const formatTooltip = value => `${value} ${unit}`;`

Then into my chart component:

`<Tooltip formatter={formatTooltip} ... />`

(I used the "..." for the other props)  ## Do you want to request a feature or report a bug?
Bug

## What is the current behavior?
When I create **PieChart** with one **Pie** with custom labels everything works great (animation, labels)
But when I add another Pie to the same **PieChart** , there is no animation and no labels

**Working example**
![image](https://user-images.githubusercontent.com/3399021/27537077-7507af00-5a72-11e7-8656-0fd21f1a5577.png)

**Multiple Pies**
![image](https://user-images.githubusercontent.com/3399021/27537091-83bf71cc-5a72-11e7-857b-d7339033d383.png)

**Code**
>         import { PieChart as Chart, Pie, Cell } from 'recharts'
....
>         return isLoading ? null : (
>             <Chart width={width} height={width/2.5}>
>                 {_.map(pies , (pie, index) => (
>                     <Pie
>                         cx={15 + (index * 33) + '%'} 
>                         cy={150} 
>                         data={pie.data} 
>                         dataKey="value"
>                         isAnimationActive={true}
>                         key={pie.type}
>                         labelLine={true}
>                         label={this._label}
>                         outerRadius="50%"
>                     >
>                         {_.map(pie.products, product => (
>                             <Cell 
>                                 key={'t' + pie.type + 'p' + product} 
>                                 fill={this._makeColor('t' + pie.type + 'p' + product)}
>                             />
>                         ))}
>                     </Pie>
>                 ))}
>             </Chart>
>         )

In second example **label** function is not even executed

**Data example**
https://pastebin.com/RRSx9G3V

## What is the expected behavior?
To show labels and animation too with multiple Pies

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
Recharts: 1.0.0-alpha.1
Multiple browsers tried on Windows 10
 @tonoslav Doesn't work and for me, but only if a Pie have descendants a Cell.
But I need a Cell for coloring Sectors, what is solution @arcthur ? @xile611 as @AlexMold said, I need that Cells too for coloring sectors I had a similar problem in storybook's view.
But in normal build environment, the label is displayed.
so, the problem may be in the difference of build environment. Potentially can be related to #1083 . In order to confirm it, once can try the given example with `isAnimationActive={false}` prop and check if the labels still fail.  ## Do you want to request a feature or report a bug?
feature

## What is the current behavior?

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/9y45ut13/).

## What is the expected behavior?

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
 need help here !!! @xile611  @xile611 only works if you are willing to add `!important` to overwrite inline styles.  ## Do you want to request a feature or report a bug?
Bug

## What is the current behavior?
Tooltip render under chart

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/9y45ut13/).
see http://imgur.com/GsbSTEQ

## What is the expected behavior?
Tooltip over bar chart

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
Latest version recharts "0.21.2-0", mac, chrome
  Sorry jsfiddle template doesn't work for me, Chrome + Mac.
There are two components on image (two table rows) with bar chart and overlap occurs as seen on image.
If there is working template I'll make a demo Thanks a lot, here is a demo:
https://jsfiddle.net/x1yoboc7/818/

![image](https://user-images.githubusercontent.com/1044/28018169-dfe946ea-6584-11e7-943d-785b55c74c0b.png)

This happens only for small height. If you hover top chart you'll the tooltip is under second chart.

Thanks!
  I have the following code in my chart :

`<XAxis label={<Hello />} />`

My customized label is this :  

    var Hello = React.createClass({
      render: function() {
        return <div>Hello!</div>;
      }
    });

When I run this code the x-axis shows with the ticks and tick values, but there is no x-axis label.

If I instead use a plain string :  

 `<XAxis label="Hello" />`

the x-axis label shows but it overlaps the tick values.

I just want an x-axis label that does not overlap the ticks.
 Same Issues here Same here. Doesn't work for me either. Same here. I have exact same issue. @xile611 Thanks - you seem to be right, that solves the problem.   My current implementation of the PieChart component works, but throws the following error in the console.

> Failed prop type: The prop `dataKey` is marked as required in `Pie`, but its value is `undefined`.     in Pie (created by PieChartContainer)

I've bumped my Recharts version to the latest build of Recharts 1.0.0.alpha.1 which allowed the Pie chart to render, but didn't suppress the error. 

Is this working as intended?

See a snippet of my implementation below...

    ```
        <PieChart onMouseEnter={this.onPieEnter}>
              <Pie data={this.props.data} labelLine={false} label={renderCustomizedLabel} innerRadius={60} outerRadius={120} fill="#8884d8">
                { this.props.data.map((entry, index) => <Cell key={index} fill={this.COLORS[index % this.COLORS.length]}/>) }
              </Pie>
              <Tooltip/>
              <Legend />
            </PieChart>
``` you should  add prop 'dataKey' in 'Pie' component.

example

        <PieChart width={800} height={400} >
          <Pie dataKey="value" data={data} cx={250} cy={200} innerRadius={112} outerRadius={122} >
            {
              data.map((entry, index) => <Cell key={index} fill={COLORS[index % COLORS.length]}/>)
            }
          </Pie>
          <Tooltip/>
        </PieChart> This still doesn't work for me. The official documentation says to add `nameKey` and `valueKey` to the `Pie` component, but doing so has no effect. When I put my value data key under the `dataKey` prop it still does not render. Here's my code:

```
const data = [{ name: 'Last 30', value: 2200 }, { name: 'Last 7', value: 977 }, { name: 'Today', value: 625 }]

<PieChart height={250}>
    <Pie data={data} cx="50%" cy="50%" outerRadius={50} fill="#6179b6" dataKey="value" />
    <Tooltip />
</PieChart>
``` Please note that as of today, the Recharts website doesn't mention neither `dataKey` nor `nameKey`/`valueKey`:

![image](https://user-images.githubusercontent.com/820758/28491721-2c0d2562-6ef6-11e7-9d70-d7091c395637.png)

![image](https://user-images.githubusercontent.com/820758/28491725-4bd5676a-6ef6-11e7-8152-846873df21d4.png)
 It looks like caused by the label `ResponsiveContainer` or `PieChart` is no height.
I have a same problem, then I give a height ,it works.
Your can have a try. @chuyinweilai That did fix my problem, thanks! @chrisjpatty could you tell me how to fix the problem, I met the same troubleã€‚ Thanks very much!
`
render() {

        return (

            <div className="chart piechart">

                <PieChart width={800} height={400}>

                    <Pie data={data01} cx={200} cy={200} outerRadius={60} fill="#8884d8"/>

                    <Pie data={data02} cx={200} cy={200} innerRadius={70} outerRadius={90} fill="#82ca9d" label/>

                </PieChart>

            </div>

        );

    }

`
![image](https://user-images.githubusercontent.com/16200931/29852451-b3582db6-8d6c-11e7-8670-d5d25621ee31.png)
 @xile611 

adding prop 'dataKey'='value in 'Pie' component solved the problem, please update the following example. Thanks

http://recharts.org/#/en-US/examples/CustomActiveShapePieChart  Following the example or recharts.org, I'm passing an array of objects to a LineChart component. This seems to work visually, but throws the following error in the console.
`Warning: Failed prop type: Invalid prop `data` of type `object` supplied to `LineChart`, expected an array.  `  

Is this working as intended?
 Sorry, didn't understand the reply. I am facing the same error in console. What should I do to avoid this? @xnog The `data` property must be an array of objects, like shown in the examples:

```javascript
const data = [
      {name: 'Page A', uv: 4000, pv: 2400, amt: 2400},
      {name: 'Page B', uv: 3000, pv: 1398, amt: 2210},
      {name: 'Page C', uv: 2000, pv: 9800, amt: 2290},
      {name: 'Page D', uv: 2780, pv: 3908, amt: 2000},
      {name: 'Page E', uv: 1890, pv: 4800, amt: 2181},
      {name: 'Page F', uv: 2390, pv: 3800, amt: 2500},
      {name: 'Page G', uv: 3490, pv: 4300, amt: 2100},
];
...
<BarChart width={600} height={300} data={data}>
  ....
```

Check what type your `data` property is. It's a list, but i always get the error in the console and works. Maybe is something with Mobx. @xnog You need to invoke .slice() on the observable mobx array. Internally an observable array in mobx is actually an object - to get the raw array you should create a shallow copy by using .slice. 
See [https://mobx.js.org/refguide/array.html#observable-arrays](https://mobx.js.org/refguide/array.html#observable-arrays)

> Bear in mind however that Array.isArray(observable([])) will yield false, so whenever you need to pass an observable array to an external library, it is a good idea to create a shallow copy before passing it to other libraries or built-in functions (which is good practice anyway) by using array.slice(). In other words, Array.isArray(observable([]).slice()) will yield true. Just add a slice() call to your data as in:

data: {this.props.myData.myarray.slice()}    I have some JSON having 4474 objects contained within an array which looks like:

 ```
data: [
  {
    "T": "2017-02-04 14:16:51",
    "Min": 0,
    "Max": 0,
    "Average": 0
  },
  {
    "T": "2017-03-27 14:51:23",
    "Min": 0,
    "Max": 0,
    "Average": 0
  },
  {
    "T": "2017-03-27 14:53:23",
    "Min": 0,
    "Max": "1,7",
    "Average": "0,1"
  },
  {
    "T": "2017-03-27 15:23:23",
    "Min": "1,6",
    "Max": "1,6",
    "Average": "1,6"
  },
............
............4473,
{
    "T": "2017-05-05 14:16:51",
    "Min": "1,3",
    "Max": "1,3",
    "Average": "1,3"
  }
];


```

I am trying to drawa line chart with T as X axis and Max as Y axis. I have written some code which looks like below:

```

let da = data.data;
let as = d3.extent(da, item => Parse(item.T)); // [Sat Feb 04 2017 14:16:51 GMT+0100 (Romance Standard Time), Fri May 05 2017 14:16:51 GMT+0200 (Romance Daylight Time)]
let bs =  d3.extent(da, item => item.Max); //  [0,17]

<LineChart width={1100} height={650} data={da}
            margin={{top: 5, right: 30, left: 20, bottom: 5}}>
         <XAxis datakey="T" scale={"time"} domain={ as } allowDataOverflowBoolean={true}/>
         <YAxis datakey="Max" scale={"linear"} type="number" domain={bs} allowDataOverflowBoolean={true}/>
        <CartesianGrid strokeDasharray="3 3"/>
         <Tooltip/>
        <Legend />
       <Line type="linear" dataKey="Max" stroke="#8884d8" activeDot={{r: 8}}/>
</LineChart>
```

When I assign **as** to domain for XAxis component, it logs **domain:
Array[4474]** instead of **[Sat Feb 04 2017 14:16:51 GMT+0100 (Romance Standard Time), Fri May 05 2017 14:16:51 GMT+0200 (Romance Daylight Time)]**

![image](https://user-images.githubusercontent.com/10049692/27256855-53a09170-53c3-11e7-9f54-08182e0ee317.png)

Do anyone what the issue is?




  i use the 1.0.0-alpha.1, and when i draw the scatter chart, the tooltip is not working well.

when mouseenter the dot, the tooltip is shown, and it also shows two lines to point the dot, 
but when mouse touches these lines and still inside the dot, the tooltip disappears
i think it is a small bug     ## Do you want to request a feature or report a bug?
Bug

## What is the current behavior?
ReferenceLine's label is rendering in the center of the chart, as opposed to above it or beside it.

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/9y45ut13/).
See example on the official site: [http://recharts.org/#/en-US/examples/LineChartWithReferenceLines](url)

## What is the expected behavior?
ReferenceLine's label should render close to the ReferenceLine itself

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
Latest version (v1.0.0-alpha.0)

I see in the example it is busted, but on this link it seems to be fine: [http://recharts.org/#/en-US/api/ReferenceLine](url)
 This seems to be an issue with the X and YAxis components on `label` prop as well. Please check this link. Let me know how to resolve it.
http://jsfiddle.net/ckumaresanmba/ar5j5Lye/ Have the same problem too same issue  I can confirm this is a problem in Reference Line (using Responsive Container if that matters).
The label is not inheriting the coordinates from the line or something so it ends up in the middle of the chart.  Hi

I have an issue with the tickLine attribute in a line graph:
I'm adding tickLine='false' to the x axis. but then getting 'invalid prop tickLine supplied to XAxis'?

  
 Possibly related to https://github.com/recharts/recharts/issues/717 This is extremely dissapointing. Version "1.0.0-alpha.0" should not have been released as the latest release if the entire pie charts do not work. Which version should we switch down to to get pie charts working again?  yay! :)  Hi, I am looking at the [StackedBarChart example](http://recharts.org/#/en-US/examples/StackedBarChart) but I need to write the total value from the stacks above each bar.
Like using a common label on the higher part of the chart.
How can I accomplish this?

Thanks,
Alessandro  I simply want to change the color of the text in the label but i don't know with property to use..

for example if I want to use a white color for the font in the label I am trying this:

```
const whiteLabel = ({ x, y, stroke, value }) => {
  return (
    <div style={{ color: '#FFFFFF' }}>
      <text x={x} y={y} dy={-4} fill={stroke} fontSize={10} textAnchor="middle">{value}</text>);
    </div>
  );
};
```

which is WRONG..

How to fix this?

Thanks, Alessandro Can someone explain with example  @xile611 @arcthur @evilucifero @jasonHzq @techniq @McMenemy @supersteves @jochenberger 
Hi!  I am encountering an odd error... 

I am currently using a bar chart.  I started out by setting the data to a test variable I created within the local file, and everything is working beautifully.  However, I updated the test variable to a state variable that I set using getInfo() so I can use real data from my database.  

At this point, the chart still "renders" in that when I mouseover, I can still see the tooltip which shows that the correct data is being used.  However, the actual bars themselves in the bar chart are no longer rendering (so I was basically mousing over blank space to see the tool tips).  Do you know what this is about?

Thank you!

## Do you want to request a feature or report a bug?

## What is the current behavior?

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/9y45ut13/).

## What is the expected behavior?

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
 Hi @xile611, I've attached a screenshot of the bar chart when it does work with the local data (i.e. "dataMonths"), and another of what it looks like when I pull in data to a state variable (i.e. this.state.dataMonths) using loadInfo() and  I've also checked and the correct data is being pulled in.  From the tooltip, you can also confirm that it is using the correct data and the correct number of bars, except the bars themselves (and the y-axis numbers) are not visible.  

![screen shot 2017-05-31 at 4 57 21 pm](https://cloud.githubusercontent.com/assets/9296896/26667934/576a3924-465c-11e7-8477-4ccf2da85465.png)

![screen shot 2017-05-31 at 11 54 18 pm](https://cloud.githubusercontent.com/assets/9296896/26667970/830c3f28-465c-11e7-83dc-2205e83a7b01.png)
  ## request a feature

## What is the current behavior?
I am making a chart with neither XAxis nor YAxis. The chart displays Y domain as [0, max]. Since the differences between values are small the chart looks like it was almost a straight line. I would like to be able to change the Y domain, but the only way to do it is to add YAxis, which completely destroys my layout. I have overcame this problem by subtracting the minimal value from all the values, but it is too cumbersome. It has to be easier way, without interfering with the data.

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo 
I get:
![chart](https://cloud.githubusercontent.com/assets/423060/26640998/9f6f05ac-4629-11e7-876c-1eaf0bc9db33.png)

## What is the expected behavior?
I want to have:
![chart](https://cloud.githubusercontent.com/assets/423060/26640701/bda34bd8-4628-11e7-9cb6-4937398b4171.png)

## Questions, in case I missed something
- Is it possible, to add YAxis with domain prop, but not drawing the Axis, and not taking space for it?
- Is there any other way to change Ydomain boundary values? Perhaps somehow from the LineChart level? Please tell me it wasn't in API doc on http://recharts.org/#/en-US/api/YAxis yesterday, otherwise I must be blind. ;)  I got an error `iteratee is not a function` when trying the sample snippet on Recharts homepage.

```jsx
      <LineChart width={500} height={300} data={data}>
        <XAxis dataKey="name" />
        <YAxis />
        <CartesianGrid stroke="#eee" strokeDasharray="5 5" />
        <Line type="monotone" dataKey="uv" stroke="#8884d8" />
        <Line type="monotone" dataKey="pv" stroke="#82ca9d" />
      </LineChart>
```

![screenshot from 2017-05-29 13-57-47](https://cloud.githubusercontent.com/assets/172503/26547545/2ff705d8-4478-11e7-97b3-4088226c104b.png)

I did check [Lodash's docs](https://lodash.com/docs/4.17.4#sortBy) but apparently passing a single function didn't work in this case, but an array of iteratees did. Came across this same issue and this PR fixes it. Please merge it. @xile611 Just tested with recharts@1.0.0.alpha-4 and the problem gone. It's weird because as I said in the first comment, I checked with Lodash's docs and apparently it's possible to pass a single function into `sortBy()`. Lodash's version at that time was 4.17.4 and it seems there is no newer version since then. Seems to be fine now  Current behaviour: When defining multiple data sets for a ScatterChart, all of them share the same x-axis and y-axis.

Feature request:  I need to be able to define multiple y-axes. Each data set should have its own y-axis. All the y-axes should appear at the left-hand side of the chart. Each y-axis should be drawn in the colour of the dataset (the same as scatterProps.fill). The x-axis should be shared by all the datasets.
  This is a feature request

It would be nice if the charts had a zoom and pan feature (per axis).
If there is a way to achieve this, please let me know. Otherwise, can you think of a "creative way" to add this in? Or if you give me a few pointers I might fork and try to add it in

Thanks
 Also interested in this also interested Also Interested in this Interested too +1 Oh, now I see that Brush does the job. So I dont think this feature is really necessary. @matepaiva What is Brush? Is it component in rechart or configuration in component ? If you are still interested in a smoothly way to **zoom** the graph, here's the solution

> 1. update the Axis padding style with the animation
> OR
> 1. update the Axis Domain with the animation

Here's the example of update Axis Padding

jsfiddle : http://jsfiddle.net/udrq0h2d/
screen gif demo:
![recharts-zoom-in-out-example](https://user-images.githubusercontent.com/2560096/32661383-0dbba4ca-c627-11e7-8345-5083a37b7e99.gif)
 > Oh, now I see that Brush does the job. So I dont think this feature is really necessary.

what is that? I don't actually remember, but I think this is it: http://recharts.org/en-US/api/Brush @golestanirad   ## Do you want to request a feature or report a bug?
- Report a bug

## What is the current behavior?
- Labels are displaying over dataKey

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/9y45ut13/).
- Create chart with XAxis Label and/or YAxis Label
- http://jsfiddle.net/6sp2ejx6/?utm_source=website&utm_medium=embed&utm_campaign=6sp2ejx6
- screenshot: http://i.imgur.com/NIfXH3Q.png

## What is the expected behavior?
- Labels should not display over dataKey

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
- Recharts 1.0.0-alpha.0
- os: Ubuntu 16.04.2 LTS
- browser: Firefox 53.0.2 (64-bit)
- browser: Google Chrome Version 58.0.3029.110 (64-bit) @xile611 This works perfectly. Thank you.  ## Do you want to request a feature or report a bug?

Feature

## What is the current behavior?

There does not seem to be an option to specify an active fill for points on a ScatterPlot during mouseOver.

## What is the expected behavior?

Way to specify active fill for points.

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?

0.22.4
  Hello i am new with this ,
```
<LineChart width={600} height={300} data={data}
            margin={{ top: 5, right: 30, left: 20, bottom: 5 }}>
                        <XAxis dataKey="cycle" interval={50} type="number" domain={['dataMin', 'auto']} />/>
                        <YAxis tickSize={10} ticks={[0.05, 0.1, 0.15, 0.2, 0.25, 0.3, 0.35]} />
                        <CartesianGrid strokeDasharray="3 3" />
                        <Tooltip />
                        <Legend />
                        <Line type="monotone" dataKey="max" stroke="#8884d8" />
                        <Line type="monotone" dataKey="avg" stroke="#82ca9d" />
 </LineChart>
```
First using for YAxis: 
using tickSize=10 do not show all ticks it show only 6 of them in this example it show
> 0.05, 0.1, 0.15, 0.2, 0.25, 0.35
Expected
> 0.05, 0.1, 0.15, 0.2, 0.25,0.30, 0.35
Why this does not work?

Second for XAxis 
in my data the min cycle is 100, how make it so the tick will go something like this
>100,150,200,250,300,350........etc

what am i missing? i cannot get it.  Thanks but like i said 
i expect get  > 0.05, 0.1, 0.15, 0.2, 0.25, 0.3, 0.35 but i getting > 0.05, 0.1, 0.15, 0.2, 0.25, 0.35. Missing 0.3 @Shadowman4205 Did you solve this problem? I'm having same problem. Some ticks are just missing even I specified explicitly which ticks to show. @xile611 @Shadowman4205 https://github.com/recharts/recharts/issues/745 Same issue around here @kimjuny @xile611 @Shadowman4205  I've just solved doing this:
```
<YAxis
          type="number"
          yAxisId="right"
          orientation="right"
          domain={[0, 200]}
          ticks={[0, 10, 20, 30, ...., 200]}
          allowDecimals={true}
          allowDataOverflow={true}
          stroke={lineSelected.stroke}
          interval={0}/>
```

Thanks! Hope this helps, I think that the magic was the: `interval={0}`, I've tested before with `interval="0"` and didn't work.  ## Do you want to request a feature or report a bug?
bug
## What is the current behavior?

i have an object where de chart data is stores in a subproperty and the others subpropertys are the metadata for the chart, and the enteir object is stored in an array.

Suppose that i have 4 elemnts in the array, and if i remove the element with index "3", the four chart donÂ´t dispay the bars.

Code: 

```
const ChartBar = ({ data, dataKey, keyValue }) => { // eslint-disable-line
  const node = (

    <BarChart
      width={600}
      height={300}
      data={data}
      margin={{ bottom: 100 }}
    >
      <defs>
        <linearGradient id="colorUv" x1="0" y1="0" x2="0" y2="1">
          <stop offset="5%" stopColor="#fa3434" stopOpacity={1} />
          <stop offset="95%" stopColor="#f8b95e" stopOpacity={1} />
        </linearGradient>
      </defs>
      <Text angle={90} />
      <XAxis interval={0} dataKey={dataKey} angle={90} textAnchor="start" />
      <YAxis />
      <CartesianGrid strokeDasharray="0" vertical={false} />
      <Tooltip />
      <Bar dataKey={keyValue} fillOpacity={1} fill="url(#colorUv)" barSize={20} />
    </BarChart>
  );
  return node;
};

// code ... code ... code ... 

drawCharts = () => {
    const predictions = this.state.predictions;
    const containerStyle = {
      display: 'inline-block',
      margin: '1em',
      paddingTop: '1em',
      paddingLeft: '1em',
      paddingRight: '1em',
    };
    const node = predictions.map(
      (item, index) => {
        const props = {
          ChartBar: {
            data: item.data,
            dataKey: 'name',
            key: index,
            keyValue: 'uv',
            allowDataOverflow: true,
          },
        };
        const component = (
          <Col xs={12} md={6} key={index}>
            <Paper zDepth={1} style={containerStyle}>
              <Row>
                <Col xs={12} md={9}>
                  <h2 style={{ paddingTop: '10px', paddingBottom: '10px' }}>
                    {item.title}
                  </h2>
                  <h3 style={{ paddingBottom: '10px' }}>{item.subtitle}</h3>
                </Col>
                <Col xs={12} md={3} className="right">
                  <IconButton
                    className="inline"
                    tooltip="Descargar reportes"
                  >
                    <Icon name={'get_app'} />
                  </IconButton>
                  <IconButton
                    className="inline"
                    tooltip="Descargar reportes"
                    onClick={() => this.removePrediction(index)}
                  >
                    <Icon name={'clear'} />
                  </IconButton>
                </Col>
              </Row>
              <Row>
                <Col xs={12} md={12} >
                  <ChartBar {...props.ChartBar} />
                </Col>
              </Row>
            </Paper>
          </Col>
        );
        return component;
      }
    );
    return node;
  }

//this functions "remove" element from state.

removePrediction = (predIndex) => {
    this.setState((prevState) => ({
      ...prevState,
      predictions: [
        ...prevState.predictions.slice(0, predIndex),
        ...prevState.predictions.slice(predIndex + 1),
      ],
    }));
  }
```

This is an example: 
3 elements in the array with the subproperty data:
http://imgur.com/a/WswkM

removed element 2 from the array: 
http://imgur.com/a/0nekx

this is the console after removed element:
http://imgur.com/a/cOixY

there's any idea why this is happend?

## What is the expected behavior?
keep the bars after remove parent object from array.

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?

recharts version: "recharts": "^0.22.4" 
SO:  MacOS X 
Browser:  Google Chrome
  ## Do you want to request a feature or report a bug?
Feature
## What is the current behavior?
Leave a gap if the data is null

http://jsfiddle.net/ktwfp03m/5/

## What is the expected behavior?
Drawing continuous line 
Look like this http://jsfiddle.net/ktwfp03m/6/ I found that there is a support for `connectNulls` props for Area, Line but it doesn't look same as it should be when data is 0, supposed to look like expected behavior jsfiddle  ## Do you want to request a feature or report a bug?
Request a feature

## What is the current behavior?
Nothing currently exposes any indication of which `<Bar />` is currently active in terms of tooltip hover state.

The real world use case I'm trying to make work is an interface where there are two synced charts: a `LineChart` and a `BarChart` below. The goal being that we could do things like change fill values when one of the synced charts has an active tooltip. Only way I can think to achieve this currently would be to hack it together by abusing custom tooltips.

Does this make sense? Any chance there's just something I'm missing?
 @xile611 Thanks for the response! Yeah, I've got the charts synced and everything's working, so the issue isn't getting sync functionality working, it's getting access to the active label at the `Bar` component level.

Looks like things have been refactored a bit since I tried to dig into this a few days ago, but the tl;dr is I was hoping there was something I was missing about getting access to `activePayload` without setting up a `onMouseMove` handler. I ended up getting halfway to what I want by setting up the mouse event handlers in a stateful component that wraps `BarChart`, but that doesn't allow me to show an active state on the `Bar` component when the `LineChart` above has an active tooltip.

Setting up the mouse events on a higher level component that wraps both charts felt reasonable, but then you get in the catch-22 of setting state and causing a re-render that stops the tooltip itself from being rendered.

If this kind of functionality isn't anywhere on the roadmap just let me know, I can see what I can do about a PR in the next few weeks.

Edit: For clarity, while I think having access to the active tooltip payload at the `shape` level would be useful for other things, essentially what would completely solve my current problem would be the equivalent of `activeDot` for a `Bar`.  There seems to be a bug around updating bar components that are added dynamically. 

Failing example: (notice that we have to update the data in state in order to see the new color state)
http://jsfiddle.net/9x9cnfpr/3/

Workaround example: (here I added an extra <Bar/> component that isn't generated by a .map function)
http://jsfiddle.net/5gy5oaru/2/

Please let me know if I can help. Great project btw! I've been enjoying using it.

**Update**: I've found that removing everything but the Bar components from within the BarChart component allows for the fill of the bars to be changed. Here's an example:
http://jsfiddle.net/eceh1hyj/1/

@xile611 - any ideas on this?  Hi, i need pass payload data in Cursor Rectangle to use it in cursor onMouseOver handler. Thx for awesome lib!  is it possible to get data when click the line and area chart just like when click the bar chart? +1 A simple event API would let us extend the core components to access the chart's model. For instance, I have an elevation map using the Area chart. I'd like to update my UI with a point object containing lat / lons as the mouse travels across the series. 

Anyway, it would be useful to make data available in this way.  Currently it's not possible for me to view a single bar in my barchart, since the loop that decides the bandSize can't handle when the ticks array has only one element. BandSize is returned as 0, and that means the bar has 0 width.

My fix for this was to take the axis width if there is only 1 tick in the array. I'm not certain if this is the best way to fix this, but I didn't see any other issues about trying to view a single bar in a bar chart, so I assumed this was an edge case.  I have written code for y Axis follows:
<YAxis tickCount={2} tick={["online", "offline"]} />
but unable to display strings on Y Axis.
How to set strings as Y Axis labels. Solved issue I think I'm looking to do something similar.
@Swarna-Jain I'm curious, how did you solve this?  Hi,

I am trying to allow the user to drag the points of a line chart, which would modify the underlying data and redraw the line both while the mouse is down and released.

Something like this: [this](http://www.fusioncharts.com/dev/chart-guide/drag-able-charts/creating-drag-able-charts.html#creating-a-drag-able-line-2d-chart) or [this](https://www.rgraph.net/canvas/docs/adjusting-line.html)

This may be a feature request, but for now I am simply hoping that this either can easily be done, or that someone has already managed to do something similar, before I go into it.

Many thanks,
 Many thanks for the reply. 

I didn't realise you could based on #560. I'll give it another go.  When iam setting the stroke of axis the whole axis line is getting effected , i just want the text to be changed..How can i do that?? Can this be used to change the font-size of axis labels? Thanks!
     <XAxis tick={{fontSize: 5}} />

does the job for me How to set color of tickLine?

Like this:
```js
tick={{ fill: '#000000' }}
stroke="#efefef"
``` @DmitryGG, look at [YAxis#tickLine](http://recharts.org/en-US/api/YAxis#tickLine) (works for both `XAxis` and `YAxis`)

```
<YAxis
  tickLine={{ stroke: 'red' }}
/>  ## Do you want to request a feature or report a bug?
I guess it's a bug, or maybe I just got an idea wrong. Would appreciate any input on this.

## What is the current behavior?
I have `YAxis` of type `category`, and I manually specified `ticks`. But if chart data doesn't have any values for some tick aka category it wouldn't show up on the axis

#### Demo:
http://jsfiddle.net/liubko/x1yoboc7/672/

## What is the expected behavior?
in that particular [demo](http://jsfiddle.net/liubko/x1yoboc7/672/) I would expect to see tick with `d` label  at the `yAxis`

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
recharts: 0.22.1
browser: chrome
os: macOS Sierra 10.12.4

  Hi,
Is there a way to get actual x/y coordinates of mouse click no trelative ones im getting ?

ths for reply in advance  ## Do you want to request a feature or report a bug?
bug
## What is the current behavior?
piechart in demo does NOT show anything. console indicates a lot of errors. most are related to that component's state is not set properly

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/9y45ut13/).
run the demo, and click piechart example, nothing happens

## What is the expected behavior?
pie chart(s) show up

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
latest master on chrome 58.0.3029.96 (64-bit) on Ubuntu 16.04
 Same here... Downgrading the lib to `v0.22.4` worked for me. Yes, downgrading worked for me as well. I still got this bug in v1.0.0-alpha.1  I want to show extra characters in the data that i pass, in my case, I wanted to display a $ (dollar) symbol in the graph (in tooltip or on y-axis) the example is given in this fiddle below

[http://jsfiddle.net/tirumaleshkc/9d72Lnzq/](http://jsfiddle.net/tirumaleshkc/9d72Lnzq/)

I see the data in the tooltip, but its not displayed in the graph (obvious reason must be its not a number)

Is there any way to display the graph that way? Your suggestion will solve only the Tooltip, still, it doesn't help me to see the graph. I got to know that it accepts the data only if it is in the form of numbers and no strings allowed. 

I converted my data to have only numbers and then added a prop `unit='$'` to `Line` to solve the problem.  Hi @xile611 ! I'm trying to see how I can get a pie chart to be responsive and change size as you resize the window.  However,  I have an issue in which adding a <Responsive Container> around a pie chart causes it not to display.  The code is as follows:

     <PieChart width={410} height={410}>
                                <Pie
                                  data={pieData} 
                                  cx="50%" 
                                  cy="50%" 
                                  innerRadius="72%"
                                  outerRadius="80%"
                                  /*fill="darkBlack"*/
                                  paddingAngle={3}
                                >
                                  {
                                    pieData.map((entry, index) => <Cell fill={COLORS[index % COLORS.length]}/>)
                                  }
                                </Pie>
                                <Tooltip/>
                              </PieChart>

If I don't specify a width or height for the pie chart, it does not render.  And if I add a responsive container, whether with or without the height and width properties, the pie chart also does not display.  Do you know what the problem is and how to fix?

Thanks!
 Also, should PieChart still display with a default height and width if we remove those properties?  Currently, it doesn't seem to...
@xile611  @xile611 
I tried to make this pie chart responsive (http://recharts.org/#/en-US/examples/CustomActiveShapePieChart) and it doesn't work. Demo available at http://jsfiddle.net/o7rtavcg/1/. 

If you change the width to 300px, it cuts the chart in half. In case of 400px, it doesn't display the chart entirely. @giokokos In the case of pie charts, look at the `cx` and `cy` props for the `Pie` component. These are the coordinates for the center of the pie, so make sure that you either (1) remove them entirely to make the pie position center or (2) explicitly place the pie graph into a coordinate that shows when the width is cut off.

Check this [JS fiddle](http://jsfiddle.net/o7rtavcg/4/). I removed the `cx` and `cy` props and it renders in the middle. I also moved the `width` and `height` props to the `ReponsiveContainer` component and made the width 100% to respond to the parent container. @christiancho this [JS fiddle](http://jsfiddle.net/o7rtavcg/4/) reports an error (Bad JSFiddle configuration, please fork the original React JSFiddle): is it just me?   ## Do you want to request a feature or report a bug?

## What is the current behavior?

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/9y45ut13/).

## What is the expected behavior?

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
 Thank you.  ## Do you want to request a feature or report a bug?
Bug

## What is the current behavior?

Yaxis repeats values if there are not bigger than the maximum number of ticks (5 by default)

It doesn't happen if I pass an array of zeroed values but if one of the entries has a value of 1, this happens

[Bug image](http://imgur.com/a/bNofn)

[zeroed image](http://imgur.com/a/zEBOy)

## What is the expected behavior?

Should behave the same way as the zeroed graph. The max tick should be the same number of the number of ticks displayed

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?

recharts: 0.22.4
 It's not required to be an integer but it's rendering duplicated values
when that doesn't happen when it's a zeroed data set
On Fri, May 5, 2017 at 09:13 xile611 <notifications@github.com> wrote:

> @pedroabreu <https://github.com/pedroabreu> If the ticks of YAxis is
> required to be integer, you can specify
>
> <YAxis allowDecimals={false} />
>
> the props allowDecimals has default value true.
>
> â€”
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/recharts/recharts/issues/673#issuecomment-299407599>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ABI7iP2fDcjpObkLBU82Hm33boMuPDImks5r2tpGgaJpZM4NQtWB>
> .
>
 @xile611 the issue is not related to recharts, so I'll close this issue (sorry for wasting your time)

For future reference, issue is demoed here http://jsfiddle.net/Luk2xapk/2/ and it works fine BUT I'm formatting the values to integer (because they are always integer) but because I allow decimals, all the decimals are parsed to integer, which makes me with an axis of [0, 0, 1, 1, 1 ] (everything rounded up)

Thanks and good work on the plugin ðŸ‘   Hi guys just wanting to know if its possible to programatically control the activeDot on the line chart instead of having it be hover only.  ## Do you want to request a feature or report a bug?
Reporting a bug, I think.

## What is the current behavior?
The whole chart resizes when the (horizontal) legend grows from one to two rows.

## Minimal demo

http://jsfiddle.net/npbq3jbh/2/

You can resize the window containing the chart until the legend is two lines high, and notice that the bottom of the chart moves.

## What is the expected behavior?
I would not expect that the chart would be resizing when the legend is at the top of the chart.  Or, if the chart does resize, the bottom should be fixed and the top should move out of the way.

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
This seems to be present in all recent versions.
  In PieChart.js, if I don't add a width and height to the PieChart, FF will not animate it.

If I use this render, there is animation in Chrome, IE, but not FF:

(see attachment) Similar issue with the Responsive Pie Chart. Animation and labels work intermittently, resizing the view port seems to trigger the labels after a short delay.    Hi, I have been used Recharts for couples of weeks, and i do think it's a really good library for me. Today my boss give me a requirement to display the relationship of some things just like [this](https://bl.ocks.org/mbostock/4062045)(a node graph). But Recharts dosen't support graph now.
![image](https://cloud.githubusercontent.com/assets/7600149/25602464/d087663a-2f26-11e7-911d-076d8f4268dc.png)

  How can I get started to encapsulate d3 like Recharts?  I can't get any info from the online document.
Or maybe all I need is just read the code of Recharts? :)
 Or I should use d3 alone?
 @xiaosansiji 
Any plan about adding relationship chart to this library? :) @CrisLi 
 I used d3 and react alone to render force map just like [this](https://github.com/uber/react-vis/blob/master/examples/force-directed-graph/force-directed-graph.js) .You still can use recharts components such as ResponsiveContainer.  
 Or you can use this [libray](https://github.com/xswei/d3js_doc/tree/master/API/d3-force-master). 
 Recharts focus on common needs, topological graph isn't in their plans as far as I know.  @xile611  as per  your fiddle http://jsfiddle.net/Luk2xapk/1/ this worked but i  had few other requirement so had to add a onClick as well on Legend so i added onClick and i was overriding the .recharts-legend-item CSS for having a border-radius in my legend now after the JsFiddle integration it looks like only Content is working and my onClick doesn't work and it overides my css as well 

complete code here 

const {LineChart, Line, Symbols, Surface, XAxis, YAxis, CartesianGrid, Tooltip, Legend} = Recharts;
const { OverlayTrigger,  Tooltip: BootstrapTooltip, Popover } = ReactBootstrap;

const data = [
      {name: 'Page A', uv: 4000, pv: 2400, amt: 2400},
      {name: 'Page B', uv: 3000, pv: 1398, amt: 2210},
      {name: 'Page C', uv: 2000, pv: 9800, amt: 2290},
      {name: 'Page D', uv: 2780, pv: 3908, amt: 2000},
      {name: 'Page E', uv: 1890, pv: 4800, amt: 2181},
      {name: 'Page F', uv: 2390, pv: 3800, amt: 2500},
      {name: 'Page G', uv: 3490, pv: 4300, amt: 2100},
];
const SimpleLineChart = React.createClass({

  handleClick(e){
   alert("alert comes here ");
  },
  
  renderPopoverTop(dataKey) {
  	return (
    	<Popover id={`popover-${dataKey}`} title={`${dataKey} popover`}>
        <strong>{dataKey}</strong> info here.
      </Popover>
    );
  },
  
  renderCusomizedLegend(props) {
  	const { payload } = props;
    
    return (
      <div className="customized-legend">
       {
       		payload.map((entry, index) => {
            const { dataKey, color } = entry;
            const url = dataKey === 'pv' ?
             '//jsfiddle.net/img/logo@2x.png':
             '//avatars0.githubusercontent.com/u/9164357?v=3&s=60';
             
           
            return (
            	<OverlayTrigger 
              	key={`overlay-${dataKey}`} 
                trigger="hover" 
                placement="top" 
                overlay={this.renderPopoverTop(dataKey)}
              >
                 <span className="legend-item">
                 	 <Surface width={10} height={10} viewBox="0 0 10 10">
                 	   <Symbols cx={5} cy={5} type="square" size={100} fill={color} />
                   </Surface>
                   <span>{dataKey}</span>
                 </span>
              </OverlayTrigger>
            );
          })
       }
      </div>
    );
  },

	render () {
  	return (
      <div className="main-legend-style">
        <LineChart width={600} height={300} data={data}
              margin={{top: 5, right: 30, left: 20, bottom: 5}}>
         <XAxis dataKey="name"/>
         <YAxis/>
         <CartesianGrid strokeDasharray="3 3"/>
         <Tooltip/>
         <Legend content={this.renderCusomizedLegend} onClick={this.handleClick} />
         <Line type="monotone" dataKey="pv" stroke="#8884d8" activeDot={{r: 8}}/>
         <Line type="monotone" dataKey="uv" stroke="#82ca9d" />
        </LineChart>
      </div>
    );
  }
})

ReactDOM.render(
  <SimpleLineChart />,
  document.getElementById('container')
);


 css code  here for overriding  .recharts-legend-item 

.main-legend-style .recharts-legend-item {
  border: 2px solid #a1a1a1;
  padding: 6px 11px;
  font-size: small;
  border-radius: 146px;
  margin: -6px;
  margin-bottom: -13px;
}

please help me to fix this what am i doing wrong here,  the onClick is not firing and CSS is not getting a border-radius after overriding , both were working fine before this came <Legend content={this.renderCusomizedLegend} />  

thanks :)

   How did you solved.. ? pls share @NischithBopaiah 
 I'm running into the same issue, I would appreciate it if you shared your solution to this problem

EDIT: Managed to get it to work by moving onClick to the method where I am rendering custom content. I'll leave this here in case somebody else runs into this issue  ## Do you want to request a feature or report a bug?
Report a bug.

## What is the current behavior?
One bar is missing when using a vertical layout for a bar chart.

## Steps to reproduce:
See https://github.com/recharts/recharts/issues/90
Between the two graphs, one bar is not rendered when changing the layout mode to `vertical.`

I have the very same problem. Axes are properly set to use categories and numbers respectively, but the first bar is missing. Same problem here, created jsfiddle which reproducing the problem http://jsfiddle.net/ptev9np1/  Is it possible to omit the first (or last) tick label on an axis? The tick should remain and all else should be the same, just without rendering the label itself? The objective is to omit the "0" on the Y axis so it doesn't "collide" with the left-most label on the X axis:

![image](https://cloud.githubusercontent.com/assets/685316/25454990/e1e0b90a-2a93-11e7-9aad-e1e8af319225.png)
  I've tried just about everything, but I'm not able to create a bar chart (or actually a composed chart with bars in it) that has no gap between bars. Is this possible? No, I mean between the X-axis data points (i.e. no gap between the bars in Page A, Page B, ... in your example). Yep, that works. I'm almost certain I had already tried that and didn't get the result I was looking for, but I must have missed it.

This is certainly not an example of poor API translation. barCategoryGap definitely makes sense (which is why I thought I had tried it), but I'm happy to help if I can.  #### I used websocket to dynamically update state, and now the curve has changed, but the value on the axis is unchanged

#### I want the chart to show changes with the state changes, is there any way?

#### version: 0.22.3
```js
import React, { Component } from 'react';
import { ComposedChart, Line, Area, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';

export default class extends Component {
  static defaultProps = {
    chartData: [],
  };

  state = {
    chartData: this.props.chartData,
  }

  componentWillReceiveProps({ chartData }) {
    if (this.props.chartData !== chartData) {
      this.setState({ chartData });
    }
  }

  render() {
    const { chartData } = this.state;
    return (
      <div>
        {
          chartData.length ? <ResponsiveContainer height={250} >
            <ComposedChart data={chartData} margin={{ top: 0, right: -15, left: -8, bottom: 0 }} >
              <XAxis dataKey="Name" />
              <YAxis yAxisId="left" orientation="left" />
              <YAxis yAxisId="right" orientation="right" />
              <CartesianGrid strokeDasharray="3 3" />
              <Tooltip />
              <Legend />
              <Area yAxisId='left' type='monotone'  dataKey='TotalCount' fill={'#00BCD4'} stroke={'#00BCD4'}  />
              <Line yAxisId='right' type='monotone'  dataKey='AverageElapsed' stroke={'#00E676'} unit='ms' />
              <Bar yAxisId='right' type='monotone'  dataKey='TotalErrors' fill={'#F44336'}  />
            </ComposedChart>
          </ResponsiveContainer> : <div className='chart-empty'>empty</div>
        }
      </div>
    )
  }
}

```
 http://jsfiddle.net/f07jao0m/4/
I'm sorry, I know the reason, can not directly operate state.
But can not open the animation when you update it? **Version: 1.0.0-alpha.2**
I don't know if this is the right place to ask but I'm too facing a similar problem. In my case I'm changing a particular data dynamically but the chart is not getting updated. The tooltips show the updated value. But not the chart. Here's the part that I have used:

```jsx
                        <ResponsiveContainer width='100%' height={this.props.height}>
                            <BarChart
                                data={this.props.data}
                                margin={{ top: 0, right: 0, bottom: 0, left: 0 }}
                            >
                                <XAxis dataKey="name" />
                                <YAxis dataKey="value" />
                                {
                                    this.props.showGrid &&
                                    <CartesianGrid strokeDasharray="3 3" />
                                }
                                {
                                    this.props.showTooltip &&
                                    <Tooltip />
                                }
                                {
                                    this.props.showLegend &&
                                    <Legend />
                                }
                                <Bar dataKey="value" fill="red" />
                            </BarChart>
                        </ResponsiveContainer>
```

`this.props.data` is of the form: `[{name: 'Something', value: number}]`
These are the PropTypes in case you need them:
```jsx
ReBarChart.propTypes = {
    data: PropTypes.arrayOf(PropTypes.shape({
        name: PropTypes.string.isRequired,
        value: PropTypes.number.isRequired
    })),
    legend: PropTypes.string.isRequired,
    height: PropTypes.number,
    showTooltip: PropTypes.bool,
    showLegend: PropTypes.bool,
    showGrid: PropTypes.bool,

    displayTitle: PropTypes.bool,
    titleValue: PropTypes.string,
    titleSize: PropTypes.number,
    subTitleValue: PropTypes.string,
    subTitleSize: PropTypes.number,
};
```

Here's the function that I used to update the data:
```jsx
setRandomBarChartData() {
        console.log("Button Clicked");
        let index = Math.floor(Math.random() * this.state.barChartData.data.length);
        let randomValue = Math.floor(Math.random() * 100);

        let barChartData = { ...this.state.barChartData };
        barChartData.data[index].value = randomValue;
        console.log("Bar Chart Data: ", barChartData);

        this.setState({ barChartData: barChartData });
}
```
The data generated through this is being passed as a prop to the component. I'm having exactly the same issue as Rud156, tooltip gets update but chart doesn't, the only way I was able to fix this was by setting the data in my state as [] and then updating it again with the new state. @rubensbarreto How to then updating it again with the new state ? Please describe in detail, I also encountered this problem. Hey @sanshuiwang , just clear all the data on the state, before setting the state again:

```
async getData() {
    let min=0;  
    let max=100;  
    let generatedData=[];  
    let index=0;  
    let cycle=0;  
    let oldGeneratedData=this.state.dashboardData;  
    await this.setState({. 
      dashboardData: generatedData //Clear data with empty array, this forces recharts to evaluate a redraw. 
    });  
   //get generatedData from backend. 
   await this.setState({. 
      dashboardData: generatedData,  
      cycle: cycle. 
    }). 
    console.log(generatedData);  
    return;  
  }
```
  

 @rubensbarreto  So ? How to set new state? The code only to clear.  Notice that I set state twice, the first time i'm clearing the array, the second time im setting with the data i got from the backend, I commented out the section i'm getting my data from the backend since it doesn't matter here.

Just remember to use await, so that Reacts waits for the first setState to finish. The problem for me was that the API returned the numbers in a string format which confused Recharts.  ## Do you want to request a feature or report a bug?

## What is the current behavior?

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/9y45ut13/).

## What is the expected behavior?

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
  Good morning everybody.

I want to use recharts in my project but main part of my them works on old version react 15.1.0
and i can't quickly rewrite my code to a newer version. In recharts package.json i see this...

"peerDependencies": {
    "react": "^0.14.0 || ^15.0.0",
    "react-addons-transition-group": "^0.14.0 || ^15.0.0"
},

It means that every time i run my assembly. I will get npm ERR! Is it possible to do something about this?
  I would like to apply a different color for one or more bars (i.e. if a specific bar is an anomaly).  Since the property only accepts a string, it will only allow for one color for the entire series.  Extending the fill property to allow for either a function, array, or a string, would enable (at least I think after looking at the code) the property to change based on the data.

Thanks,
Chris  @xile611 Thanks.  I looked for a solution, I guess I missed it.  Sorry to open a useless issue.  Hello, I am looking for a way to place a polygon on a ScatterChart at the CartesianGrid level. Is there a way to achieve this behavior? Ultimately, I am looking for the ability to create Area-like behavior on the ScatterChart since there is not a way to use the ComposedChart with an AreaChart and a ScatterChart so this seemed like the best way to go.
  ## Do you want to request a feature or report a bug?
Feature

## What is the current behavior?
Not Supported.

## What is the expected behavior?
A chart that display dots of different proportions through a timeline, where the scales represents multiples values of an index.

![image](https://cloud.githubusercontent.com/assets/4905837/25354621/01595bf6-290a-11e7-89cb-391a526f0046.png)


  Currently if there's no data, the chart will not display, can we display something like there's no data, to let user know?

Especially for line chart, can we still keeps XAxis & YAxis with empty content but some word in the center of the chart showing no data available?  ## Do you want to request a feature or report a bug?
i am using  Line chart for my project where i want my functionality to be like , when i click on the legend i want it to show a tool tip   i.e like giving a small hint information about the legend (static information to be shown )
which i am unable to find can you please help me with this like how to proceed. can you please have a look at this code and tell me 

class Line extends React.Component {

  constructor(props) {
    super(props)
    this.state = {
     data: []  
     }
  }

  componentWillMount() {
    this.setState({
      data: [

      {name: 'Page A', uv: 4000, pv: 2400, amt: 2400},
      {name: 'Page B', uv: 3000, pv: 1398, amt: 2210},
      {name: 'Page C', uv: 2000, pv: 9800, amt: 2290},
      {name: 'Page D', uv: 2780, pv: 3908, amt: 2000},
      {name: 'Page E', uv: 1890, pv: 4800, amt: 2181},
      {name: 'Page F', uv: 2390, pv: 3800, amt: 2500},
      {name: 'Page G', uv: 3490, pv: 4300, amt: 2100},
      ]
})
}
  
  render() {
    
  return (

     
        <LineChart
          width={this.state.width} height={400} data={600}
          margin={{ top: 45, right: 30, left: 50, bottom: 5 }}
        >
          <XAxis dataKey="name" tickLine={false} />
          <YAxis type="number" domain={["dataMax"]} mirror tickCount={1} />
          <CartesianGrid strokeDasharray="3 3" />
          <Legend
            iconType="circle"
            wrapperStyle={{ top: 280 }}
            
          />
          <Line dataKey="name" stroke="#1e90ff" dot={false} />
          <Line dataKey="uv" stroke="#FF0000" dot={false} />
          <Line dataKey="pv" stroke="#eedd82" dot={false} />
          <Line dataKey="amt" stroke="#7fffd4" name="amt" dot={false} />
          </LineChart>
        )
  


> 

> `}`

}

i need something like this  just have taken a random image here  "setting"  name , uv , pv , amt to be my actual legends  and onclick i need a tooltip to show a message same follows for others.. 
![legend](https://cloud.githubusercontent.com/assets/9164357/25385782/b7c76efe-29e2-11e7-9e55-191c23e35678.jpg) i don't want to customize my legend icon as you doing it here http://jsfiddle.net/Luk2xapk/ , all i need is to have the legend icon as it is  and when i Click on the legend a Tooltip to show as it is being displayed in the above pic i posted that's exactly what i am looking for ? can you help me with that ... thanks for your time  ðŸ‘  after little  research i did  came to know modifying this file code  **https://raw.githubusercontent.com/recharts/recharts/master/src/component/DefaultLegendContent.js** and using in my project as a  component will do the job so please help me with the modification needed  @xile611  thanks ðŸ‘   Hi,
Is there a way to get something like classic javascript event.pageX/pageY ?
When handling onClick event in bar chart im getting only x,y inside bar

thx in advance

 Thx a lot . Is supposed same approach to work with Pie Charts ? Im playing with it with negative resullts :(  Hey, love the library so far, great work! Just moved from ChartJS and I'm enjoying how this works w/ React.

## Do you want to request a feature or report a bug?
Feature request (or maybe just help me understand how to do this if it doesn't need a feature?)

## What is the current behavior?
1. It's hard to hover over individual lines, because they're super thin. I want them to look thin, but I want to have some "slop" around them. Is there some way to add a hover "slop" to a line? I could imagine putting a fatter line behind it and hovering, or adding transparent stuff to the edges of the line, but I'd have to hack against the library to do it I think.
2. Dots don't trigger hover events on lines, even though they're part of the line. I don't see anything in the API that has a `onDotHover` or anything similar. How can I capture dot hovers?

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
All

Thanks!  I am trying to build a stacked bar chart that is laid out vertically and can hold many data series that have just one data point each. Basically, it will be just one single horizontal bar containing different segments for each series. I want to have a label on `top` of each segment. 

Here's what I got:
```javascript
<BarChart className="segmented-barchart" data={data} maxBarSize={30}  layout="vertical">
    <XAxis hide type="number" domain={[0, maxTotal]} />
    <YAxis hide type="category" />
    <Tooltip/>
    <Legend />
    { 
        someKeys(data).map( 
          keyName => <Bar unit=" countries" key={keyName} dataKey={keyName} stackId="single-stack" label={{fill: '#000'}} fill={ makeFill(keyName, colorDict) } />
        )
    }
</BarChart>
```
![bildschirmfoto 2017-04-22 um 04 05 11 nachm](https://cloud.githubusercontent.com/assets/5918060/25305103/8edbbe38-2775-11e7-9817-0b361c8cf988.JPG)

There are 2 problems with it like you can see:
1. The labels appear at the right end of each bar to which they belong, making the label appear on top of the bar belonging to the next series
2. The numbers inside those labels are accumulative numbers, not the numbers of the series itself

The Tooltip shows the correct numbers:
![bildschirmfoto 2017-04-21 um 03 15 25 nachm](https://cloud.githubusercontent.com/assets/5918060/25305093/50442aac-2775-11e7-83ed-1273eca587a3.JPG)


And the bar chart without the stacking renders correctly too:
![bildschirmfoto 2017-04-21 um 03 17 38 nachm](https://cloud.githubusercontent.com/assets/5918060/25305088/33908a36-2775-11e7-82b8-4efd984bdab6.JPG)


Thanks for any hints!  Currently, all of Lodash is imported as a dependency. This results in a somewhat large bundle size (relative to the rest of the package), which is not desirable. I'm wondering if the package maintainers have considered instead importing only the lodash functions that are used, instead of the whole thing? I haven't looked at the whole repo but from what I saw it seemed like it was mostly a small subset of functions being used.

If this is desireable, I would be glad to look into this further and start a branch and make a pull request. Gotcha, might be something wrong with my build then, thanks! Could you reconsider using separate lodash packages like `lodash.sortBy` instead of defining whole lodash as a dependency? @xile611 But when I compile my code using webpack with recharts in it, I get the entire lodash library. I can make a PR for this if you want. @xile611  :)  Getting a new error:
```
Recharts.js:139 Uncaught TypeError: Cannot read property 'string' of undefined
    at Object.__webpack_exports__.b (Recharts.js:139)
    at __webpack_require__ (Recharts.js:30)
    at Object.RADIAN (Recharts.js:1705)
    at __webpack_require__ (Recharts.js:30)
    at Object.<anonymous> (Recharts.js:7097)
    at __webpack_require__ (Recharts.js:30)
    at Object.<anonymous> (Recharts.js:33116)
    at __webpack_require__ (Recharts.js:30)
    at module.exports (Recharts.js:76)
    at Recharts.js:79
```
Downgrading to 0.22.0 fixes this. `15.4.1` I've noticed a couple of jsfiddles are broken too with the same error using 0.22.3.
http://jsfiddle.net/fvcc6m14/
http://jsfiddle.net/nickstanish/zrhudh0f/4/

I found those links on different tickets.  Reporting a weird bug

After an app update the charts stopped appearing, kinda like in the website where they got the examples one day i went there and it was all blank like mine are now, i think its due to a react update not quite sure, im trying everything, the app works on the original dev pc but if i want to update i will lose recharts for some reason).

charts should appear as normal
using recharts 0.22.3 on chrome
 I'm using react 15.4.3. I changed the dependencies to static instead of the most recent and still didn't work. Then I went on ubuntu 16 cloned and it worked I guess I'll just have to work on ubuntu. Windows sucks anyway Also getting a new error:

```
Recharts.js:139 Uncaught TypeError: Cannot read property 'string' of undefined
    at Object.__webpack_exports__.b (Recharts.js:139)
    at __webpack_require__ (Recharts.js:30)
    at Object.RADIAN (Recharts.js:1705)
    at __webpack_require__ (Recharts.js:30)
    at Object.<anonymous> (Recharts.js:7097)
    at __webpack_require__ (Recharts.js:30)
    at Object.<anonymous> (Recharts.js:33116)
    at __webpack_require__ (Recharts.js:30)
    at module.exports (Recharts.js:76)
    at Recharts.js:79
```

Downgrading to `0.22.0` fixes this. Ended up downgrading react tilli fix it  There appears to be an issue with the current CDN script. Recharts fails to load with a "Cannot read property 'string' of undefined" error.

https://jsfiddle.net/markharper/2dx32mbb/ I already had the necessary packages installed as well. It turned out to be
an incompatibility issue with the version of react that I was using.


On April 19, 2017 at 8:54:06 PM, xile611 (notifications@github.com) wrote:

@MarkHarper <https://github.com/MarkHarper> Check the examples of recharts
<http://recharts.org/#/en-US/examples/SimpleLineChart>. You should import
more external pkgs.

â€”
You are receiving this because you were mentioned.
Reply to this email directly, view it on GitHub
<https://github.com/recharts/recharts/issues/639#issuecomment-295540238>,
or mute the thread
<https://github.com/notifications/unsubscribe-auth/AI-KvR3UtwA_jaZ99eBcPdETNG95fD_Pks5rxrq9gaJpZM4NB1aI>
.
 It was fairly outdated, 15.3.1, I believe. Updating fixed it.


On April 19, 2017 at 11:44:43 PM, xile611 (notifications@github.com) wrote:

@MarkHarper <https://github.com/MarkHarper> How about the version of your
react ?

â€”
You are receiving this because you were mentioned.
Reply to this email directly, view it on GitHub
<https://github.com/recharts/recharts/issues/639#issuecomment-295578917>,
or mute the thread
<https://github.com/notifications/unsubscribe-auth/AI-KveSiRJGaPtOD_oWXtlBvL79sNhosks5rxuK7gaJpZM4NB1aI>
.
  Hi guys,
Imagine i have BarChart with data lets say value1 = 200 and value2=300. I want to normalize these data to percentages so when i have different Bars in BarChart all would have same sizes visually. Then max value on all Bars would be 100(%) but after hover it would show real values (e.g 200 and 300).
Is there some way to do this without hacking into library ?  I just started using the new error-bar feature (thanks for that!) and the error bar's often crosses the x-axis domain max:
<img width="923" alt="errorbarsoutofdomain" src="https://cloud.githubusercontent.com/assets/148472/25090292/a3f1fc66-2382-11e7-8013-567cabbfd9bc.png">

While i can easily fix that by setting the x-axis domain with a manual calculated dataMax, it just looks not a nice as if the auto would have respected the error-bar max! Thanks a lot!  I need a custom "y axis" from 130 to 200.  Where 130 is the base line.
How can I do that?

**Each line are independent of yAxis values. yAxis is only for representation purpose.**

```
const yAxisProps = {
      name:"Height",
      unit:"cm",
      allowDataOverflow: true,
      mirror: false,
      reversed: true,
      label:"Height",
      domain: ['dataMin', 'dataMax'],
      interval: "preserveStart",
      ticks: [130, 135, 140, 145, 150, 155, 160, 165, 170, 175, 180, 185, 190, 195, 200]
    };

<LineChart width={750} height={550} data={this.data()}
          margin={{ top: 15, right: 20, left: 20, bottom: 15 }}>
          <XAxis {...xAxisProps} />
          <YAxis {...yAxisProps} />
          {/*<CartesianGrid />*/}
          {/*<CartesianAxis />*/}
          <Tooltip />
          <Legend />
          <Line type="monotone" dataKey="d" stroke="#FF0403" />
          <Line type="monotone" dataKey="c" stroke="#E8760F" />
          <Line type="monotone" dataKey="b" stroke="#AA29E8" />
          <Line type="monotone" dataKey="a" stroke="#5D7DFF" />
   </LineChart>
``` @xile611 Thanks.

Yes, it works. But the lines disappear.

Here is the dataset: "weight" represent the x-axis. and "height" should be the custom y-axis.

```
const data = [
      { weight: 30,  a: 17.75, b: 53.25, c: 88.76, d: 124.26 },
      { weight: 35,  a: 16.46, b: 49.38, c: 82.30, d: 115.23 },
      { weight: 40,  a: 15.31, b: 45.92, c: 76.53, d: 107.14 },
      { weight: 45,  a: 14.27, b: 42.81, c: 71.34, d: 99.880 },
      { weight: 50,  a: 13.33, b: 40.00, c: 66.67, d: 93.330 },
      { weight: 55,  a: 12.49, b: 38.46, c: 62.43, d: 87.410 },
      { weight: 60,  a: 11.72, b: 35.16, c: 58.59, d: 82.030 },
      { weight: 65,  a: 11.02, b: 33.06, c: 55.10, d: 77.130 },
      { weight: 70,  a: 10.38, b: 31.14, c: 51.90, d: 72.660 },
      { weight: 75,  a: 9.80 , b: 29.39, c: 48.98, d: 68.570 },
      { weight: 80,  a: 9.26 , b: 27.78, c: 46.30, d: 64.810 },
      { weight: 85,  a: 8.77 , b: 26.30, c: 43.83, d: 61.360 },
      { weight: 90,  a: 8.31 , b: 24.93, c: 41.55, d: 58.170 },
      { weight: 95,  a: 7.89 , b: 23.67, c: 39.45, d: 55.230 },
      { weight: 100, a: 7.50 , b: 22.50, c: 37.50, d: 52.500 },
      { weight: 105, a: 7.14 , b: 21.42, c: 35.69, d: 49.970 },
    ];
```



 @xile611 a, b, c, d are the "bmi" value related with each weight. See: [BMI Chart Example](http://www.dudley.gov.uk/EasysiteWeb/getresource.axd?AssetID=243328&type=full&servicetype=Inline).

A, B, C, D has the same "weight" but different "height". 


 @xile611 
That's the trick! Magnificent! 
Thanks you very much.  ## Do you want to request a feature or report a bug?
bug

## What is the current behavior?
when installing recharts, dependencies don't install automatically

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/9y45ut13/).
![image](https://cloud.githubusercontent.com/assets/5360982/25068490/94318512-221a-11e7-8422-c54642dbf052.png)

## What is the expected behavior?
I would expect it to install meteor-node-stubs as well

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
current


I don't know if this is something specific to recharts or just an npm issue. I have never encountered it with other npm libraries so I am assuming this is recharts specific. If it's not rechart specific, is there a general recommended workaround other than manually installing the dependencies (it's a pain for my automated deployment process)
  I have been trying to modify the margin or location of the brush when using a line chart with no success. Right now it slightly overlaps the x axis  tick (labels).

Below is an example of how I am using the brush.  I have also tried with margin as well and to no avail. It appears that all the props for positioning of the brush are being rewritten in   LineChart  or some other component.  
```

        <LineChart width={600} height={200} data={data} syncId="anyId"   margin={{top: 5, right: 10, left: 0, bottom: 10}}>
          <XAxis stroke="#00b4cd"  tick={<AxisLabel angle={-90}/>}  dataKey="minV" />
          <YAxis stroke="#00b4cd"  tick={<AxisLabel angle={  0}/>}/>
          <Tooltip  content={<Toolip/>} />
          <Line type='monotone' dataKey='minV' stroke='#82ca9d' dot={false} fill='#82ca9d' />
         <Brush y={250}/>    
        </LineChart>
```  The documentation does not make it clear how the data source is specified. For example, what is the format of the `data` props? Specifically, I want to have a chart with a line along with *some* dots along it. The dots are not continuously on their x coordinates. How do I specify the datasets?  ## What : 

- new Release 0.22.1 packaged on unpkg

It breaks all web pages which depend on Recharts using this cdn (always most recent release under this link) :

> https://npmcdn.com/recharts/umd/Recharts.min.js


## How to avoid this bug :

Use the old release (explicit declaration in the link):

> https://npmcdn.com/recharts@0.22.0/umd/Recharts.min.js


## How to reproduce :

1.  Go to http://recharts.org/#/en-US/examples/SimpleLineChart
2.  See that no graph appear
3.  Open your web browser console and it show that :

```

Uncaught TypeError: Cannot read property 'string' of undefined
    at Object.<anonymous> (Recharts.min.js:1)
    at t (Recharts.min.js:1)
    at Object.r (Recharts.min.js:1)
    at t (Recharts.min.js:1)
    at Object.create.constructor.value (Recharts.min.js:4)
    at t (Recharts.min.js:1)
    at Object.<anonymous> (Recharts.min.js:13)
    at t (Recharts.min.js:1)
    at t.exports (Recharts.min.js:1)
    at Recharts.min.js:1
fiddle.jshell.net/:4 Uncaught ReferenceError: Recharts is not defined
    at eval (eval at transform.run (browser.js:5811), <anonymous>:4:17)
    at Function.transform.run (browser.js:5811)
    at exec (browser.js:5866)
    at runScripts (browser.js:5903)

``` The same problem with 1.0.0-alpha.1

## How to avoid this bug :

add this line

    <script src="https://unpkg.com/prop-types/prop-types.min.js"></script>

webpack config

    externals: {
        'prop-types': 'PropTypes',
    }

Now work well.  ## How can I give different fill color for each bar in simple bar graph?
`<BarChart data={barsData}>
   <XAxis  ...../>
   <YAxis ...../>
   <Bar fill= **dynamic_color_here** ..... />
</BarChart>
` 

**For example 1**:- Let say, I have to show Employee_Name at XAxis and employee_salary at YAxis. Each bar represents a single employee. I want each of my bar to have different color which I want to provide dynamically.

**For example 2**:- month_name at XAxis and max_temp at YAxis. Each bar represents a month. I want each of my bar to have different color based on temperature  which I want to provide dynamically.
 @xile611 Thanks, This works ðŸ‘  @xile611  You are a beautiful human being  ## Do you want to request a feature or report a bug?

Bug.

## What is the current behavior?

My application breaks on start indicating the error is when compiling `AreaChart`.

```
Uncaught TypeError: (0 , _generateCategoricalChart2.default) is not a function
    at Object../node_modules/recharts/lib/chart/AreaChart.js (AreaChart.js:423)
    at __webpack_require__ (bootstrap f068a79â€¦:659)
    at fn (bootstrap f068a79â€¦:83)
    at Object../node_modules/recharts/lib/cartesian/Brush.js (Brush.js:46)
    at __webpack_require__ (bootstrap f068a79â€¦:659)
    at fn (bootstrap f068a79â€¦:83)
    at Object../node_modules/recharts/lib/chart/generateCategoricalChart.js (generateCategoricalChart.js:87)
    at __webpack_require__ (bootstrap f068a79â€¦:659)
    at fn (bootstrap f068a79â€¦:83)
    at Object../node_modules/recharts/lib/chart/LineChart.js (LineChart.js:49)
```

## What is the expected behavior?

In `0.21.2` this is not happening. 
 Run into the same problem with **BarChart** in `v0.22.0`.

```
TypeError: (0 , _generateCategoricalChart2.default) is not a function
    at eval (VM26235 BarChart.js:352)
    at Object.<anonymous> (VM25188 preview.bundle.js:4376)
    at __webpack_require__ (VM25188 preview.bundle.js:556)
    at fn (VM25188 preview.bundle.js:87)
    at eval (VM26234 Brush.js:50)
    at Object.<anonymous> (VM25188 preview.bundle.js:7499)
    at __webpack_require__ (VM25188 preview.bundle.js:556)
    at fn (VM25188 preview.bundle.js:87)
    at eval (VM26223 generateCategoricalChart.js:90)
    at Object.<anonymous> (VM25188 preview.bundle.js:2169)
``` This happened on our work project and was first introduced when this branch was merged.

https://github.com/recharts/recharts/pull/586

I'm still trying to find out where our project hits it but I will keep you guys informed  I to stack positive and negative value on the same column without overlap,
actually if a column have positive and negative value they overlap, example:

if column have this values 1000, -1000, first value start go 0 to 1000 and second go to 1000 to 0 so the graphs show only the negative value

I expected all positive value over 0 line and all negative value under 0 line 

Error occure in OS: Debian,  Browser: Firefox, but also in OS: MacOS, Browser: Chrome so I suppose it happen anyway I edited example of city this is result:

http://jsfiddle.net/xtrr8nhw/ Yes exactly! thank you very much, I didn't notice that option sorry for bother and thanks again  I need to implement a ScatterChart with multiple data sets. Each data set has a different symbol and a different range in the y-direction. Currently, I'm able to define a single YAxis only when using ScatterChart. Is it possible to render multiple y-axes?

If it isn't possible, I might consider adding the feature. Is there anything important I should keep in mind when doing so? Is there a good chance you are going to accept a merge request? When will this be? Sounds great. Hoping this feature will work as expected, I'm closing this issue.  How can I remove or avoid duplicate values in x axis?

```
const dataset = [
      { weight: 35, height: 140, bmi: 17.86 },
      { weight: 35, height: 150, bmi: 15.56 },
      { weight: 35, height: 160, bmi: 13.67 },
      { weight: 35, height: 170, bmi: 12.11 },
      { weight: 35, height: 180, bmi: 10.8 },
      { weight: 35, height: 190, bmi: 9.7 },
      { weight: 35, height: 200, bmi: 8.75 },
      { weight: 35, height: 210, bmi: 7.94 },
      { weight: 35, height: 220, bmi: 7.23 },
      { weight: 45, height: 140, bmi: 22.96 },
      { weight: 45, height: 150, bmi: 20 },
      { weight: 45, height: 160, bmi: 17.58 },
      { weight: 45, height: 170, bmi: 15.57 },
      { weight: 45, height: 180, bmi: 13.89 },
      { weight: 45, height: 190, bmi: 12.47 },
      { weight: 45, height: 200, bmi: 11.25 },
      { weight: 45, height: 210, bmi: 10.2 },
      { weight: 45, height: 220, bmi: 9.3 },
]

// XAxis Props

const xAxisProps = {
      dataKey: "height",
      //unit:"cm",
      allowDataOverflow: false,
      mirror: false,
      label:"Height",
      domain:[0, 2.20],
      //tickSize: 9,
      ticks: [140, 150, 160, 170, 180, 190, 200, 210, 220]  // **Not Working**
    };

```  Hi,
I am very new to programming. I was working on a dashboard which i am making using React.
I used Rechart to show the data on graph. Now my problem is that i am not able to centrally align (horizontal) the chart using any of the CSS property. I tried margin: auto; text-align:  center nothing worked. I know this is supposed to be very basic but would love your help here.
 Hi Xile,
It worked. Thanks a top. though i would like to understand that declaring the class name as ".rechartswrapper" did not work but ".recharts-wrapper" worked with the same css property. Am i missing something. Also, there seems to be a left margin which is pre assigned (Meaning, when i centred the chart as you suggusted, its not centered exactly but slightly toward the right). Can i prevent this from happening? use `http://recharts.org/#/zh-CN/api/ResponsiveContainer` also can auto centre align  const React =require("react");
const {LineChart, Line, CartesianGrid, YAxis, XAxis, Tooltip,Legend} =require("recharts");
const demo = require('../../../resources/demo-util');

const data = [];
for (var i = 0; i < json.length; i++)
{
    var mtrcs = json[i];

    var mtrName=mtrcs.name;
    var mtrMemory=mtrcs.metrics.memory;
    var mtrCpu=mtrcs.metrics.cpu;
    var mtrTime=mtrcs.metrics.time;

   data.push({

        name:mtrName,
        cpu:mtrCpu,
        memory : mtrMemory,
        time:mtrTime

    });

}
class Rechart extends React.Component{

    render(){


        return(

          <div>
              <LineChart width={1300} height={400} data={data} margin={{top: 5, right: 30, left: 20, bottom: 5}}>
                  <XAxis dataKey="time"/>
                  <YAxis/>
                  <CartesianGrid strokeDasharray="3 3"/>
                  <Tooltip/>
                  <Legend />
                  <Line type="monotone" dataKey="cpu" stroke="#8884d8" activeDot={{r: 8}}/>
                  <Line type="monotone" dataKey="memory" stroke="#82ca9d" />
              </LineChart>
          </div>
      );


    }
}
module.exports=Rechart;
  I also have this problem, with versions v1.0.0-alpha.2 and v0.22.4.

The issue is not that we want only dots, it is that only dots are appearing, even though the stroke property is set.  I was able to resolve this with setting `connectNulls={true}`.  

![image](https://user-images.githubusercontent.com/5175589/28496793-ca736f72-6f28-11e7-9730-bf078cfb511d.png)

It seems that since all lines use the same data source, if the lines don't have entries for every date there is a problem.

![image](https://user-images.githubusercontent.com/5175589/28496830-0e4d17c4-6f2a-11e7-92e4-3d7f1b331887.png)

 Following up on my own comment:  The above was due to a coding error on my part, I was grouping input data by timestamp, and checked for equality without using `dt.getTime()`, so I ended up with multiple points at the same x-axis position in different data elements.  

This seems to have been the reason for the unexpected nulls.  If anyone else has the issue described above, diagnose by setting `connectNulls={true}`, and if this allows your lines to appear, you may have an issue similar to what I've described above.   Fixes: #581 

[index as a key is an anti-pattern](https://medium.com/@robinpokorny/index-as-a-key-is-an-anti-pattern-e0349aece318)

If you add new children to a chart it will compute the key based on the index of that element.

A problem comes up when you add a new child to the beginning of the children array.  This will bump the other indexes forward and cause a re-render if the key has changed.

The fix I propose is to use children keys if present so a user can specify their own.

Perhaps a more robust solution would be to use something like `child.props.dataKey` as the default.
`key: child.key || child.props.dataKey`  I'm wondering if it's possible to display a vertical list of Legend items on the right of a graph. I have a LineChart with a custom Legend, but it seems the only position the Legend (wrapper) can take now is top or bottom. I've checked all examples and they confirm this notion.

I can achieve my goal with ugly css positioning or other suboptimal ways, but isn't there a proper way of doing this? for those that cut and paste, there is a typo.  change vetical to vertical . :)  ## Do you want to request a feature or report a bug?

Feature Request

## What is the current behavior?

Today there is no way to have a tooltip show for a reference line. The label for a reference line can only show a small amount of information because it is easily occluded by other data on the chart. I would like to show a longer string when the user user hovers over the reference line.


 @xile611 There is no Tooltip support for ReferenceLine, ReferenceDot, or ReferenceArea components. Your answer to the above question is not helpful - will this be supported in the future or am I misreading the docs? @SalilUCSF , you are correct, there is no Tooltip support for ReferenceLine, ReferenceDot, or ReferenceArea components @xile611 @abhatia-lix I have opened an issue for this: #1512   const data = [];
        for (var i = 0; i < json.length; i++)
        {
            var mtrcs = json[i];

            var mtrName=mtrcs.name;
            var mtrMemory=mtrcs.metrics.memory;
            var mtrCpu=mtrcs.metrics.cpu;


            data.push({

                "name":mtrName,
                "cpu":mtrCpu,
                "memory" : mtrMemory,
            });

        }
        return(

          <div>
              <LineChart width={1300} height={400} data={data} margin={{top: 5, right: 30, left: 20, bottom: 5}}>
                  <XAxis dataKey="name" tickFormatter={dateFormat}/>
                  <YAxis/>
                  <CartesianGrid strokeDasharray="3 3"/>
                  <Tooltip/>
                  <Legend />
                  <Line type="monotone" dataKey="cpu" stroke="#8884d8" activeDot={{r: 8}}/>
                  <Line type="monotone" dataKey="memory" stroke="#82ca9d" />
              </LineChart>
          </div>
      );


    }
} This doesn't work as written. dateFormat is not defined - you've closed the issue prematurely @patientplatypus dateFormat in the example above is a function that you are required to define yourself.

`tickFormatter` takes a `function` that is intended to format the ticks however you would like. I realize that - the question was "How do I display the XAxis in dateFormat?". Saying, "yes, indeed you do define a date format function yourself" is not answering the question of how to get date ticks on to a time series graph. From what I can tell this is actually a very difficult problem in this library and there is not very good documentation or examples that I could find. It was in fact the reason that I switched to another application.  I am overriding Recharts' Tooltip functionality to provide the hover data elsewhere on the page (in another component).

`<Tooltip content={ this.showTooltipData.bind(this) } />`

showToolTipData fires off an action creator which modifies a part of the state tree which the current render method is **not** sensitive to, but I still get the dreaded anti-pattern warning:

`Warning: setState(...): Cannot update during an existing state transition (such as within `render` or another component's constructor). Render methods should be a pure function of props and state; constructor side-effects are an anti-pattern, but can be moved to `componentWillMount`.
`

This warning is both correct and incorrect, as the rendering component is not affected by the state change. The only reason I care about this is that the warning can spam the console (there are 10s of 1000s of points to hover over). 

Is there a better way to do this? I have considered using the the target hover data component's "private" state (as opposed to the redux state now in use) but I need that data elsewhere as well. Moving the functionality to **componentWillMount()** is impossible.

Anyone found a safer way to override the ToolTip function? 

recharts@0.21.2, Chrome 56.0.2924.87 (64-bit)

Thanks,

John I tried the same thing -- it's very tempting to use the tooltip as an "event" that changes some state -- I also tried using setTimeout to get past the React error....but the bottom-line is that whenever you change state the chart re-draws itself ( including its little animations, and excluding tool-tips ), so it's a Catch-22... In this project the charts can have many points (10s of 1000s, may scale up higher). The re-draw action was painful and almost forced me to move to a different tech. I was able to get around the re-draw (block it completely) with:

```
  shouldComponentUpdate = () => {
    return false;
  }

```
Works very well. FYI.

However, even with this in place, I still get the anti-pattern warning... @xile611  `chartState` in `handleMove()` works well and provides me with the same data as the payload from the tootltip object. Thanks!

To have this data displayed in a table elsewhere on the page (along with other, synchronous data) `showToolTipData()`  updates sections of the redux state which that target display table is sensitive to.  I believe this means my `showToolTipData()` function is _not_ stateless - how else could I get this information to a separate container in real time? Or do I misunderstand? Is this perhaps a question for the redux forums? For the record it works very, very well!

Thanks for the help and the reply, I like the `onMouseMove` event idea.  ## Do you want to request a feature or report a bug?
Feature

## What is the current behavior?
The source order (for chart rendering) is [hard-coded](https://github.com/recharts/recharts/blob/master/src/chart/generateCategoricalChart.js#L1022)

## What is the expected behavior?
A few options I can think of:
1. Respect the source order based on the order of the children  but might enforce users to remember order unless there are sane (current) defaults in place
2. Have a flag that renders cartesian grid last. e.g. `gridOnTop: false // default`. However, this will mean only the grid itself is affected
3. Have a prop with an array of components' `displayNames` as strings so we can map over them within the chart rendering function.
4. [Suggestions?] Any other way without losing functionality?

_I have attempted [2] and have a ready pull request  for your review. Feedback appreciated_

Here is an example where the grid is rendered on top of the chart (based on the proposed changes in [2].

![screen shot 2017-04-06 at 11 07 59 am](https://cloud.githubusercontent.com/assets/780157/24736255/75d0e68e-1ab9-11e7-8d6e-8191816afc22.png)
 @xile611, you must be terribly busy and maybe my solution might not be the best one but some feedback or a pointer in the right direction will be greatly appreciated. A little on the clock with this issue at work ðŸ˜‰  Thanks for the update @xile611 and great work with the current refractors! +1 for option [1] Thanks! Property gridOnTop doesn't exist in source code, was it removed or renamed? @jetpack3331 I tried and you can make it like this:
```
<AreaChart>
// more codes are in here
<CartesianGrid />   // put this at the end of AreaChart element
</AreaChart>
````
  ![image](https://cloud.githubusercontent.com/assets/13334277/24669376/e1bffc9c-1972-11e7-9499-8d31b78fb488.png)

can somebody explain why ReferenceArea is not rendering? Just yesterday everything was fine, and now area disapeared @xile611 i can`t make demo, sorry
data is persistent, i only change x1, x2 props of reference area ![image](https://cloud.githubusercontent.com/assets/13334277/24696860/ae0a047a-19f3-11e7-85eb-0835ef02498e.png)

i think bug is that `getRect` method of ReferenceArea returns `x1 = NaN` and `x2 = NaN` for non numeric values
`xAxis` are hidden at that moment
Set `x1\x2` as numbers fix the issue  Related to this issue https://github.com/recharts/recharts/issues/492

We provide a conditional prop to the composed chart to allow us to pull the area charts to the edge of the bar graph for aesthetic purposes.

If you are happy with this approach I can add some tests.
let me know your thoughts.

Thanks. @xile611 
Hi,
Any chance to have your feedback on this PR?   ## Do you want to request a feature or report a bug?

A feature.

## What is the current behavior?

If you pass down an HTML element to `label` of XAxis or YAxis, it will not render.

```html
<XAxis label={<span>Hello</span>} dataKey="name"/>
```

## What is the expected behavior?

It should render HTML element.

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?

`0.19.1`  ## Do you want to request a feature or report a bug?

## What is the current behavior?

## If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/9y45ut13/).

## What is the expected behavior?

## Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
  I need to add extra 10px inside the pie chart to be able to use events like onClick, onMouseEnter, etc.
Here is a demo with custom active shape: http://recharts.org/#/en-US/examples/CustomActiveShapePieChart But I need to mouseover a sector extra 10px towards the center of the chart. But it should not be visible.

Is it possible to do that with recharts?
![1](https://cloud.githubusercontent.com/assets/988504/24290725/b79af4fe-108e-11e7-8633-204112a706bd.png)
 @xile611 Can you please provide some example of this ?  Can you make the <Bar> component so it accepts ReactElements also? Currently it accepts only Numbers or Strings and I need a ReactElement because of i18n  Is it possible to convert a string to a number for a line chart? I am creating a number of line charts for a reporting tool. Some of the values are numbers and those work great, but others are strings that are actually numbers. Being able to call `parseInt()` or `parseFloat()` on the strings would be enough for my use, I'm just not finding an acceptable place to do so. Any thoughts?

Using recharts v0.21.2 on Mac OS Sierra with Chrome 56.0.2924.87
 This is a little inconvenient to me as well. But I do understand the downside of doing it inside Recharts.

In many projects, I got various kind of numbers in string format from server-side, like `"99.7"`, `"$12.4"`, `"2,345,678"`, etc. Let's assume that Recharts uses `new Number(value)` to parse these strings, it will return a lot of `NaN`, which is unexpected to users. 

An option is to leverage `Numbro` lib to parse those number-like strings: http://numbrojs.com/format.html#unformat . The parsing result looks good, but it's still not a good idea to make Numbro a direct dependency of Recharts.

I have another idea, what about adding a new prop `dataConverter` along with existing `dataKey`? Something like this:

```js
<Line dataKey="price" dataConvertor={value => numbro().unformat(value)} />
```  Does reacharts support bubble charts? I mean chart, in which each bubble reflects an element's size and has distinct colour. Something like this - http://blogs.it.ox.ac.uk/acit-rs-team/files/2014/10/bubble_chart.png

 Although a bubble chart is similar to a scatter chart, the difference is mainly in the label placement 
* Bubble labels are inside the bubble
* Scatter labels are outside the bubble
as well as the size of the bubble - a 4th data dimension.

Why don't we spec out a bubble chart and add it to the docs?  @xile611 happy?   Hello,

I am trying to render a LineChart ToolTip elsewhere on my page. It seems the ToolTip function would be the way to do this? From the API:

"If set a React element, the option is the custom react element of rendering tooltip. If set a function, the function will be called to render tooltip content."

I have been unable to access the content of the data returned directly. I am trying this:

`<Tooltip content={ this.showTooltipData.bind(this) } />`

elsewhere:

```
  showTooltipData = (data) => {
    console.log(data);
    // console.log(data.payload[0].color);
  }

```
The attempt above to access the "color" object as above  just returns an "undefined" error, though I can see it in the console log. Can anyone tell me the secret syntax sauce to get at this data?

Thanks!

![image](https://cloud.githubusercontent.com/assets/14285373/24172771/da6da246-0e5f-11e7-9a1e-7e83182d3d02.png)

 Using the container's props is not that easy as this is deeply nested in a redux state. I have been trying a similar tactic to see if the payload is defined and I can see it and log it, but still can't access it:

```
showTooltipData = (data) => {
  if ( typeof data.payload[0] !== 'undefined') {
    console.log(Object.keys(data.payload[0]));
    console.log("dataKey = " + data.payload[0]["dataKey"]);
  }
}
```

The first log shows the expected data, the second log errors out?

**EDIT**: The above works fine, thanks for the example and the feedback!  I've tried various forms of Line charts and Scatters etc and can't find a way to do what I want, hoping there is a solution or a possible enhancement to help.

I would like a single chart with 2 lines. X being datetime, each with their own numeric Y axis. This part I have done, not a problem.

Now I want to be able to add dots (or some kind of shape) at various points - using the same x-axis, ie a datetime, a y-axis on the same scale as one of the existing ones, and a size (a z-axis?). Preferably this data would come from a separate dataset as the 2 lines - but merging the data beforehand would be somewhat possible.

Is this possible? Yes, I think it should be possible with a ScatterChart. I see that version 1.0.0-alpha.4 is in NPM, wondering if this feature is in it?  is this feature released in latest version? any updates on this?  I am trying to display the ticks vertically . The ticks are not getting displayed fully . they appear truncated .Can someone help or is it a bug

import React, { Component } from 'react';
import propTypes from './proptypes';

export default class CustomizedTick extends Component {

 static propTypes = propTypes;

 render() {
   const { x, y, payload } = this.props;
   return (
     <g transform={`translate(${x},${y})`}>
       <text x={0} y={0} dy={16} textAnchor="end" fill="#666" transform="rotate(-90)">{payload.value}</text>
     </g>
   );
 }

}


import { PropTypes } from 'react';

export default {
 x: PropTypes.number,
 y: PropTypes.number,
 payload: PropTypes.shape({
   value: PropTypes.string,
 }),
}; @xile611 Thanks!  I haven't tested this with any of the other graphs, but if you don't supply height/widths, or nest in a `ResponsiveContainer`, the bar chart doesn't render at all.

I understand this is most likely expected behaviour, however a) it is not documented and b) there are no warnings in the console. If such a scenario occurs where the component must unexpectedly abort rendering, you should throw an error/warning.

example: http://jsfiddle.net/swu74nsx/  In http://recharts.org/#/en-US/examples/CustomizedDotLineChart

In CustomizedDot `props.payload.value` doesn't exists, is `props.value` instead.


```javascript
const CustomizedDot = React.createClass({
  render () {
    const {cx, cy, stroke, payload} = this.props;
    if (payload.value > 2500) {
        ....
    }
})
```  Hi,

I just came across this library and it seems great!

I'm trying to use the Treemap component. However, in the example the width and height are fixed. I'm working on a responsive app and don't want to hardcode chart dimensions. Can I somehow make the size dynamic - e.g. 90% by 90%?

Also, is it possible to handle the click events on the treemap?   Thanks for a great library.

Do you want to request a feature or report a bug?
Feature request: I would like to click the chart in order to add more data points to the source array.

What is the current behavior?
Currently X and Y are pixels.

If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/9y45ut13/).

What is the expected behavior?
I would like and Y to be mapped/translated into values from the chart point I clicked. In addition of getting the pixel X and Y, I would like to have access to mapped X and Y.

Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
Latest Recarts.
  I'm trying to get my graphs looking a bit more like Google's Material (material on top, recharts on bottom):

<img width="1172" alt="screen shot 2017-03-15 at 10 45 53 pm" src="https://cloud.githubusercontent.com/assets/54896/23947408/c3c54db4-09d2-11e7-9073-9e0df5808748.png">

I want to drop the ticklines, set a default font, color, font-aliasing, and move the graph over to the right ... are these sorts of things possible? Thanks so much!

Is there anywhere these style attributes are actually documented? I had searched through all the examples and the API ... Ahh thanks so much! Very powerful stuff, well thought out ...

Is there any way to tighten up the yaxis labels, get them sitting flush with the side of the page?  ![image](https://cloud.githubusercontent.com/assets/9864748/23883257/c50cef2a-08a0-11e7-99ac-41766002bd48.png)


![image](https://cloud.githubusercontent.com/assets/9864748/23883279/e351c4a6-08a0-11e7-8ca4-a691b633ed0c.png)


like this
  Question: Is it possible to configure a bar chart so that one of the bars appears within/on-top-of another bar (or a bar stack)? Something like this:

![image](https://cloud.githubusercontent.com/assets/685316/23881102/323ab4cc-0826-11e7-92f6-2ddfe61afa48.png)
  Do you want to request a feature or report a bug?

- Bug



What is the current behavior?

- Mirrored YAxis ticks (recharts-y-axis) in vertical bar chart is painted before (.recharts-bar-graphical), hiding it behind bars. 



If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/9y45ut13/).

       import {BarChart, Bar, Cell, XAxis, YAxis, CartesianGrid, Tooltip, Surface} from 'recharts';

       const data = [
         {id: "pos", name: "ABC", count: 123},
         {id: "web", name: "DEF", count: 456},
         {id: "inapp", name: "GHI", count: 789},
         {id: "recurring", name: "JKL", count: 101112}
      ]; 

       const yAxisProps = {
          dataKey: "name",
          tickLine: false,
          axisLine: false,
          fontSize: 12,
          mirror: true,
          type: "category",
          tick: {
             fill: "black"
          }
       }

        <BarChart {...barChartProps} name="Channel" data={data}>
           <XAxis {...xAxisProps} />
           <YAxis {...yAxisProps} dataKey="name" />
           <CartesianGrid {...cartesianGridProps} />
           <Tooltip {...tooltipProps} />
           <Bar {...barProps}
             dataKey='count'
            >
             {channels.map((entry, i) => (
               <Cell key={i} fill={color[i]} />
             ))}
           </Bar>
         </BarChart>




What is the expected behavior?

- YAxis ticks (.recharts-y-axis) should be painted after (.recharts-bar-graphical), so labels lay over the bars instead of hidden behind




Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?

- Latest/all browsers  Need simple example with Group Bar chart with secondary axis, Is it possible to render chart with existing chart components

I see these two examples so far

http://jsfiddle.net/millerized/r19hetwn/7/
http://jsfiddle.net/zh3z3znq/



and i am trying to acheive something like this 

<img width="1839" alt="screen shot 2017-03-14 at 17 56 32" src="https://cloud.githubusercontent.com/assets/840111/23912468/f66a4ef2-08df-11e7-838c-81502bc80893.png">
  Can some one please help me to create a scattered plot chart with a category type axis. 
The code in this fiddle does not seem to plot anything
http://jsfiddle.net/9xjjuwkk/30/

const {ScatterChart, Scatter, XAxis, YAxis, CartesianGrid, Tooltip, Legend} = Recharts;
const data = [{x: 'A', y: 200}, {x: 'B', y: 100}]

const SimpleScatterChart = React.createClass({
	render () {
  	return (
    	<ScatterChart width={400} height={400} margin={{top: 20, right: 20, bottom: 20, left: 20}}>
      	<XAxis dataKey={'x'} type='category' name='stature' unit='cm'/>
      	<YAxis dataKey={'y'} name='weight' unit='kg'/>
      	<Scatter name='A school' data={data} fill='#8884d8'/>
      	<CartesianGrid />
      	<Tooltip cursor={{strokeDasharray: '3 3'}}/>
      </ScatterChart>
    );
  }
})

ReactDOM.render(
  <SimpleScatterChart />,
  document.getElementById('container')
);


If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/9y45ut13/).
http://jsfiddle.net/9xjjuwkk/30/

What is the expected behavior?

Expected to display category on x axis

Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
 I've had the exact same problem with trying to use the 3D scatter. I managed to find a workaround for the ticks on the axes by using an array of numbers instead of categories and the tickFormatter prop for XAxis, but the labelFormatter prop for Tooltip doesn't seem to work at all for scatterplots. This means that the tooltip still displays the numbers instead of the categories that I am trying to format it to display. Still doesn't work in 1.4 on Y axis - https://jsfiddle.net/ferahl/jft863g4/  A chart with error bars, where the error is large enough to fall off the chart's axis:

![errorbarsoffchart](https://cloud.githubusercontent.com/assets/2357824/23808652/33928d60-0590-11e7-8aa0-378da33d0cd8.jpg)

Axis calculations need to consider error bars in min/max calculations.  Do you want to request a feature or report a bug?
New feature

What is the current behavior?
You can only add an onClick event to the line portion of a line chart not the actual data point.  You can get the x axis data label but not the line value that was clicked.

If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/9y45ut13/).

What is the expected behavior?
I would like to subscribe to dot click events on each line and get the value of the dot.

<Line onDotClick={(xvalue, yvalue) => } >

Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
I am using 0.21.2 on MacOS 10.12.3 with Chrome 57 I also need this change, mostly its needed for drill down type of charts, where user clicks on a data point and then we need to load more data based on the point. I would like the same, but also to be able to access any other data in that points' object if that's possible.

Use case would be to click a point that contains an id which I can then use in another api call. `<Line activeDot={{ onClick:this.handleClick }} />` worked for me.
   @andypotts I am using recharts v0.22.5 but `<Line activeDot={{ onClick:this.handleClick }} />` is not working in my case. Can you tell me what version of recharts you are using ? > `<Line activeDot={{ onClick:this.handleClick }} />` worked for me.

This worked for me in recharts v1.1.0

`activeDot={{onClick: ()=> {alert("clicked")} }}`  **Feature** - Area chart animation

Add area chart animation to grow from bottom to top, this would be a better approach when animating when data decreases and charts just low their height.

 @cesargdm Was this implemented?  I don't see a way to do it in the docs, but I would love to use this type of animation in my app.
AWESOME project btw! best charting lib for react :100:   I am working on ReactJs app and want to show some historical data of 3 years with entries as big thousands in number, I want to plot the entire points but the X-axis labels I want to be on monthly basis.
 check out the `tickFormatter` property on the `XAxis`  Do you want to request a feature or report a bug?
Maybe a bug, but maybe just a question.

What is the current behavior?
A ReferenceLine with a label, assigned to a particular axis, the label always shows on the side opposite of the axis. For example, if the ReferenceLine is assigned to the Y-Axis on the left side of the chart, the label appears on the right side of the chart. I suppose this is "good" behavior if there is only one visible Y axis, but when there are two (one on each side), it's confusing to have the label appear "inside" the other axis.

If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: http://jsfiddle.net/9y45ut13/).

What is the expected behavior?
Ideally, the label would have a way to choose its position.

Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
Latest ReCharts; any browser.  I've got a BarChart with mirrored ticks on YAxis and Tooltip.
When, the mouse is over a Bar, the corresponding tick label is hidden by the "mouse-over background effect".

The fiddle will be more understandable I hope!
http://jsfiddle.net/u8udorvy/196/

Does this behavior can be avoided?  Do you want to request a feature or report a bug?
Bug report

What is the current behavior?
Console logs hundreds of the same errors when trying use Recharts:
```jsx
<LineChart width={400} height={400} data={data}>
    <Line type="monotone" dataKey="uv" stroke="#8884d8" />
</LineChart>
```
<img width="558" alt="screen shot 2017-03-03 at 10 22 58 pm" src="https://cloud.githubusercontent.com/assets/8635054/23576650/0069a1ba-0060-11e7-84d4-c92b6fd3b369.png">


What is the expected behavior?
No errors logged

Which versions of Recharts, and which browser / OS are affected by this issue? Did this work in previous versions of Recharts?
Recharts version 0.21.2 on Chrome browser and OS X El Capitan  I would like to know how to  render arbitrary dots representing events over a line chart. Is this possible and if so, how? 

[I tried this with no luck. ](http://jsfiddle.net/x1yoboc7/484/)

I'm trying to achieve this:

![screen shot 03-02-17 at 02 34 pm](https://cloud.githubusercontent.com/assets/881986/23527485/bfccc498-ff5b-11e6-9b49-27c866f75ffb.PNG)
 @xile611 thank you! Can you point me to an example that uses the `label` prop of a `ReferenceDot`? I'm trying to use it within a `ComposedChart` but I guess I'm doing something wrong.

![screen shot 03-03-17 at 08 39 am](https://cloud.githubusercontent.com/assets/881986/23555033/f798da74-ffec-11e6-8b0c-48ec1592f90c.PNG)
![screen shot 03-03-17 at 08 39 am 001](https://cloud.githubusercontent.com/assets/881986/23555035/fa56fba6-ffec-11e6-96e5-70268b1e51e4.PNG)
  I think I've found a bug. I am trying to create a ScatterChart with a ReferenceLine. I want to put the ReferenceLine inside a Redux connected component, which means I have to put it in a separate custom component. 

The problem is that unless I explicitly place the ReferenceLine inside the chart it doesn't appear in the chart at all. Even if I put it in a simple wrapper component the ReferenceLine disappears.

Here is a JSFiddle: http://jsfiddle.net/9xjjuwkk/27/

**Chart**
```jsx
class Chart extends Component {
    render() {
        const { now } = this.props;
        return (
            <ResponsiveContainer width="100%" height={400}>
                <ScatterChart >
                    <CartesianGrid strokeDasharray="3 3" />
                    <Scatter name="vector" data={data} fill='#8884d8'
                        line
                        shape={shape} />
                    <XAxis dataKey="time" name="time" unit="seconds" label="seconds" domain={[0, 1]} />
                    <YAxis dataKey="vector" unit="g" name="acceleration" />
                    <ReferenceLine x={0.5} stroke="red" strokeDasharray="3 3" label="Crash" />
                    <NowLine now={now} /> {/* should also return ReferenceLine */}
                </ScatterChart>
            </ResponsiveContainer>
        )
    }
}
```


**Component that returns a ReferenceLine**

```jsx
class NowLine extends Component {
    render() {
        const { now } = this.props;
        return (
            <ReferenceLine x={now} stroke="blue" strokeDasharray="3 3" label="Current" />
        )
    }
}
```


There should be two reference lines inside the chart, a red one which is placed inside the chart explicitly, and a blue one which should be returned through the NowLine component. However the blue one doesn't appear. Why is this the case?

I am using recharts v0.20.8 on Chrome 55/Windows 7.

This could be related to #41 but I'm not 100% sure. 

Any help would be appreciated! Right... Ok I understand. But can't something be done about this? 

The reason I want to put it inside a customised component is that I my graph displays a ton of data, and forcing React to recompute the component tree on change of a single prop (`now`) is making the whole chart slow down - hence why I need to put the ReferenceLine inside of a redux connected component, to avoid an entire component rerender.

Hm. What if in addition to checking if the inside component is a ReferenceLine , the chart also checked for the presence of a special prop to indicate that that component returns a reference component? 

Eg something like `<CustomComponent isReference={true} />`? I suppose my real question is: how can I change a ReferenceLine without forcing the entire chart recompute? That's what I'm really struggling with. When you have a few hundred/thousand of data points the entire page starts going janky - especially if you're trying to update a prop several times a second.

That's the reason why I want to put the ReferenceLine inside a connected component, so it connects directly to a redux store, bypassing the prop chain, thereby avoiding a chart recompute. 

However if the ReferenceLine actually just adds props onto the parent chart then does that mean avoiding a recompute is not possible? Ok... can you at least reopen this issue then so someone else can find it? Exactly - which is a problem. Maybe it would be possible for someone to create a pull request with some code refactors that would allow one part to update without the other? 

Either way the problem still exists; it may not be a bug as such, but it's still a problem.  Barsize doesnt work when updated to this new version 0.21.2.  It does not accept the bar size and calculates it internally. Can you please check? It works in 0.20.2, the last version i was using. whebn i updated it, the barSize doesnt take effect at all. Any idea why?  Can confirm this is still the case  Here is a simple AreaChart (not sure if other charts are affected) with a `domain={['auto', 'auto']}` prop on the `YAxis`.
- `v0.20.7`: http://jsfiddle.net/c6kvLkn2/
- `v0.20.6`: http://jsfiddle.net/7feeL86k/

As you can see, the Y axis on the chart running 0.20.7 starts at 0 instead of 1800. Same issue if using `dataMin`, etc.
I'm not sure what the issue is, but having a quick look at the diff (https://github.com/recharts/recharts/compare/v0.20.6...v0.20.7) hints this is a regression introduced by the `mirror` setting.
Thanks.  Since the new version i'm getting this:
"Each child in an array or iterator should have a unique "key" prop. Check the render method of `ComposedChart`."

Am I missing something? This is the code i'm using to create the chart:

![image](https://cloud.githubusercontent.com/assets/18700777/23399729/9d53f74e-fda1-11e6-9319-c25569a86472.png)


I was able to fix it by adding a random key as a prop to the `Chart` component in the mapping function of the render method in the ComposedChart class.
But now the lines always rerender and animate while hovering. Thanks for the fast answer.

I checked these keys. They are all unique and if I don't add them i'm getting the unique key warning twice.
I even get this warning if I use the code of the documentation.

![image](https://cloud.githubusercontent.com/assets/18700777/23401926/c740a018-fda9-11e6-9bc6-8938a495e273.png)
 Sorry wasting your time. I just got that little f***!
Sometimes npm is a true devil. Told me that I had installed the newest version but I had an old one. After setting up a new installation everything works fine.
Thanks for the help anywas ;)  Sometimes, the rendered figure looks like this.
![image](https://cloud.githubusercontent.com/assets/9393110/23386287/59eab1ce-fd0a-11e6-8061-2e81bbc5f5ae.png)

However, the correct one should be:
![image](https://cloud.githubusercontent.com/assets/9393110/23386302/7c75f7a8-fd0a-11e6-8406-a52b8aa4959a.png)

Is this a bug or any suggestions? Thanks for replying!

Here is the code I am using.
```
const filmstripInfo = this.props.filmstripInfo;
const heatMapData = this.props.heatMapData;
```
those two are passing from the parent element.

heatMapData looks like this:
```
  heatmapData: [
            { time: 0, user: 3000, crowd: 2000 },
            { time: 100000, user: 2000, crowd: 4000 },
            { time: 200000, user: 1000, crowd: 5000 },
            { time: 300000, user: 4000, crowd: 6000 },
            { time: 400000, user: 5000, crowd: 2000 },
            { time: 500000, user: 1000, crowd: 3000 },
            { time: 600000, user: 3000, crowd: 4000 },
            { time: 700000, user: 4000, crowd: 4000 },
            { time: 800000, user: 5000, crowd: 4000 },
            { time: 900000, user: 6000, crowd: 5000 },
            { time: 1000000, user: 6000, crowd: 6000 },
            { time: 1100000, user: 4000, crowd: 7000 },
            { time: 1200000, user: 5000, crowd: 8000 },
            { time: 1300000, user: 5000, crowd: 1000 },
            { time: 1400000, user: 8000, crowd: 2000 },
            { time: 1500000, user: 9000, crowd: 3000 },
            { time: 1600000, user: 1000, crowd: 4000 },
            { time: 1700000, user: 1000, crowd: 6000 },
            { time: 1800000, user: 2000, crowd: 5000 },
            { time: 1900000, user: 3000, crowd: 7000 },
            { time: 2000000, user: 3000, crowd: 7000 },
            { time: 2100000, user: 3000, crowd: 7000 },
            { time: 2200000, user: 3000, crowd: 7000 },
            { time: 2300000, user: 3000, crowd: 7000 },
            { time: 2400000, user: 3000, crowd: 7000 },
            { time: 2500000, user: 3000, crowd: 7000 },
            { time: 2600000, user: 3000, crowd: 7000 },
  ],
```

What I am trying to do is when parent height and width change, it will rerender to generate the figure. But sometimes, I get the issues.

```
import React from 'react';
import { AreaChart, Area } from 'recharts';
import _ from 'lodash';

export default class HeatMapCore extends React.Component {

  constructor(props) {
    super(props);
    this.filterHeatMapData = this.filterHeatMapData.bind(this);
  }

  shouldComponentUpdate(nextProps) {
    const filmstripInfo = this.props.filmstripInfo;
    const heatMapData = this.props.heatMapData;
    return !_.isEqual(filmstripInfo, nextProps.filmstripInfo) || !_.isEqual(heatMapData, nextProps.heatMapData);
  }

  filterHeatMapData(input) {
    const filmstripInfo = this.props.filmstripInfo;
    return input.time >= filmstripInfo.filmstripStartTime && input.time <= filmstripInfo.filmstripEndTime;
  }

  render() {
    const filmstripInfo = this.props.filmstripInfo;
    const heatMapData = this.props.heatMapData;
    const div = 6;

        // need to change
    const heatMapStyle = {
      height: filmstripInfo.height / div,
      width: filmstripInfo.width,
    };

    return (
      <div style={heatMapStyle} className={this.props.className}>
        <AreaChart
          width={heatMapStyle.width} height={heatMapStyle.height}
          data={heatMapData.filter(this.filterHeatMapData)}
          margin={{ top: 0, right: 0, left: 0, bottom: 0 }}
        >
          <defs>
            <linearGradient id="colorUser" x1="0" y1="0" x2="0" y2="1">
              <stop offset="5%" stopColor="#8884d8" stopOpacity={0.9} />
              <stop offset="95%" stopColor="#8884d8" stopOpacity={0.9} />
            </linearGradient>
            <linearGradient id="colorCrowd" x1="0" y1="0" x2="0" y2="1">
              <stop offset="5%" stopColor="#82ca9d" stopOpacity={0.9} />
              <stop offset="95%" stopColor="#82ca9d" stopOpacity={0.9} />
            </linearGradient>
          </defs>
          <Area
            isAnimationActive={false} type="monotone" dataKey="user" stroke="#8884d8" fillOpacity={1}
            fill="url(#colorUser)"
          />
          <Area
            isAnimationActive={false} type="monotone" dataKey="crowd" stroke="#82ca9d" fillOpacity={1}
            fill="url(#colorCrowd)"
          />
        </AreaChart>
      </div>
    );
  }
}
```
 https://drive.google.com/open?id=0B5wxwZzr0YVrUTdTNEdPdklhZFU

![untitled](https://cloud.githubusercontent.com/assets/9393110/23390446/f6b1e0aa-fd22-11e6-8ac4-e6d52027297b.gif)

Here is a demo Thanks for the simple demo. I will dig into this. Maybe I need to change the way how to render the charts, close for now  Follow this link, my data is normal, but the label for YAxis is failed when I use domain={['auto', 'auto']}.
http://jsfiddle.net/bigearsenal/6hcfzj37/
I tried to remove an object
` {
      "currency": 22,
      "date": "2017-02-15T21:00:00.000Z",
      "value": 39.9156
    },`
and it works well again.
http://jsfiddle.net/bigearsenal/6hcfzj37/3/
So what is the problem?
Thank you The problem is still there
http://jsfiddle.net/bigearsenal/6hcfzj37/4/ @xile611 I've checked. Thanks for awesome work! (y)  I am layering quite a few radars on a radar chart The tooltips display data of the active (or top) layer, ignoring the data below. It would be nice to have an option to display the data within the active "wedge" or axis of the radar chart. Similar to the tooltip cursor attribute for Bar Charts... allow a hover state and data display for the active wedge or axis, instead of radar layer.  Is there currently a way to get the CartesianGrid to show in front of the data series? For area and some bar charts, a CartesianGrid that's drawn behind the data series isn't very useful. Our specific use-case was with a "100%" area chart, where the area plots completely cover the background (and the grid). I know we could reduce the opacity of the areas to have the grid show through, but it seemed like support for an "isFront" prop on the grid would have been better/easier in this case. Perhaps mine is an edge case. I ended up going with semi-transparent area plots with the grid behind.

And yes, the 100% area chart is one where the various area plots are forced to fill the entire chart rectangle (so without going semi-transparent, the grid is completely hidden).  I know it's possible to use a custom label formatter to do labels inside pie "slices", but that seems like such a common thing to do that a simple labelRadius prop (which would work the same way as inner/outerRadius, except that it sets the radius that the labels are drawn at (anchor:middle/baseline:middle).

As a bonus, you might consider an "angle" prop that would control the rotation of the individual labels, with a value of 0 meaning "no rotation" and a value of "radial" meaning rotation based on the angle of the text location (i.e. radial lines extending from the center of the pie would be perpendicular to the baseline of each label's text). Interesting, but it doesn't quite work:
![image](https://cloud.githubusercontent.com/assets/685316/23393139/44a4de7a-fd46-11e6-9fb0-216223eff8cc.png)

I suspect the text alignment/baseline is off (I tried setting these in the object, but I could not find a combination that had any effect). Also, While inner/outerRadius can be set as a percentage (thus creating a size-responsive pie chart), offsetRadius seems to only accept a numeric fixed pixel value.

Regarding angle, that's fine, I realize not everything can or should be a built-in feature. And I agree that angle 0 is easiest to read, but we have seen some use cases where radial alignment around a partial pie/donut is desirable. Sounds good. For simple stuff like putting the label inside the pie/donut slice, that shouldn't require external code. I agree that the "base library" can't possible cover all use-cases, the trick is sometimes to figure out where that line is. PS - This may get fixed with the alignment/baseline fix, but notice that there is a significant difference in label position between offsetRadius:0 (or omitted) and offsetRadius:1 (or -1).  Any thoughts on adding the ability to drive the position of a ReferenceLine with an aggregate function calculated across all samples of a particular datakey? In other words, for a horizontal ReferenceLine, instead of declaring "y" as a static value, specify "datakey" and a new "function" prop to calculate the position of the line in real-time. Potential (easy) functions would be "average", "min", "max", "mean", "mode", etc. Some more elaborate functions could be supported by passing a user-defined function in the "function" prop, where the function is passed a reference to the data array and key, and returns a single value used to set the line position. As a follow-up to this, just allowing "x" or "y" props to be set to a user-defined function (that returns the single value for the line) would be an even simpler enhancement. I think parameters passed into the function, if any, would be very specific to the function and so would need to be supplied by the user as arguments to the function in its declaration. I don't see any need for any "dynamic" parameters to be sent. I'm not sure I understand the distinction. Are you saying this could be done now? If so, can you show me a simple example? Yes, that's exactly what I had in mind. Thank you! PS - Not a big deal, but if you ever think about enhancing this, it would be nice to pass the data (as defined in the chart) to the function.  If I remove the ResponsiveContainer .... I get Server Side Rendered Graph.... But If I use ResponsiveContainer... The Graph is rendered in the client side alone....
 ```javascript
<div id="canvas_dahs" className="demo-placeholder" style={{ width: '100%', height: '270px' }} >
        <ResponsiveContainer width='100%' height='100%' minWidth={100} minHeight={100}>
          <LineChart width={600} height={300} data={data} margin={{ top: 5, right: 30, left: 20, bottom: 5 }}>
            <XAxis dataKey="name" />
            <YAxis />
            <CartesianGrid strokeDasharray="3 3" />
            <Tooltip />
            <Legend />
            <Line type="monotone" dataKey="pv" stroke="#8884d8" activeDot={{ r: 8 }} />
            <Line type="monotone" dataKey="uv" stroke="#82ca9d" />
          </LineChart>
        </ResponsiveContainer>
      </div>
``` Is there a workaround for this? @xile611  @xile611  but it is not fixed( As per my requirement ).... the graph has to adjust its width depending on the browser size.... If a div of width in percentage is responsive on the server side render why cant a svg graph be responsive? A chart can be in percentages too... Not only in pixels(If that is the case, then what is the use of ResponsiveContainer in recharts then? )... Recharts creates an svg.  SSR can also append svg into html and also, svg can be in percentages... What Iam asking is to use percentages for width and height for the generated svg. 100% true.... that is what is needed.... and that is what responsive container does.... and that is what bootstrap or foundation does for us (SSR also) ..... If bootstrap or foundation can use percentages to make an html element responsive... Why cant an svg be responsive... ? when SSR is used?  Is it possible to add a payload to a Tooltip for charts that used stacked data such as BarChart and AreaChart? Looking at the source it doesn't appear that it can, but I could be very wrong. There also appear to be no examples to check.

Assuming that I've not made a horrible mistake; It would be nice if the payload could take an array of arrays of objects, or alternatively, take a string which points to a property in the data. Thanks, I'm currently using this. However, I was specifically asking about the payload, since I quite like the default behaviours. Alright, sorry. I thought I could set it through the payload property ([Tooltip API](http://recharts.org/#/en-US/api/Tooltip)) Then please adjust the API Documentation. 
Payload exactly was what we were looking for. But it doesn't work.  Is it possible to make the Brush itself display data?

Attached is what I am trying to accomplish; The problem is with attached I'm just using CSS to move a second AreaChart inside of the Brush which makes the Brush Traveler not work.

is there a way to put data directly within the Brush component?

![screen shot 2017-02-21 at 10 37 04 am](https://cloud.githubusercontent.com/assets/22822404/23179161/cb341e44-f821-11e6-82b6-dee56bd5cb3d.png) Has this been implemented?
Is usage like 
<Brush dataKey="the_dataKey" /> ? @xile611 you keep sending notifications to the wrong Greg ðŸ˜‰   area chart with irregular xAxis. ![3](https://cloud.githubusercontent.com/assets/226573/23157708/3421a13a-f857-11e6-8162-1ea703a396a6.png) i use scatter chart temporarily, 
```
const JointLineScatterChart = ({data1, data2}) => {
    var start = new Date().setHours(0,0,0,0);
    var ndata1 = data1 && data1.map ((item)=>{
        var ttt = new Date(item.createdAt).getTime() - start;
        var x = ttt*24/(24*60*60*1000);
        var y = item.value;
        return {x, y};
    });
    return (
    <ResponsiveContainer>
    	<ScatterChart width={600} height={400} margin={{top: 20, right: 20, bottom: 20, left: 20}}>
      	<XAxis dataKey={'x'} name='stature' unit='cm'/>
      	<YAxis dataKey={'y'} name='weight' unit='kg'/>
        <ZAxis range={[100]}/>
        <CartesianGrid />
      	<Tooltip/>
        <Legend/>
      	<Scatter name='watt' data={ndata1} fill='#8884d8' fillOpacity={0} line lineType='joint'  lineJointType='linear'/>
      	{/*<Scatter name='watt' data={ndata1} fill='#8884d8' line lineType='joint'  lineJointType='natural' shape="circle"/>*/}
        {/*<Scatter name='B school' data={data02} fill='#82ca9d' line shape="diamond"/>*/}
      </ScatterChart>
    </ResponsiveContainer>
    );
}
```
and got below:
![4](https://cloud.githubusercontent.com/assets/226573/23158000/5d83502c-f858-11e6-88ec-1af75ae43eb4.png)

 @xile611 is there any way to tackle it? @xile611 after dive into the source code hardly, finally, I got the solution. just set the 'type' of xAxis. 
``` <XAxis dataKey="name" type="number"/> ```
really, need more document or examples! example: <http://jsfiddle.net/agooou/p39k0vwt/>  Now you can pass an explicit `id` to the Pie component in order to better support server side rendering. This is because the implementation of `uniqueId` in DataUtils.js. In server side, DataUtils.js will be imported once but run several times across several requests. So in client side, the id will be much smaller than server side. That causes checksum issue.  Is it possible to have a bar chart with more than two Bars? All I get is a blank chart.

http://jsfiddle.net/xtdssj96/13/  How do I do something like this?

![image](https://cloud.githubusercontent.com/assets/1463145/23098770/89bf9eac-f65f-11e6-9f8a-b3e551d40231.png)
 Maybe you can try to create custom shapes
```
const CustomizedShape = (props) => {
  const {cx, cy, fill, riderName} = props;
  return (
    <g>
      <Dot cx={cx} cy={cy} r={5} fill={fill} />
      <g transform={`translate(${cx},${cy})`}>
        <text x={10} y={0} dy={4} textAnchor="left">{riderName}</text>
      </g>
    </g>
   );
};
```

```
<Scatter 
  name='Riders with doping allegations' 
  data={data} 
  fill='#EC7C6D' 
  shape={<CustomizedShape />}  
/>
```

<img width="1039" alt="screenshot" src="https://cloud.githubusercontent.com/assets/279377/26001907/32eeb67a-372e-11e7-937a-d2189d42d3ca.png">
 Fabians post is awesome.
For those looking for an example of LabelList:
http://recharts.org/en-US/examples/BarChartWithMinHeight  Growing all stacked bars simultaneously as in [this example](http://recharts.org/#/en-US/examples/StackedBarChart) feels broken and many people from my team expressed the same concern.

Is there any way to render stacked bars in the same bar category as if they were one same bar, [Like some other chart libraries do](http://www.highcharts.com/demo/bar-stacked)?
Or render them one by one, starting growing a bar when all the bars left to it get rendered? I tried to achieve this by delaying animationBegin by animationDuration for all the bars to the left to load, but this does not work when there are data rows with values of 0.  Can't wait for this... It looks interesting, but it's hard to tell how it would be used without an example--is that possible? Yes, I think this is a good step, but I would not deprecate the label props in Line/Area/Bar... I see these new components as being a more advanced option, but sometimes just the basic label prop is all you need (plus, it would be a breaking change). Looking forward to see these componentized  @xile611 can you provide example for stacked bar chart where do we mention a common label   It would be really cool if you could pass in a function to `<Legend/>` which transforms the payload. I want to just effect a subtle change to it and don't want to have to recompute all the other properties which are fine by default.

Even if we could just transform the `value`, that's what I need most. For example, it would be useful in [this jsfiddle](http://jsfiddle.net/xpegg70o/2/) from #323. 

In it, the Legend payload has a custom `value`, but it looks uglier because it's missing the rest of the default properties. @xile611 Sounds great and exactly what I'd like. Is that already possible as is? @xile611 By new feature, do you mean a new feature that's recently been added but is undocumented, or new feature that ought to be added? ðŸ’© So shall we add the enhancements tag?  In this example: [http://recharts.org/#/en-US/examples/CustomizedLabelLineChart](http://recharts.org/#/en-US/examples/CustomizedLabelLineChart)

No labels are shown. Ah, OK. So I can almost accomplish the same thing like this:

`{fill:"#82ca9d", stroke:false, fontSize:10, dy:-4}`

But dy doesn't work. Is there a way to control the offset of the label (without a custom function)? I've tried this every which way, but dy still has no effect on the position of the label. Can you show me in a jsfiddle (I essentially did that, using the CustomizedLabelLineChart example as a starting point)?  What's the difference between using iconType with Legend vs using it in Area/Bar/Line?  Chart is being responsively changed according to the size but label (if they're to long) seems not to be considered in the measurements which means they're cut in some circumstances. 

JSFiddle with repro: http://jsfiddle.net/6rtyqjf8/ how do you render Labels inside? I had the same problem, and I solved it, I added prop `minWidth` to `ResponsiveContainer` and added `overflow: auto` to my `div` inside which is located `ResponsiveContainer` @yaroslav-perec Could you show us your ResponsiveContainer class pls? @fgiarritiello sure,

```
<div className="content">    
  <ResponsiveContainer minWidth={500}>
  	<PieChart>
   		<Pie data={data01} cx="50%" cy="50%" outerRadius={50} fill="#8884d8" />
   		<Pie data={data02} cx="50%" cy="50%" innerRadius={60} outerRadius={80}  
                     fill="#82ca9d" label />
  	</PieChart>
  </ResponsiveContainer>
</div>

```
CSS:

```
.content {
  overflow: auto;
}
```  Steps to reproduce:
1. visit the [Pie API page](http://recharts.org/#/en-US/api/Pie)
2. Inspect or click any of the "Example" links.

**A pie chart with customized label**
`http://recharts.org/#/en-USexamples#PieChartWithCustomizedLabel`

It looks like the hash path is missing "/" separators. This issue might also be on other pages.  ![image](https://cloud.githubusercontent.com/assets/13232941/22818398/febd13ce-efa7-11e6-9a11-0e3bce3e0f99.png)

It occurs at the first time when I get data from server side.
But when I get data from server side again, the line chart is right.

How can I make it right at the first time when I get data from server side.

 this is my code:

```
class SearchContentChart extends React.Component {
  constructor(props) {
    super(props);
  }

  render() {

    const loadLines = data => data.map((item) => {
      return <Line type="monotone" key={item.key} dataKey={item.key} name={item.name} stroke={item.color} dot={null}/>
    });

    return (
      <ResponsiveContainer height={ 300 }>
        <LineChart data={this.props.data.data || []}>
          <XAxis dataKey="name"/>
          <YAxis />
          <CartesianGrid strokeDasharray="3 3"/>
          <Tooltip />
          <Legend/>
          {loadLines(this.props.data.line || [])}
        </LineChart>
      </ResponsiveContainer>
    )
  }
}
``` @xile611 "recharts": "^0.20.2"ï¼Œèƒ½æ–¹ä¾¿é‚®ä»¶æˆ–è€…å…¶ä»–æ–¹å¼è”ç³»ä¸‹å—ï¼Ÿ I've seen this same issue manifest in my code. The issue is that the *first* render with actual data does not take into account the space occupied by legend but the *second* render (with actual data) does.

So basically after the first render, the chart has a bit too much height but it gets readjusted when rendering new data, for example. (I have a chart that dynamically loads new stuff from server after pressing a button)

Newest version of recharts.

```javascript
    const wrapperStyle = {
      display: 'block',
      marginTop: '20px',
      marginLeft: 'auto',
      marginRight: 'auto',
      width: `100%`,
      height: '220px',
    }

    const chartMargins = {
      top: 5,
      right: 20,
      left: 0,
      bottom: 20
    }

    return (
      <div style={wrapperStyle}>
        <ResponsiveContainer width="100%" height="100%">
          <LineChart data={data} margin={chartMargins}>
            <XAxis dataKey="time" />
            <YAxis/>
            <CartesianGrid stroke="#eee" strokeDasharray="5 5"/>
            <Legend />
            <Tooltip/>
            <Line name={`${name} (${currencySymbol()})`} type="monotone" dataKey={dataKey} stroke="#8884d8" />
          </LineChart>
        </ResponsiveContainer>
      </div>

    )
``` @elnygren did you ever get this fixed? I'm still seeing this issue on first load and then it resizes to the correct size on something like onMouseOver. @ctoppel I am having the same issue I see the same issue, where it resizes to the correct size after a while(maybe after some event). same issue I solved this issue by simply returning `null` if there is no data or if data's length equals to zero. Please help. I'm facing the same issue. Legend and chart overlaps initially. When hover over the chart, It resizes and displays both chart and legend properly.  I'm working on a project that's testing with jest and skin-deep. We're trying to test that we've passed the correct data to AreaChart. 

However, when we call `sd.shallowRender(<OurComponent />`, we're seeing that the included `AreaChart` component is fully rendered. This makes it impossible to test, since we don't know exactly where our data will end up. 

Is it possible to not fully render the charts with `sd.shallowRender()`?  I set the orientation of the Y axis to "right" and now I wanna display the tick values inside the chart. I know it is possible on d3, but I did not see any config on the API page (http://recharts.org/#/en-US/api/YAxis).

I know I could create a custom tick component and change the dx value to negative, but this is quite a lot of work to a simple functionality that already exists on d3.  Hi, I am trying to add custom labels into the bar chart near the bars.
[http://www.clipular.com/c/6279233242660864.png?k=JETXTDXXrS_rtX3aBNQXtDKhqCk](http://www.clipular.com/c/6279233242660864.png?k=JETXTDXXrS_rtX3aBNQXtDKhqCk)
I have tried to add <Text> element but the  text does not appear. ([http://jsfiddle.net/t4t5rx16/16/](http://jsfiddle.net/t4t5rx16/16/))
 Also I want to place text near the end of each bar, so the x and y position shoud be relative to bar length.  How can I accomplish that?  - direct load method as a package from lodash definition
- instead of loading the entire lodash library just load what needed.  After customizing the x axis bar "labels" to turn them on an angle, as shown [here](http://recharts.org/#/en-US/examples/CustomizedLabelLineChart) , the brush is rendered on top of some portion of the longer labels.

Unfortunately there is no way that I have come across to move the brush down, or even placing it on top of the chart. How can I do this?

If i update the "y" in the developer tools of the browser, it seems to move the brush, however, changing the "y" prop for the brush component does not have the same results.

I have to say, I really do love this library for ease of use. However, the custom styling of most of these components is a nightmare, and should possibly be rethought, and reworked, as style should not be forced to be the way the creator of the library thinks it should be. 

I updated the fiddle in your example to show the [issue](http://jsfiddle.net/97oecp4k/)  Just importing from recharts gives me lots of errors from node_modules/math-expression-evaluator/src/lexer.js. All the errors are about the variables "i", "x", and "y" being undefined. Is anyone else seeing this? Maybe that dependency is currently broken. I can't reproduce this now, so I'm closing it. Sorry for the noise.  isomorphic/universal rendering failing due to Date.now() usage for id creation in Pie component

- Included a new prop 'clipPathId' for Pie component which can be used for isomorphic apps @xile611 Request you please take a look at my pull request. Would be helpful if this can be merged in and released with next version. 

I am awaiting for this fix and release to update this library accordingly in personal project.



P.S. Great job done with D3 and react here! I developed few charts with D3+React for my projects as well and I totally understand the effort it takes to get them right :) Really like your project here. Do let me know in case I can help you with anything here. @xile611 Yes, that could possibly fix this case.

But there's one more case I have in mind which might fail if we do the above. Since we are assuming lodash will be imported as a singleton on both server and client and therefore would generate the same unique id, but what about the case where ` lodash.uniqueId` is being used at server for any other application specific task before server rendering. That would take the lodash's unique id counter one step ahead of what client would be calculating. 

I suggest we should still keep `clipPathId` as prop and replace the calculation in `defaultProps` with ` lodash.uniqueId`.  That could cover all our cases. 

Please let me know if you agree and I will reopen this PR with necessary changes. @xile611 Completely agree on `clipPathId` as prop is needless. Only suggesting it as it was giving me control from my app to fix this scenario. However, your suggestion of having rechart's own `uniqueId` generator function should solve this ðŸ‘   `Warning: React.createElement: type should not be null, undefined, boolean, or number. It should be a string (for DOM elements) or a ReactClass (for composite components). Check the render method of `Bar`.`

I am getting the above error. I don't what is happening. I didn't do any changes to my code. All that I did is I've deleted my node_modules folder and then `npm install`.

```
         <ResponsiveContainer height={300}>
            <BarChart data={this.props.stats} width={150}>
              <XAxis dataKey="title" />
              <YAxis />
              <CartesianGrid strokeDasharray="3 3" />
              <Tooltip />
              <Bar dataKey="bookings" fill="#009f8b" />
            </BarChart>
          </ResponsiveContainer>
``` @xile611 No, I am using below line for importing Bar, and other components.
`import { BarChart, XAxis, YAxis, CartesianGrid, Tooltip, Bar, ResponsiveContainer } from 'recharts';`

Please let me know any mistakes. BY LOGGING BAR I am getting below function
 ```
function Bar() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Bar);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_keyâ€¦
```

I am using version `0.19.1` I've tried using other charts like LineChart. Even that is giving same error. @xile611 I am sorry. That's private project. But I can provide you that one file. and package.json file.

```

import React from 'react';
import { connect } from 'react-redux';
import Helmet from 'react-helmet';
import { BarChart, XAxis, YAxis, CartesianGrid, Tooltip, Bar, ResponsiveContainer } from 'recharts';
import { Link } from 'react-router';
import { DateTimePicker } from 'react-widgets';
import classNames from 'classnames';

import selectDashboard from './selectors';
import { fetchStats, onChangeStatsDate } from './actions';

export class Dashboard extends React.PureComponent {

  componentDidMount() {
    this.props.fetchStats();
  }

  render() {
    console.log(Bar);
    console.log('\n\n\n\n');
    const { statsFromDate, statsToDate, onChangeStatsToDate, onChangeStatsFromDate } = this.props;
    return (
      <div>
        <Helmet
          title="Dashboard"
          meta={[
            { name: 'description', content: 'Description of Dashboard' },
          ]}
        />
        <div className="row">
          <div className="col-sm-12">
            <div className="message">
              <h1>Welcome in Dashboard</h1>
            </div>{/* /.message */}
          </div>
        </div>
        <br />
        <br />
        <br />
        <div className="row">
          <h3 className="col-sm-4">
            Overview - <span style={{ fontSize: 10 }}>From - To filter</span>
          </h3>
          <div className="col-sm-8">
            <div className="row">
              <div className="col-sm-4">
                <DateTimePicker onChange={onChangeStatsFromDate} value={statsFromDate} />
              </div>
              <div className="col-sm-4">
                <DateTimePicker onChange={onChangeStatsToDate} min={statsFromDate} value={statsToDate} />
              </div>
              <div className="col-sm-4">
                <button style={{ marginTop: 5 }} className="no-style-button pull-right" >
                  <h3> <Link onClick={this.props.fetchStats}>
                    <i className={classNames({ 'fa fa-spin fa-spinner': this.props.fetchingStats })} /> Filter Overview
                    <i className="fa fa-chevron-right" /> </Link>
                  </h3>
                </button>
              </div>
            </div>
          </div>
        </div>
        <ResponsiveContainer height={300}>
          <BarChart data={this.props.stats} width={150}>
            <XAxis dataKey="title" />
            <YAxis />
            <CartesianGrid strokeDasharray="3 3" />
            <Tooltip />
            <Bar dataKey="bookings" fill="#009f8b" />
          </BarChart>
        </ResponsiveContainer>
      </div>
    );
  }
}

Dashboard.propTypes = {
  fetchStats: React.PropTypes.func,
  stats: React.PropTypes.array,
  statsFromDate: React.PropTypes.object,
  statsToDate: React.PropTypes.object,
  onChangeStatsFromDate: React.PropTypes.func,
  onChangeStatsToDate: React.PropTypes.func,
  fetchingStats: React.PropTypes.bool,
};

const mapStateToProps = selectDashboard();

function mapDispatchToProps(dispatch) {
  return {
    fetchStats: () => dispatch(fetchStats()),
    onChangeStatsToDate: (value) => dispatch(onChangeStatsDate('statsToDate', value)),
    onChangeStatsFromDate: (value) => dispatch(onChangeStatsDate('statsFromDate', value)),
  };
}

export default connect(mapStateToProps, mapDispatchToProps)(Dashboard);

```

I've tried logging `stats array`. It's working properly it giving the result as expected.

Below one is the `package.json` file

```
"dependencies": {
    "async": "2.1.4",
    "babel-polyfill": "6.16.0",
    "body-parser": "1.15.2",
    "chalk": "1.1.3",
    "classnames": "2.2.5",
    "cloudinary": "1.4.6",
    "compression": "1.6.2",
    "connect-mongo": "1.3.2",
    "cookie-parser": "1.4.3",
    "cross-env": "3.1.3",
    "crypto": "0.0.3",
    "datauri": "1.0.5",
    "eslint-plugin-import": "^2.0.1",
    "express": "4.14.0",
    "express-session": "1.14.2",
    "file-stream-rotator": "0.0.7",
    "fontfaceobserver": "2.0.5",
    "geoip-lite": "1.1.8",
    "immutable": "3.8.1",
    "intl": "1.2.5",
    "invariant": "2.2.1",
    "ip": "1.1.3",
    "jquery": "3.1.1",
    "less-loader": "2.2.3",
    "lodash": "4.16.4",
    "minimist": "1.2.0",
    "mongoose": "4.7.0",
    "morgan": "1.7.0",
    "multer": "1.2.1",
    "nodemailer": "2.7.0",
    "nodemailer-mailgun-transport": "1.2.4",
    "passport": "0.3.2",
    "passport-local": "1.0.0",
    "passport-local-mongoose": "4.0.0",
    "prerender-node": "2.7.0",
    "q": "1.4.1",
    "react": "15.3.2",
    "react-addons-shallow-compare": "^15.3.2",
    "react-addons-test-utils": "^15.3.2",
    "react-addons-transition-group": "^15.3.2",
    "react-async-script-loader": "0.2.2",
    "react-bootstrap": "0.30.7",
    "react-bootstrap-daterangepicker": "3.2.2",
    "react-countup": "1.3.0",
    "react-cropper": "0.10.0",
    "react-dom": "15.3.2",
    "react-dropzone": "3.8.0",
    "react-geosuggest": "2.1.0",
    "react-helmet": "3.1.0",
    "react-html5video": "1.4.0",
    "react-idle-timer": "1.3.3",
    "react-intl": "2.1.5",
    "react-player": "0.14.1",
    "react-redux": "4.4.5",
    "react-router": "3.0.0",
    "react-router-redux": "4.0.6",
    "react-router-scroll": "0.3.3",
    "react-rte": "0.11.0",
    "react-share": "^1.11.1",
    "react-sticky": "5.0.5",
    "react-widgets": "3.4.5",
    "recharts": "^0.19.1",
    "redux": "3.6.0",
    "redux-immutable": "3.0.8",
    "redux-saga": "0.12.0",
    "request": "2.79.0",
    "require-all": "2.1.0",
    "reselect": "2.5.4",
    "sanitize-html": "1.13.0",
    "sanitize.css": "4.1.0",
    "sitemap": "^1.9.0",
    "slug": "0.9.1",
    "styled-components": "1.0.3",
    "validator": "6.2.0",
    "warning": "3.0.0",
    "whatwg-fetch": "1.0.0",
    "youtube-url": "0.5.0"
  },
  "devDependencies": {
    "babel-cli": "6.18.0",
    "babel-core": "6.18.0",
    "babel-eslint": "7.1.0",
    "babel-loader": "6.2.7",
    "babel-plugin-istanbul": "2.0.3",
    "babel-plugin-react-intl": "2.2.0",
    "babel-plugin-react-transform": "2.0.2",
    "babel-plugin-transform-react-constant-elements": "6.9.1",
    "babel-plugin-transform-react-inline-elements": "6.8.0",
    "babel-plugin-transform-react-remove-prop-types": "0.2.10",
    "babel-preset-latest": "6.16.0",
    "babel-preset-react": "6.16.0",
    "babel-preset-react-hmre": "1.1.1",
    "babel-preset-stage-0": "6.16.0",
    "chai": "3.5.0",
    "chai-enzyme": "0.5.2",
    "cheerio": "0.22.0",
    "coveralls": "2.11.14",
    "css-loader": "0.25.0",
    "empty-module": "0.0.2",
    "enzyme": "2.5.1",
    "eslint": "3.9.0",
    "eslint-config-airbnb": "12.0.0",
    "eslint-config-airbnb-base": "9.0.0",
    "eslint-import-resolver-webpack": "0.6.0",
    "eslint-plugin-import": "2.0.1",
    "eslint-plugin-jsx-a11y": "2.2.3",
    "eslint-plugin-react": "6.4.1",
    "eslint-plugin-redux-saga": "0.1.5",
    "eventsource-polyfill": "0.9.6",
    "expect": "1.20.2",
    "expect-jsx": "2.6.0",
    "exports-loader": "0.6.3",
    "file-loader": "0.9.0",
    "html-loader": "0.4.4",
    "html-webpack-plugin": "2.24.0",
    "image-webpack-loader": "2.0.0",
    "imports-loader": "0.6.5",
    "json-loader": "0.5.4",
    "karma": "1.3.0",
    "karma-chrome-launcher": "2.0.0",
    "karma-coverage": "1.1.1",
    "karma-firefox-launcher": "1.0.0",
    "karma-ie-launcher": "1.0.0",
    "karma-mocha": "1.2.0",
    "karma-mocha-reporter": "2.2.0",
    "karma-safari-launcher": "1.0.0",
    "karma-sourcemap-loader": "0.3.7",
    "karma-webpack": "1.8.0",
    "less": "2.7.1",
    "lint-staged": "3.2.0",
    "mocha": "3.1.2",
    "ngrok": "2.2.3",
    "node-sass": "3.13.0",
    "null-loader": "0.1.1",
    "offline-plugin": "3.4.2",
    "plop": "1.5.0",
    "pre-commit": "1.1.3",
    "psi": "2.0.4",
    "rimraf": "2.5.4",
    "sass-loader": "4.0.2",
    "shelljs": "0.7.5",
    "sinon": "2.0.0-pre",
    "style-loader": "0.13.1",
    "url-loader": "0.5.7",
    "webpack": "2.1.0-beta.25",
    "webpack-dev-middleware": "1.8.4",
    "webpack-hot-middleware": "2.13.1"
  }
```  Here is the data:
```
const A = -4.52;
const B = 6.34;
const data = [
  { name: 'Page G', uv: A, pv: B, },
];
```
Here is example of `render` with redundant code removed:
```
    return (
      <BarChart
        width={width}
        height={height}
        margin={margin}
        data={data}
        stackOffset='sign'
        layout='vertical'
      >
        <XAxis
          domain={[A, B]}
          type='number'
          interval='preserveStartEnd'
        />
        <Bar
          dataKey='pv'
          stackId='stack'
        />
        <Bar
          dataKey='uv'
          stackId='stack'
        />
      </BarChart>
```
`interval` prop with `preserveStart` and `preserveStartEnd` works as expected for `A` value of domain. But `B` value of domain is always missing regardless of `interval` setting.
![image](https://cloud.githubusercontent.com/assets/642673/22602676/71ed6f38-ea44-11e6-9874-c8625030da1d.png)

What I expect on the picture above is that on the far right `$6.34` tick will be shown.
How can I ensure that both `A` and `B` values of domain are presented on the chart? here http://jsfiddle.net/xx835b1o/7/ thanks. But how to configure the chart to show begin and end values of the domain so that           `interval='preserveStartEnd'` works as expected?  Is there a way to plot multiple time series with differing time frames? For example:

```
const ts1 = [{x: "01/07/17", y: 20}, {x: "01/14/17", y: 30}, {x: "01/21/17", y: 40}]
const ts2 = [{x: "01/20/17", y: 60}, {x: "01/27/17", y: 20}, {x: "02/03/17", y: 100}]
``` Sorry, could you be more explicit please? Right now, there does not appear to be a way to pass differing data elements into two different X-axes. Do you think you could give an example using the above data? Thank you.  I tried the following code, but all I got was a blank grid:

```
			<ScatterChart width={600} height={400} margin={{top: 20, right: 20, bottom: 20, left: 20}}>
				<XAxis xAxisId={0} dataKey='x'/>
				<XAxis xAxisId={1} dataKey='x'/>
				<YAxis dataKey='y'/>
				<CartesianGrid />
				<Tooltip cursor={{strokeDasharrasales: '3 3'}}/>
				<Legend/>
				<Line xAxisId={0} name={"Hi1"} data={ts1} dataKey={'y'} fill={'#8884d8'}/>
				<Line xAxisId={1} name={"Hi2"} data={ts2} dataKey={'y'} fill={'#8884d8'}/>
			</ScatterChart>
```  Hello, 

So I've been evaluating recharts, and after browsing through the code and the documentation, I've been unable to find anything about grouping components. I was curious if there was any way to do this, especially with a bar chart. 

Essentially I'd just like to be able to group bar elements, so you could have:

```
| 123   456   789 | 123   456   789 |
|_________________|_________________|
```

Really, all this would require is the ability to pad each bar element differently from the center tick mark, so this may exist, but I couldn't find anything about it. Any thoughts on how to do this, or if it can be accomplished? 
 Sorry for the slow response. In the event of grouped data, say car types, I'd like to display them together, but a little separated. 

E.G, Cars Purchased
Honda = { accord: [{x: Tuesday, y: 4}, {x: Wednesday, y: 9}], civic: [{x: Tuesday, y: 2}, {x: Wednesday, y: 7}] }
Ford = { explorer: [{x: Tuesday, y: 2}, {x: Wednesday, y: 9}], {focus: [{x: Tuesday, y: 2}, {x: Wednesday, y: 9}] }
Toyota = { camry: [{x: Tuesday, y: 18}, {x: Wednesday, y: 19}], prius: [{x: Tuesday, y: 2}, {x: Wednesday, y: 19}] }

Below is a silly photoshop example of roughly what I'm asking for. Kind of a group for a single x-axis value. 

![image](https://cloud.githubusercontent.com/assets/2700571/23382088/ee297344-fd0e-11e6-8c77-0b219a25f536.png)

Essentially, the ability to space apart certain kinds of x-elements. Is this possible? 

 Yeah, I think that should work. Thanks!  After reading the DOCs of the Brush Component, [http://recharts.org/#/en-US/api/Brush](http://recharts.org/#/en-US/api/Brush)
I did not find a way to change the styles of the component, even with pure CSS.

Is there a way to do that?

Thanks!  Is it possible within composed charts to align points with an `area` chart and a `bar` chart.
The following screenshot illustrates the points I am trying to align.

![image](https://cloud.githubusercontent.com/assets/323731/22486029/f07776a4-e85b-11e6-9d5a-296aa6da1871.png)

Does anyone know if this is possible with recharts, or could point me in right direction of how to achieve a similar result.

Love the project, many thanks.
  If the label is longer then what it has room for, then it is placed at the very top of the screen and taken out of the axis markup.  Is there a way that will just chop off the edge of the text but put as much as possible in the right place?  http://jsfiddle.net/jlarso11/rzhrLogy/

Here is the basic problem.  We have applied some extra styling to ours to make four out of five show up but this gives the basic idea   Is there a simpler/cleaner way to add colors to pie chart slices? The current example (like this [PieChartWithPaddingAngle](http://recharts.org/#/en-US/examples/PieChartWithPaddingAngle)) seems overly convoluted for something that really should be "built in". Maybe just an attribute on the "pie" component that allows you to set an array of colors, which are then selected in order, like in the example? Yes, but to your point, maybe not the cleanest solution. I know that Pie (and Bar) will pick up and override the component settings for fill, stroke, and strokeWidth from the underlying data array (although it isn't always possible to set it there). What other attributes do these components look for in the data? Wow. That's a lot of attributes! OK. How about this? Since the components can already pick up these attributes from the data array, why not have a separate "style" array. That array is simply a list of objects, each with one or more presentation attributes. The first item in the style array is applied to the first item in the data array (with the data array taking precedence), the second style to the second data, and so on, but MOD the length of the style array, so it gets reused from the beginning when there are more data items than style items. This ticket seems related to this one https://github.com/recharts/recharts/issues/986 that help me find the solution for the color. @xile611 your like is very usefull. THX. I did not see it in the documentation (I just had a quick look) so maybe it could be added (maybe close to this doc http://recharts.org/#/en-US/guide/customize).   According to the docs, the Line component has an `onClick` property but the method I'm providing isn't getting invoked. With that said, the LineChart element's `onClick` property works as expected.

I have a [jsfiddle](http://jsfiddle.net/x1yoboc7/339/) set up here. it would not look good if I'm going to make a TinyLine chart  Is onClick supported in the ReferenceArea component?

Thank you for the great library.  Is there a way to draw a chart line the one bellow ?

![image](https://cloud.githubusercontent.com/assets/13708461/22384841/4492728c-e4b7-11e6-841d-d5d2dac80fe4.png)

I believe its called a "band chart". 
In case there isn't a predefined way, can I draw it using the Polygon component ?

Any help will be appreciated. Thanks,  Hi,

Is there a way to increase the distance between the labels and its axis ?
Also how do I change the label font ?

Thanks, Not the best solution, but I've found out that this works:

```css
.myChart .recharts-x-axis .recharts-cartesian-axis-tick-value {
  transform: translateY(6px);
}

.myChart .recharts-y-axis .recharts-cartesian-axis-tick-value {
  transform: translateX(-6px);
}
```

Do you think that axis text customization might be something worth of adding in the next versions ?  Is it currently possible to create an Axis where the tick labels are non-linear? In other words, if the domain is  linear from 0 to 100 but I only want to show tick labels at 0, 20, 60, 70, 80, 90, 95.  > From Docs:
> A boundary value of the area. If the specified y-axis is a number axis, the type of y must be Number. If the specified y-axis is a category axis, the value of y must be one of the categories. If one of y1 or y2 is invalidated, 

Demo: http://jsfiddle.net/liubkoliubko/rk119osf/3/
expected that this code will cover all chart area
```
<ReferenceArea
  x1={0}
  y1={0}
  fill="green" />
```
or like this
```
<ReferenceArea fill="green" />
```

----

_What I'm actually trying to do is to add background to the chart, using `<ReferenceArea>` is as close as I can get, but maybe there another approach?_ Thanks! I will definitely use that. 

_But I still think that there is an issue with `ReferenceArea`_ I do agree with @liubko, I'm trying to draw a ReferenceArea in a BarChart that starts in the x1={0}, or beginning of the chart up until the first X value, not in the middle of it but the the bar ends.  Could you add support for 3D charts? e.g. 3D scatter chart  On some Chart objects, [there is a "title" prop](https://github.com/recharts/recharts/blob/master/src/chart/PieChart.js#L53), but this does not manifest into a displayed title (it is unused).

Any chance this can be implemented?

For now, help with placing a <Text/> object would be appreciated... (no x and y location data available). @xile611 how do title of charts differ very much? I'm expecting something as simple as:

```
<LineChart title="Chart of PU x UV">...</LineChart>
```

The at the top of the chart, it displays the title. This is pretty standard across all chart presentation (Bar, Circle, Pie, Graph, etc).  I'm going through the [API documentation](http://recharts.org/#/en-US/api) and it looks like useful details are missing.

For example, the docs for the [`Tooltip`](http://recharts.org/#/en-US/api/Tooltip) `formatter` prop only state that it's an optional function; there is no information on what arguments are provided and what the function should return.

By providing such details, it will save users from digging through the [source code](https://github.com/recharts/recharts/blob/master/src/component/DefaultTooltipContent.js#L62).  I am trying to create a punch card chart like shown below but the scatter axes won't let me give string values to axes.

Is there any way to achieve this ?




![punch](https://cloud.githubusercontent.com/assets/1297759/22250571/77fcca66-e258-11e6-969d-59f9a5ad8df4.PNG)
 How would the data formatting approach look like? I've created a [JSFiddle with an ideal case](http://jsfiddle.net/897gh2pp/) I would like to make work (notice that both X and Y axis use type `category`)

If this is something that is never going to be supported, then I believe this behaviour should be documented, as of right now there is nothing in any of the Axis saying that type `category` can only be used per one axis of a single chart.  ```js
class Tick extends React.Component {
  render() {
    const {x, y, stroke, payload, data} = this.props;
    console.log(data);

    return (
      <g>
        <text x={x} y={y} fill="#5d6571" textAnchor="middle" dy={16}>tick</text>
      </g>
    )
  }
}

class Performance extends React.Component {
  shouldComponentUpdate(nextProps, nextState){
    return (JSON.stringify(nextProps) != JSON.stringify(this.props));
  }

  render() {
    const data = this.props.data;
    console.log(data);
    const length = data.length;

    return (
      <div className="chart-performance">
        <LineChart width={935} height={150} data={data}>
          <XAxis dataKey="title" tickLine={false} axisLine={false} padding={{left: 37, right: 37}} tick={<Tick data={??}/>}/>
          <YAxis tickLine={false} axisLine={false} type="number" domain={['auto', 'auto']}/>
          <Tooltip/>
          <CartesianGrid fill="#f2f2f2" horizontal={false} vertical={false}/>
          <Line dataKey="pp" type="monotone" stroke='#9ca1b0' fill='#374151'/>
          {
            length > 12 ? <Brush/> : null
          }
        </LineChart>
      </div>
    )
  }
}
```
Can I pass only that data in an array?
like dataKey="title"
  Below is a screenshot of my stacked bar chart:
<img width="1127" alt="screen shot 2017-01-23 at 2 47 57 pm" src="https://cloud.githubusercontent.com/assets/7084294/22226334/ff247072-e17a-11e6-9d61-c2580e6c9452.png">

I would like to add a **bold** `label` to the end of each bar which would show the combined total of each section in that bar. Is there a way to do this currently? Thanks in advance! Why is this issue closed , and @xile611 what do you mean by try component  I had the same problem and was able to accomplish the goal by adding two separate LabelLists.

This code is straight from my project but should explain the idea.

1. The first LabelList only returns a number from the valueAccessor for the last entry. This avoids showing the rolling sum labels, and possibly rendering multiple labels at the end if you have data of value zero.
1. The second LabelList shows the raw value inside each stacked bar.

```
<Bar
  key={bucket.key}
  animationDuration={200}
  animationEasing="ease-in-out"
  dataKey={`${bucket.key}_calls`}
  fill={analytics.paletteBrand[idx % analytics.paletteBrand.length]}
  name={templateLabel(props.getTemplate, bucket.key)}
  stackId="a"
>
  <LabelList
    fill="#000"
    position="top"
    valueAccessor={(entry: *): ?number =>
      (idx === templateBuckets.length - 1 ? entry.value[1] : null)}
  />
  <LabelList
    dataKey={`${bucket.key}_calls`}
    fill="#FFF"
    position="center"
  />
</Bar>
``` @cmoad , i'm getting the same label on every rectangle of the stacked chart... any ideas?
``` entry.D ``` holds the sum of my data (the value i want to display)

```
{combinations.map(v => (
                <Bar
                  key={v}
                  dataKey={v}
                  name={formatKeyName(v)}
                  fill={getKeyColor(v)}
                  stackId="monthStack"
                >
                  <LabelList
                    position="top"
                    valueAccessor={entry => entry.D}
                    formatter={formatCurrencyValue}
                  />
                </Bar>
              ))}
```
Result:

<img width="122" alt="captura de tela 2018-03-16 as 15 55 54" src="https://user-images.githubusercontent.com/9158216/37539479-95bdbce6-2932-11e8-9f2f-75a4d132406a.png">
 got it working with
```
{combinations.map((v, idx) => (
                <Bar
                  key={v}
                  dataKey={v}
                  name={formatKeyName(v)}
                  fill={getKeyColor(v)}
                  stackId="monthStack"
                >
                  {idx === combinations.length - 1 ?
                    <LabelList
                      position="top"
                      valueAccessor={entry => entry.D}
                      formatter={formatCurrencyValue}
                    /> : null}
                </Bar>
              ))}
```  First of all, thank you for creating such awesome library! I didn't manage to find a way to modify default icons for `Legend` component (e.g. line without a dot). Creating custom component with styling to pass it in `content` prop seems to be overkill for such simple task. Would it be possible to provide `legendIcon` prop to pass function rendering svg icon in future release? Another way would be to export ```DefaultLegendContent``` component for overriding methods like `renderIcon`. Thanks!   This not work for area charts ðŸ˜ž  It works. Sorry.  Recharts v0.20.5

Hello, bug not resolve ((

Please, check
http://jsfiddle.net/vaeum/dmeaodhc/4/ Hello, @xile611 a thing BarChart thith stackOffset="expand", should be

![img-2017-02-13-16-58-45](https://cloud.githubusercontent.com/assets/6481202/22886157/b7c01cd8-f20d-11e6-9185-6eec2c3f7460.png)

and label from Yaxis, should be 0 ... 20% ... 50% ... 100%
  The data sets have a property called `amt` which I couldn't find any info about. It looks like a value point but not shown on charts:

`{name: 'Page G', uv: 3490, pv: 4300, amt: 2100},`

What exactly is it for ? Is it something special ? @evilucifero 

On the example that @cemremengu is referencing, `amt` is no shown on the chart.  The data comes from the Stacked Bar Chart example http://recharts.org/#/en-US/examples/StackedBarChart

The bar shows displays that `uv` is `3490` and that `pv` is `4300`, but where is `amt` shown? Is it suppose to be a third stack? Is it another data point that is needed but isn't shown?

Basically, where is `amt` on the example chat? And is it necessary to product the chart? @corinnebrady it's not something necessary/required. It is another data point but in the example they did not add something like

```
<Bar dataKey="amt" stackId="a" fill="#ff0000" />
```

so that's why it is not shown as a third stack. Nothing to worry about :)
 @cemremengu  Thanks for clearing that up. That was really confusing.  It would be great to have support for axis labels that appear rotated, to the left/right of a Y-axis or the top/bottom of an X-axis. See "Temperature" and "Rainfall" in this link for an example: [Rotated Axis Labels](http://www.highcharts.com/demo/combo-dual-axes) I would like this too - I don't use your axis labels for just this reason. Well, OK, but that feels like a workaround to me. Since axes already have labels (which the should--it's an inherent feature of an axis), I think it should be possible to specify how/where the label is drawn. IMHO, the current (exclusive) default of horizontal text at the end of the axis is just about the least likely place the label should be. @xile611 Your suggestion gives me this error:

> [at-loader] ./src/components/molecules/cohortTable.tsx:21:39 
>     TS2339: Property 'angle' does not exist on type 'IntrinsicAttributes & IntrinsicClassAttributes<XAxis> & Readonly<{ children?: ReactNode; }> & Rea...'.

This is the version of Recharts I'm doing (from package.json):

`"recharts": "^1.0.0-alpha.4"` @su-narthur 

`<XAxis dataKey='name' angle={-45} textAnchor='end'/>` work in `"recharts": "^1.0.0-apha.5"`

recharts site indicate alpha.4 as last version, but alpha.5 it's already availabe in npm at the time of writing.

Try an update I get this error with recharts `^1.0.0-alpha.6`:
```
Warning: Unknown prop `angle` on <line> tag.
Remove this prop from the element.
For details, see https://fb.me/react-unknown-prop
```
From this code:
```jsx
<YAxis dataKey="value" angle={-45} textAnchor="end" />
```
 This is how you make a vertical or otherwise rotated Y-axis _label_: https://github.com/recharts/recharts/issues/782#issuecomment-316449331 ```
<YAxis>
   <Label angle={-90} value='custom label' position='insideLeft' style={{textAnchor: 'middle'}} />
</YAxis>
```
<img width="276" alt="screen shot 2017-10-31 at 12 45 11 pm" src="https://user-images.githubusercontent.com/2819448/32207812-69954ba2-be39-11e7-91ff-2873e1fc3e76.png">


 I was following other issues and it is using the `angle` prop. But I got this warning too as mentioned by @nhooey :
`Warning: Unknown prop `angle` on <line> tag. Remove this prop from the element`

xaxis:
```
<XAxis
              dataKey="name"
              interval={0}
              angle={-35}
              textAnchor="end"
            />
``` I still get the unknown prop error when trying to use `angle` on `XAxis`. Getting the same error, `Unknown prop angle on <line> tag. Remove this prop from the element`

`<ResponsiveContainer height={300}>
		<BarChart data={data}>
			<CartesianGrid strokeDasharray="3 3" />
			<XAxis dataKey="name" angle={-45} textAnchor="end">
			</XAxis>
			<YAxis />
			<Legend />
			<Tooltip />
			<Bar name="Value1" dataKey="Value1" fill="#A40000" />
			<Bar name="Value2" dataKey="Value2" fill="#8884d8" />
		</BarChart>
	</ResponsiveContainer>
`
   @nhooey This warning can be solved by
<XAxis
            dataKey="name"
            textAnchor="end"
            **tick={{ angle: 45 }}**
          /> @SachinKr57; 
That works nicely! You saved my weekend. Thanks.  Is there a way to export/download the charts currently ? Or any known way to implement it if it does not exist ? >recommend use npm and webpack to import or export charts.

Can you please elaborate @arcthur ? 

I need to export charts clientside. ie. Save as image or pdf. This should definitely be open - is there any built in method(s) in recharts that would support client side downloading of a rendered rechart in some format? Say SVG, PNG, JPG, XLS, PDF... @Chris-Petty I definitely agree with you, I see an open issue https://github.com/recharts/recharts/issues/1027 in which we should ask for more clarification or a path to add this as a feature.  It's easy to reproduce. I've just tried to use link to JSFiddle on demo page http://jsfiddle.net/kca9npkg/6/?utm_source=website&utm_medium=embed&utm_campaign=kca9npkg
 
Then I added YAxis prop "scale", so the chart is visible when scale="auto" is shown, when I set any other value, e.g. scale="log", the chart disappears.

The question is what I should do to have a bar chart with logarithmic yAxis? or that's a bug?

Any information would be much appreciated! Cheers! Thank you for the reply. I've just had a quick look at http://jsfiddle.net/kca9npkg/117/ and it doesn't seem to be working properly. uv bars aren't visible and pv bars stick to the top of the chart.  Using the following chart: 

```jsx
<ResponsiveContainer width="100%" height="100%">
  <RadialBarChart cx="50%" cy="100%" innerRadius="1%" outerRadius="100%" data={data} onClick={::this.requestTagsWithPattern} >
    <Legend align="left" verticalAlign="top" onClick={::this.requestTagsWithPattern} />
    <RadialBar label={radialLabelStyle} className="clickable" minAngle={15} background clockWise={true} dataKey="uv" />
    <Tooltip />
  </RadialBarChart>
</ResponsiveContainer>
```

I am receiving the following error when hovering over the `RadialBar`: 

```
util.js:51 Uncaught RangeError: Maximum call stack size exceeded[Symbol.replace] 
@ (program):665replace 
@ (program):119generatePrefixStyle 
@ util.js:51(anonymous function) 
@ util.js:119reduce 
@ (program):999translateStyle 
@ util.js:118render 
@ Tooltip.js:220(anonymous function) 
@ ReactCompositeComponent.js:796measureLifeCyclePerf 
@ ReactCompositeComponent.js:75_renderValidatedComponentWithoutOwnerOrContext 
@ ReactCompositeComponent.js:795
```

This issue started occurring after upgrading from **0.20.2** to **0.20.4**. Also, this error only occurs when the `RadialBarChart` has 4 or more values. Hovering over the first 4 values will not cause an issue, but once you try to hover over the 4th or 5th, the chart and tooltip freeze up and fire off the above error in the console.  +1, do confirm the issue, it also occurs with `PieChart` (whatever the number of displayed values is). By the way, it only occurs when chrome console / react devtool are opened (looks like it comes from some dev-only benchmark methods like `measureLifeCyclePerf`) @loris You're right that it's only happening in Chrome as I tried on IE11 with no issue. However it happens regardless of console being open or not - at least for me anyway on `Chrome 53.0.2785.116 m` @xile611 Please refer to this [fiddle](https://jsfiddle.net/patryk0605/hbyfdkk2/1/) and hover over some of the bars to trigger error.  @xile611 After updating to **0.20.5**, I am no longer encountering the issue. Thanks for the quick turnaround on this.   Fix react-smooth broken version Issue.: #457  thanks!  The line  126  in react-smooth/src/easing.js is:
`case 'ease-int-out':`

Is it an error and should be 
`case 'ease-in-out':` ?  I have an event handler function setup for onMouseLeave in BarChart. The object passed in used to contain things like "bucket" and "value", which are pretty important for functionalities that need to know which bar of the bar graph was interacted with. Now only "isTooltipActive" is provided. Did this get removed intentionally, or is it a bug, or is there a new way to access the other properties (since it used to work)? PieChart's onMouseLeave still has everything (bucket, value, stroke, innerRadis, etc). Thank you @xile611, that worked. I've moved the one on PieChart to the Pie component as well, and it returned the samething. Still don't know why Bar vs BarChart is different but Bar works so all good!  I am creating a custom Bar shape and using the Rectangle component to render the bar shape. The bar chart I creating has the possibility of negative values. When I apply a radius property to the Rectangle shape renderer, it works fine for any of the bars that have positive values, but not for any that have negative values. Here is a JSFiddle of the issue: http://jsfiddle.net/1vq6jhbx/1/ @xile611  can you indicate what change you make to fix it? find it nvm, thanks https://github.com/recharts/recharts/commit/4bbed677410b51329e3fe344971d45df954557b6  It is working fine in chrome, but not for Internet explorer 11, 

http://recharts.org/#/en-US/examples/SimpleBarChart Anyone with any solution??? I don't know if this is enough of a description where they are the same issue, but I also had an issue with animations in ie11 and it was because the recharts library uses Array.prototype.find which isn't supported in ie11. The solution was to just include a polyfill in my codebase.  For example, the type "width" and "height" property in <PieChart> is number. 
When I use <PieChart width={400} height={400}>, it works.
But when I use <PieChart width={'100%'} height={'100%'}> or 
<PieChart width={'inherit'} height={'inherit'}>, the component does not work.
How to inherit the css style from the parent label?  Please check it still works on Linux before merging!  Hi, i would like to add some padding between Axis and Tick, read some comment on #201 
But unfortunately can not add padding-top, padding right did work.

Is there any part of doc or code sample for customtick component and tick props ?   Hello recharts team,

I've noticed that when there is only 1 value to display for AreaChart, it messes up the look. To illustrate,

This is how data looks with multiple values (good):
<img width="323" alt="screen shot 2017-01-11 at 11 34 52 am" src="https://cloud.githubusercontent.com/assets/22822404/21863362/00154f98-d7f2-11e6-82ea-2293f822700b.png">

This is how data looks with only 1 value:
<img width="332" alt="screen shot 2017-01-11 at 11 36 05 am" src="https://cloud.githubusercontent.com/assets/22822404/21863389/1c725a50-d7f2-11e6-995c-f30821ad9d3e.png">

How do you guys display one value and get around this?
 I understand the idea of only having one value so only showing a point but it seems like it should still fill the chart. It still has area...

something like this:
![screen shot 2018-02-07 at 2 56 27 pm](https://user-images.githubusercontent.com/10411174/35946477-c1b96dc2-0c18-11e8-9dc0-94a6284c669e.png)

  Is it possible to display graphable data in the brush?

For example, the dataKey is the x-axis key, but can we also have show one (or more) of our y-axis data in the brush?

[Like this](https://i.stack.imgur.com/JYBwS.png) Has this been implemented?
Is usage like 
<Brush dataKey="the_dataKey" /> ? +1 Hi, I've created a PR #586 for this ticket, could you please help review it when you have some time? Thanks.  I'm attempting to get this project building/running on my system with a view to making some contributions.   I may be doing something stupid, but I'm having a few issues.

1) [I'll submit this fix when I've got everything working] package.json needs to make use of cross-env in some of the script entries to make it work on Windows (and have a dev dependency of cross-env).

2) Demo/index.html contains a reference to  <script src="bundle.js"></script> whereas the webpack is putting bundle.js into the build subfolder.  So at least on my system I need  <script src="build/bundle.js"></script>.  I just wanted to check whether a) I've missed the point b) non-Windows systems somehow look in build/  c) it's a bug.
 OK I now understand how 2 is works using npm run-script demo.  Although I'm not yet sure how it works - I *think* that webpack is serving its in-memory copy of bundle.js (because the name, if not the path, matches) and so it doesn't notice that the path is wrong.  I still suspect that the reference in index.html should be build/bundle.js  - which works with webpack-dev-server and also with visual studio.

If we want to encourage windows developers, it might be worth adding a note to the readme as to how to fire up the demos? And I think I've got the stage where I have some minor changes on my fork to commit, but the lint rules are insisting on LF linebreaks, whereas git has pulled CRLF style files because I'm on windows, and  I've got 12252 lint errors :(   

Any suggestions?  I hesitate to hack the lint rules for the project on my first commmit! Done.  That's my first ever GitHub pull request, so I hope I've got it right.  I'm from a Windows+SVN background...  Hi Guys,

I'm having problems getting recharts tooltip to work with mobile touch events for area charts.
I see that it has been fixed for lineCharts per https://github.com/recharts/recharts/issues/204

Any help with area charts?

Thanks! @xile611 I'm confused on how I'd implement that.
Do I need to simply 
Import "generateCategoricalChart" from "recharts" ? @xile611 so what happens is touchEvents work once; i.e. touch on tooltip -> shows tooltip -> can't touch on any other tooltips... is this a known issue? I don't know why the touch event can work in Android, but not ios. @xile611  Add the onClick function in the Chart, then it can work! Even adding `onClick={null}` will enable mobile touch event in chart. I don't know why! Why adding onClick={null} in the Chart component not work  In the [SimpleRadialBarChart](http://recharts.org/#/en-US/examples/SimpleRadialBarChart), the text of the value within each radial bar use to be visible, but now the text is the same color as fill - masking the value. For example, if the `uv` value is reduced from **6.67** to **0.67** like so: `{name: 'unknow', uv: 6.67, pv: 4800, fill: '#ffc658'}` to `{name: 'unknow', uv: 0.67, pv: 4800, fill: '#ffc658'}`, then the value can be seen partially: 

![image](https://cloud.githubusercontent.com/assets/7227636/21821579/10acdf0c-d742-11e6-86f1-97699133b4cd.png)

Is there another value to specify the color of text? Can it be defaulted to white or it's previous behavior? 
 Super, thanks!   Hi! I like this project very much. Please help to support typescript as https://git.itch.ovh/itchio/itch/blob/2f1b4f0535a3ee91739f3371414642e6d9e0d3d5/typings/recharts.d.ts  If you're data contains stacked area graphs, with let's say one of the stacks at some point reaching 0, you can't set your domain to be, for example [50, 100]. It will still show the YAxis domain as [0,100]. If you remove the part of the stacks that has the data with points < 50, then the domain will be properly updated. Same issue here, here is a [jsfiddle demo](http://jsfiddle.net/ze8c333g/20/)
I just modified the documented [StackedAreaChart demo](http://recharts.org/#/en-US/examples/StackedAreaChart) to set `type="number" domain={[2000, 15000]}` on the `YAxis`. As you can see, the axis starts at 0 instead of 2000. It does not work with `auto` or `dataMin` neither. By the way, same issue with `BarChart` too. @xile611 The result is essentially the same as the fiddle shared by @loris . @loris thank you for sharing.
  Is there a way to overlay bars on top of each other so they start from the baseline y and are centered on the same point on the x axis? Currently they can be stacked on be side by side. 

The width and color would be specified in order to differentiate the bars at each point. 

This is useful to have a reference (or multiple) at each point. For example, visualising the current value against historical peak and historical average.  Demo is perfect once I set barSize on each bar. Thanks a lot!  I like the ability to customize tooltips for points on the charts.  However it would be nice if the payload represented the data that corresponded to the point originally.  e.g. if my data consisted of objects such as
{ x: 2005, Score: 30, When:new Date(2005,1,6)  }
and I'm graphing x vs Score, then it would be nice to get hold of this whole object as the payload so that I could use When in my tooltip.  At present the payload only includes the fields used in drawing the chart (so x and Score). Scatter -  I'm looking at this as a work around for no data axes in scatter charts.  Thinking of having numeric years as the axis and the date as a tool tip on each point  +1 on this. It seems like the payload is inconsistent across the board. 

For example, the `<Bar />` payload represents the entire object but `<XAxis />` payload seems to only represent the fields used in drawing the chart. 

 +1 here too. I was quite surprised that the value passed to a custom label on a bar only returns the second array element. So, I can't represent both min/max labels at present.
having access to the payload would be perfect. (I actually want to represent min/avg/max values as labels on the bar) For a workaround, I did the following:
```
<BarChart
    layout="vertical"
    data={this.props.data}
>
    <Bar
        dataKey={(x) => this.getData(0, x)}
        fill={COLORS[0]}
        barSize={15}
        minPointSize={2}
        isAnimationActive={this.props.isAnimationActive}
        label={(x) => this.getCustomLabel(0, x, this.props.data)}
    />
    <Bar
        dataKey={(x) => this.getData(1, x)}
        fill={COLORS[1]}
        barSize={15}
        minPointSize={2}
        isAnimationActive={this.props.isAnimationActive}
        label={(x) => this.getCustomLabel(1, x, this.props.data)}
    />
```

and using function like:
```
    getCustomLabel(ix, props, data)
    {
        const {x, y, fill, value, index, offset, width, height} = props;
        const d = data[index].data[ix];
        return <text
            x={x+3}
            y={y+16}
            dy={-4}
            fontSize='12'
            fontFamily='sans-serif'
            fill='white'
            textAnchor="left">${d.min} / ${d.avg} / ${d.max}</text>
    }
```

I still need to update this so the min, avg and max are positioned properly on the X axis, but am able to get chart data into the label function.  I'm wondering if it's possible to customize the ticks in such a way, for example, in the [RadarChart](http://recharts.org/#/en-US/examples/SimpleRadarChart), style History to red, because the student have low score.

So far I can only style all ticks with same color, is there a way to achieve this? Thanks! @xile611 Thanks, it works like a charm, really appreciate your demo!  I've been playing around with Recharts for the past couple of days and am finding the Tooltip animation very inconsistent. This could be due to the animation changing on every mouse move.

Here's a demo where I've extended the animationDuration to exaggerate what happens.
https://jsfiddle.net/Billsy/un16cwkd/3/

If you move from one bar to another slowly (keeping your mouse on the same Y axis) you can see the animation. However, move your mouse and the Tooltip jumps to your mouse position.

isAnimationActive={false} doesn't solve the issue and I also think this could be making the Tooltip appear jerky when the duration is shorter. Nice example.
This looks like the animation starts from the previous point to the new mouse location each mouse update.
If the mouse has moved a lot, the animation starts to play and the box starts to slide between the old and new locations.
However, _during an animation_, if the mouse moves a tiny amount more, the box snaps to the previous new location, then animates across the tiny distance.

This is my best guess...  The graph is offset by some default values which leaves so much blank space around the graph.how to reduce the offset.I am using composedchart with bar and line and i would like to reduce the offset between svg container start and the graph start.
 I don't have XAxis in my chart and I set margin-left to -40 to make out for the unnecessary blank space. If this is the desired approach, I am fine with that, but it's nasty.  HI guys:

In the process of using found some bugs
1ã€Chart of initializing render slants big, resulting in overlapping ```Legend``` on the chart
Screenshots:  http://recordit.co/bQtdUpjyv8
2ã€In a scroll or render multiple charts, graphs will be flashing
Screenshots:  http://recordit.co/fNVfbJky2n    ï¼ˆin 10 ~ 12 secondsï¼‰

Unfortunately, No repetition of this kind of problem in JSFiddle, don't know to have similar problems can under reference

```jsx
<ResponsiveContainer height={360}>
  <LineChart data={data}>
    <XAxis dataKey="date"/>
    <YAxis/>
    <CartesianGrid strokeDasharray="3 3"/>
    <Tooltip/>
    <Legend/>
    <Line name="PV" type="monotone" strokeWidth={2} dataKey="pv" stroke="#31d6c5" activeDot={{
      r: 8
    }}/>
    <Line name="UV" type="monotone" strokeWidth={2} dataKey="uv" stroke="#aea9fd"/>
  </LineChart>
</ResponsiveContainer>
```


Thanks ~
 Thank you for reply~

Purple block is the parent container background image,
Online and development environment are the same problem. @xile611 I believe you meant @raisezhang  Hi guys,
I have an issue with Tooltip

This is my chart:

<ResponsiveContainer height={500} width={'100%'}>
  <LineChart  data={chart}  margin={{ top: 5, right: 30, bottom: 20, left: 5 }}>
    <XAxis dataKey="date"/>
    <YAxis />
    <CartesianGrid strokeDasharray="3 3" />
    <Tooltip />
    <Line name="Amount In" type="monotone" dataKey="amount_in" stroke="#8884d8" unit={' â‚¬'}/>
    <Line name="Amount Out" type="monotone" dataKey="amount_out" stroke="#82ca9d" unit={' â‚¬'} />
    <Legend verticalAlign="bottom" height={36} />
    <Brush />
  </LineChart>
</ResponsiveContainer>

The tooltip doesn't appear and in the console I have this error:
Tooltip.js:173 Uncaught TypeError: Cannot read property 'x' of undefined.

Anyone can help me? 
Thanks
  Hi guys, I'm not sure if I'm missing something but I've been looking at this for a while, I'm hoping to be pointed in the right direction. I'm trying to create a Line Chart with days of the week across the x axis:

MON TUES WED THU FRI SAT SUN

The yAxis is just simple numbers, the data looks like this (from your example):

const data = [
    {name: 'Mon', uv: 5, pv: 7},
    {name: 'Tue', uv: 10, pv: 4},
    {name: 'Wed', uv: 8, pv: 16},
    {name: 'Thu', uv: 13, pv: 14},
    {name: 'Fri', uv: 4, pv: 4},
    {name: 'Sat', uv: 2, pv: 6},
    {name: 'Sun', uv: 3, pv: 0},
];

I'm trying to hide the yAxis ticks and spacing (padding etc..) so you only see the number when you hover over the chart via the tooltip. Unfortunately when I set hide or just remove the yAxis component:

<YAxis hide={true} />

...the first item disappears, the data is correct on the chart but the 'MON' name goes missing from the bottom along the xAxis.

I've attached a screenshot to show what I mean, is there any way to stop this?

Thanks!
<img width="334" alt="screen shot 2017-01-04 at 16 59 39" src="https://cloud.githubusercontent.com/assets/1936183/21651092/466df272-d29f-11e6-9660-9fe52d4a84e3.png">

  OnClick is not firing in the following use case:

```
<ComposedChart style={{fontFamily: 'Lato, sans-serif', fontWeight: '400', fontSize: "12px"}} data={this.props.jobChartData.jobs} margin={{ top: 20, right: 20, left: 0, bottom: 0 }}>
     <XAxis dataKey="name"/>
     <YAxis/>
     <CartesianGrid strokeDasharray="3 3"/>
     <Tooltip label="Legend"/>
     <Legend />
     <Line
         type='monotone'
         name="Matched items"
         dataKey='matched' stroke="#424242" 
         activeDot={{r: 8}} 
        strokeWidth={2} 
       onClick={this.handleClick}/>

</ComposedChart>
```

onClick={this.handleClick} is not working. no it still not working. See [this](http://jsfiddle.net/muhaimincs/d8g2fgee/)  setting `startIndex` has no effect on the brush,it does not move to the particular index. i am passing startIndex as props to brush  and the dataStartIndex is not taken from props of brush or parent(composedchart in my case).it is created in state.The startIndex is always 0.   recharts components are representing svg elements.
The props of recharts components are only allow to access width and height svg attributes.
There is so prop for viewBox attribute.

Any thoughts or ideas?

Thanks if I would like to change the viewbox values of piechart, currently we don't have a props to do that. Any ideas to work around that? any updates on this?  I would like to know if it's possible to create lines dynamically.

So this is my chart:
```
<LineChart data={this.data}>
            <XAxis dataKey="name"/>
            <YAxis/>
            <CartesianGrid strokeDasharray="3 3"/>
            <Tooltip/>
            <Legend />
            <Line type="monotone" dataKey="uv" stroke="#82ca9d" />
</LineChart>
```

And my data looks like this:
[{"channel_id":1,"date_time":"2016-08-12 10:22:04","value":43,"created_at":"2016-10-19 12:26:05","updated_at":"2016-10-19 12:26:05"},
{"channel_id":2,"date_time":"2016-08-12 08:49:04","value":14,"created_at":"2016-10-19 12:26:05","updated_at":"2016-10-19 12:26:05"},
{"channel_id":2,"date_time":"2016-08-12 07:44:04","value":29,"created_at":"2016-10-19 12:26:05","updated_at":"2016-10-19 12:26:05"}]

But than a 1000 more.
Now the thing is that I have to create a line for every unique channel_id. But I don't know the amount of unique channel_id's on forehand. 
Side note: The x-axis is for the value and the y-axis is for the date_time.

Your answers are appreciated. Thank you for your respone, so the only way to do this is format my data.
I will see if that is possible. I was able to get the `<LineChart>` to render dynamically. Can I change the color of those different line charts dynamically too? why not derive the line names directly from data structure? I have unknown list of variables that I would be plotting.. so I would like to be able to draw the lines - after I have some of the data received  **Build process:** Webpack via `create-react-app`
**Modules:** ES6
**Issue:** I'm having some issues getting Recharts to work with my ES6 configuration. This is the module import statement ([image](http://image.prntscr.com/image/62981871d2b9400583ad27dd9e8d59b6.png)), and this is the component using Recharts ([image](http://image.prntscr.com/image/c81f0d3b0db54377ba6ceb61010cf3ed.png)). I'm getting this output([image](http://image.prntscr.com/image/2542654d300742eaaf2694f0efb0734e.png)) that appears to show a library component with an erroneous element name. It is also not showing any output in the DOM.

It would also be nice if there was a more robust getting started guide on your site. Currently, it just gives one example without showing how you import the given components, and does not indicate for ES6 users that you need to import each chart/element module individually. (even the examples just show ES5 implementations) ES6/Webpack is the *de facto* way to write React apps nowadays, so there really isn't a good reason why this has been overlooked. Thank you @xile611.

I also noticed that I did not receive any Javascript errors; is this normal? I thought an erroneous value set by a dev should throw an error, which added to my confusion of the actual problem.    When I am updating view with new props, this ERROR come up.
But I don't know if it was Recharts problem.

here is the detail:

Uncaught TypeError: Cannot read property 'props' of undefined
    at isChildrenEqual (ReactUtils.js:341)
    at CategoricalChartWrapper.componentWillReceiveProps (generateCategoricalChart.js:356)
    at ReactCompositeComponent.js:611
    at measureLifeCyclePerf (ReactCompositeComponent.js:75)
    at ReactCompositeComponentWrapper.updateComponent (ReactCompositeComponent.js:610)
    at ReactCompositeComponentWrapper.receiveComponent (ReactCompositeComponent.js:547)
    at Object.receiveComponent (ReactReconciler.js:125)
    at Object.updateChildren (ReactChildReconciler.js:109)
    at ReactDOMComponent._reconcilerUpdateChildren (ReactMultiChild.js:208)
    at ReactDOMComponent._updateChildren (ReactMultiChild.js:312)

version: 0.20.0

works fine in 0.19.1  How I can draw irregular time series like this:
http://www.highcharts.com/demo/spline-irregular-time
 I'd also be very interested in this.  Or to put it another way, ability to have date as an axis type on a Scatter chart. @xile611  Is there a solution? how to add this feature. ok, I found it is related with #154 . axis is number, but let axis displayName generated by a function, can solve this.
 @windsome I'm not sure I get your problem but if you can pre-process the data and set the axis labels as strings and the the axis as category it should work.  I was trying to wrap `<Line />` with my customized component. Like

```js
const CurveLine = (props) => {
  // do some transform with props here
  return (
    <Line
      ....
    />
  )
}
```
but the Line didn't render in the chart. Is there some way to do it correctly ? : ) I just ran into this issue. I'm trying to do the following:
```
class MyLineChart extends React.Component {
  render() {
    return (
      <Recharts.LineChart
          width={width}
          height={height}
          data={props.data}
        >
          <Recharts.CartesianGrid vertical={false} />
          <Recharts.XAxis dataKey={props.xAxisDataKey} tickLine={false} axisLine={false} />
          <Recharts.YAxis tickLine={false} axisLine={false} />
          <Recharts.Tooltip />
          {props.children}
        </Recharts.LineChart>
    );
}

export function MyLine(props) {
  return (
    <Recharts.Line
      dataKey={props.dataKey}
      stroke={props.color}
      strokeWidth={3}
      dot={false}
    />
  );
}

// ... usage

<LineChart data={data} xAxisDataKey="time">
  <Line dataKey="example" color={palette.darkGrey} />
</LineChart>
```

No lines render (although the tooltip does work). thoughts? btw there's no Surface component in recharts as far as I can see. I found a workaround to customize original `<Line>` component by overwriting its default props.

```jsx
import { LineChart, Line as ReLine } from 'recharts';

// Extends the Line component to overwrite its default props
class Line extends ReLine {
  static defaultProps = {
    ...ReLine.defaultProps,
    // Customized props
    strokeWidth: 2,
    dot: false,
  };
}

// In real use case
<LineChart data={data}>
  <Line dataKey="example" />
</LineChart>
``` I think this should be reopened as it still is an issue. The workaround from @cjies works but that's certainly not how it should be.
Wrapping components is a very standard thing to do in react. I believe that it should be fixed or at least it should be documented on how to do it in a proper way.

@xile611  @xile611 Yes I agree I think this is still an issue.  I think that workaround is just adding more code and over declaration for wrapping components.  I have encountered the same issue. 

I am currently using Recharts v1.0.0 and was trying to write a wrapped component that had too much prop settings on style that hindered readability for a bar chart.  

```
<XAxis
     domain={[0, 1]}
     ticks = {[
       0, 0.25, 0.50, 0.75, 1,
     ]}
     tickFormatter={toPercent}
     tickCount={5}
     type="number"
     tickLine={false}
     tick={{fontFamily: 'Mallory', fontSize: '8px', fontWeight: 500, fill: COLOR.GREY_BAR_CHART}}
     stroke={COLOR.GREY_GRID_LINE}
/>

// creating a wrapped component does not work
export const CustomizedXAxis = () => { 
    return 
       <XAxis>
        ...
       </XAxis>
}

// usage
<BarChart>
     ...
     <CustomizedXAxis/>
</BarChart>
``` Facing same issue.
My ugly workaround is to create a function that returns the wrapped component with the desired props

```
const ReLine = props => {
  return <Line {...props} strokeWidth={2} />;
};
// and then use it like this
<LineChart width={400} height={200} data={data}>
        {ReLine({
          type: "monotone",
          label: "value",
          dataKey: "value",
          stroke: "#137752"
        })}
</LineChart>
```  I could not find any example of inverted bar chart in the documentation.
Basically I want horizontal bars because my x-axis datakeys are more in number and the chart becomes to wide. Is it possible to customise like this?   Documentation should mention that type props are required when using vertical layout. I used the following code and it worked.

```
<XAxis type="number"/>
<YAxis type="category" dataKey="name"/>
```  Is there any option to make the area charts more like Google Analytics? Flat lines instead of smooth?

More like:
<img width="356" alt="a" src="https://cloud.githubusercontent.com/assets/10688522/21470638/a3b9a9ca-cab7-11e6-9855-6b0d19365b7c.png">

Instead of:
<img width="534" alt="" src="https://cloud.githubusercontent.com/assets/10688522/21470643/b641b51a-cab7-11e6-9b61-ed9fa7c342aa.png">

If not, I'd like to suggest this feature. This is something people would very much want to have. Thanks for the quick reply. I knew it would be in the API and read it earlier but didn't know which option it was.

Is there an option to get the dots always visible and the top border/outline thicker just like Google Analytics? Yeah, only remaining piece â€“ can the top border be made thicker like Google Analytics? I looked at the docs for other styles and border width but didn't find that.  `<ResponsiveContainer>
  <BarChart width={500} height={300} data={ plots } margin={{top: 35, right: 45, left: 45, bottom: 10}}>
  <XAxis dataKey="name" axisLine={false} tickLine={false} />
{keys.map(
(item, i) => {
return ( <Bar stackId="a" dataKey={item} key={i} /> )
})}
</BarChart>
</ResponsiveContainer>`

I am getting errors plotting this sort of setup where keys = an array of string values of the datakeys to look for in the data object. I am not sure if this is just me and my react abilities (lack of) or if there's another way to dynamically build bars into the chart as no bar chart will be the same for it to be statically coded in a react js file. 

In terms of the data object an example could be:
[{name:"name1",a:0,b:0},{name:"name2",a:3,b:3}]
  or
[{name:"name1",a:0,b:0,c:1},{name:"name2",a:3,b:3,c:0}]

In terms of an example of the keys array this could be:
['a','b'] or ['a','b','c'] or unlimited keys

Any help you can offer would be greatly appreciated. thanks. It is falling over at line 176 of BarChart.js with sizeList undefined. not sure why though. Sorry my bad. version 0.14.2. Just seen: 0.18.0. Trying that now to see if I get the same thing. I am a dozy noob :) Fixed by removing the XAxis. Something in there seemed to be throwing it off and causing a null and breaking the chart. I got it all working fine after upgrading to the latest version and running an update in npm. Also removed the XAxis with the params and started again. hey presto all worked. Not sure if it was just a perfect storm of things that combined as I can't replicate it now. Thanks for your help though.  Hello,

First of all thank you for this great library!

I was looking for the ability to change the color of a Line in a LineChart depending on the value of the current point (for example a price history chart becomes green when it's cheaper than initial price and red when it's more expensive than initial price)

Is it possible with the actual state of the library ? If not is someone already working on this ?  Just from a part of the line depending on the value. Something similar to applying a radial two color gradiant to the stroke (see the first part of http://www.d3noob.org/2013/01/applying-colour-gradient-to-graph-line.html?m=1)  @xile611 : Thank you a lot! :+1: 

It works: [demo](http://jsfiddle.net/rntqd24h/)!

You can close this issue, thank you again Hi guys, sorry for necroposting, but this is only related to my needs topic that i've found.
I need to draw  LineChart which contains only one line with dots, each segment of this line(between two dots) should be be related to value on chart, and also one of the points should be the same color of it. Is there other, than gradient, way to customize line color? Hi, this is a great library to work with.

But I have been trying to change the color of the line chart based on its value dynamically. How to achieve this? The above comments show the task to have been achieved but the demo link is broken.

Please help.  > Hi, this is a great library to work with.
> 
> But I have been trying to change the color of the line chart based on its value dynamically. How to achieve this? The above comments show the task to have been achieved but the demo link is broken.
> 
> Please help.

https://codesandbox.io/s/q79rrrkmy6 To get a line with different colors for positive and negative values you can have a look at this fiddle https://jsfiddle.net/alidingling/64v6ocdx/ from the recharts examples. Just swap the `fill` with `stroke` in a `<Line />` element instead of `<Area />` element.  Tooltip consume too much CPU load if the cursor is moved very fast. HandleMouseMove method of generateCategoricalChart reacts to mouseMove event. Handler on every tick changed state and it causes a wave of rerender. It doesn't behave the same way if you move cursor over a plot. Otherwise a lot of CPU load is allocated wich is critical fir low end devices. What do you think about adding a throttleDelay between events? Those who dont care about performace can leave throttleDelay empty. According to my tests 200ms delay decreces load from 25% to 8-10%, i attached screenshots below.

I could make a pr.

Before: 
![default](https://cloud.githubusercontent.com/assets/9361325/21359127/fdf120a8-c6fc-11e6-91b4-b1f4c938be0a.PNG)

With throttle

![withthrottle](https://cloud.githubusercontent.com/assets/9361325/21359139/06951b6a-c6fd-11e6-8745-bec85eaadaf5.PNG)

 @xile611 this [article](http://blog.revathskumar.com/2016/02/reactjs-using-debounce-in-react-components.html) has explain  @xile611 Is there a way to set the maximum height of a bar? I'm trying to make the bar labels show up on the chart but I run into problems when only one bar is showing (e.g. when there isn't any data for the other bars). In this case, that bar goes all the way to the top and the label gets hidden ([see demo](http://jsfiddle.net/matthewberkompas/n5re8vcq/5/)). Even if the label didn't get hidden, I would prefer to set a maximum height on the bar so it doesn't ever go to the top of the chart. I looked through all the props on the `Bar` component but couldn't find anything that would solve this issue.  @xile611 This workaround should fix the issue for now, thanks! In future, it would be nice if the max bar height could be set by a `maxBarHeight` prop or something similar to that.   Changing the brush bounds causes a render, which respects the bounds provided by the brush and therefore updates the graph to display the data within the brush bounds.

However, if something _else_ causes an update, the bounds are not respected, and the full graph is rendered, despite the brush bounds being set. Try http://jsfiddle.net/b1Lb3kuk/10/

Set the brush to be zoomed in
then hover over an item in the table
The view is re-rendered fully zoomed out, as the brush bounds are ignored. Tried with 20.2. This issue is _not_ solved. :( @ZephD Did you get any solution for this? Nope. 3339d6b did not solve this issue. Also having this issue, any fix planned? @xile611  27b2d33 solved it! @xile611 
I'm using 1.0.0-beta.10 and this issue seems to be back.
When my chart re-renders, the set brush range is reset to encompass all data.  ![Alt text](http://cfile30.uf.tistory.com/image/25685C3558534FA834ECE1)
Is there a way to remove the border value or change the color of the pie chart?
There is no option for the border value when viewing the document.
  I made a general Errorbar component that can be attached to Scatter, Line, and Bar components as a prop (example code below).

```javascript
const data01 = [ { x: 100, y: 200, z: 200, errorY: [20, 30], errorX: 30 } ...]

<Scatter name="A school" data={data01} fill="#ff7300">
  <ErrorBar dataKey="errorY" width={8} strokeWidth={1} width={0} stroke="blue" direction="y" />
  <ErrorBar dataKey="errorX" width={4} strokeWidth={2} opacity={0.5} stroke="green" direction="x" />
</Scatter>
```

![screen shot 2016-12-16 at 6 51 11 pm](https://cloud.githubusercontent.com/assets/9427089/21284011/8018a822-c3c3-11e6-85fe-525f932684d7.png)

![screen shot 2016-12-14 at 5 53 38 pm](https://cloud.githubusercontent.com/assets/9427089/21209091/0f9a5372-c227-11e6-880f-10867b969643.png)

![screen shot 2016-12-16 at 7 04 02 pm](https://cloud.githubusercontent.com/assets/9427089/21284002/50c505fc-c3c3-11e6-8d9f-90bcdd0574bc.png)


 @xile611 Also, I know we talked about making this work for candlestick charts, but I actually think they are different conceptually because an error bar is a value you add onto an existing data point (similar to a label) where as a candlestick chart is an actual chart type where each point consists of four values displayed in an histogram like manner. After the error bar PR goes through I can work on the candle chart if you would like. Thanks for the feedback! 

Option 1 of your two ideas looks the best to me.

I'll also make the error an interval instead of a single value. (My use case only needed one value but I can see how people would also need intervals.) 

I'll aim to have these changes done by this evening. @xile611  Let me know if anything else needs to be done before merge. I think it should be close. @xile611 I think my most recent updates covered everything you pointed out in the review.  Using the StackedBarChart http://jsfiddle.net/kca9npkg/6/?utm_source=website&utm_medium=embed&utm_campaign=kca9npkg

Try removing one of the bars in the stack and keeping `stackId={'a'}` and it will not render. 

Not a huge issue, but it's nice to be able to use the stackId prop whether or not you have multiple series.   I have a simple BarChart, with a XAxis. In some cases, some of the labels are simply not showing up. In the image below, only the middle label is appearing.

![http://i.imgur.com/MRFaXJP.png](http://i.imgur.com/MRFaXJP.png)

Here's the code:

```javascript
<BarChart data={data} barSize={SIZE} width={WIDTH} height={HEIGHT} margin={{ top: 80 }}>
   <XAxis dataKey="name" tick={<CustomizedAxisTick />} />
   <Tooltip formatter={formatTooltip} />
   <Bar dataKey="local" fill="#1f40e6" label={<CustomizedLabel />} />
   <Bar dataKey="global" fill="rgba(30, 63, 230, 0.6)" label={<CustomizedLabel />} />
</BarChart>
```

and

```javascript
const CustomizedLabel = props => {
  // eslint-disable-next-line react/prop-types
  const { x, y, payload } = props;

  return (
    <Text
      x={x}
      y={y + 3}
      fill="#002960"
      fontSize={11}
      textAnchor="middle"
    >{truncate(payload.value)}</Text>
  );
};
```
 Hmm, I think that will do. 
Thanks!  Hi there,

We are trying to get the labels on a simple time series line chart to be centered left of and below the axes (apparently industry conventions).

Unfortunately, we are unable to move the brush and legend down, to make space for the label, resulting in this squishy situation:

![selection_039](https://cloud.githubusercontent.com/assets/7287076/21108159/1668821a-c08c-11e6-93be-e4f1b6dde266.png)

We have tried adding css margins to the classes we can see of the components via the chrome devtools (e.g. class `recharts-brush`), but that seems to have no effect.

So does anyone have an idea how I can create the needed margin below the X-axis?
 @xile611 Ah thanks. Works well for the space around the x-axis. 
Since the legend appears to be outside the svg, I'll try handling that one directly with css. thx @xile611 - solved my problem  When I use CartesianGrid or XAxis on android 4.4.2 or other lower version , show the error  Object #<Object> has no method 'sign' . But  android 6.0+ is ok.  0.19.0  ,and I use babel-plugin-recharts, also  call this error Hello i use polyfill-service, and my snippet in app entry.

https://www.npmjs.com/package/polyfill-service

```
import 'polyfill-service/polyfills/Math/sign/polyfill';
```

 It's already the latest version.   I use the android 4.4.2 open demo the club's official website, also can't open the chart. Android 6.0 can open.  You have tried using android machine? I solved it for `import core-js/es6/math.` 
Because I use  `import XAxis from "recharts/lib/cartesian/XAxis"`    instead of   `import {XAxis} from "recharts"`.  
 Thank you for your patiently.  I have a stacked bar chart and I'm dealing with an issue where the bar labels are being cut off when the bars are really short: 
<img width="295" alt="screen shot 2016-12-08 at 3 19 07 pm" src="https://cloud.githubusercontent.com/assets/7084294/21031740/eca113aa-bd59-11e6-882c-8c508ed92fb0.png">

Is there a way to make the labels disappear when the bar is a certain size or when there is only a certain amount of room on each side of the label inside the bar? @xile611 Like this? 
```jsx
const { width } = props;

if (width < 25) {
    return '';
  } else {
    return (
      <Text
        {...props}
        key={key}
        className='recharts-bar-label'
        style={{ fill: '#fff' }}
        textAnchor='middle'
        x={x - width / 1.98} // <== like this?
        y={y}
      >
        { label }
      </Text>
    )
  }
``` Thanks @xile611!  Hi,

Suppose I additionally have a table of the graphed XY data and an 'onHover' function which gets the X value of the table row.

Is there a way to pass this X value to a Rechart for it to display the cursor (similar to the one for the tooltip) at that given value?

Thanks This works well.
However, it does clash with the tooltip when using the prop "isFront".

Thank you very much. @xile611 

Two things:
 - The RefLine interrupts the tooltip selection - you either get one or the other
 - Every new render of the RefLine seems to toggle the line's state, so it shows, hides, shows, hides...

Any idea why these occur? Sorry, I was not clear in my response.
I think my case is a special case.

On mouse over the graph, the redux store is updated with the selected X value.
This change in state is then mapped to the graph props, which then renders the RefLine.
(It also updates another graph/map, hence the reason for it).

What I think is happening is the first time you mouse-over a value, the tooltip is rendered as expected.
However, it triggers a redux store update, which updates the props, which causes a re-render of the graph in order to render the RefLine.

I believe the tooltip is not rendered on this second render (as it already responded to it's update), making it disappear.

If you were to move the mouse on the same x-value, the tooltip does render (but this is because I do not update the redux store if the value has not changed).

Interesting, no? :) http://jsfiddle.net/b1Lb3kuk/3/

Try that.

You'll see a comment saying "replace this with null". Do that, and the problem (tool tip is not rendered) is 100% of the time, rather than only the first mouse over (tricky to do, move from one section to the next a pixel at a time). To see the problem 100% of the time, ie the tool tip will never display.

And that's the thing. A second render occurs which resets the tooltip to not shown. Similar problem to #401. I understand your recommendation fully! I'm trying to link a map of locations with a graph of time-based data. The link between the data is the timestamp, or the X-value of the graph.
Unfortunately, I would like mouse over on a **map** or the **graph** to update a single state value, and that value is mapped as props which updates the map and graph with a **marker** and **RefLine**. Oh exciting :)
Good stuff :D Any chance it can be used with http://jsfiddle.net/b1Lb3kuk/3/ ? Tried with 20.2. This issue is _not_ solved. :( The problem still exists:

Move your cursor VERY slowly (pixel by pixel) from one to the other.
Note that the very first update to the next value does not render the tooltip (but it does render the RefLine).

This effect is very obvious when you have many many data points, ie they are all one pixel wide.

See http://jsfiddle.net/b1Lb3kuk/13/
Move your curser side-to-side over the graph, note there is no tooltip.
Move your curser up and down (which is similar to re-render of the same data point) and it renders the tool tip. Still not fixed with 0.22.
See http://jsfiddle.net/b1Lb3kuk/13/   **Why**

I need to customize the legend items. In my case, I've added the ability to toggle elements from a chart and I want to style legend items accordingly.
I could have created a custom `Legend` component for that, but I think it's a nice feature to add to the default one.

**How**

This PR makes it possible by adding a `className` attribute to the `payload` property in the `Legend` component. If set, this string is appended to the other classes on the `li` element.

* Tests are passing
* I have updated the doc on a branch. I'll send a PR if you think this feature is worth it. Hey, are you just closing it without an explanation? Do you find it useless?  How make it?

https://s.mail.ru/37sz/fwFzs6Lrx

I try 

```
{data.map((e, i) =>
  <Bar
    dataKey={e}
    fill={lib.getRandomColor()}
    onMouseOver={((e) => {console.log(e)})}
    { ...columnChartToBarChart == false ? {stackId: 'a'} : {}}
    key={i}
    label={(obj) => this.renderCustomLabel(obj, e, i)} />
)}

renderCustomLabel(obj, label, index) {
  let { showTopLabel, columnChartHoveredBar } = this.state;
  let { x, y, height, width } = obj;

  if (+obj.payload[label] <= 0) return null;
  if (height < 30) return null;
  if (width < 50) return null;

  return <text
    key={index * index}
    x={x}
    y={y}
    dy={-4}
    fill={"#333"}
    // transform="rotate(-35)"
    // { ...showTopLabel == false ? {transform: "rotate(-35)"} : {} }
    fontSize={14}
    textAnchor="middle">
      {obj.payload[label]}
    </text>
}
``` @xile611 thanks you, but a found some errors

I fork solution
http://jsfiddle.net/vaeum/q1reejg1/

error, tooltip is under bars
http://take.ms/dWLmZ

and show all tooltips in bar on hover   When I try to update data for LineChart, i get the following errors
![image](https://cloud.githubusercontent.com/assets/5244214/20860445/c0a4ab34-b978-11e6-8a2a-f868d281d579.png)

**When the error occurs**
Full data for the chart was loaded, and the chart with two lines has rendered. Then user changes desired variables and when new data for the chart is passed (via props, the component is rerendering) the following error occurs. New data is generated correctly, but when they're passed to chart, the following errors occurs

**Example**
I don't use plain React to manipulate data, so it would take me some time to prepare a live example of this error. If it will be necessary i'll write one though Could be related: 
```
CSSPropertyOperations.js:190 Uncaught TypeError: Cannot assign to read only property 'length' of object '#<CSSStyleDeclaration>'
setValueForStyles @ CSSPropertyOperations.js:190

warning.js:36 Warning: performUpdateIfNecessary: Unexpected batch number (current 2112, pending 2108)
...
```

Here's what is rendered:
```
  render() {
    return (
      <div>
      <LineChart width={300} height={200} data={this.state.data} margin={{top: 10, right: 10, left: 10, bottom: 10}}>
       <XAxis  dataKey="x" type="number" />
       <YAxis  interval={1} hide />
       <CartesianGrid strokeDasharray="0.25 5"/>
       <Legend /> 
        <Line name="Frequency2" type="number"  type="monotone" dataKey="y_freq_repeat" stroke="#82ca9d" strokeWidth={2}  
                  connectNulls={false}  strokeDasharray="1 1"/>
      </LineChart>     
      </div>

    );
  }
```
The dashed line (strokeDasharray) is drawn correctly 1 time on 2 when the data is modified (setState...). Otherwise, a full line replace it.
 
**To solve the issue for now:**
I avoid using strokeDasharray in <Line...> parameters or I add isAnimationActive={false} to it.

I'm a beginner at web development. But I believe the issue has something to do with the mix of strokeDasharray and animation. The use of strokeDasharray isn't documented for Recharts line :    [http://recharts.org/api#Line](http://recharts.org/api#Line). So is this an unsupported parameter?
 @ShortandSweet Yes, this was the cause of my error. Rerencering a linechart with StrokeDasharray causes chart to crash. Removing it solved this issue Live example : 
[http://jsfiddle.net/x1yoboc7/249/](http://jsfiddle.net/x1yoboc7/249/)

When New data is press, the dashed line is redraw as a full line. Still experiencing this bug. Initial renders of lines with stroke-Dasharray are fine, but on a setState rerender, they cause my chrome tab to completely freeze (no script error comes up).

Issue is fixed by passing `isAnimationActive={false}` to the line, or removing `stroke-Dasharray`.

Tested it on firefox and same thing happens, firefox reports that "A web page is slowing down your browser, what do you want to do, wait or stop it"

Just to reiterate, it's not a script error, and is happening during the webpage rendering (painting?) phase.  I've made a custom label for the bar chart, I ended up with the following result:

![pasted image at 2016_12_03 02_09 pm](https://cloud.githubusercontent.com/assets/9677898/20859538/2e60270a-b962-11e6-9380-85439069cc91.png)

The label is displayed at the top of the bar and at the bottom:

![pasted image at 2016_12_03 02_06 pm](https://cloud.githubusercontent.com/assets/9677898/20859548/41105f14-b962-11e6-9dee-82b1688c2e01.png)

However If I pass plain object to the label prop, the label wont be displayed twice.
My custom label:
```
export const InnerBarTooltip = ({ x, y, width, height, textAnchor, sold }) =>
  <text
    className="recharts-text recharts-bar-label"
    fill="red" x={x} y={Math.round(y + 20)} width={width} height={height} fontSize={20} textAnchor={textAnchor}
  >
    <tspan x={x} dy="0" style={{ fontWeight: 400 }}>{sold}</tspan>
  </text>;

InnerBarTooltip.propTypes = {
  x: PropTypes.number,
  y: PropTypes.number,
  width: PropTypes.number,
  height: PropTypes.number,
  textAnchor: PropTypes.string,
  sold: PropTypes.number,
};
```
  I have a stacked bar chart and I would like to center the bar labels on each bar. However, it doesn't look like you guys are using CSS to do this so I'm unsure how to go about it. Is it _possible_ to do this and if so, would someone be willing to show me an example? I would really appreciate it! Sweet! Thanks again @xile611. This is a huge help.  Let me know if I need to add tests or make any changes. I'll add to the api docs once the change is integrated.

Here are example pictures of the current implementation:
Basic bar chart with error bars:
<img width="384" alt="screen shot 2016-12-05 at 11 33 20 am" src="https://cloud.githubusercontent.com/assets/9427089/20899659/26ff0358-bae0-11e6-89d8-20f5dba5edde.png">

Vertical bar chart with error bar color and width options changes:
![screen shot 2016-12-05 at 11 41 17 am](https://cloud.githubusercontent.com/assets/9427089/20899677/3dc172d8-bae0-11e6-8a33-8abbba89d6c4.png)

 I just opened a new pull request.  It would be great if it were possible to pass a function that evaluates to a data points value instead of passing a `dataKey`

i.e.

```javascript
<Line dataKey="uv" />
```

could be equivalent to

```javascript
<Line value={ (data, index) => data[index]["uv"] } />
```

That would allow Recharts to make less assumptions about the passed `data`s format and would enable more use cases like computing values Would be great, common use-case is to compute the value by adding multiple values together, or to access nested values (ie, `data.users.count`) In my opinion it would be much better for `value` (or whatever the data accessor function's prop name is) to take a function `Array.map` would take, like this:

```
<Line value={ record => record.uv } />
<Line value={ (record, index) => record.uv } />
<Line value={ (record, index, data) => record.uv } />
```

Would this disrupt the current codebase much? Based on `dataKey` being a string I suspected that under the hood the data is simply retrieved by something like this:

```
const { dataKey, data /* wherever this comes from */ } = this.props
const values = data.map(record => record[dataKey])
```

So here the mapper function could be simply dropped in
 @xile611 I think passing nested keys misses out on a lot of the flexibility enabled by a mapper function and is also a breaking change, since
```
{  a.b.c: 1  }
```
is a valid object.

@bali182's solution seems ideal. @tarrencev agree, a mapper function gives way more flexibility. By the way, nested paths could be easily achieved with an helper function such as `get` in `lodash`:

```
import { get } from 'lodash/fp'
...
<Line value={get('a.b.c')} />
...
```
 @xile611  that's great news!  I'm not trying to pry, but wouldn't it semantically make more sense to not call the function version `dataKey`? Maybe keep dataKey as it is and introduce a new property? I know it would introduce some  complexity to check that dataKey and let's say dataFn are mutually exclusive, and also mess with proptypes, so it might not such a good idea. But passing a function to a prop named dataKey seems a bit strange... @xile611 I understand, but in the case that someone is currently using a object with a "nested key string" as the key, like 
```
[{ today.a: 1 }]
````
introducing nested key strings would be a breaking change. Doesn't affect me, but just wanted to make sure it's considered I see that commit reverted. Any updates for nested data keys? @raviteja83  @erayalakese using a function works for me

```js
//data=[{ ttt: 'a', asd: 12 }, { ttt: 'b', asd: 32 }, { ttt: 'c', asd: 55 },]
	render() {
		let getVal = (x)=>{return x.asd;}
		let getName = (x)=>{return x.ttt;}
		return (
			<LineChart width={730} height={250} data={this.state.data}
				margin={{ top: 5, right: 30, left: 20, bottom: 5 }}>
				<CartesianGrid strokeDasharray="3 3" />
				<XAxis dataKey={getName} />
				<YAxis />
				<Tooltip />
				<Legend />
				<Line type="monotone" dataKey={getVal} stroke="#8884d8" />
			</LineChart>
		);
	}
``` Using a function is great. However, the legend key has no name, now. How to set? Use "name" field. Can the documentation for `Area` and `Bar` be updated to reflect this prop can take a function (assuming they can?) I'm getting the following warning when setting `dataKey` to a callback function:

`Warning: Encountered two children with the same key`

This is my callback function:
```

        const getVal = (val) => {
           if(x === "something")
               val[x]/1000
           else
               val[x]
        }

        return (
          <Area
            key={x}
            dataKey={getVal}
            type="monotone"
            name="test"
            unit="cm"
          />
```

where `x` is a variable taking on different string values.  http://jsbin.com/ukaxod/144/embed?js,output

Please excuse me if this is not the place to do this kind of question. Let me know and I'll delete it.
Thanks That demo was awesome! Works like a charm. Thanks! That demo doesn't seem to work anymore unfortunately.  Does anyone have a working example?  Hi 
Is there a way to add a custom tooltip on hover of each cell in StackedBar chart? 
Using the code below we can hover over each stacked bar but not on each cell
`<Bar dataKey='uv' onClick={this.handleClick}>
            {
              data.map((entry, index) => (
                <Cell cursor="pointer" fill={index === activeIndex ? '#82ca9d' : '#8884d8' } key={`cell-${index}`}/>
              ))
            }
           </Bar>`

 yes We can do something like this

`
<Bar dataKey='uv' }> { data.map((entry, index) => ( <Cell cursor="pointer" onClick={this.handleClick.bind(this, entry, 'uv')/> )) } </Bar>`


//console
Object {name: "Page A", uv: 4000, pv: 2400, amt: 2400} "pv"

once we have the cell object and datakey, we can easily map. This could be one solution. Any other suggestion, do let us know. Thanks @xile611 Thanks a lot  Simple example with a **Scatter** 
```
<ScatterChart width={600} height={400} margin={{ top: 20, right: 20, bottom: 20, left: 20 }}>
      	<XAxis dataKey={0} name="stature" unit="cm" />
      	<YAxis dataKey={1} name="weight" unit="kg" />
        <CartesianGrid />
      	<Tooltip cursor={{ strokeDasharray: '3 3' }} />
      	<Scatter name="A school" data={**test**} fill="#8884d8" line shape="cross" />
</ScatterChart>
```

Where **test** is array of arrays
const test = [[0, 0], [1, 1], [2, 2]];

It works, but I get Warnings

> Failed prop type: Invalid prop `points[0].payload` of type `array` supplied to `AnimationDecorator(Scatter)`, expected `object`.
>     in AnimationDecorator(Scatter) (created by FocusChart)
>     in ScatterChart

and 

> Failed prop type: Invalid prop `points[0].payload` of type `array` supplied to `Scatter`, expected `object`.
>     in Scatter (created by AnimationDecorator(Scatter))
>     in AnimationDecorator(Scatter)

As it works with array of arrays properly  it would be good if in TypeProps will be both array and object  Referencing the following example:

```jsx
<ComposedChart layout="vertical" data={data} onClick={::this.requestTagsWithPattern} >
  <XAxis type="number"/>
  <YAxis dataKey="name" type="category" width={300} onClick={::this.requestTagsWithPattern}/>
  <CartesianGrid stroke="#f5f5f5"/>
  <Tooltip/>
  <Legend />
  <Bar dataKey="OS" barSize={20} fill="#8884d8" />
</ComposedChart>
```

Does  `onClick` work for `XAxis` and `YAxis`? When `onClick` is set on `ComposedChart`, it triggers when `Bar` is clicked and I am able to obtain the values from element returned, but none of the other components under `ComposedChart` seem to trigger the handler. I put the `onClick` event on `YAxis` and that does cause the handler to trigger, however `YAxis` only returns `null`. Is there  a way I can get the value of the `YAxis` on click? For example, if the label on `YAxis` **A** is clicked - return element containing value **A**.  @xile611 Super! Thanks for the continued great support.   When using XAxis and YAxis component I get the following error:

```
TypeError: text.getComputedTextLength is not a function
    at node_modules/recharts/lib/component/Text.js:111:42
    at Array.map (native)
    at Text.calculateWordWidths (node_modules/recharts/lib/component/Text.js:109:42)
    at Text.updateWordsByLines (node_modules/recharts/lib/component/Text.js:83:43)
    at Text.componentWillMount (node_modules/recharts/lib/component/Text.js:69:12)
    at node_modules/react-dom/lib/ReactCompositeComponent.js:348:23
    at measureLifeCyclePerf (node_modules/react-dom/lib/ReactCompositeComponent.js:75:12)
    at ReactCompositeComponentWrapper.performInitialMount (node_modules/react-dom/lib/ReactCompositeComponent.js:347:9)
    at ReactCompositeComponentWrapper.mountComponent (node_modules/react-dom/lib/ReactCompositeComponent.js:258:21)
    at Object.mountComponent (node_modules/react-dom/lib/ReactReconciler.js:46:35)
    at ReactDOMComponent.mountChildren (node_modules/react-dom/lib/ReactMultiChild.js:238:44)
    at ReactDOMComponent._createContentMarkup (node_modules/react-dom/lib/ReactDOMComponent.js:653:32)
    at ReactDOMComponent.mountComponent (node_modules/react-dom/lib/ReactDOMComponent.js:520:29)
    at Object.mountComponent (node_modules/react-dom/lib/ReactReconciler.js:46:35)
    at ReactDOMComponent.mountChildren (node_modules/react-dom/lib/ReactMultiChild.js:238:44)
    at ReactDOMComponent._createContentMarkup (node_modules/react-dom/lib/ReactDOMComponent.js:653:32)
```

I am using the simple example from the [docs](http://recharts.org/examples#SimpleLineChart), the recharts version is 0.19.0 and I am rendering it on the server. @xile611: Yes, I forgot to mention that! Maybe I should just render the components that are dependent on getComputedTextLength only on the client side. Although that will cause the mismatch of rendered HTML on the server and client. @xile611: Updated the issue. My version is 0.19.0 This fails for me in my enzyme tests. The reason it fails is that the isSsr export is testing for existence of 'document' like so:
```
export const isSsr = () => (typeof document === 'undefined');
```

My tests use jsdom:
```
global.document = jsdom.jsdom(html, {
  globalize: true,
  console: true,
  useEach: false,
  skipWindowCheck: false,
});
```
and so, of course, getComputedTextLength is called and it blows up.

If I modify isSsr to this:
```
export const isSsr = () => {
  return !(window && window.requestAnimationFrame);
}
```
it works.

Of course, it might be better to just use canUseDOM or something like:

```
  return !(typeof window !== 'undefined' && window.document && window.document.createElement);
```  @xile611 I have a bar chart and I want each bar to grow bigger when someone hovers their mouse over it. Is there any easy way to do this currently with CSS or JS that I missed? I wasn't able to find anything after looking through the issues and docs.  Awesome! That's exactly what I'm looking for. Thanks for taking the time to do this @xile611.  One more question: is there a way to change the _color_ of a bar when you hover over it @xile611?  @xile611 I have a _stacked_ bar chart so I'm looking to make the _whole_ bar change color when I hover over one part of it and not just that single part of the bar like it does [in this example](http://jsfiddle.net/matthewberkompas/wa87o60f/). Is that possible?  @xile611 This answers my questions. Thanks a ton for your help here!   The current animation options are true and false, and when true, the entire chart is redrawn from scratch on every data update. This is fine for static data that is set once or possibly updated by user action, but it's not useful for real-time data where updates are coming in periodically. The "solution" for now is to disable animation. But I'd like to suggest a third animation option: morph. In this mode, the graph would morph from its present state to the state with the new data. This would make for a very smooth display of real-time data. @Eric24 Did you implement any kind of workaround in the meantime?  I turned off animation for now but not a great alternative... @kartboy16 - I just turned off animation. It's not a major issue for us. "Delta" animation would be great, but it doesn't affect the functionality of our application. @xile611 it's awesome that the library is so actively maintained! Thank you! would like to see this too  @kartboy16 I managed to do what @Eric24 was describing, but only by preventing the data being sent within my `actions` if it was the same as it was last time.

This caused some re-factoring but now makes my charts more dumb which I like. how to do smoothly update? is there a solution?
set `isAnimationActive={false}` on `<Line/>` ? Looking forward to progress on this. Having a pie chart section "expand" when it's value increases will be amazing. I'm very interested in seeing this happen. We are considering using Recharts as one of our primary charting libraries, but we need the animations to update from the past value vs from zero. If having additional people working on it could help, myself and a coworker are willing to contribute. Just another note to send much love to you guys, and add a +1 to this issue. I know you're working on it, so yeah, just saying I appreciate it.  +1 for the RadialBarChart. I see that the Animation Refactor landed in 1.0.0 beta, but transitioning between datasets is still kind of wonky - are there plans for additional updates in this area? I think there is currently a bug with the Customized Label. If you go to http://recharts.org/#/en-US/examples/PieChartWithCustomizedLabel directly, the customized label will be drawn. But if you go to any other link first such as http://recharts.org/#/en-US/examples/SimpleScatterChart then click on "PieChartWithCustomizedLabel", then the customized label won't be drawn. @camflan I ended up adding a `key` prop to the component based on `data` to force a re-draw. Any update on the smooth transition? Victory charts handles this smoothly but if possible I'd like to use recharts, this is holding me back.  I added babel-plugin-lodash along with babel-plugin-recharts to the webpack config, and it reduced the size of the output. I thought this might be a useful tip to others.

Thanks for a great library ðŸ‘   Hi, 

I'm getting the following error and warning on npm install:

```
$ npm install recharts --save

> canvas@1.6.2 install /Users/sylvain/uplab/dashboard-react/node_modules/canvas
> node-gyp rebuild

./util/has_lib.sh: line 31: pkg-config: command not found
gyp: Call to './util/has_lib.sh freetype' returned exit status 0 while in binding.gyp. while trying to load binding.gyp
gyp ERR! configure error 
gyp ERR! stack Error: `gyp` failed with exit code: 1
gyp ERR! stack     at ChildProcess.onCpExit (/usr/local/lib/node_modules/npm/node_modules/node-gyp/lib/configure.js:305:16)
gyp ERR! stack     at emitTwo (events.js:106:13)
gyp ERR! stack     at ChildProcess.emit (events.js:191:7)
gyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:204:12)
gyp ERR! System Darwin 15.4.0
gyp ERR! command "/usr/local/bin/node" "/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /Users/******/node_modules/canvas
gyp ERR! node -v v6.4.0
gyp ERR! node-gyp -v v3.3.1
gyp ERR! not ok 
npm WARN install:canvas@1.6.2 canvas@1.6.2 install: `node-gyp rebuild`
npm WARN install:canvas@1.6.2 Exit status 1
```

I'm using versions:
```$ npm --version
3.10.3
$ node --version
v6.4.0```

This canvas issue does not seem to impact my recharts module however as it works fine for now.
 Sorry, this seemed to be caused by another module.  See example, please
http://jsfiddle.net/vaeum/7begLcrb/ Hello, bug not resolve ((
http://jsfiddle.net/vaeum/dmeaodhc/4/  We have `document` available in the backend, th `isSrv` check for that and them renders and give a bad checksum because of the animations probably.

Ex:
```
(client) d="clipPath1480374909864" data-reactid=" (server) d="clipPath1480374908124" data-reactid="
```

Would be nice if we could pass a prop or context to tell it's being rendered by the server. That way anyone can patch the way they want to tell that is a server rendering.

This is with animations disabled, I'm using pie chart. detect the environment is not a responsibility of recharts, any implementation you do will fail over time with different environments javascript contexts (window/global are contexts, React context is another thing).

This is a good use-case for React Context:

```js
RechartsComponent.contextTypes = {
  rechartsServerRendering: React.PropTypes.bool
};
```

In your component you can get using:
```js
this.context.rechartsServerRendering
// or pure functions
function RechartsComponent(props, context) {
  context.rechartsServerRendering
}
```

Let the developer implement their logic to detect the server side.

If you want to launch a version that deprecates your isSsrv implementation without breaking the current implementation, check if that context variable is `undefined` if it's, uses the old implementation otherwise trust in the boolean from `context.rechartsServerRendering`.

I suggest a long name, because contexts will transverse the whole application, and if you use `serverRendering` it might conflict with other projects implementations.

More info at: https://facebook.github.io/react/docs/context.html

A good example in how contexts are implemented correctly is react-router, they use to transport their router instance over to the children components of `<Router>`.

You can use the same approach creating a context element called `<Recharts>` where the dev can add to the root of his react structure and define global configs such as `serverRendering`, ex:

```jsx
<Recharts serverRendering={ myLogicReturnsBoolean() }>
  <MyProject structure>
    ... other recharts components anywhere here will know if is server rendering
  </MyProject>
</Recharts>
```  I recently want to build a graph with boxplot and scatters graph mixed like G2 did.
[https://g2.alipay.com/demo/01-point/jitter.html](url)

Can Rechats build that ? Is it supported now ?  Is there a way to omit a specific line/bar/area/etc. from the legend and tooltip, other than using a custom content for these? It would be desirable to be able to control what data series appear in the legend and tooltip at the data series component level. Yes, I understand that no SDK can possibly meet all needs without customization, but this seems fairly trivial. All I'm looking for is a way to "hide" a child component from appearing in the legend and tooltip. So for example, a Line chart with several Line components where I don't one one or two of those components to appear in the legend/tooltip; by default, all components would appear as they do now, but if I were to set "hide" to true, it would be omitted. As the internal code that builds the legend or tooltip goes through the list of child components, it simply skips any with "hide" set to true. Sounds interesting; it would be more flexible overall, but I still think a simple boolean include/omit prop on the child component itself would be useful as well. Two possible thoughts:

1) Use the existing 'legendType' prop, and omit the data component from both tooltip and legend if it is set to false.

2) Add a new prop called 'legendMode', with options:
true (default) - Include in both tooltip and legend
false - Omit from both tooltip and legend
'tooltip' - Include in tooltip only
'legend' - Include in legend only

Option 1 is probably simpler (and works fine for my use case); option 2 is more flexible (and might work for more use cases). +1,  recently had this when showing distribution margins around a data line,  of similar colour (so no legend needed).
Not sure how to remove these margins from the legend.

> but I still think a simple boolean include/omit prop on the child component itself would be useful as well.

Makes sense to me.   Just like how you set the legend icon. Any possibility to see this in the next release? Even option 1 ("legendType"=false) would be a tremendous help, and doing that wouldn't preclude the possibility of adding the more flexible "legendMode" option in the future. here is some options used in other native framework, like MpAndroidChart:

the Line itself has a prop named "highlightEnabled", if it is set to false, it still has legend, but not displayed in tooltip. And most important. it is not selectable.

like pic in  #563  , data in refer line is very very dense, and user data is sparse.  In current recharts, it is impossible to select x of user line dot.  if refer line 's 'highlightEnabled' is false,  then it will make it very easy to highlight user line's dot. I also need this, and am willing to submit a PR if we can agree on an approach.  My suggestion would be to add `none` to the options available to `legendType`.  If `legendType='none'`, the legend would be omitted for that component.  That's what I intuitively tried without checking if it was possible, and I was sad when it didn't work.  ;) @IanVS : legendType='none' is probably fine, although there is a precedent for legendType=false (lots of other props use false to mean "do not render", like line.dot, line.label, etc.) I'm not picky.  I'd be willing to implement whatever the project maintainers are willing to accept.  What do you think, @xile611?  I believe a composed chart automatically leaves room for bar charts, even if none are defined (extra space to the left and right side, extra-wide cursor, etc.). That makes sense if the chart was going to contain a bar, but not if it only contains lines and areas. Is there a recommended way to eliminate the extra "bar" room from the composed chart? Well, yes, "point" works as described, but: a) It only works if the axis type=category (my use-case is type=number); and b) with scale=point (and type=category), the "bars" in my composed chart are not rendered at all. Hi @xile611 - I ran into the same problem @Eric24 had/has, and it seems that removing the `barSize` prop from `Bar` makes the bars in the composed chart no longer render.

Updated fiddle [here](http://jsfiddle.net/z3wx6zm3/1/). Is this intended? Thanks so much! @Eric24 I also am experiencing this issue. Were you able to find a workable strategy for a composed chart with `Line` and `Area` components  and no `Bar` components? @Malachi-M : I ended up using the type=point suggestion from @xile611 and that worked for my use-case.  Recharts is injecting className into many of its React rendered elements. Out of the box Recharts doesn't need classnames, but they're added presumably as a convenience for those who want to use CSS to style or customise their charts or to add custom CSS based animation.

Given that the DOM is far and away the biggest cause for poor performance in SVG based charts, and React itself will add some overhead, I suggest making it possible to disable classnames altogether, certainly on the elements that are repeated (e.g. Bar, Cell in a stacked bar chart). This would reduce an additional DOM attribute that needs to be reconciled by React and interpreted by the browser, and might lead to a few percent better performance.

As discussed here:
https://github.com/recharts/recharts/commit/e2957375b20ac6864212aae037a6bf1fa1d297e1#commitcomment-19952106

This is currently theoretical. I haven't tried it to measure the actual benefit.  Hi,

I'm creating a scatter plot, however I'm adding my own mouse so I can implement a rectangular selection. Given my mouse coordinates, is there any way I can calculate what the cartesian coordinates should be, eg:

getCartesianCoordinatesForMouse(mouseX, mouseY, width, height,...)

Thanks!

Chris Hi,

Thanks for the reply. Unfortunately I can't use this, as I'm using hammer.js to support touch interaction. I need some way to obtain the cartesian (chart) coordinates given some mouse coordinates. Also from looking at the code chartX/chartY are generated using:

export const calculateChartCoordinate = (event, offset) => (
  {
    chartX: Math.round(event.pageX - offset.left),
    chartY: Math.round(event.pageY - offset.top),
  }
);

So this doesn't actually give the cartesian coordinates, it gives the coordinates offset by the chart axes.

I think I need to use d3 scales. A bit of background. We're trying to add marquee rectangular drag selection to create a database query that will filter the points by their real X and Y data values (not pixels).

I can do this if I have access to your d3 scale which is internally as xAxis.scale() (in fact I'll want xAxis.scale.invert() to convert pixel values to data values). However you don't expose this anywhere that I can get at easily - e.g. it's not in the props of any customisable elements.

I'd like to make the change and put together a PR but I'd like to know how you would prefer to architect a solution. I need to be able to query, for a given (e.g.) ScatterChart, the xAxis and yAxis objects that you're currently initialising in `ScatterChart.render()`. 

Currently I'm looking at rendering a hidden ReferenceArea or something, because these include xAxis and yAxis in their props. Then using a React ref to expose this. This is quite a nasty hack. +1 FWIW, you can sort of hack around this by setting a custom label class that calls a passed through props function to update the state with the dots x and y. with all of your dots x antd y values if you sort them by x and sort your original data by x you can match them up.   I have the following legend code:
`<Legend
    align='right'
    verticalAlign='top'
    height=36
    iconSize=10
/>`

This works as expected in Chrome, Safari, Firefox, MSEdge
But in ie11, the positioning is wrong.

My workaround: to add custom css top: -60px specifically for ie11

See attached screen shots.
![ie11legendbug](https://cloud.githubusercontent.com/assets/10929533/20576130/69648c22-b171-11e6-980d-598278fa61b3.jpg)
![chromelegendnobug](https://cloud.githubusercontent.com/assets/10929533/20576136/70ea8fa0-b171-11e6-9e0f-e3427118022e.jpg)
 Hello, add this css code in your project

```css
.recharts-legend-item .recharts-surface{
  height: ${your icon height in pixels};
}
``` Thanks. I was doing complicated things with ie-11 browser selection. I prefer this browser agnostic solution.  Given that your library has a dependency on react-dom-server and that the good folks at React state 'We don't recommend using React DOM Server on the client in most cases'; are there any plans to remove this dependency or separate it out into a second library?  https://github.com/recharts/recharts/blob/master/src/component/Legend.js#L5

remove this line ?  With the 0.19 release; the tooltip when using bar is acting strange.  Before, I was using onMouseEnter of BarChart to get data.x (which would set/position the tooltip in the middle of a sized bar).  But now, it seems it doesn't matter what I set for position or coordinate, the tooltip doesn't move. Its stuck in the top-left corner.

In addition; the data passed changes depending where I hover over (from top, left, etc) - see 2nd screen capture below.

![screen shot 2016-11-23 at 9 23 32 am](https://cloud.githubusercontent.com/assets/7296078/20569768/809174d6-b15e-11e6-8b49-dd1e87a79e16.png)
![screen shot 2016-11-23 at 9 23 24 am](https://cloud.githubusercontent.com/assets/7296078/20569773/82a86090-b15e-11e6-9542-babfc79785eb.png)
 But wouldn't the unified payload be the same regardless where the mouse enters the chart?  The log above was using the exact same chart; however, the X/Y changed based on if I hovered **from** the top,left,etc of the chart.  I have a pie and line chart on one React file and either the pie chart will load or the line chart will load. There is no observable pattern, both charts are grabbing data from componentWillMount.  I setup a simple demo with react ssr. 

```js
import React from 'react'
import {
  LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend
} from 'recharts'

const data = [
  {name: 'Page A', uv: 4000, pv: 2400, amt: 2400},
  {name: 'Page B', uv: 3000, pv: 1398, amt: 2210},
  {name: 'Page C', uv: 2000, pv: 9800, amt: 2290},
  {name: 'Page D', uv: 2780, pv: 3908, amt: 2000},
  {name: 'Page E', uv: 1890, pv: 4800, amt: 2181},
  {name: 'Page F', uv: 2390, pv: 3800, amt: 2500},
  {name: 'Page G', uv: 3490, pv: 4300, amt: 2100},
]

const width = 600
const height = 300

export default class Chart extends React.Component {
  render() {
    return (
      <div style={{width: `${width}px`, height: `${height}px`}}>
        <LineChart width={width} height={height} data={data}
          margin={{left: 0, top: 0, right: 0, bottom: 0}}>
          <XAxis dataKey="name" />
          <YAxis stroke="#666" />
          <Line
            type="monotone"
            dataKey="pv"
            stroke="#8884d8"
            strokeDasharray="5 5"
            isAnimationActive={false}
          />
        </LineChart>
      </div>
    )
  }
}
```

But the browser always throw the Warning:

```
Warning: React attempted to reuse markup in a container but the checksum was invalid. 
This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. 
React injected new markup to compensate which works but you have lost many of the benefits of server rendering. 
Instead, figure out why the markup being generated is different on the client or server:
 (client) 540" height="30" x="573.3359375" y="276"
 (server) 540" height="30" x="600" y="276" stroke=printWarning
```

I refresh the browser many time seeing that, the last tick of the x and y axises always move positions when rendering changes. Looks like the axises was recalculated in the client rendering.

The client rendering was correct

![image](https://cloud.githubusercontent.com/assets/4800338/20531973/59cbf312-b113-11e6-8074-891b06ceeed1.png)

The server rendering wasn't

![image](https://cloud.githubusercontent.com/assets/4800338/20532046/8e49123c-b113-11e6-8c42-7cb0912c78e3.png)


 @xile611 Thanks for explanation! I' ll just ignore the warnings.

By the way, I was trying to generate a SVG graph by SSR. Now I just render the `<LineChart>` and got the structure like `<div ...><svg /></div>`. And then erase the string of `<div/>`, send SVG content to the client. Is there any other way to get it work better or easier ? : )
 @xile611 Thanks!

I found that `src/chart/generateCategoricalChart.js` rendered a div wrapped `<Surface />`. I guess you could provide a way only render the chart SVG without the container, Tooltip and Legend. SVGs usually are regarded as static image, they don't need too much interaction.

Thanks a lot for replying my questions. : ) Sorry for reopening this issue, but I'm just wondering is there any way to provide all necessary information to render charts properly on the server side?  Same question with @Havret ï¼Œreplace string from `<div>` to `<svg>` is really a hack. I'm curious about this too. I am as well  @xile611 I added a maxHeight definition to `lib/component/ResponsiveContainer.js` that might be helpful for others.  I didn't see a way to contribute to the npm recharts, so I apologize if this isn't the venue for that.  

**Added** `maxHeight = _props.maxHeight,` line 125


**Added**: `if(maxHeight && (calculatedHeight > maxHeight)) calculatedHeight = maxHeight;` after `calculatedHeight = calculatedWidth / aspect;` on line 138

**Usage**
`<ResponsiveContainer width="100%" aspect={ 2 } maxHeight={ this.props.maxHeight || 400 }>`


Hope this helps someone. Thanks @xile611 -- I submitted a PR.  It seems like there is no way to use different formatters per axis inside the Tooltip.

I have a LineChart with 2 Y axis, left is money and right is regular number. So I made a formatter to show the $ symbol, but it is displaying for both labels. 

Is there a way to make one formatter for each axis?

Thanks Ahh, awesome. Thanks!   I didn't see a formal way to do this, so I passed `status` as the `ZAxis` value. 
![Custom Tooltip](https://cloud.githubusercontent.com/assets/3874813/20497404/f8c44366-aff6-11e6-933b-8bdff158d6e1.png)

```
<ScatterChart width={400} height={400} margin={{ top: 20, right: 20, bottom: 20, left: 20 }}>
        ...
        <ZAxis dataKey={'status'} name='status' />
        <CartesianGrid />
        <Tooltip cursor={{ strokeDasharray: '3 3' }} content={<CustomTooltip />} />
</ScatterChart>
```
then retrieved it as a payload value.

```
export function CustomTooltip(props) {
  if (props.active) {
    const { payload } = props;
    // console.log(payload);

    return (
      <div className='custom-tooltip'>
        <p className='desc'>{`${beingAsEmoji(payload[2].value)}`}</p>
      </div>
    );
  }

  return null;
}
```

Of course this prevents me from using the ZAxis value as intended. 
If there really is no formal way to do this, I'd like to take a shot at a PR, to add an optional string/object to the payload like so:
```
<ScatterChart width={400} height={400} margin={{ top: 20, right: 20, bottom: 20, left: 20 }}>
        <XAxis dataKey={'x'} name='x' allowDecimals={true} />
        ...
        <Custom dataKey={'status'} name='status' />
        ...
</ScatterChart>
```

It looks like the payload values are set in [/chart/ScatterChart.js](https://github.com/recharts/recharts/blob/master/src/chart/ScatterChart.js).
I'd like to confirm if the changes would be localized there (in addition to tests).

Please advise. Hey @xile611 I see your commit, but I'm not clear on how I would make use of the changes. MInd adding an example here?  I'm using stacked bars, but the set of stacks is different per bar. I think this is not the use case the current design is for.

I have about 20 bars, and 20 stacks per bar. There are about 400 unique stack values, since this is a categorical hierarchy (e.g. bars are countries, stacks are cities).

So for every bar+stack combination (400x) I'm rendering a `<Bar>`. After rendering, each of those further contains an `<Animate><g>` for every bar (20x), despite only one per bar+stack combination actually containing anything graphical inside that `<g>` (`<Rectangle><Animate><Animate><path>`).

So that's unnecessarily complex for React to manage, and is unsuitable for this kind of data breakdown.

The data model per object is:
* name (the unique key on the X axis) e.g. "France"
* stack_Paris (the height of stack for Paris)
* stack_Marseille
* stack_LeMans
* etc.

I've considered remapping the data values such that I assign a number (from zero) for each per-bar stack, and giving Recharts just the indexes, and custom renderers for labelling and colouring rectangles. It's a bit messy but should reduce the complexity significantly (down to 400x rather than 400x20x)

Before I press on with this somewhat dirty workaround, I'd be interested to hear if there are any other ways I can structure this.

I'd like to raise the issue that Recharts is creating unnecessary `<Animate><g>` elements for missing (either null or absent) object atttributes for dataKey. It would be better if it we could skip them altogether, removing the 20x part of the complexity here.

Also, why two `Animate` in `<Rectangle><Animate><Animate><path>`?

(Also, the `<Animate>` elements are adding overhead to React (I've not measured how much), and would like to be able to drop them when animation isn't in use.) Fantastic!

Not sure I understand the first point. I think of stacked bars as a hierarchy: bars (columns) then stacks (cells). You have effectively the inverse, stacks (plots) then bars (cells), which becomes inefficient where stack keys are unique per bar.

I look forward to the fixes, and perhaps it will be sufficiently improved in performance in this scenario.

Thanks! See here
http://jsfiddle.net/L00kcpvr/

This simple example has 6 visual elements (bar x stack combinations), but demonstrates some issues that arise when you have 500 visual elements (e.g. 25 bars, 20 stacks, possibly unique to each bar).

(I think I was objecting to the need for `<Bar>` per visual element - but I'm not sure that it's a problem, now I look at it again. Instead, I'll give more detail on the other points you've already answered.)

Both the React tree and the DOM tree have significant inefficiencies in number of DOM/React elements. 

For example in pure DOM (I can't see the React debugger via Jsfiddle), this simple 6 (bar x stack) view results in 7 DOM elements per visual element = 42 DOM elements ('g', 'path'), but it should ideally be at most 2 'g' and 1 'path' per (bar x stack) = 18 DOM elements.  

E.g. with 500 visual elements, currently 3500 DOM elements, beyond acceptable performance for SVG, this would become 1500 DOM elements.

If (by removing all 'g' and using 'path' geometry directly) it could collapse further to just a 'path' element per visual element, performance would be further improved e.g. for 500 visual elements, just 500 DOM elements.

I feel that there are common cases where you have around 500 visual elements, but not dramatically more (stacking would become a riot of tiny coloured slices).

I know you've already answered some of these issues above. But this serves as a good example for this issue.

(Also note, the tooltip isn't stack-specific.)
 (link updated) Hey - sorry for commenting on such an old issue. I've recently noticed some very bad performance for stacked bar graph animation for similar reasons as above.

Line graphs do not appear to have this problem.

   ok, quickly updated~ thanks
  Tested with recharts v0.18.0.

Sample code:

```js
      const xAxisTicks = ['Oct 1', 'Oct 2'];

      <LineChart data={chartData} margin={margin} width={width} height={height} >
        <XAxis dataKey={xDataKey} tickLine={false} interval={0} ticks={xAxisTicks} />
        <YAxis
          orientation="right" tickLine={false} width={50}
          tickFormatter={yAxisLabelFormatter}
        />
        <CartesianGrid stroke="#eee" />
        <Tooltip />
        <Line
          type="linear" dataKey={yDataKey} strokeWidth="3" dot={false}
          isAnimationActive={false}
          formatter={lineFormatter}
        />
      </LineChart>
```

PropTypes warning:

```
warning.js:36 Warning: Failed prop type: Invalid prop `ticks` supplied to `CartesianAxis`.
    in CartesianAxis (created by AnimationDecorator(ComposedDataDecorator(LineChart)))
    in AnimationDecorator(ComposedDataDecorator(LineChart)) (created by SpacedGridChart)
    in SpacedGridChart (created by ContainerDimensions)
```

Workaround:

CartesianAxis.propTypes.ticks = React.PropTypes.any;
 I'm facing the same issue, but with a different prop:

```js
Warning: Failed prop type: Invalid prop `data[0].value` supplied to `Bar`.
    in Bar (created by BarChart)
    in BarChart (created by ComposedDataDecorator(BarChart))
    in ComposedDataDecorator(BarChart) (created by AnimationDecorator(ComposedDataDecorator(BarChart)))
    in AnimationDecorator(ComposedDataDecorator(BarChart)) (created by AnimationDecorator(ComposedDataDecorator(BarChart)))
    in svg (created by Surface)
    in Surface (created by AnimationDecorator(ComposedDataDecorator(BarChart)))
    in div (created by AnimationDecorator(ComposedDataDecorator(BarChart)))
    in AnimationDecorator(ComposedDataDecorator(BarChart)) (created by BarChart)
```

My code:

```js

    <BarChart
      width={500}
      height={150}
      data={data}
      margin={{top: 5, right: 30, left: 20, bottom: 5}}
    >
      <XAxis
        dataKey={props.xKey}
        padding={{ left: 40, right: 40 }}
        tick={(labelProps) => (
          <Label
            key={props.index}
            style={style.label}
            yPadding={-20}
            {...labelProps}
          />
        )}
      />
      <YAxis
        hide={true}
        type="number"
        padding={{ top: 20 }}
        domain={getYDomain(data, props.yKey, 1, 1)}
      />
      {
        bars.map((bar, i) => (

          <Bar
            key={i}
            name={bar.name}
            isAnimationActive={false}
            dataKey={bar.dataKey}
            fill={style.color}
            dot={style.dot}
            label={(labelProps) => (
              <Label
                key={props.index}
                labelPrefix={props.labelPrefix}
                labelSufix={props.labelSufix}
                style={style.label}
                {...labelProps}
              />
            )}
          />
        ))
      }
    </BarChart>

``` opened #698 to make it easier.  Hey, 

I've been trying Recharts for some charts, looks great and easy to use. 
However, is it possible to keep the domain (let's say  0-max) when using the brush?

My data goes from 0 to 4000 and when reducing the view, i'd like to keep the Y domain at 0-3800 not 0-[max brush displayed dataset]

Cheers ! My bad, i had undefined values in my array and Math.max returned NaN, not the max value...

Cheers!
  One of the few "common" charts that can't be done with ReCharts, but something that is almost indispensable when displaying financial data (among others). Really just a chart with up to four data values, displayed in two typical ways:

- https://en.wikipedia.org/wiki/Open-high-low-close_chart
- https://en.wikipedia.org/wiki/Candlestick_chart
  I have a BarChart whose data changes from, say: [2 0] to [1 1]. Instead of the 2-bar shrinking and the 0-bar growing, recharts starts both bars at 0 and grows them to 1 in the animation when the graph is redrawn.

Is there a way to change this behavior? A similar behavior happens as well with PieChart. I have data on a state, and when it updates, the animation restarts from 0. This is probably a subset of #375.  1. Is it possible to use HTML/React components that are HTML/JSX (i.e. not SVG elements) for custom ticks?
1. Is it possible to pass an object to the tick as the dataKey, rather than just a single key (string/number). I'm hoping to create a custom tick that contains a URL to an image that is rendered and then links to another URL.

Thanks for the great library! My use case is that I would like to use a link react component that I have created as a custom tick. This component has variations based on props that it receives, In addition to that, I'd like to show an image above each of the buttons.

I'd need to pass an object as the dataKey because in this case, I would need _at least_:
- The image URL
- The link URL

And as an additional bonus:
- Props that the button uses (button text, colour, etc)

All of these are within the realm of SVG (though being able to provide a non-SVG component would be ideal), but being locked into using a plain string or a number prevents this.

Example of what I'm looking to do for each column:
![screen shot 2016-11-18 at 4 22 42 pm](https://cloud.githubusercontent.com/assets/1631699/20419541/4f466fa0-adab-11e6-9bca-aa67cefbe013.png)
 Sure, but even if I used SVG to recreate the look of the button, I'm still unable to pass the `href` to the button **and** the image URL, because `dataKey` doesn't support objects.

I believe highcharts allows this, which is why I was hoping it would be possible in recharts.
 And if you need each bar to have dynamic content which matches just pass data as a prop to your custom tick and use props.index to retrieve it `const userData = props.data[props.index]`   The documentation says the label accepts a function but I can't get it to run.  

I created a solid circle chart w/ a value in the middle based off the circle chart; to create the center label I used label={this.renderCustomizedLabel} off Pie. I then tried the same with RadialBar and the function doesn't get called.  

Any ideas?

```
renderCustomizedLabel({cx, cy, midAngle, innerRadius, outerRadius, value, name, index}){
   	const radius = innerRadius + (outerRadius - innerRadius) * 0.5;
    const RADIANx = Math.PI / 360;
    const RADIANy = Math.PI / 180;
    const x = cx + radius * Math.cos(-midAngle * RADIANx);
    const y = cy + radius * Math.sin(-midAngle * RADIANy);

    return (
      <text
        x={x}
        y={y}
        fill="white"
        textAnchor="middle"
        dominantBaseline="central"
        style={{fontSize: '26pt'}}>
          {value}
      </text>
    );
  };
``` Thanks for pushing fix for the RadialBar; however, I still can't it it to work and now all my charts are no longer rendering custom label.  I attached a version where I use the Pie chart to build a circle with a number in the middle, which with 0.19 it's no longer working.

0.18
![screen shot 2016-11-23 at 7 48 30 am](https://cloud.githubusercontent.com/assets/7296078/20566209/784c4d12-b151-11e6-861a-f4a15d11e81c.png)

0.19
![screen shot 2016-11-23 at 7 47 32 am](https://cloud.githubusercontent.com/assets/7296078/20566595/db4eb656-b152-11e6-87d2-bf7eee243d6c.png)


```
class CircleChart extends Component {
  static defaultProps = {
    data: {
      value: '2.65',
    },
    color: '#60b990',
    tooltip: 'Test | 2.65',
    tooltipY: 0,
  }
  static propTypes = {
    data: PropTypes.shape({
      value: PropTypes.string,
    }),
    color: PropTypes.string
  }

  renderCustomizedLabel = (data) => {
    const value = data.payload.display;
    return (
      <Text
        x="50%"
        y="55%"
        fill="white"
        fontSize="3em"
        textAnchor="middle"
      >
        {value}
      </Text>
    );
  };

  render() {
    const { color, tooltipY } = this.props;
    const { tooltipX } = this.state;
    const tooltipPosition = {
      x: tooltipX,
      y: tooltipY,
    };
    const fixdata = [{
      value: 1,
      display: this.props.data.value,
    }];

    return (
      <ResponsiveContainer>
        <PieChart>
          <Pie
            data={fixdata}
            isAnimationActive={false}
            fill={color}
            strokeWidth={0}
            labelLine={false}
            label={this.renderCustomizedLabel}
          />
        </PieChart>
      </ResponsiveContainer>
    );
  }
}

export default CircleChart;
```
 Got it working with using text vs Text as the customized label.  Is it possible to display an empty chart (such as [this](http://i.stack.imgur.com/9ImRB.png)) with recharts? Thanks for the answer @xile611. One more quick follow-up question: is it possible to display the Y-Axis range when the Lines are not rendered?
 @xile611 Perfect! That's exactly what I was looking for. Thank you
 I made a const array of dummy data for the x-axis const dummyData = [{value: ''}, {value: ''}, {value: ''},]  to conditionally render an empty graph when when my relevant data is empty. That worked for me!  The default tooltip is very helpful and meets the minimum features for most people. It has a labelFormatter option and a formatter for the value. It's unfortunately missing a formatter for the axis name. An example:

Lets say we're measuring leads per day. Our object may be:

`{
     leads: 42,
     day: '2016-11-14'
}`

If day is the x axis, and leads is the y axis, we can format '2016-11-14' with the labelFormatter prop and we can format 42 with the formatter prop. The resulting tool tip will be `leads : formatter(42)`, meaning you cannot format `leads :`. This is a little annoying as the backend business term may be different to what the users use. Also, following JS conventions, properties are lower camel case. 

Work around is to use a custom tooltip, but that's a bit annoying considering I just want to uppercase the first letter.  I have the same problem and I don't think that name prop solve this, because I can only have static content in `name` but just like @RoarkeRandall I would like to format my dynamic content, before I set it in as a label. 
  **Note**: Previous discussion at https://github.com/recharts/recharts/issues/265, however, the tooltip problem seems fixed. Some background in: https://github.com/recharts/recharts/issues/265#issuecomment-259397616.

Quickly changing a recharts graph's input data making recharts redraw the graph seems to crash Chrome due to an unknown (SVG?) bug. This seems to happen easier when there are a lot of data points involved.

**Steps to reproduce:**
1. setup & run https://github.com/elnygren/recharts-crash-test
2. click the "monthly", "weekly" and "daily" toggles until you see Chrome's "Aw, Snap!" page.

<hr>

A screenshot of my use case (a bit different from the repo above): 

![Image of Dashboardh](https://i.imgur.com/XNoFcb3.png)

Clicking daily will almost surely crash the current tab as there are a lot of data points.

MacOS 10.12.1
Chome Version 54.0.2840.87 (64-bit)



 @xile611 I did try to make the jsfiddle you provided earlier crash but was not successful :/

However, I wouldn't prefer jsfiddle over an actual real-life project when testing this library. Something's making Chrome crash in my demo project and it might have something to do with how Webpack bundles your library (in production, not in hot reload/dev mode).

Anyway, I'd really like to use recharts so I will let you know immediately if I figure out what's happening.
 @xile611 I can confirm too that restart solved this problem - did you ever find a way to get the crash happen again after restart?

Would still be nice to find out the underlying reason as I can't really tell all chrome users to restart their macbook before using the site :p 

It might be though that only a small portion of Chrome users are actually affected... hard to say.
  According to this [issue](https://github.com/recharts/recharts/issues/287) it is not possible to save tooltip's position after update.  @xile611, I'm not sure how to use a custom component for the `label` prop on the recharts `YAxis` component. Here's what I'm trying to do:
```javascript
// My custom component
const AxisLabel = (props) => {
  return (
    <div>
      <h2 className={theme.text}>{props.text}</h2>
    </div>
  )
}

// The Y-Axis component
<YAxis type='category' dataKey="name" width={yAxisWidth(data)} label={<AxisLabel text='Stages' />} />

```
What am I doing wrong here? Thanks in advance! Okay, thanks!
  Hi,

While loading Recharts via `https://unpkg.com/recharts@0.17.1/umd/Recharts.js`  , on page load I encounter these issues:

```js
Uncaught TypeError: Cannot read property 'TransitionGroup' of undefined`
Uncaught TypeError: Cannot read property 'LineChart' of undefine
```

This is webpack's `externals` entry for recharts:
```js
externals: {
...
    recharts: {
      commonjs: 'recharts',
      commonjs2: 'recharts',
      amd: 'recharts',
      root: 'Recharts'
    }
...
}
```

Any ideas?  I'm using static data for some bar charts and the page was rendering fine. Once I've saved and closed out, I come back in the next time (without any code changes) and the page only displays the following. I'm unsure what I've missed when it was displaying correctly until this point. It's happened now on 2 files that I've tried creating from scratch.

ReferenceError: document is not defined
   at Text.calculateWordWidths (C:\Users\admin\Documents\ThemeOMeter\node_modules\recharts\lib\component\Text.js:101:17)
   at Text.updateWordsByLines (C:\Users\admin\Documents\ThemeOMeter\node_modules\recharts\lib\component\Text.js:81:43)
   at Text.componentWillMount (C:\Users\admin\Documents\ThemeOMeter\node_modules\recharts\lib\component\Text.js:67:12)
   at C:/Users/admin/Documents/ThemeOMeter/dist/server.bundle.js:13416:24
   at measureLifeCyclePerf (C:/Users/admin/Documents/ThemeOMeter/dist/server.bundle.js:13143:13)
   at ReactCompositeComponentWrapper.performInitialMount (C:/Users/admin/Documents/ThemeOMeter/dist/server.bundle.js:13415:10)
   at ReactCompositeComponentWrapper.mountComponent (C:/Users/admin/Documents/ThemeOMeter/dist/server.bundle.js:13326:22)
   at Object.mountComponent (C:/Users/admin/Documents/ThemeOMeter/dist/server.bundle.js:4052:36)
   at ReactDOMComponent.mountChildren (C:/Users/admin/Documents/ThemeOMeter/dist/server.bundle.js:12467:45)
   at ReactDOMComponent._createContentMarkup (C:/Users/admin/Documents/ThemeOMeter/dist/server.bundle.js:8074:33)
   at ReactDOMComponent.mountComponent (C:/Users/admin/Documents/ThemeOMeter/dist/server.bundle.js:7941:30)
   at Object.mountComponent (C:/Users/admin/Documents/ThemeOMeter/dist/server.bundle.js:4052:36)
   at ReactDOMComponent.mountChildren (C:/Users/admin/Documents/ThemeOMeter/dist/server.bundle.js:12467:45)
   at ReactDOMComponent._createContentMarkup (C:/Users/admin/Documents/ThemeOMeter/dist/server.bundle.js:8074:33)
   at ReactDOMComponent.mountComponent (C:/Users/admin/Documents/ThemeOMeter/dist/server.bundle.js:7941:30)
   at Object.mountComponent (C:/Users/admin/Documents/ThemeOMeter/dist/server.bundle.js:4052:36)
   at ReactDOMComponent.mountChildren (C:/Users/admin/Documents/ThemeOMeter/dist/server.bundle.js:12467:45)
   at ReactDOMComponent._createContentMarkup (C:/Users/admin/Documents/ThemeOMeter/dist/server.bundle.js:8074:33)
   at ReactDOMComponent.mountComponent (C:/Users/admin/Documents/ThemeOMeter/dist/server.bundle.js:7941:30)
   at Object.mountComponent (C:/Users/admin/Documents/ThemeOMeter/dist/server.bundle.js:4052:36)
   at ReactCompositeComponentWrapper.performInitialMount (C:/Users/admin/Documents/ThemeOMeter/dist/server.bundle.js:13439:35)
   at ReactCompositeComponentWrapper.mountComponent (C:/Users/admin/Documents/ThemeOMeter/dist/server.bundle.js:13326:22)
   at Object.mountComponent (C:/Users/admin/Documents/ThemeOMeter/dist/server.bundle.js:4052:36)
   at ReactCompositeComponentWrapper.performInitialMount (C:/Users/admin/Documents/ThemeOMeter/dist/server.bundle.js:13439:35)
   at ReactCompositeComponentWrapper.mountComponent (C:/Users/admin/Documents/ThemeOMeter/dist/server.bundle.js:13326:22) 


Here's my page code using static data only at this stage.
`/**
 * React Starter Kit (https://www.reactstarterkit.com/)
 *
 * Copyright Â© 2014-2016 Kriasoft, LLC. All rights reserved.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.txt file in the root directory of this source tree.
 */

import React, { Component, PropTypes } from 'react';
import withStyles from 'isomorphic-style-loader/lib/withStyles';
import s from './SummaryPage.css';
import {Card, CardActions, CardTitle,CardMedia} from 'material-ui/Card';
import Paper from 'material-ui/Paper';
import { StyleSheet } from 'react-look'
import {BarChart,Bar,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ComposedChart,Area} from 'recharts'

const title = 'Summary Page';

const dataScoreAvgs = [
      {name: 'MJ', avgScoreGiven: 4.0, avgScoreReceived: 2.400 },
      {name: 'Ben', avgScoreGiven: 3.0, avgScoreReceived: 1.398 },
      {name: 'Sarah', avgScoreGiven: 2.0, avgScoreReceived: 9.800 },
      {name: 'Dave', avgScoreGiven: 2.78, avgScoreReceived: 3.908 },
      {name: 'TK', avgScoreGiven: 1.890, avgScoreReceived: 4.800 },
      {name: 'Otto', avgScoreGiven: 2.390, avgScoreReceived: 3.800 },
      {name: 'James', avgScoreGiven: 3.490, avgScoreReceived: 4.30 },
];

const dataThemeRating = [
      {name: 'theme1', Picker: 'Otto', Score: 8.0},
      {name: 'theme2', Picker: 'Ben', Score: 7.5},
      {name: 'theme3', Picker: 'MJ', Score: 7.4},
      {name: 'theme4', Picker: 'Ben', Score: 7.12},
      {name: 'theme5', Picker: 'Dave', Score: 7.0},
];

class SummaryPage extends Component {

  static contextTypes = {
    onSetTitle: PropTypes.func.isRequired,
  };

  static propTypes = {
      songs: React.PropTypes.array,
      onCommentChange: React.PropTypes.func,
  }

  static defaultProps = {
      songs: [],
  }


  constructor(props) {
    super(props);
    this.state = {value: 1};
  }

  handleChange = (event, index, value) => this.setState({value});

  render() {
    const { songs } = this.props
    return (
      <div className="root">
        <div className={styles.containerStyle}>
          {this.props.path === '/' ? null : <h1>{this.props.title}</h1>}
          <div dangerouslySetInnerHTML={{ __html: this.props.content || '' }} />
          <Paper zDepth={3}>
            <Card className={styles.cardStyle}>
              <CardMedia className={styles.img}>
                <img src="/james-jean-talib.jpg" />
              </CardMedia>
              <CardTitle title="Summary"/>
                <BarChart width={400} height={400} data={dataScoreAvgs}
                    margin={{top: 5, right: 30, left: 20, bottom: 5}}>
                 <XAxis dataKey="name"/>
                 <YAxis/>
                 <CartesianGrid strokeDasharray="3 3"/>
                 <Tooltip/>
                 <Legend/>
                 <Bar dataKey="avgScoreGiven" fill="#8884d8" />
                 <Bar dataKey="avgScoreReceived" fill="#82ca9d" />
                </BarChart>
                <ComposedChart width={400} height={250} data={dataThemeRating}>
                <XAxis dataKey="name" />
                <YAxis type="number" name="Score" />
                <Tooltip />
                <Legend />
                <CartesianGrid stroke="#f5f5f5" />
                <Area type="monotone" dataKey="Score" fill="#8884d8" stroke="#8884d8" />
                <Bar dataKey="name" barSize={20} fill="#413ea0" />
                <Line type="monotone" dataKey="Picker" stroke="#ff7300" />
              </ComposedChart>
              <CardActions>
              </CardActions>
            </Card>
          </Paper>
        </div>
      </div>
    );
  }
}

const styles = StyleSheet.create({

    root: {
    margin: '0 auto',
    },
  containerStyle: {
    margin: '0 auto',
    padding: '0 0 40',
    maxWidth: '500',
    textAlign: 'center',

  },

  cardStyle: {

    maxWidth: '500',
    textAlign: 'center',

  },

  img: {
    display: 'inline-flex',
    maxWidth:'100%',
    maxHeight:'100%',
    height:'auto',
    width:'auto', /* ie8 */
  },

})

export default withStyles(s)(SummaryPage)
` "recharts": "^0.15.3"
 Thank you that has fixed my issue
  There seems to be an issue on the recharts website.
When viewing the page at http://recharts.org

The error is: Failed to load resource: the server responded with a status of 404 (Not Found) http://recharts.org/vendors.js
 Same here can't access the website
 Dido
 You can clone [the repo](https://github.com/recharts/recharts.org) and host it locally.
 The Website is Down!
 @arcthur @hootbah @LoriKarikari @joyguy55 @sburns  Looks like CloudFlare issue, could be down 24-48hrs...
 Thank you @arcthur & @xile611 for the quick response!  
  Hello, a use recharts 0.17.1 and how add this arrow to chart. And add growth/decrease label
![ott hub - reporting requirements v1 0 2016-11-10 16-49-36](https://cloud.githubusercontent.com/assets/6481202/20179176/e57e4fd4-a765-11e6-9910-e1343421e973.png)
  Currently nothing gets rendered if `data` is an empty array. Is there a way to have it either display an empty chart or have a chart with a message such as "No data to display"? Fair enough, but what about nothing rendering when the data array is empty?
Wouldn't it be better to render an empty graph?

On Wed, Nov 9, 2016 at 7:15 PM xile611 notifications@github.com wrote:

> Closed #334 https://github.com/recharts/recharts/issues/334.
> 
> â€”
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> https://github.com/recharts/recharts/issues/334#event-853919595, or mute
> the thread
> https://github.com/notifications/unsubscribe-auth/ACNrMoSQOcpquvetZVafRJlCH3C5YPpHks5q8oxMgaJpZM4KuFCt
> .
  I have a situation where i need a custom renderer that returns <rect> component like below. One is the value that needs to have pattern as background and hence return two rect component and is called renderBChart. the other simply returns a rect component. But the problem i am facing is if one of the value is changed to negative, this rect doesnt load for its height is negative. What would be the solution to render the graph if any one value is negative with this custom renderer? 

`renderBChart( data ){
    let bgColor = '';
    if(data.key === 'A'){
      bgColor = '#646464'
    }
    if(data.key === 'B'){
      bgColor = '#427c99'
    }
    if(data.key === 'C'){
      bgColor = '#92b8d6'
    }
    if(data.key === 'D'){
      bgColor = '#bfd6eb'
    }
    if(data.key === 'E'){
      bgColor = '#bebebe'
    }

    return(
      <svg>
      <defs>
      <pattern id="diagonalHatch" patternUnits="userSpaceOnUse" width="4" height="4">
      <path d=" M0,4 l4,-4 M3,5 l2,-2"
            style={{"stroke": "white", "strokeWidth":"1", "backgroundColor":`${bgColor}`}} />
      </pattern>
      </defs>
      <rect x={data.x}
        y={data.y} width={data.width}
        height={data.height}
        style={{"fill":`${bgColor}`}}
        fill={bgColor}
      />
      <rect x={data.x}
        y={data.y} width={data.width}
        height={data.height}
        fill="url(#diagonalHatch)"
      />

      </svg>
    )
  }

  renderChart( data ){
    let bgColor = '';
    if(data.key === 'A){
      bgColor = '#646464'
    }
    if(data.key === 'B'){
      bgColor = '#427c99'
    }
    if(data.key === 'C'){
      bgColor = '#92b8d6'
    }
    if(data.key === 'D'){
      bgColor = '#bfd6eb'
    }
    if(data.key === 'E'){
      bgColor = '#bebebe'
    }
    return <rect x={data.x} y={data.y} width={data.width} height={data.height} fill={bgColor}/>
  }`


`render(){
const data =[
   {
      "key":"A",
      "value1":-100,
      "value2":5.0
   },
   {
      "key":"B",
      "value1":-9.85,
      "value2":64.0
   },
   {
      "key":"C",
      "value1":0.0,
      "value2":31.0
   },
   {
      "key":"D",
      "value1":0.0,
      "value2":0.0
   },
   {
      "key":"Real Estate",
      "value1":0.0,
      "value2":0.0
   },
   {
      "key":"E",
      "value1":0.0,
      "value2":0.0
   },
   {
      "key":"F",
      "value1":0.0,
      "value2":0.0
   }
]
`
return(
`<ComposedChart width={900} height={250} data={data}>
              <XAxis
                dataKey="key" orientation="bottom" axisLine={false}

                style={{"font-size": "12px",
                        "font-weight": "bold",
                        "fill": "#000"}}
                tickLine={false}
              />
              <YAxis
                dataKey="value1" orientation="left"
                style={{"font-size": "12px",
                        "font-weight": "bold",
                        "fill": "#000"}}
                padding={{top: 40}}
                tickLine={false} axisLine={true} tickCount={7}
              />
              <CartesianGrid stroke="#efefef" vertical={false}/>
              <ReferenceLine y={0} stroke="#646464" isFront={true}/>
              <Bar dataKey="value1" barSize={22}
                    shape={this.renderChart}
                    label={{ fill: "#000",
                             fontSize: 12,
                             fontWeight: "bold"
                           }}
              />
              <Bar dataKey="value2" barSize={22}
                    shape={this.renderBChart}
                    label={{ fill: "#000",
                             fontSize: 12,
                             fontWeight: "bold"
                           }}
              />
            </ComposedChart>
)}`
  I have 10 square components in my view. Each square has a child that holds 15 graphs that feed off of a global data source that is updated once every second. When a square is hovered, the graphs container is rendered. When the square is un-hovered, the graphs container is removed completely from the DOM. This is an error that I am getting thrown randomly when I am alternating from hovered/not hovered.

```
VM31752:20 Warning: setState(...): Can only update a mounted or mounting component. This usually means you called setState() on an unmounted component. This is a no-op. Please check the code for the ContainerDimensions component.
```

Example: https://drive.google.com/file/d/0B4YUcg2HBSIvNXVUZXV0X3Q1VWM/view

```
// Chart code.
<ResponsiveContainer>
  <AreaChart data={Array.from(LocationsStore.data)} width={AuxStore.locationOverviewsWidth} height={50}>
    <Area  isAnimationActive={false} type="monotone" dataKey="stars" stroke="#ffffff"/>
  </AreaChart>
</ResponsiveContainer>
``` I've figured out that it happens when I activate a hover on a different graph before the previously hovered one has unmounted. Still don't know how to fix it, though.
  I am currently using the `onClick` for `Bar` and `RadialBar`. One issue is that the `onClick` only triggers when a user clicks on the value and not the bar itself. I made an [example fiddle](https://jsfiddle.net/patryk0605/ydycdLpx/) to demo the issue. 

Can the functionality be extended to trigger when the bar is clicked anywhere and not just on the value? The problem with only having the `onClick` on the value is that when you have one value at **1** and another at **100**, it becomes very hard to click on that value with a **1**.  @xile611 Your solution resolves my issue for `ComposedChart`, however `RadialBarChart` does not seem to support the same `onClick`. Any method I can use for the whole `RadialBar` to support `onClick` and not just the area with a value?
  I could not find the mentioned functionality and I ask if there is a feature planned that allows to toggle the visibility of elements (line,bar...) in a chart by clicking on the legend entry for that element.  Hello,
I was getting `CSSPropertyOperations.js:187 Uncaught TypeError: Cannot assign to read only property 'length' of object '#<CSSStyleDeclaration>'` when a chart is updated. On trying to debug I came across that the `Curve` component is getting this prop `{style:{length:'277px'}}` I can't seem to figure out where this prop is coming from. I will try to post the problem linechart config I have soon.

This doesn't happen when `isAnimationActive` is `false`
  Would it be possible to integrate an onClick event for `Legend` like `RadialBar` for example has?  Is there any way to add onCLick event on LineChart or Line component in order to get exact point on which I clicked?   Within my console, I noticed the following message after latest update: 

```
Each child in an array or iterator should have a unique "key" prop. Check the render method of `ComposedChart`. See https://fb.me/react-warning-keys for more information.
    in AnimationDecorator(ComposedDataDecorator(BarChart)) (created by ComposedChart)
    in ComposedChart (created by ComposedDataDecorator(ComposedChart))
    in ComposedDataDecorator(ComposedChart) (created by ComposedDataDecorator(ComposedChart))
    in svg (created by Surface)
    in Surface (created by ComposedDataDecorator(ComposedChart))
    in div (created by ComposedDataDecorator(ComposedChart))
    ...
```

After reviewing the changes made, I believe the following is what is triggering the error: 

https://github.com/recharts/recharts/commit/5860c457d87f93a6be0dd002b25cb274073ab17f#diff-82345e535b9ce2e7ebed868402aee7ceR110

I recommend setting a unique key to suppress the warning.  Running version 18.0 still receiving this warning, on Area chart.  Quick workaround is assigning keys based on Math.Random(), or from the first parameter, but I'd much rather not.
  I am studying your API and i have posted a question in stackoverflow on how on the x and y-coordinate values of center of the dots are calculated

I would really appreciate your explanation

http://stackoverflow.com/questions/40410094/calculation-the-x-and-y-coordinate-of-center-in-recharts  Updated to 0.16 this morning and noticed that now the prop strokeDasharray on Line component doesn't get passed down to Curve component. "7 11" outputs as "0px, 0px" @xile611, in my project I have a line chart with an input above it to enable users to enter a goal number which will then appear on the chart as a dashed line using `strokeDashArray`. I just updated to version 0.16.2 which was intended to fix the problem @pcmaffey mentioned above (and it did for the most part). I'm running into an issue, however, where whenever I enter a goal number that is 2 digits long (it doesn't do this with 1 or 3+ digit numbers), the goal line is no longer dashed and the console throws this error:

```
Cannot assign to read only property 'length' of object '#<CSSStyleDeclaration>'  
```

I confirmed that this _is_ an issue with version 0.16.2. Any ideas? Thanks a lot.
 @xile611 any clues on what this issue is?
  Is it just me? [link](http://recharts.org/examples) @git-toni Not only for you. All examples down
 Yup, `'t' is not a function` somewhere in the bundled `.min.js` version.
 `iteratee is not a function`

``` javascript
//Within Recharts.js
...
    function baseOrderBy(collection, iteratees, orders) {
      var index = -1;
      iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(baseIteratee));

      var result = baseMap(collection, function(value, key, collection) {
        var criteria = arrayMap(iteratees, function(iteratee) {
          return iteratee(value);   //<---- Error here
        });
        return { 'criteria': criteria, 'index': ++index, 'value': value };
      });

      return baseSortBy(result, function(object, other) {
        return compareMultiple(object, other, orders);
      });
    }
...
```
   I'm interested in this also. I want to be able to create confidence intervals for a timeseries prediction, for example:

![image](https://cloud.githubusercontent.com/assets/10280734/20179961/535ed1ce-a750-11e6-8210-9acd98e1bbc9.png)
 +1 (for exactly the same purpose--confidence intervals). Specifically, it would be an area component with two values, "high" and "low", with a line component drawn over it.

And note: While there may be internal similarities, this is not the same as #190. like @supersteves 's chart, usually used for confidence interval demonstration.
Just wondering if there is a way that we write our own widget like RangeArea that can integrated into AeaChart. @BOZ88 Some ideas - we were able to customise a *ScatterChart* by passing a custom renderer to the Scatter "line" prop, which augmented the existing props with additional points. This is quite a lot of work when out-of-the-box is so close to being able to do this.

We've also experimented with using (hacking) a ReferenceDot or other similar component - also within Scatter - which happens to expose the axis scales such that coordinates can be mapped between the real data range and pixels. In https://github.com/recharts/recharts/issues/365 we suggested including the d3.scale objects for each axis as part of the props of other customisable renderers to allow more sophisticated customisation - such as this.  Error being thrown when first calling `render` on any graph. All the jsfiddles on the website look like they're affected. Looks like a regression in 0.16.0 @xile611 
 Hi, what option you added in LodashModule Replacement Plugin? I have problem like yours Same  `Warning: setState(...): Can only update a mounted or mounting component. This usually means you called setState() on an unmounted component. This is a no-op. Please check the code for the Animate component.`

Happens when I leave the page while an animation timer is still running. Need kill the timer in componentWillUnmount().  Is there a way to always show the start and end ticks for X Axis? (For example, to show the start and end time of a time series)
I am using dates on the X Axis (day), and I notice that the end tick is always missing in my case.
I saw in the docs that I could pass the ticks manually, but wanted to check if there is a simpler way to force this behavior.

Aside from that, thanks for the awesome library.

  Hello there,

Recharts seems pretty awesome, I wonder if it is possible to set a rounded end strokes for lines on a radial bar or everywhere where lines are drawn (like most bar charts).

To be precise, here what I am trying to do:

<img width="168" alt="radial_bar_chart_with_rounded_end_strokes" src="https://cloud.githubusercontent.com/assets/6024473/19768653/cda6b960-9c2e-11e6-814b-f8c14e6c790d.png">

Hope some of you could give a clue on how to do this with recharts. I already took a look at the API without luck.
 Actually, better yet, this would just be an option on a pie chart. The pie chart can already do the visual representation of this, but the ends are flat instead of curved. I think adding an 'end-radius' attribute is all that would be needed.

Edit: Or could this be handled with some SVG <defs>?

And regarding the OP's other notes, technically the end-radius could be added to bars and radial bars, too. That would add a nice, modern look to any bar- or curve-drawing chart. This might be useful: https://bl.ocks.org/mbostock/aff9e559c5c9968b7ac6 @Eric24 Is there support for the  rounded end strokes ?? I saw it was still in the open issues list.
https://recordnotfound.com/recharts-recharts-6939/issues @VrajSolanki Yes, it was added on 26DEC16. The prop that controls the end-radius of bars on a Radial Bar chart is cornerRadius. Can you use the RadialChart for a progress/percentage chart? if you have only one entry in data object you get a full circle.. i want to set somehow the maximum value of the chart, so if i have only one item in data the fill has to be scaled according to the maximum value setted. +1 > Can you use the RadialChart for a progress/percentage chart? if you have only one entry in data object you get a full circle.. i want to set somehow the maximum value of the chart, so if i have only one item in data the fill has to be scaled according to the maximum value setted.

https://github.com/recharts/recharts/issues/1100 There is one possible workaround for this. You can add styles to corresponding svg paths (parts of circle).
```
.recharts-sector {
  stroke-linejoin: round;
  stroke-width: 7px;
}
```
`Pie` component should be declared similar to this
```
<Pie
  data={data}
  innerRadius={37}
  outerRadius={37} 
/>
```
and `data` should contain `stroke` field with color value.  Adding the angle property to the PRESENTATION_ATTRIBUTES array in util/ReactUtils.js allows ticks in the cartesian axes to be positioned at any angle. It was not listed as a presentation attribute before, but I believe it should be, as there is no other way to rotate each tick's text while using tickFormatter, i. e., without creating a custom React class as it's done in the [CustomizedLabelLineChart](http://recharts.org/examples#CustomizedLabelLineChart) in the docs.
 Thank you! When can we expect a new version to be out that includes this change?
 Which release contains this change?
 Thank you! 
  When I try to use a `Brush` with a `ScatterChart`, no `Brush` shows up, and no warning or error is visible. Is this expected behavior? Because of this issue, I am now trying to create a scatter-like chart from of a `LineChart` (in order to get `Brush` functionality) but it is a lot more difficult.
 @xile611 thanks for the clarification
 @xile611 Why do the docs have `<ScatterChart />` listed as a parent of `<Brush />` then? I got working ScatterChart and Brush (although onChange listener is needed, but that's no big deal):

```js
const { startIndex, endIndex } = this.state;
const data = unchangedData.filter(datum => datum.hour >= startIndex && datum.hour <= endIndex)

return (
  <ScatterChart width={width} height={300} data={unchangedData}>
    <XAxis type="category" dataKey="hour" interval={0} />
    <YAxis type="number" dataKey="processor" interval={0} />
    <Brush 
      dataKey="hour"
      height={30}
      stroke="#8884d8"
      onChange={({ startIndex, endIndex }) => this.setState({ startIndex, endIndex })} />
    <Scatter data={data} />
  </ScatterChart>
)
```

Notice data props for ScatterChart and Brush components.  if all the scatter lengths are same, is it possible to use brush? Thanks.  There are obviously many applications where a logarithmic is preferable to a linear scale. It would be really cool to be able to pass a `scale` function to the `YAxis` and `XAxis` components, which could optionally accept a number to use as a "base" in a logarithmic function (defaulting to a base of 1 for linear):

``` jsx
// linear
<YAxis {...props} />

// base10
<YAxis scale={10} {...props} />

// natural log
<YAxis scale={Math.E} {...props} />

// snap to increments of 5
<YAxis scale={(y) => Math.round(y % 5) * 5} {...props} />
```
 +1
 Is it possible to keep linear scaling but utilize [scale-breaks](https://ux.stackexchange.com/questions/36408/how-to-visualize-data-with-extreme-value-differences)?  Not sure if this is a bug or perhaps something in my code, but I I'm using the ResponsiveContainer and AreaChart and if I update the state of the parent component or even click on a menu above the chart, it redraws the chart.  The data is static, so it's not changing anything.  Any thoughts?
 The same problem when using BarChart, but the PieChart works well.
 @truenorthcreative, isn't React.js supposed to re-render when you update state on components ? 
it would be nice if you could post some code or jsfiddle to demonstrate
 @jareechang yes, of course. But the re-render will only affect the changed element, etc. my point is the state changing for _anything_ in the parent will re-render, as will clicking sibling components (even if you want to remove the state argument)
 @xile611 in site examples. When we resize render-area (right bottom), Ñhart is not repainted upon resize only when new data is provided. @truenorthcreative  meant that Pie chart repaining when we resize block and using ResponsiveContainer, but all the other charts don't behave in such away.
http://jsfiddle.net/znqLLdev/1/?utm_source=website&utm_medium=embed&utm_campaign=znqLLdev
 @xile611 if you want i can add width and height to componentWillReceiveProps and make PR, but i don't know how it feature will affect performance
 @xile611, I was playing around with demo (Adding ResponsiveContainer to charts) and after investigation on the `react-container-dimensions` library, it seems that the library sets a new state **on resize** which is why it redraws (or re-render the child elements). 

**src/component/ResponsiveContainer.js, line 83-85**

``` javascript
<ContainerDimension>
  ...
</ContainerDimension>
```

Function called on **resize** and **componentDidMount** in `<ContainerDimension>` component [(library reference)](https://github.com/okonet/react-container-dimensions/blob/master/src/index.js):

``` javascript
onResize() {
   const clientRect = ContainerDimensions.getDomNodeDimensions(this.parentNode)
   this.setState({
       initiated: true,
       ...clientRect
   })
}
```

We might have to fork the lib to make changes or investigate alternatives such as [digidem/react-dimensions](https://github.com/digidem/react-dimensions) which looks quite promising. However, that might require significant change to source code. Let me know what you think. 
 @Jareechang charts are rerender. But they not recalculate points for charts
 Why did this close?
 @truenorthcreative Are you generating the data from a function like so: http://jsfiddle.net/h449h9oe/ ?

@xile611 Perhaps this is what he means? What is the fix for this? @Sunil6591 -- I found a component that was forcing the parent to re-render the page. Hope this helps.  @Sunil6591 Just see @noahnu 's posted code I'm using a `PieChart` in a `ResponsiveContainer` and each time it set the state of the container, the pie is rerender. Anyone found a solution?

Example
https://gyazo.com/4d402ff81dd628a37b740da40e0903bd @tiaaaa123 it looks like the data is changing, so what do you want the experience to be? Nvm. Found the issue with what you said!
Thanks This is definitely an issue. If your component rerenders (say because of a Redux state change), ReCharts redraws the chart even when the props supplied to the chart (the data) have not changed. All the animations retrigger unessecarily. 

Best hack I've come up with is to disable animations. Definitely takes away from the UX though. Facing the same issue...

If i copy and paste the LegendEffectOpacity example (http://jsfiddle.net/z9orjuww/?utm_source=website&utm_medium=embed&utm_campaign=z9orjuww) into my project (exporting SimpleLineChart and use it in another component), then on hovering the legend, the chart is re-drawn (animations kick in again).  Hi,
How to show all the page in x Axis like, from Page A to Page m. 
because they grouped the pages like below
Output:
![captusre](https://cloud.githubusercontent.com/assets/8073735/19419163/4056440a-93ef-11e6-983d-9b4662361cff.JPG)
My data code : 
const data = [
      {name: 'Page A', uv: 4000, pv: 2400, amt: 2400},
      {name: 'Page B', uv: 3000, pv: 1398, amt: 2210},
      {name: 'Page C', uv: 2000, pv: 9800, amt: 2290},
      {name: 'Page D', uv: 2780, pv: 3908, amt: 2000},
      {name: 'Page E', uv: 1890, pv: 4800, amt: 2181},
      {name: 'Page F', uv: 2390, pv: 3800, amt: 2500},
      {name: 'Page G', uv: 3490, pv: 4300, amt: 2100},
      {name: 'Page h', uv: 4000, pv: 2400, amt: 2400},
      {name: 'Page i', uv: 3000, pv: 1398, amt: 2210},
      {name: 'Page j', uv: 2000, pv: 9800, amt: 2290},
      {name: 'Page k', uv: 2780, pv: 3908, amt: 2000},
      {name: 'Page l', uv: 1890, pv: 4800, amt: 2181},
      {name: 'Page m', uv: 2390, pv: 3800, amt: 2500},

Please help me and Thanks in advance.
 Thanks you @xile611 .
  I have a simple line charts: 

``` js
const data = [
    {name: 'Page A', uv: 4000, pv: 2400, amt: 2400},
    {name: 'Page B', uv: 3000, pv: 1398, amt: 2210},
    {name: 'Page C', uv: 2000, pv: 9800, amt: 2290},
    {name: 'Page D', uv: 2780, pv: 3908, amt: 2000},
    {name: 'Page E', uv: 1890, pv: 4800, amt: 2181},
    {name: 'Page F', uv: 2390, pv: 3800, amt: 2500},
    {name: 'Page G', uv: 3490, pv: 4300, amt: 2100},
];

class LineChart extends Component {
    render() {
        return (
            <ResponsiveContainer>
                <LineChart data={data}
                           margin={{ top: 10, right: 30, left: 20, bottom: 5 }}>
                    <XAxis dataKey="name" />
                    <YAxis />
                    <CartesianGrid strokeDasharray="3 3" />
                    <Tooltip />
                    <Legend />
                    <Line type="monotone" dataKey="pv" stroke="#8884d8" />
                    <Line type="monotone" dataKey="uv" stroke="#82ca9d" />
                </LineChart>
            </ResponsiveContainer>
        );
    }
}

const styles = {
    gridRowContainer: {
        textAlign: "center",
        justifyContent: 'center',
        alignItems: 'center',
        display: 'flex',
    },
    cellContainer: {
        boxSizing: 'border-box',
        height: "300px",
        border: "0.25px solid lightgrey",
        margin: "-0.5px" //Used to offset the border
    },
};

export default () => {
    return (
        <div style={styles.gridRowContainer}>
            <div style={{flex: 2, ...styles.cellContainer}}>
                <LineChart/>   //This line chart doesn't resize correctly 
            </div>
            <div style={{flex: 1,  ...styles.cellContainer}}>
                hello
            </div>
            <div style={{flex: 1, ...styles.cellContainer}}>
                hello
            </div>
        </div>
    );
}
```

I am trying to render this in a grid where the chart takes up half the screen and two other boxes the quarter of the screen respectively.  However, when I decrease the screen size the chart does not decrease in size giving the following error: 

<img width="1015" alt="screen shot 2016-10-14 at 17 30 57" src="https://cloud.githubusercontent.com/assets/19558321/19393212/10ccfaba-9234-11e6-83e5-4e1a09243a23.png">

I have tested this in safari and it works as expected. The bug occurs in chrome 53.0.2785.116.

Does anybody know if this is a bug or an error in my implementation?
 Thanks for the link! I added `width: 0` to the container div to fix the issue as was mentioned in your link. It seems that this is an issue with flexbox and not recharts, however this simple solution fixes is nonetheless.
  [![Coverage Status](https://coveralls.io/builds/8320456/badge)](https://coveralls.io/builds/8320456)

Coverage remained the same at 92.676% when pulling **716be6c7221e46e557d60e0a2b45fa6c84e30c70 on fix/update_deps** into **9cb77d6a86f522625ca6f776597d97a42f4c63a1 on master**.
  For example the component `Line`ï¼Œthere is a `<Animate>` component wrapped it and the animation only works on curve's length changes.

I suggest that we could pass `animationProps` liked names to the `Line` component.

``` js
<Line animationProps={{
     from: { opacity: 0 },
     to: { opacity: 0 },
   }}>
</Line>
```

Just exposed the animation control out, then developers could control the animation easily. Wish you could follow my suggestion. : )
 Nice! Repo forked already, I' ll start at once! : )
  Hi!
I'am trying to customise my chart and fill background in this way:
`<CartesianGrid strokeDasharray='5 5' fill='red' />`
This code doesn't work for me, background still transparent. Any ideas?
 @xile611 I want to change background color of AreaChart and I thought that CartesianGrid is good way to do this. 
`.recharts-cartesian-grid` is direct area what I want to fill with new background color.
  Adds an optional `onClick` prop for the `Tooltip` component.

Any chart that implements a `Tooltip` with the `onClick` prop is now clickable. The callback arguments contain the content of the tooltip as well as the index of the clicked element.

Solves the issue of not being able to have a click event on line charts #261 

Let me know if this solution is ok. I originally started working on this because I needed to add a click event on a line chart. I couldn't find any better place to put the `onClick` listener. I tried using the chart `Dot` as click target, but I found it too difficult to click during testing.
 [![Coverage Status](https://coveralls.io/builds/8274323/badge)](https://coveralls.io/builds/8274323)

Coverage decreased (-5.3%) to 87.489% when pulling **622873edbe3d76e2fb8cf627b20b7062f8878038 on raspo:master** into **e37ef42586a7c2fa689e0c3dfef86766f4016854 on recharts:master**.
 [![Coverage Status](https://coveralls.io/builds/8274517/badge)](https://coveralls.io/builds/8274517)

Coverage increased (+0.1%) to 92.887% when pulling **010a290537db9f619831e5962739cc84e09615f5 on raspo:master** into **e37ef42586a7c2fa689e0c3dfef86766f4016854 on recharts:master**.
 @xile611 I hear you, do you think there is a better place to put it?

Ideally we would want to use the `Line` or the `Dot` components, but those targets are way too small to be usable.
The `onClick` on `Tooltip` definitely feels strange, but it somehow makes sense as the callback is returning the content of the tooltip, and the `onClick` is triggered only when a tooltip is showing.
 @xile611 not sure what you mean by that, just renaming `onClick` to `triggerEvent`?
 @xile611 Why the tooltip can not be shown when I try it on a mobile phone?  An `onChange` function provided to Brush as a prop does not get called. 

Here is an example: http://jsfiddle.net/xtdssj96/6/

If the `onChange` prop is called `onUpdate` instead, this resolves the issue. If that change is acceptable, I'm happy to open a pull request and update the corresponding documentation.

Thanks for the great work on this library! Cheers!
 Got it. Thanks! I'll open a PR.
  Hi! 
I'am trying to figure out how to connect rechart with async data without full re-rendering. 
Every second I receive new point for area chart and then call setState() with new data collection. That triggers re-rendering :( 

But my questions are:
1. How to keep previously focused tooltip in opened state after new data was added?
2. How to apply only new data without full re-rendering? 
3. How to move xAxis smoothly? [d3 example](https://bost.ocks.org/mike/path/)

Seems like solving the second issue may solve first automatically, or? 
http://jsfiddle.net/sdoomz/y6dw0fgh/
 @xile611 Currently it is possible to solve issue with [dynamic charts](http://jsfiddle.net/sdoomz/ams3jyj2/) using Highcharts.js and [react-highcharts](https://github.com/kirjs/react-highcharts) package. But it would be great to see same functionalities in next versions of Recharts.
 I would like to add another vote for this feature.
I've been experimenting with it on my own by using AnimateGroup from react-smooth as a wrapper to my recharts components.
 I'm also looking to implement realtime charts, but there are major frame rate issues at the moment because of the redrawing. PR #277 will probably fix some of these issues.
 @xile611 would love to hear an update about this enhancement. 
 Thanks for the update. I'll stay tuned and will try to implement a work-around in the meanwhile.
 Is there any known workaround for this at the moment? This is clearly a hack, but given you have a flag variable ``isAnimationActive`` with default to ``true``, you could then listen in for``componentWillReceiveProps()`` (when more data is added to the chart) and set  a ``isAnimationActive=false``. This will cause the animation to only be executed when the component is mounted (the first time the chart is rendered). 

As a down side, when new data-points are added to the chart, no animation from the last point known to the newest one added will be executed (it will just suddenly appear in the chart). Is there any update on this please! Would love to implement :) +1 for this one! Would be nice to have this. I have huge memory leaks when using live data with recharts. I found a workaround by adding `key={Math.random()}` to the LineChart element, which forces React to redraw the chart when the component re-renders. I also had to use `isAnimationActive={false}` on the Line component. Here's a workaround hacking solution to simulate the streaming data graph, but you need to tune _the width, padding size, margin and more_, making sure all the configuration fit so it does the animate smoothly.

jsfiddle : http://jsfiddle.net/5fwefg90/
showcase gif : _(the gif is abit zig-zag, check the live jsfiddle demo to get the smooth animation)_
![stream-example-gif](https://user-images.githubusercontent.com/2560096/32657994-33651986-c618-11e7-9833-583a71ccda1c.gif)

let me know if you have any question related to this hacking solution, but I deeply feel the animation mechanism should be refactored so it can do the **real** smooth animation. 

**Cons,** this will bring the memory leaks issue.  @hueitan great work! The Chrome memory profiler indicates it leaks about 100KB on every update, so 70MB per hour assuming 5 second update frequency.

Not the end of the world, but not good either.

Any idea how to prevent this? Any update on this feature?  > Here's a workaround hacking solution to simulate the streaming data graph, but you need to tune _the width, padding size, margin and more_, making sure all the configuration fit so it does the animate smoothly.
> 
> jsfiddle : http://jsfiddle.net/5fwefg90/
> showcase gif : _(the gif is abit zig-zag, check the live jsfiddle demo to get the smooth animation)_
> ![stream-example-gif](https://user-images.githubusercontent.com/2560096/32657994-33651986-c618-11e7-9833-583a71ccda1c.gif)
> 
> let me know if you have any question related to this hacking solution, but I deeply feel the animation mechanism should be refactored so it can do the **real** smooth animation.
> 
> **Cons,** this will bring the memory leaks issue.

For those looking for a working JSFidle of the demo:
https://jsfiddle.net/nru6yxvz/  I'm using ReferenceLine to render an upper and lower limit of some reference range in the y domain of a ScatterChart. This works fine, but can look a bit messy, especially when there is a lot of data on the plot. Filling a rectangle with a slightly darker background starting from the lower y ref line to the upper y ref line and extending the full x width would look much more clean and would also be very intuitive if one of the reference lines is missing (i.e. when the reference range is "open", such as "< 2 mg").

Is it possible to render a filled rectangle on the chart? If not, that would be a great addition to this awesome library.
 Here's how this would look like. I now have:

```
<ScatterChart {...chartProps}>
    <ReferenceLine {...lowerRefLineProps} />
    <ReferenceLine {...upperRefLineProps} />
    <XAxis {...xAxisProps} />
    <YAxis {...yAxisProps} />
    <Scatter {...myData} />
</ScatterChart>
```

What I'd like to do:

```
<ScatterChart {...chartProps}>
    <Rectangle y1="0.5" y2="7.1" bgColor="#f0f0f0" />
    <XAxis {...xAxisProps} />
    <YAxis {...yAxisProps} />
    <Scatter {...myData} />
</ScatterChart>
```
  Recharts isn't taking full advantage of React's rendering optimizations for sub-trees. The "shallowEqual" function in PureRender is actually a deep-equal, which is very expensive and re-computed several times on any given event (e.g. mouse moving over the graph).  For a graph with hundreds or thousands of points, this can become very slow.

Part of the reason a deep equality was likely used was that some of the props, like the axis maps and ticks, were being generated as brand new object on every render, even though the data in them was the same, so a shallow equality would have failed.

In order to remedy this situation, a couple of changes are needed
1. modify the shallowEqual function to actually be a shallow equality, only checking one level deep for === equality on all keys in an object
2. ANY object that would be expensive to generate when looping over a large dataset (e.g. axismaps, ticks, etc.) is generated only when necessary and stored in state to be passed down to child components as props. Since the objects will pass === checks in this scenario, child components never re-render unless necessary, and determining necessity is cheap now.

These changes have already been made in pull request #277, so this issue can be marked as resolved when that is complete.
 Agree... Finding rendering everytime when interacting with the chart on mouseover. I have a dynamic set of Areas inside a AreaChart component, depending on the dataset I get from the server. While I do not rerender unless the data changes on my end, the component still rerenders on mouse over interactions with the chart, which in some sense annoys me a little bit, and potentially can hurt our main component in terms of performance, since we'll be dealing with GBs of data influx each hour.
  Hi,

I get a warning when i **# **fast***\* switch some page(the page use ResponsiveContainer  ).

environmentï¼š
recharts@^0.13.3
react: ^15.3.0,
ref:  ContainerDimensions of react-container-dimensions@1.2.0

public code:

```
 _<ResponsiveContainer width="100%" height="100%">
                    <BarChart data={data}
                                margin={{top:20, right:0, left:0, bottom:3}}
                    >
                        <XAxis dataKey={xkey} tickLine={false}/>
                        <YAxis tickLine={false} tickFormatter={this.tickFormatter.bind(this.state, "L")}/>
                        <Bar dataKey={defaultY} barSize={20}
                             fill={this.context.muiTheme.fuelBarChart.barFill} stroke=
                          {this.context.muiTheme.fuelBarChart.barStroke}>
                        </Bar>
                    </BarChart>
</ResponsiveContainer>_ 
```

error info:
warning.js:36 Warning: setState(...): Can only update a mounted or mounting component. This usually means you called setState() on an unmounted component. This is a no-op. Please check the code for the ContainerDimensions component.

printWarning    @   warning.js:36
warning @   warning.js:60
getInternalInstanceReadyForUpdate   @   ReactUpdateQueue.js:49
enqueueSetState @   ReactUpdateQueue.js:201
ReactComponent.setState @   ReactComponent.js:64
onResize    @   index.js:65
callListenerProxy   @   element-resize-detector.js:153
utils.forEach   @   collection-utils.js:14
onResizeCallback    @   element-resize-detector.js:152
onElementDetectable @   element-resize-detector.js:245
ready   @   scroll.js:555
process @   batch-processor.js:124
processBatch    @   batch-processor.js:37
 ![image](https://cloud.githubusercontent.com/assets/5195809/18984772/f6f3c230-8726-11e6-8c25-604f6d3215e4.png)

I add the _isMounted to controller onresize then , I can normal fast switch.
  Recharts, prior to this pull request, wasn't taking full advantage of React's rendering optimizations for sub-trees. The "shallowEqual" function in PureRender was actually a deep-equal, which was very expensive and re-computed several times on any given event (e.g. mouse moving over the graph).

Part of the reason a deep equality was likely used was that some of the props, like the axis maps and ticks were being generated as brand new object on every render, even though the data in them was the same, so a shallow equality would have failed.

In a nutshell, this pull request does two things:
1. modify the shallowEqual function to actually be a shallow equality, only checking one level deep for === equality on all keys in an object
2. For the major charts that had uniformity to how they were rendered (ComposedChart, AreaChart, LineChart, BarChart, PieChart), ANY object that would be expensive to generate when looping over a large dataset (e.g. axismaps, ticks, etc.) is generated only when necessary and stored in state to be passed down to child components as props.  Since the objects will pass === checks in this scenario, child components never re-render unless necessary, and determining necessity is cheap now.

All-in-all, it is significantly faster now.  lint checks and tests all pass.  

Note for future: In running the automated tests and comparing against manual test restuls, I had bugs that I manually found and fixed that weren't failing in any automated tests.  We should add test cases for:
- Vertical line to show active index, "recharts-tooltip-cursor", is displaying as it should
- handleBrushChange in generateCategoricalCharts changes the data shown by the underlying chart appropriately
 [![Coverage Status](https://coveralls.io/builds/8104653/badge)](https://coveralls.io/builds/8104653)

Coverage decreased (-0.01%) to 92.746% when pulling **e22c93f4aa66602c472d2bdfbabefafdd56aea9a on billneff79:axis-performance** into **580ac55e4374ef2ef9ebeaf0adda8bc35f1ca36d on recharts:master**.
 [![Coverage Status](https://coveralls.io/builds/8122831/badge)](https://coveralls.io/builds/8122831)

Coverage increased (+0.07%) to 92.826% when pulling **911d18cde9a12e7e858d566e5294515d77976f8d on billneff79:axis-performance** into **580ac55e4374ef2ef9ebeaf0adda8bc35f1ca36d on recharts:master**.
 [![Coverage Status](https://coveralls.io/builds/8123246/badge)](https://coveralls.io/builds/8123246)

Coverage increased (+0.1%) to 92.856% when pulling **0638670a245bf2cb54f0705800ae701c42850ff3 on billneff79:axis-performance** into **580ac55e4374ef2ef9ebeaf0adda8bc35f1ca36d on recharts:master**.
 [![Coverage Status](https://coveralls.io/builds/8123680/badge)](https://coveralls.io/builds/8123680)

Coverage increased (+0.1%) to 92.856% when pulling **82af54d70167216f7e5304dd457c87a926da8aee on billneff79:axis-performance** into **580ac55e4374ef2ef9ebeaf0adda8bc35f1ca36d on recharts:master**.
 [![Coverage Status](https://coveralls.io/builds/8137151/badge)](https://coveralls.io/builds/8137151)

Coverage increased (+0.1%) to 92.894% when pulling **bf0e06b33dbf70f051e686b42e3530f342b6ed08 on billneff79:axis-performance** into **580ac55e4374ef2ef9ebeaf0adda8bc35f1ca36d on recharts:master**.
 [![Coverage Status](https://coveralls.io/builds/8137811/badge)](https://coveralls.io/builds/8137811)

Coverage increased (+0.1%) to 92.868% when pulling **7c0c4cbf8e4fae6e0b9d456396466f5c965ec5ea on billneff79:axis-performance** into **580ac55e4374ef2ef9ebeaf0adda8bc35f1ca36d on recharts:master**.
 [![Coverage Status](https://coveralls.io/builds/8146545/badge)](https://coveralls.io/builds/8146545)

Coverage decreased (-0.1%) to 92.644% when pulling **1e13abb0c1020a9d771bc5ad4f44410885686952 on billneff79:axis-performance** into **580ac55e4374ef2ef9ebeaf0adda8bc35f1ca36d on recharts:master**.
 [![Coverage Status](https://coveralls.io/builds/8150221/badge)](https://coveralls.io/builds/8150221)

Coverage decreased (-0.3%) to 92.424% when pulling **8cb526e0d8acb074ecf95a912fdb2a4df21c46f3 on billneff79:axis-performance** into **580ac55e4374ef2ef9ebeaf0adda8bc35f1ca36d on recharts:master**.
 [![Coverage Status](https://coveralls.io/builds/8152378/badge)](https://coveralls.io/builds/8152378)

Coverage increased (+0.1%) to 92.868% when pulling **221ba82d395ef6aa579abd91494ed875b6049116 on billneff79:axis-performance** into **580ac55e4374ef2ef9ebeaf0adda8bc35f1ca36d on recharts:master**.
 I may add more tests, but the bulk of the functionality for this pull request is complete.  Please review and merge or give feedback on what you'd like changed.
 [![Coverage Status](https://coveralls.io/builds/8153006/badge)](https://coveralls.io/builds/8153006)

Coverage increased (+0.3%) to 93.092% when pulling **afbaeb0a4ec10a1b169e71be817f0561455501d8 on billneff79:axis-performance** into **580ac55e4374ef2ef9ebeaf0adda8bc35f1ca36d on recharts:master**.
 I added tests that would have caught my earlier errors:
- Vertical line to show active index, "recharts-tooltip-cursor", is displaying as it should
- handleBrushChange in generateCategoricalCharts changes the data shown by the underlying chart appropriately
 I added tests to future proof against pure rendering getting messed up by checking that mouse enter/move and brush movement that doesn't actually change the start/end index on a LineChart do not cause a re-render of the Line child component.
 [![Coverage Status](https://coveralls.io/builds/8153152/badge)](https://coveralls.io/builds/8153152)

Coverage increased (+0.3%) to 93.109% when pulling **dfe08f87bf26558609bf5d56896288ca6fd3113f on billneff79:axis-performance** into **580ac55e4374ef2ef9ebeaf0adda8bc35f1ca36d on recharts:master**.
 [![Coverage Status](https://coveralls.io/builds/8159336/badge)](https://coveralls.io/builds/8159336)

Coverage increased (+0.3%) to 93.109% when pulling **85896390718cbf9648d1572f8910a53f3fa9c725 on billneff79:axis-performance** into **580ac55e4374ef2ef9ebeaf0adda8bc35f1ca36d on recharts:master**.
 @billneff79 if you fix the conflicts maybe this can go through then?
 I fixed all of the conflicts and all of the tests still pass.  I had to artisanally merge the last change from BarChart to get maxSize in, but I think it came out OK ;)
 I added two more commits from our fork that are performance related.  I think that's it for these performance changes.
 On a side note, we've effectively abandoned recharts for our project, after we had made some interesting changes to it.  You may want to pull them in from our fork.  Let me know if you need any help.  You can look at the commits after October 3rd, 2016 to get an idea of what we added:

https://github.com/billneff79/recharts/commits/master

**Highlights include:**
- Allow className attribute to be passed through and added to outside element of ReferenceLine
- Added support for new affectedCharts parameter on Brush component to specify  which charts the brush affects (handy if you want to have a context chart that doesn't change while controlling another chart that does)
- Added the ability to overlay a Brush on a chart
- Use globally registered mouse events for the brush for a better UX 
 \o/
 Other performance tips you might want to try for big data sets that we've seen tremendous (4-5x performance boost) results from include:

Don't plot more than one data point per css pixel.  i.e. if you have 1000 data points, but your graphable width in your chart is only 300 pixels, you will waste a lot of cpu calculating the path for your chart without being able to see 2/3rds of it.  So, we just pruned the data when generating the ticks for our area/line/etc. charts to get it down to 1 point max per pixel: i.e. if there are 3 times as many points as pixels, we generate the graph from data[0], data[3], data[6], data[9], ....

As the user uses a Brush to zoom in on the graph, we re-calculate the data points used for drawing the path, so you can get to full data fidelity on the graph as soon as you zoom into a view where there is at least one point per pixel.

It turns out that it's just way faster to prune the data on each Brush movement than it is not render a full, but overly granular, path
 @billneff79 You are a champion. Thank you for all this insight and your contribution to the repo.
 You're very welcome!

On Tuesday, November 1, 2016, Sean Bullock notifications@github.com wrote:

> @billneff79 https://github.com/billneff79 You are a champion. Thank you
> for all this insight and your contribution to the repo.
> 
> â€”
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> https://github.com/recharts/recharts/pull/277#issuecomment-257750933,
> or mute the thread
> https://github.com/notifications/unsubscribe-auth/AP6gZO4UBqL3DNwNZc7OxdVrdoDvSE2zks5q5-0BgaJpZM4KJkqz
> .
 @billneff79 thanks mate! 
  Hi there,
I have a series of data that needs to be plot in a chart. The Y-Axis will be the `speed` of vehicle and the X-Axis will be the `time`. The data I have is the speed of the vehicle for every few seconds. What I want is to have X-Axis with 1 hour difference and Y-Axis to be the speed.

Something similar like this: 
http://www.highcharts.com/demo/line-time-series

Is it possible to create a one?

Thanks.
 I'm attempting something very similar - I'd like to create a `BarChart` that'll render a variable number of bars on an x-axis that will always have 12 ticks (one for every month). Is this what a `CartesianAxis` is for?
 @xile611 I see over in https://github.com/recharts/recharts/issues/305 that you released a `scale` prop for the Axis components.

Would you mind sharing how that can be used to achieve a line chart of time series data?

Given the following data, how would we configure the x-axis to display only 2 labels (one for each month), but still plot each data point for each individual day?

```js
const data = [
  {name: 'Jan 01 2016', value: 2400},
  {name: 'Jan 02 2016', value: 2210},
  // etc...
  {name: 'Jan 31 2016', value: 2290},
  {name: 'Feb 01 2016', value: 2000},
  {name: 'Feb 02 2016', value: 2181},
  // etc...
  {name: 'Feb 28 2016', value: 2500},
];
```  ``` javascript
<ReferenceLine
  key={index}
  label={<span>123</span>}
  stroke="#f2be35"
  x={key}
  isFront
/>
```

results in following dom structure:

![image](https://cloud.githubusercontent.com/assets/1336484/18890852/8adbbc94-8535-11e6-8f50-eceb900eeda4.png)

which is not allowed by SVG specs, and got wrong positioning at all.
  I'm not sure if there is functionality in already but I don't understand it. I have a section of figures in an array that start at say 380,000 and range to 410,000. The graph needs to fit into a small area but when I plot it the line looks almost flat. Is there a way of clipping the display start point so the graph does not look like a flat line and can show the top portion of the data in the graph and any fluctuation within that top area?
 Thanks very much will give that a try today. Love the module btw.
 Works a treat thanks :)
<img width="355" alt="screenshot 2016-09-26 14 54 20" src="https://cloud.githubusercontent.com/assets/5984529/18836772/53a073ec-83f9-11e6-907c-68acbe43d491.png">
  Would be super sweet if you could somehow pass an error array as a prop to make error bars on line and bar charts (especially bar chart). 

Thanks for making this tool!
 @xile611 

Kinda like that, but being able to control the height of the reference line and place it on points. So something more like:

http://www.sthda.com/sthda/RDoc/figure/ggplot2/ggplot2-barplot-with-error-bar-data-visualization-1.png

or 

http://www.phplot.com/phplotdocs/examples/points1.png

Even just a straight error bar option without the horizontal top and bottom lines would be helpful. 

Also, here is a stack overflow of people discussing how to do it in d3: http://stackoverflow.com/questions/22620064/adding-error-bars-to-grouped-bar-chart-with-d3-js
 +1 Would like that too! Any workaround do get something like that ?
 +1

Regarding closing #349 and including it here, it's not quite the same thing as error bars, but I can envision that it may have a lot in common under the covers. Just submitted a PR to add error bars    https://github.com/recharts/recharts/pull/399 Hey @xile611 ,

so my use case is:
- have horizontal bars 
- for each bar i wanna indicate an error / confidence interval

So for example if the score for a bar is 130, the confidence interval could be from 110 to 135 e.g.! @jzillmann @xile611 I definitly think the interval is a good idea and will add that to the PR. 

Also, I like option one of your two ideas. @xile611--
I'm not sure I have a strong preference to either option, but I lean toward the first one because I think it will be more clear that the error bars belong to a particular series, especially when the series themselves have their own data prop (like ScatterChart). But having said that, can ScatterChart (and other data-series child components) really have useful error bars? If not, then the second option may be better, and is more consistent with ReCharts' overall architecture.

I do think that the error bar component, regardless of how it's implemented, should allow for both high and low offsets, as well as absolute values. There are many error bar scenarios where the error range is not symmetrical.

Just a thought: If you treat the error bars as just another child component, then the existing Bar component almost gets the job done. It just needs the ability to supply both a high and low value. In fact, by "overlaying" two Bar components with slightly different bar widths/styles, you could easily produce just about any error bar, candlestick, high/low/close, etc. chart you wanted.
 @Eric24 @xile611 @jzillmann 

I just updated the PR so it uses the first option API and allows for both high and low offsets.

Your probably right that the bar components could be used to make this, but I had already coded the logic in SVG lines which was fairly straightforward. Bar would probably be more helpful for candlestick though. I can work on that after the error bar PR is merged.

`const data = { name: 'Page A', uv: 1000, pv: 2400, amt: 2400, uvError: [75, 20] }, ... ]` 

```javascript
<Line type='monotone' dataKey='uv'>
  <ErrorBar dataKey="uvError" />
</Line>
```

![screen shot 2016-12-15 at 5 39 08 pm](https://cloud.githubusercontent.com/assets/9427089/21249031/0b0cab2e-c2f0-11e6-8955-e48e0664bef2.png)

![screen shot 2016-12-14 at 5 53 38 pm](https://cloud.githubusercontent.com/assets/9427089/21209091/0f9a5372-c227-11e6-880f-10867b969643.png)

![screen shot 2016-12-14 at 5 57 53 pm](https://cloud.githubusercontent.com/assets/9427089/21209062/f034de58-c226-11e6-9601-3e6e6210b344.png) @McMenemy--Very nice! I personally like the solution of allowing a single value for symmetric errors and an array for asymmetric errors. It's clean and requires no other attributes to "configure" it.

But shouldn't "error bars" on a scatter plot really be a rectangle around the point? After all, it technically has two dimensions of error.

I'm not sure what options you have for formatting the bars, but I can see needs for:

- just a vertical line (without the I-beam)
- a rectangle (i.e. a line with more width)
- the ability to set opacity
- the ability to specify that the error bar is drawn behind the main plot line
 PS to @xile611 - The idea of using an array as data point could be useful for things like #316, where if supplied for an area plot, the array would be interpreted as the low and high value for the area. This enhancement would allow the kind of "error range" display originally shown in #316 (and one that I'm also personally interested in), by simply specifying both a line and area (with [low, high] Y data) plot on the same chart. You could also include that capability in the ErrorBar component with the option of specifying a "type" of "area" instead of "bar", although the array data points would still be useful outside of error bar applications. @Eric24 @xile611 Thanks for the feedback!

Good point scatter plots should definitly have the option for two error bar directions. I also left the option for their just to be one direction for situations like IQ vs Number of Siblings where there might be an error in only one direction. 

Both a rectangle and just lines are possible with the current width and stroke width options.

I added opacity.

I did not give the option to draw the error boar behind the plot line but I did move it behind the plot line for scatter and line charts because that is what most other libraries do and I think it does look nicer. 

Here are some new examples

```javascript
const data01 = [ { x: 100, y: 200, z: 200, errorY: [20, 30], errorX: 30 } ...]

<Scatter name="A school" data={data01} fill="#ff7300">
  <ErrorBar dataKey="errorY" width={8} strokeWidth={1} width={0} fill="blue" direction="y" />
  <ErrorBar dataKey="errorX" width={4} strokeWidth={2} opacity={0.5} fill="green" direction="x" />
</Scatter>
```

![screen shot 2016-12-16 at 7 04 02 pm](https://cloud.githubusercontent.com/assets/9427089/21284002/50c505fc-c3c3-11e6-8d9f-90bcdd0574bc.png)

![screen shot 2016-12-16 at 6 51 11 pm](https://cloud.githubusercontent.com/assets/9427089/21284011/8018a822-c3c3-11e6-85fe-525f932684d7.png)

 @McMenemy -- Nice work. Having a little trouble applying this to a bar chart.
Trying
```
<Bar
    dataKey="score"
    stackId="a">
    <ErrorBar
         dataKey="scoreConfidence"
         width={ 4 }
         strokeWidth={ 2 }
         stroke="red"
         direction="x" />
</Bar>
```
But since value is an array, xMid is as well (vertical layout) which results in an NaN for xMin. @jzillmann 

Try removing the direction="x" prop - that is really only needed for scatter plots where there are two valid directions, otherwise the correct direction is automatically chosen.

If that doesn't work do you mind posting a sample of the data array you are passing in? Might help me better understand the NaN for xMin you are describing. Hey @McMenemy , removing direction="x" doesn't make a difference.
So this is the data (as json):
```
[{"index":0,"name":"arrayList","score":3467631,"scoreError":98563,"scoreConfidence":[3369067.897461809,3566194.5626392737],"subScores":[[3524193.1540743182,3531314.663170731,3532453.3325443356,3520395.64538141,3474431.2865468427],[3440045.3067861893,3333994.173460993,3445535.4557112623,3475555.716890452,3398393.5659388755]]},{"index":1,"name":"arrayList_preSized","score":4434114,"scoreError":162358,"scoreConfidence":[4271756.831267686,4596472.032614275],"subScores":[[4387907.870160588,4415369.455557752,4235234.929285744,4493163.454426142,4515565.210563311],[4498258.182714103,4616972.696033958,4469945.743256911,4348193.164669668,4360533.612741628]]},{"index":2,"name":"arrayList_preSized_reUsed","score":4361609,"scoreError":939443,"scoreConfidence":[3422166.159698941,5301052.838664772],"subScores":[[4494893.115865175,4708594.13630849,4731623.863515516,4546631.485472386,4347826.860553541],[4559416.52133731,4714948.775639965,4294497.89978434,4574162.969722556,2643499.3636192847]]},{"index":3,"name":"immutableList","score":2981815,"scoreError":531678,"scoreConfidence":[2450136.660624976,3513493.542793048],"subScores":[[2945691.3886469672,3070641.4787076386,2877623.558878289,2044142.2793960872,3041207.6020551748],[3113544.6225625942,3080874.188561396,3320440.164272431,3120207.5510048973,3203778.183004643]]}]
```

And this is the complete chart:
```
<BarChart
  layout="vertical"
  width={ 900 }
  height={ chartHeight }
  data={ dataset }
  margin={ { top: 20, right: 30, left: maxMethodNameLength * 5, bottom: 5 } }>
  <Bar
    dataKey="score"
    stackId="a"
    stroke={ blue }
    fill={ blue }
    unit={ ` ${scoreUnit}` }
    isAnimationActive={ false }>
    <ErrorBar
      dataKey="scoreConfidence"
      width={ 4 }
      strokeWidth={ 2 }
      stroke="red"
      dataPointFormatter={ dataPointFormatter } />
  </Bar>
  <XAxis type="number" />
  <YAxis dataKey="name" type="category" />
  <CartesianGrid strokeDasharray="3 3" />
  <Tooltip content={ <SingleRunChartTooltip scoreUnit={ scoreUnit } /> } cursor={ { stroke: green, strokeWidth: 2 } } wrapperStyle={ { backgroundColor: tooltipBackground, opacity: 0.95 } } />
  <Legend verticalAlign='top' payload={ [{ value: `${benchmarkMode} ${scoreUnit}`, color: blue, type: 'rect' }] } height={ 30 } />
</BarChart>
``` Hi @jzillmann

I did not get the NaN value you were getting. Here is a screen shot of your chart with all the custom tooltips removed (maybe thats where the error is coming from)?

<img width="430" alt="screen shot 2017-04-10 at 9 38 59 pm" src="https://cloud.githubusercontent.com/assets/9427089/24893121/5eb31d52-1e36-11e7-9210-7733f306930c.png">

`<p>Github Test</p>
       <div className="bar-chart-wrapper">
         <BarChart
           width={400}
           height={400}
           layout="vertical"
           data={ data69 }
         >
           <Bar
             dataKey="score"
             stackId="a"
           >
             <ErrorBar
               dataKey="scoreConfidence"
               width={ 4 }
               strokeWidth={ 2 }
               stroke="red"
             />
           </Bar>
           <XAxis type="number" />
           <YAxis dataKey="name" type="category" />
           <CartesianGrid strokeDasharray="3 3" />
         </BarChart>
       </div>
`

Also, the error bars are really wide because the errors should be relative, like how much below and how much above, not the actual values. Hmm, not sure.. 
I was able to get a horizontal bar-chart to work... but when i copied your code from above i still get NaN. See https://jsfiddle.net/oae9/un16cwkd/13/

Note: used 0.22.0 ( 0.22.1 throw an error on all recharts examples i found...)
 Okay thanks for making the jsfiddle. I made a couple changes which got it working: https://jsfiddle.net/mshdoe14/ . 

One change was changing the "scoreConfidence":[**-4**,2] to "scoreConfidence":[**4**,2] . Error should always be positive. (This actually didn't throw an error it just draws the error bar in the wrong place.)

The other change was removing the stackId="a" from the bar component because stackedBars with errorBars will not work at the moment. Do you plan on using a stacked bar chart with errors? If so, I'll try to find the underlying cause.

It works on my local computer which runs an older version of recharts so a later update must of broken the stacked part.

Also, in the future just open up an error bar problems you have as a new issue. Thanks @McMenemy . After removing the stackId error-bars started working for me!
I was just using stacked bars to circumvent missing error bars so i'm not troubled with that not working.

Sorry for spoiling this issue!  Using the following snippet:

``` jsx
<BarChart data={initialData} >
   <XAxis dataKey="name" label="Devices"/>
   <YAxis unit="MB"/>
   <CartesianGrid strokeDasharray="3 3"/>
   <Tooltip/>
   <Legend />
   <Bar dataKey="used" stackId="a" fill="#8884d8" unit=" MB" />
   <Bar dataKey="available" stackId="a" fill="#82ca9d" unit=" MB" />
</BarChart>
```

`label` on the `XAxis` is not rendering and neither is `unit` on the `YAxis`. Am I doing something wrong? The following is an example render: 

![image](https://cloud.githubusercontent.com/assets/7227636/18751544/6db1d9e6-80ad-11e6-94ac-b00fd940269e.png)
 @xile611 Thanks for your response. What about the `label` in the `XAxis`?
 `label` of `XAxis` is not working as expected here. For example, in the [ComposedChartWithAxisLabels](http://recharts.org/examples#ComposedChartWithAxisLabels) example: **Pages** is showed on the `XAxis` and **Index** is showed on the `YAxis`. In my initial post, I want my `XAxis` to show the label **Devices** at the end, however nothing is showing. Does `label` on the `XAxis` not work with a `BarChart`?
 In this example: http://jsfiddle.net/patryk0605/akpt76jg/

I set `label="Devices"` in `<XAxis dataKey="name" label="Devices"/>`, however there is no label showing on the x-axis.
 Was able to make some progress by setting `<BarChart margin={{top: 20, right: 80, bottom: 20, left: 20}}>`, similar to how the [ComposedChartWithAxisLabels](http://recharts.org/examples/#ComposedChartWithAxisLabels) does it above. Def not ideal, but at least it's a start.

might also be able to just set some css:

``` css
.recharts-surface {
    overflow: visible;
}
```
 Seems like this issue is related with #308 where the right is being cut off. 
   <XAxis dataKey="name"  tick={<CustomizedAxisTick />} interval={0} />

set interval={0}  Apparently, after the first few tooltips are shown on hover, the next hover (in my case usually the 8th or 9th time) will get the 'Aww, snap' crash.
 Example code: 

```
import React, { Component } from 'react';
import { LineChart, Line, YAxis, XAxis, Tooltip } from 'recharts';

export default class StatisticsView extends Component {
  data = [
    {
      "hash": 4,
      "day": "1"
    },{
      "hash": 5,
      "day": "2"
    },{
      "hash": 6,
      "day": "3"
    },{
      "hash": 4,
      "day": "4"
    },{
      "hash": 3,
      "day": "5"
    },{
      "hash": 7,
      "day": "6"
    },{
      "hash": 11,
      "day": "7"
    },{
      "hash": 5,
      "day": "8"
    },{
      "hash": 6,
      "day": "9"
    },{
      "hash": 4,
      "day": "10"
    }, {
      "hash": 1,
      "day": "11"
    },
  ];
  render() {
    return (
      <LineChart data={this.data} width={1280} height={300}>
        <Line dataKey="hash" stroke="#000000" />
        <YAxis/>
        <XAxis dataKey="day"/>
        <Tooltip/>
      </LineChart>
    );
  }
}
```
 Right, sorry. 
54.0.2840.34 beta (64-bit)

On OSX.

Does the same thing on canary.
 Can confirm, I'm also having this problem in Chrome 54 beta (OSX). I can reproduce it every time if I go to a bar, and quickly move around with my mouse.

Could be a bug in Chrome 54...
 I am also having the same problem with Chrome Version 54.0.2840.59 (64-bit) on linux.

This is the component that causes issues:

``` javascript
<LineRechart 
  width={WIDTH} 
  height={HEIGHT} 
  data={data}
  margin={{top: 10, right: 30, left: 0, bottom: 0}}
>
  <XAxis dataKey="name"/>
  <YAxis/>
  <CartesianGrid strokeDasharray="3 3"/>
  <Tooltip/>
  <Line type='monotone' dataKey='pv' stroke='#82ca9d' fill='#82ca9d' />
</LineRechart>
```

If I remove the `<Tooltip />` component the error goes away.

Edit:

Now the error also appears on windows. And it happens before I even show the tooltip sometimes. 

Chrome version on windows is: 54.0.2840.71 m
 Same here, Chrome version is 54.0.2840.50 beta (64-bit) on Ubuntu 16.04.1 LTS.

What I found strange though, is, that the examples on your website, which are also using the tooltip, are not crashing.

Aside of that I just want to say, this is an awesome project, thanks for creating it!
 We also just find this problem today on my chrome version is 54.0.2840.59 (OSX). Another guy uses
 firefox on linux as the below black boxes lag issue.

![screenshot from 2016-10-19 17_09_17](https://cloud.githubusercontent.com/assets/3892004/19573208/e29c8d18-96ca-11e6-9d0c-0721f0c76e26.png)

I analyze the CPU and memory usage on chrome task manager. Before the tab crashes, cpu usage hikes to 100. Also if I take a closer look at the tooltip rendering process, it's blurry initially and becomes clear after a second. Can we simplify the animation on tooltip so it won't use so much cpu?

The chrome crash issue happens after I upgrading following library, but the black box on firefox is always there. I think the rendering might be a bit too complicated, could we simplify it?

This is part of my package.json upgrades:
"dependencies": {
     "classnames": "^2.2.5",
-    "is-my-json-valid": "^2.13.1",
+    "is-my-json-valid": "^2.15.0",
     "isomorphic-fetch": "^2.2.1",
     "querystring": "^0.2.0",
     "object-assign": "^4.1.0",
-    "react": "^15.1.0",
-    "react-dom": "^15.1.0",
+    "react": "^15.3.2",
+    "react-dom": "^15.3.2",
     "react-redux": "^4.4.5",
-    "react-router": "^2.4.1",
+    "react-router": "^2.8.1",
     "react-router-active-component": "^4.0.0-rc.0",
-    "react-router-redux": "^4.0.4",
+    "react-router-redux": "^4.0.6",
     "react-scroll": "^1.4.0",
-    "reactable": "^0.13.2",
-    "redux": "^3.5.2",
-    "redux-logger": "^2.6.1",
+    "reactable": "^0.14.0",
+    "redux": "^3.6.0",
+    "redux-logger": "^2.7.0",
     "redux-thunk": "^2.1.0",
     "moment": "^2.14.1",
-    "react-datepicker": "^0.29.0",
-    "recharts": "^0.15.0"
+    "react-datepicker": "^0.32.0",
+    "recharts": "^0.15.2"
}

Thanks!
 Fwiw, the crash happens for me on a line chart but not a scatter chart, where there is no tooltip animation. `animationActive={false}` didn't seem to have any effect, so granting the ability to disable animation on a line chart tooltip would really help me out.
 Same issue for me on Chrome 54.0.2840.71 (64-bit) mac OS. I'm sure it was good on Chrome 53.

Boot Chrome with `--enable-logging --v=1` and I see the following error in terminal:

```
#
# Fatal error in ../../v8/src/compiler/representation-change.cc, line 796
# RepresentationChangerError: node #367:NumberSign of kRepFloat64 ((MinusZeroOrNaN | Range(-1, 1))) cannot be changed to kRepWord32
#

==== C stack trace ===============================

    0   Google Chrome Framework             0x000000010852df63 ChromeMain + 15502163
    1   Google Chrome Framework             0x000000010852c8ed ChromeMain + 15496413
    2   Google Chrome Framework             0x0000000107fd8bfa ChromeMain + 9910250
    3   Google Chrome Framework             0x0000000107fd9cd0 ChromeMain + 9914560
    4   Google Chrome Framework             0x0000000107ff73f0 ChromeMain + 10035168
    5   Google Chrome Framework             0x0000000107ff5e3d ChromeMain + 10029613
    6   Google Chrome Framework             0x0000000107fe6e0c ChromeMain + 9968124
    7   Google Chrome Framework             0x0000000107fe6d8b ChromeMain + 9967995
    8   Google Chrome Framework             0x0000000107fbc5b6 ChromeMain + 9793958
    9   Google Chrome Framework             0x0000000107fbaeb8 ChromeMain + 9788072
    10  Google Chrome Framework             0x0000000107fba79d ChromeMain + 9786253
    11  Google Chrome Framework             0x0000000107ed2110 ChromeMain + 8834304
    12  Google Chrome Framework             0x0000000107ed4953 ChromeMain + 8844611
    13  Google Chrome Framework             0x0000000107ed3b44 ChromeMain + 8841012
    14  Google Chrome Framework             0x0000000108355532 ChromeMain + 13566242
    15  ???                                 0x00000ca435d063a7 0x0 + 13899417019303
```

So it seems a Chrome/V8 regression bug.
 The problem is not in Tooltip source, even we set an empty component with `displayName='Tooltip'` instead of current Tooltip it break the page.

Something with Dot rendering
 As a fast dirty fix, debouncing this code part https://github.com/recharts/recharts/blob/master/src/chart/generateCategoricalChart.js#L536-L537
with 100ms delay makes crash possibility very low.
 I'm having the same issue. I have a `<BarChart />` and a custom tooltip.
- It only crashes in Chrome, I'm using (v54.0.2840.71)
- It only crashes when I'm in development mode, if I do a "release" build I can't make it crash.
 I also can't reproduce it in release mode and in any mode on Canary Chrome
 Is there a workaround for this?
 I'm getting the same crash not only for Tooltip but also for resizing window.
 @xile611 We really want to use recharts in production, but this crash is preventing us from doing so. Do you have any recommendations?
 Came here also looking for a solution, it seems that most charts are crashing for me after hovering/clicking around the charts for a few seconds. Looking at the timeline in DevTools, I'm thinking this is due to some memory leak somewhere, but since it crashes, I've been unable to trace it down!

Currently crashing on Chrome 54.0.2840.71 (64-bit), at least. Anyone has any leads?
 I would recommend trying 0.15.3, as it contains a pr/fix to improve performance with tool-tips displaying (and other events).

> The "shallowEqual" function in PureRender was actually a deep-equal, which was very expensive and re-computed several times on any given event 

https://github.com/recharts/recharts/pull/277
 @rhurkes I was running 0.15.3 already, but I actually found something interesting here. It seems that this behaviour only happens whenever I'm running in development mode, my fully compiled build seems to perform well and I can't get it to crash.

Looking at the `Tooltip.js` implementation, I see some checks for server side rendering, which are probably being checked on the development environment. Thinking this might be related, but I'll a bit more of a spike once I can get to this.
 Play with v0.16.0 and it no longer crashes for me.
 Can't confirm, still crashing here with v0.16.0 :(
 I just updated to version 0.16.1 and I'm not experiencing this issue any more. Thanks for the fix!
 Yay, 0.16.1 works great for me now as well. Thanks for the fix, whoever did it! :) :+1: 
 Still experiencing this issue in v0.16.2.
 0.16.1 fix problem
 Okay, completely reinstalled recharts, now works fine. Thank you!
 after installing `0.17.1` from npm this problem actually got **worse**.

Also, it is not just the "tooltip" that crashes chrome, just quickly changing the data source and redrawing the graph alone is enough to crash chrome. Before updating from `0.13.4` this problem was pretty hard to reprocude (had to redraw the graphs a lot until crash) - now switching the data just a couple times is enough for a crash.

A screenshot of my use case: 

![Image of Dashboardh](https://i.imgur.com/XNoFcb3.png)

Clicking daily will almost surely crash the current tab as there are a lot of data points.

MacOS 10.12.1
Chome Version 54.0.2840.71 (64-bit)
 @xile611 I'm using `NODE_ENV=production webpack` for building my project and the problem is still there. I'm gonna try adding the minified version directly without going throuh my own webpack build pipeline.

This is how I init the charts:

```
<div style={{display: 'block', marginTop: '20px'}}>
  <LineChart data={data} height={220} width={graphWidth} margin={{ top: 5, right: 30, left: 20, bottom: 5 }}>
    <XAxis dataKey="name" />
    <YAxis/>
    <CartesianGrid stroke="#eee" strokeDasharray="5 5"/>
    <Legend />
    <Line type="monotone" dataKey="credits" stroke="#8884d8" />

  </LineChart>
</div>
```
 @xile611 true, without hot components works fine, but i have this problem only at Win, in Linux all fine with --hot too
 I've also experienced the issue on development mode only, especially with `--hot` enabled. Unfortunately, since I was using `react-create-app` for this, I had basically no control over the development execution :(
 @xile611 I do not feel strong discomfort when i remove --hot because project on which I'm working on it is poorly configured and there is no hot-updated correctly. I think we can try webpack 2.*, maybe here this problem solved
 Seems like the tooltip issue has been fixed... I've set up a new issue with an example project that demoes the crash. https://github.com/recharts/recharts/issues/341
 I've met similar crash issue on Chrome for Mac Version 54.0.2840.71 (64-bit), using webpack 1.13.1. In my case the hot-reload of webpack was never turned on, but it's still solved by adjusting webpack configuration.

My changes to webpack configuration (for production build): 
```js
devtool: false,
plugins: [
  new webpack.optimize.OccurenceOrderPlugin(),
  new webpack.DefinePlugin({
    'process.env': { 'NODE_ENV': JSON.stringify('production') }
  }),
  new webpack.optimize.DedupePlugin(),
  new webpack.optimize.UglifyJsPlugin({compress: {warnings: false, drop_console: true, dead_code: true}}),
  new webpack.optimize.AggressiveMergingPlugin(),
// ...
]
```  Hello,

I am using tens of Recharts on a page and I get the following warning:
`(node) warning: possible EventEmitter memory leak detected. 21 listeners added. Use emitter.setMaxListeners() to increase limit.`

I noticed that the [eventCenter maxListeners are raised to 20 from the default 10](https://github.com/recharts/recharts/blob/master/src/util/Events.js#L6). While many libraries set the value to `0` (unlimited; no warning), the best approach I've seen so far is [dynamically setting the limits](http://www.jongleberry.com/understanding-possible-eventemitter-leaks.html).

Any other idea?
 @xile611 - none of them are synchronized.
 @xile611 - right, that's my use case. Many, unsynced charts on one page.
  Numbers and texts are not clear and tooltip opens in wrong place.
![screen shot 2016-09-21 at 1 44 58 pm](https://cloud.githubusercontent.com/assets/12202757/18707150/a34bfa2a-8001-11e6-9f1a-58c276f0112a.png)
 http://jsfiddle.net/morajabi/2nry4psq/
 the example is missing the line

```
direction: rtl;
```

as css property for `#container` 
 Sorry for the unchanged demo, I think it's correct now. Check it up!
 @morajabi Using an extra div to wrap my LineChart I was able to avoid the issue with the tooltip being in the wrong place when using ```direction: rtl;``` So my css looks something like: 
```
  .chartWrapper {
    position: relative;
    width: 1050px;
    height: 400px;
    overflow-x: scroll;
    direction: rtl;
  }

  .chartAreaWrapper {
    direction: ltr;
  }
```
And made sure to add a width to ```.chartedAreaWrapper``` inline since, at least in my case, the width will vary.

Hope that helps!  I would like to display the value of the datakey on top of every bar on the bar chart. I am not able to find anything related to this in the documentation. I'm not sure we have the capability to show that are not too.

```
<Bar dataKey="mydatakey" label />
```

But it shows the label (I understood this is working as expected), but I was expecting to show the actual y axis value.
  I only found mouse event interface in bar chart and pie chart
 For example, I would like to do something like showing details right after the user click the vertical line.
 I'm using a Line Chart, and i'm in this trouble as well, i need the user to click a point, and i want to grab the information on that specific point so i can query the database to give the user more detailed information.

A onClick event would be greatly appretiated!. 

Excelent package for react btw.
 @weita0 I created a fork of Recharts and added a On Click functionality:
https://github.com/Hectorhammett/recharts/tree/package

I've created it until they add a complete functionality, use it if it serves you.

To use it, in the LineChart element, add a prop called onDotClick (The event fires when you click a dot) and pass a function to it.

The function returns in the first parameter, the label on the bottom axis (x axis) and its value.

@xile611 I don't think my code is perfect, but for the moment i can work with these, you have any plans to add this feature in the future?
 @Hectorhammett  Excellent job! 
 @weita0  Thanks! 

I could've made m code better but i was focused in fixing my problem, would you like me to ask for a Pull Request? Again, my code right now is not perfect, but if you like it, i could improve it.
 @Hectorhammett 

Making a PR would be awesome as I have the exact same issue!
 I found an alternative solution, somewhat hacky though.

To accomplish getting data about the specific point clicked, I first set the `activeDot` prop on the `Line` component to false to removed it entirely. Then I created a custom label component with the same shape/styles of `activeDot` component, and added it to `Line`. Because the label has `payload` as a prop, you now have access to the data behind the point!

```
import LabelAsPoint from './LabelAsPoint.js';

...

<LineChart {/* your props here */} >
    // other components such as <XAxis />, <YAxis />, < Tooltip />, etc
    <Line
        label={ <LabelAsPoint /> }
        activeDot={false}
        dataKey="pv"
        stroke="#8884d8"
    />
/>
```

custom label as a point with look/style of active dot:

```
const styles = require('styles.css');

export default class LabelAsPoint extends React.Component {
    onClick = () => {
        const { index, key, payload } = this.props;
        // you can do anything with the key/payload
    }
    render() {
        const { x, y } = this.props;
        return (
            <circle
                className={`${styles.dot}`}
                onClick={this.onClick}
                cx={x}
                cy={y}
                r={8}
                fill="transparent"/>
        );
    }
}
```

With styles.css: 

`.dot:hover {
    fill: #2B98F0;
    stroke: white;
    stroke-width: .2em;
}`
  Not sure if I'd call it a bug, but it's at least unexpected behavior for me.

In the attached screenshot, I have a yAxis domain set as [-8,8] and my data points range from -10 to 10. At the top of the graph, the data points disappear as the line extends above 8. At the bottom, the line overlays the X axis and is visible until reaching the bottom of the container.

I would expect the line to disappear at the bottom when it reaches the X axis, not when it reaches the container edge.

<img width="664" alt="screen shot 2016-09-20 at 2 50 01 pm" src="https://cloud.githubusercontent.com/assets/881769/18684306/bb1b3ece-7f41-11e6-8490-fe254337eb7e.png">
 That is the behavior I would expect. But if others feel differently I defer to their opinion.
  The minPointSize property on <Bar /> components fixes a problem I'm having, where I need to differentiate between values of 0 and undefined values. However, if the value is 0, a bar does _not_ render at the defined minPointSize. Any other value (0.0000000001 for example) will render the bar.
 Thanks for merging, @xile611. Any idea when this will be pushed to a release?
  Using a ResponsiveContainer with aspect (and no other attribute) has a bug, wherein its width and height shrink as you shrink the window, but do not expand as you expand the window.

I fixed it by changing the following code:

```
if (aspect && aspect > 0) {
  // Preserve the desired aspect ratio
  if (calculatedHeight > 0 &&
      (calculatedWidth === 0 || calculatedWidth / calculatedHeight > aspect)) {
    calculatedWidth = calculatedHeight * aspect;
  } else if (calculatedHeight === 0 || calculatedWidth / calculatedHeight < aspect) {
    calculatedHeight = calculatedWidth / aspect;
  }
}
```

into just this:

```
if (aspect && aspect > 0) {
  // Preserve the desired aspect ratio
  calculatedHeight = calculatedWidth / aspect;
}
```

I think this makes sense: if you specify aspect, you want your height to depend on the container's width, and that's it. 

What do you think?
 Maybe we mean different things, but usually in a "responsive" layout, such as the widely used Twitter Bootstrap library, the width is fixed (either the device width or a fraction of it, say 3/12) and the height is free.
 I'm running into this as well and support @tobia's proposal (only affect the height)
  Please refer to my concerns here: https://github.com/recharts/recharts/issues/183#issuecomment-248284741

Long story short, currently if you were to create e.g. a `LineChart` with 2 different lines and 2 different x-axes, there's no way to make those lines overlap. Think, Google Analytics chart for comparing visits in 2 different periods of time:
![GA](http://www.kaushik.net/avinash/wp-content/uploads/2007/05/google_analytics_v2_context_from_time.jpg)

With this functionality, you can specify domain for a categorical axis, allowing you to chop off the time period, you are not interested in. Your data could look something like this:

``` javascript
const data = [
  {timestamp: '2015-01-01', oldValue: 5, newValue: null},
  {timestamp: '2015-06-01', oldValue: 4, newValue: null},
  {timestamp: '2016-01-01', oldValue: null, newValue: 3},
  {timestamp: '2016-06-01', oldValue: null, newValue: 7}
];
```

And your axis configuration could be:

``` javascript
<XAxis dataKey='oldValue' xAxisId='oldValues' domain={[0, 1]} allowDataOverflow />
<XAxis dataKey='newValue' xAxisId='newValues' domain={[2, 3]} allowDataOverflow />
```

Domain configuration is very similar to that of numerical axis, however instead of operating on values, you operate on indices (indices specified are always inclusive - this is different to how `_.range` works, but similar to how you specify domain for the numerical axis), e.g.:

``` javascript
const categories = [0, 1, 2];
const domain = [1, 2]; // > visibleCategories === [1, 2];

const categories = [0, 1, 2];
const domain = [-1, 'auto']; // > visibleCategories === [-1, 0, 1, 2];

const categories = ['foo', 'bar', 'baz'];
const domain = ['auto', 3]; // > visibleCategories === ['foo', 'bar', 'baz', 3];
```

~~I probably need to add `BarChart` support as well.~~ done
 [![Coverage Status](https://coveralls.io/builds/7970670/badge)](https://coveralls.io/builds/7970670)

Coverage decreased (-0.09%) to 92.68% when pulling **1caf8df61267169c4aaf78b914b54664dddf3364 on kujon:category_domain** into **1987fd35d6e87a02d2ecb0cd82f9141514db290d on recharts:master**.
 [![Coverage Status](https://coveralls.io/builds/7971166/badge)](https://coveralls.io/builds/7971166)

Coverage decreased (-0.09%) to 92.68% when pulling **d380fc38c5978e19daac668bfaa836f8289c33f7 on kujon:category_domain** into **1987fd35d6e87a02d2ecb0cd82f9141514db290d on recharts:master**.
 [![Coverage Status](https://coveralls.io/builds/7971264/badge)](https://coveralls.io/builds/7971264)

Coverage increased (+0.03%) to 92.807% when pulling **ec9b5913a0378a7cc74e776939c883793de37f93 on kujon:category_domain** into **1987fd35d6e87a02d2ecb0cd82f9141514db290d on recharts:master**.
 [![Coverage Status](https://coveralls.io/builds/7971445/badge)](https://coveralls.io/builds/7971445)

Coverage increased (+0.03%) to 92.809% when pulling **0df2a5c064dbfc38f31d8588beaf8acc400da36e on kujon:category_domain** into **1987fd35d6e87a02d2ecb0cd82f9141514db290d on recharts:master**.
 [![Coverage Status](https://coveralls.io/builds/7972872/badge)](https://coveralls.io/builds/7972872)

Coverage increased (+0.03%) to 92.809% when pulling **49f724ccfa27690212a3298287e01011a968af6a on kujon:category_domain** into **1987fd35d6e87a02d2ecb0cd82f9141514db290d on recharts:master**.
 [![Coverage Status](https://coveralls.io/builds/7986197/badge)](https://coveralls.io/builds/7986197)

Coverage increased (+0.03%) to 92.809% when pulling **b91e6c17f539f0c442f0681587b900902008dd22 on kujon:category_domain** into **f2fdae30d62693ffa4fd0ee587f3955e6783d76a on recharts:master**.
 @xile611 will address all of those issues, thanks a lot for feedback! On a more general note: what do you think of the idea itself? I find it to be a gimmicky, but useful workaround around some of the current limitations. Ideally IMHO, however, you should simply be able to pass the data in at the Line/Area/Bar level (like you do in the Scatter), rather than at the level of the chart itself. Uber guys have got quite a similar idea here https://github.com/uber/react-vis. This, however, would mean breaking changes. Something worth considering for 0.2.0 imho.
 I've addressed both of these issues @xile611 
 [![Coverage Status](https://coveralls.io/builds/8047048/badge)](https://coveralls.io/builds/8047048)

Coverage decreased (-0.09%) to 92.689% when pulling **aadb35d100e7844621e186652703285bc76b5099 on kujon:category_domain** into **f2fdae30d62693ffa4fd0ee587f3955e6783d76a on recharts:master**.
 There seems to be an unrelated test failure. Any ideas? It doesn't happen locally.

```
<Text /> Does not wrap long text if enough width FAILED
timeout of 2000ms exceeded. Ensure the done() callback is being called in this test.
```
 Thanks for feedback. I'll close this PR then and try to come up with a more reasonable solution.
  I noticed that PieChart's onClick attribute works as expected, but Pie's onClick does not seem to be called.

I'm just wondering if this is a bug in the documentation (which lists onClick along with a number of other events for the Pie object) or in the implementation.

It could be an issue for other events and other chart types as well. (I can check all combinations if that would be useful.)
  Hi,

I'm using the ResponsiveContainer around my area chart and I get this:

> Warning: setState(...): Can only update a mounted or mounting component. This usually means you called setState() on an unmounted component. This is a no-op. Please check the code for the undefined component.

However if I remove the ResponsiveContainer wrap the error goes away. Any Idea whay I should be getting this. Could well be user error which I apologise for in advance if that's the case. 

Setup is as follows:

`import {  ResponsiveContainer, XAxis, Area, YAxis, CartesianGrid, Tooltip, Legend, AreaChart } from 'recharts';

...

render () {

```
return (
    <div style={{height: '250px'}}>
    <ResponsiveContainer>
    <AreaChart width={500} height={300} data={data} margin={{top: 5, right: 20, left: 20, bottom: 5}}>
        <defs>
            <linearGradient id="colorUv" x1="0" y1="0" x2="0" y2="1">
              <stop offset="5%" stopColor="#8884d8" stopOpacity={0.5}/>
              <stop offset="95%" stopColor="#8884d8" stopOpacity={0}/>
            </linearGradient>
            <linearGradient id="colorPv" x1="0" y1="0" x2="0" y2="1">
              <stop offset="5%" stopColor="#82ca9d" stopOpacity={0.5}/>
              <stop offset="95%" stopColor="#82ca9d" stopOpacity={0}/>
            </linearGradient>
        </defs>
       <XAxis dataKey="name" axisLine={false} tickLine={false}/>


       <CartesianGrid strokeDasharray="3 3" vertical={false} horizontal={false}/>
       <Tooltip/>
        <Area type="linear" dataKey="uv" stroke="#8884d8" fillOpacity={1} fill="url(#colorUv)" activeDot={{r: 8}}/>
        <Area type="linear" dataKey="pv" stroke="#82ca9d" fillOpacity={1} fill="url(#colorPv)" activeDot={{r: 8}} />

    </AreaChart>
    </ResponsiveContainer>
    </div>
);
```

  }
`
 Please see this discussion: https://github.com/okonet/react-container-dimensions/issues/7#issuecomment-240769079
  version: 0.13.3

``` js
<Bar dataKey="point" onClick={this.clickBarChart.bind(this)}>
                  {
                    barData.map((entry, index) => {
                      <Cell cursor="pointer" fill="#5672ca" stroke="#ff0000" strokeWidth={4} key={`cell-${index}`}/>
                    })
                  }
</Bar>
```

![Alt text](http://cfile5.uf.tistory.com/image/27457A4757DE94DF0A55EC)
 @xile611 [example link](https://jsfiddle.net/Junh/2az6b1ob/1/) Thanks :)
 @xile611 Thank you for your kind answer :)
  Hi,

has someone a live data example? I try to use recharts with redux and websocket. I get all the new data, but my chart does nothing.
 My code looks like this:

```
<ResponsiveContainer height={ 200 }>
  <LineChart data={props.data}
                   margin={{ top: 10, right: 20, left: 20, bottom: 0 }}
                   syncId="anyId">
         <XAxis
           height={ 30 }
           dataKey="created"
           stroke={ text }
           style={{ fontSize: '12px' }}
           tickLine={ false }
           axisLine={ false }
           padding={{ top: 10 }}
          />
         <YAxis
           width={ 20 }
           stroke={ text }
           style={{ fontSize: '12px' }}
           tickLine={ false }
           axisLine={ false }
          />
    <Tooltip content={<CustomTooltip />} />
    <Legend />
    <Line type="natural" dataKey="max" stroke={ red } dot={{ r: 0 }} activeDot={{ r: 4, strokeWidth: 0 }} isAnimationActive={ false }/>
    <Line type="natural" dataKey="usage" stroke={ green } dot={{ r: 0 }} activeDot={{ r: 4, strokeWidth: 0 }} isAnimationActive={ false }/>
  </LineChart>
</ResponsiveContainer>
```

The component lives in a stateless function. The data comes from a redux store which is dispatched by a websocket connection. I tried to deliver the data directly from the store in a component. Both gave me the same result.
 1. The data is correct
2. Yep
3. Color variables

The problem is not to draw a chart. I get initial data from a redux store. A websocket connection updates the store every 10 seconds. If the store receives a update, the chart does not rerender but the chart receives the new data.

I've tried victory charts and it works. I think recharts ignore new data or something. Any idea?
 Everything seems to be fine. I try to provide an example later today.
 Any update on this?
 @HashDot  [Live Example](http://jsfiddle.net/ca1g5Lrf)

Most of the time people forget to use **this.setState()**
 I found a workaround by adding key={Math.random()} to the LineChart element, which forces React to redraw the chart when the component re-renders. I also had to use isAnimationActive={false} on the Line component.  I have a bar graph where there are frequently instances of 0 values, as seen in this image:

![image](https://cloud.githubusercontent.com/assets/176993/18588237/a0c6ee0c-7bf3-11e6-9a8a-e3299d6038e7.png)

Is it possible with an existing option or custom function not to show bars with a value of 0?
 That's correct, yeah. Ideally, even, I'd love to get rid of the space apportioned for that bar, or be able to set it to a minimum amount. But I'm not exactly trying to create a feature request here, I was mostly trying to see if it was currently possible.

I was able to get something that was close enough to what I wanted by using custom React elements for both the bar and the label that test for value:

```
const CustomBar = (props) => {
    const { stroke, fill, x, y, width, height } = props;

    if (height > 0) {
        return <rect
            x={x}
            y={y}
            width={width}
            height={height}
            stroke={stroke}
            fill={fill}
        />
    } else {
        return <path d={getPath(x, y, 0, 0)} stroke="none" fill={fill}/>;
    }
};
```

```
const BarLabel = (props) => {
    const {
        payload,
        textAnchor,
        fill,
        x,
        y,
        width,
        height
    } = props;

    if (payload.value > 0) {
        return (
            <text
                textAnchor={textAnchor}
                fill="hsla(0, 100%, 100%, 0.8)"
                x={x}
                y={y}
                width={width}
                height={height}
                className="recharts-bar-label">
                {payload.value}
            </text>
        );
    } else {
        return <text></text>;
    }
};
```

...and then use them with `<Bar shape={<CustomBar/>} label={<BarLabel/>}/>`.

![image](https://cloud.githubusercontent.com/assets/176993/18632074/92c47b92-7e43-11e6-8740-9530f070b644.png)
  I'd like to get something similar to the `PercentAreaChart` example:

http://recharts.org/examples#PercentAreaChart

However, I'd like it to be a `BarChart`... a `PercentBarChart`. I haven't been able to get this to work since the value passed into `tickFormatter` for `YAxis` is the value of the bar, and I don't have access to the total.

Suggestions?
 Thanks, @xile611. Follow up question... how do you set the y-axis ticks to be in 10% increments? If I set `tickCount` to 10, the y-axis goes all the way up to 135%. I've tried playing with `ticks` and `domain` and `interval`, and I have't been able to make it work.
 Hmmm... this seems to work:

```
const domain = [0, 1];
const ticks = [
  0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1
];
<YAxis domain={domain} ticks={ticks} tickCount={10} tickFormatter={toPercent} />
```
  Adds a new `<Text>` component to replace using the built in SVG element `<text>` for better labels, ticks, etc.

Includes the following features:
- Word-wrapping (when `width` prop is defined)
- Scale-to-fit text (`scaleToFit` prop)
- Vertical alignment (`verticalAnchor` prop)
- Rotation (`angle` prop)

The best way to see the features in action is to run `npm run demo` and open the Text demo.
 [![Coverage Status](https://coveralls.io/builds/7914067/badge)](https://coveralls.io/builds/7914067)

Coverage increased (+0.02%) to 92.804% when pulling **ff3a641bd8eb7b37a5e8527456ecbc7c4292b449 on techniq:text_component** into **2832d7795cb5118851e0d9274247f962de0c075f on recharts:master**.
 [![Coverage Status](https://coveralls.io/builds/7914164/badge)](https://coveralls.io/builds/7914164)

Coverage increased (+0.02%) to 92.804% when pulling **863071cc834c0c9e3b17d668c37f4886da5bd932 on techniq:text_component** into **2832d7795cb5118851e0d9274247f962de0c075f on recharts:master**.
 [![Coverage Status](https://coveralls.io/builds/7920195/badge)](https://coveralls.io/builds/7920195)

Coverage increased (+0.02%) to 92.805% when pulling **16075cc10c502e8b76cdfd70bb7678bc7394c161 on techniq:text_component** into **2832d7795cb5118851e0d9274247f962de0c075f on recharts:master**.
 [![Coverage Status](https://coveralls.io/builds/7920368/badge)](https://coveralls.io/builds/7920368)

Coverage increased (+0.02%) to 92.805% when pulling **96ddb856642c44cc2940f50de000fdcd843c710a on techniq:text_component** into **2832d7795cb5118851e0d9274247f962de0c075f on recharts:master**.
 @xile611 I'm having trouble getting the CI build to pass due to what I believe is differences in font rendering with Linux/Firefox 31 and my Mac.  Works fine locally in Chrome (53), Firefox (48), and Safari (9.1).  I've tried changing and relaxing my tests to get these to pass, but I still have 1 that fails (surprising change from "2em" to "32px" still fails, even though 2em should be 32px (by default)).

Any idea how to work around this?

---

Also, my hope is to allow passing any of <Text> props defined within a component's `label` prop defined as an object down to `<Text>`.  Currently these are filtered by `ReactUtils.getPresentationAttributes`, and the additional props do not belong there (`verticalAnchor`, `lineHeight`, `fit`, `angle`, `capHeight`)

While the user could import the text label and use it within the label props, like so:

``` jsx
import { Bar, Text } from 'recharts';

<Bar dataKey="value" label={<Text verticalAnchor="middle" />} />
```

it would be nice if the following was allowed:

``` jsx
<Bar dataKey="value" label={{ verticalAnchor='middle' }} />
```

There are some presentation attributes that `<Text>` uses (primarily `width` to word-wrap), but it would be nice if all props were passed.

Thoughts?
 @xile611 I know you're busy, but do you have any feedback on this?  Hoping to get it merged soon if possible.
 @xile611 I know SVG doesn't, but this new `<Text>` component does ;).  See also - https://formidable.com/open-source/victory/docs/victory-label/
 If you take a look [updateWordsByLines](https://github.com/recharts/recharts/pull/243/files#diff-6bc302cee0e627fcdb36a23c8e081fa6R44), the calculation is only performed if required (`width` or `fit` prop set).  Have you taken a look at the Text demo yet?
 @xile611 I'm fine with not making it an internal component if that's the direction you prefer, I was just trying to simplify using it by not requiring the user to import and building the component themselves.  It seems like a useful feature to use it throughout, and one reason I spent a good bit of time making sure it was performant (for lack of a better word).  It only calculates the width of words if required (when a fixed width (for word wrapping) or when `fit` is set (to size the font dynamically to fit the container)).  It also only does this once at first, and will only recalc if needed (words change, for example).

I'm fine with keeping this as a component you must import and pass in to use if that's the direction you choose.  If you have any feedback on how to fix the failing test(s), I would appreciate it.  It runs run on all the machines / browsers I have, so I think it has to due with the Linux / older Firefox setup used in CI (system font differences, etc).
 [![Coverage Status](https://coveralls.io/builds/7975518/badge)](https://coveralls.io/builds/7975518)

Coverage increased (+0.01%) to 92.795% when pulling **650f4373a69a4af57def67ce53356ef8093e603b on techniq:text_component** into **2832d7795cb5118851e0d9274247f962de0c075f on recharts:master**.
 @xile611 Explicitly setting the font-family in the tests fixed the CI failures.  Thanks for the tip.

Any chance this could get merged and released soon?  There have been a [few](https://github.com/recharts/recharts/issues/238) [issues](https://github.com/recharts/recharts/issues/259) including my [own](https://github.com/recharts/recharts/issues/198) that are looking forward to some of the features this PR provides.
 [![Coverage Status](https://coveralls.io/builds/7994435/badge)](https://coveralls.io/builds/7994435)

Coverage increased (+0.06%) to 92.842% when pulling **2c211b8d5c44c3a5299de03e4443854d05ddddf6 on techniq:text_component** into **2832d7795cb5118851e0d9274247f962de0c075f on recharts:master**.
 [![Coverage Status](https://coveralls.io/builds/7994803/badge)](https://coveralls.io/builds/7994803)

Coverage increased (+0.06%) to 92.842% when pulling **18c220d4f39c900eea119c02681b702256f4f7f9 on techniq:text_component** into **2832d7795cb5118851e0d9274247f962de0c075f on recharts:master**.
 @xile611 Thanks for the great feedback.  I've implemented most of them and left comments for each).

Also, I noticed verticalAnchor was not working exactly how I planned and made corrections.  You now have good control to align the text to the 9 positions (top left, bottom right, middle middle, etc) using combinations of `textAnchor` and `verticalAnchor`.  This PR should now also resolve  https://github.com/recharts/recharts/issues/191.  I made some adjustments to the TextDemo which allows you to see the anchor point which should help demonstrate how it works.  It's useful to set the demo to:
- width: `300` (default)
- x: `150` (center)
- y: `100` (center)
- fontSize: `2em` (or greater) to get some word wrapping

Let me know if I can be anymore help on this getting merged in.
 [![Coverage Status](https://coveralls.io/builds/8005532/badge)](https://coveralls.io/builds/8005532)

Coverage increased (+0.06%) to 92.846% when pulling **b405ae3fc9c22f72861074e5674b0bb6e30488cd on techniq:text_component** into **2832d7795cb5118851e0d9274247f962de0c075f on recharts:master**.
 @xile611 ðŸ‘ 
 Does anyone know how to use this to wrap X-axis label? > 
> 
> Does anyone know how to use this to wrap X-axis label?

I spend time and make this work.  It look like this has be ask in places, and this thread helped me, so I reply now.

https://jsfiddle.net/basicOldCoder/b5ex8j7z/1/

(1) You must use custom tick generator (Must set interval={0} to show all tick):

`<XAxis dataKey="name" height={80} tickMargin={0} interval={0} tick={<CustomizedAxisTick/>}/>`

(2) Define the customized tick generator to use <Text> element.  Be sure make import { Text } from Recharts!:

`return (
    	<g transform={`translate(${x},${y})`}>
        <Text dy={16} fontSize={14} textAnchor="middle" verticalAnchor="start" width={80}>{payload.value}</Text>        
      </g>
    );`

(3) <Text /> has scaleToFit prop, but it work weird, so just set width unless you want some text be big some text be small. Set width and text should be wrapping.





  Margins should be optional, some kind of default margin should apply, e.g. 0.
In fact, this seems to be the case with LineChart.
ScatterChart, however, will raise an exception if the left margin is missing.
http://jsfiddle.net/digorydoo/ww51Ln0u/
This is quite counter-intuitive, it took me almost an hour to find the problem.
 I'm pretty sure the defaultProps does not allow you to specify the defaults of individual members of an object. So, if I define margin, I'll override your defaultProps, so the property 'left' will be undefined.
  I'm looking to create a custom tick component that takes a URL and returns an image for each tick on the X-Axis.

When I pass an image URL (e.g. `http://example-cdn.domain.com.au`) to the component, the custom tick is not rendered at all. 

When I removed the dashes in the URL the component is rendered and the URL is passed through.

Is this intended or a known issue?

Thanks for the great library.
 This example does not use dashes, but it has the same issue, so it may not be related specifically to the dashes: http://jsfiddle.net/344uh0ax/8/
 That's done the trick, thanks a lot for your help!
  When resizing the width of the `ResponsiveContainer` chart [here](http://jsfiddle.net/64eoc63w/5/), the XAxis legend adapts by dropping labels. 

What would be a good way to instead make the font size smaller, or maybe wrap words as the overall container width gets narrower?
 It looks like word-wrapping in SVG isn't trivial. Here's a way to do it, but it's fairly complex:

https://bl.ocks.org/mbostock/7555321

I'll probably just make my label text shorterâ€¦
 @SachaG I've worked on a PoC for a word-wrapping `<Text>` element to be used for all of rechart's labels.  See https://github.com/recharts/recharts/issues/198 and the PoC http://codepen.io/techniq/pen/rLXwJJ?editors=0011.

I was literally getting ready to start working on this and getting a PR in.  No timeline when I'll have it done, but hopefully "soon".

While I'm working on it, adding a `fit` option would be nice.  Something like http://bl.ocks.org/milkbread/6571949 and http://stackoverflow.com/a/22580176/191902
 @techniq oh that's awesome! Would be a huge help for sure. 
 @SachaG Might be interested in this incoming PR - https://github.com/recharts/recharts/pull/243
  Hello,

Do you have plans to support heat map charts?

Thanks,
Naren.
 I actually just coded a heatmap myself using a plain old CSS table, it worked pretty well:

![https://d3vv6lp55qjaqc.cloudfront.net/items/0r2g2i0k2f2L0d2K3P0Z/Screen%20Shot%202016-09-13%20at%201.10.33%20PM.png?X-CloudApp-Visitor-Id=43642&v=daed75ee](https://d3vv6lp55qjaqc.cloudfront.net/items/0r2g2i0k2f2L0d2K3P0Z/Screen%20Shot%202016-09-13%20at%201.10.33%20PM.png?X-CloudApp-Visitor-Id=43642&v=daed75ee)

As a bonus I was able to make it responsive too, using http://dbushell.com/2016/03/04/css-only-responsive-tables/

I agree it'd be cool if it was supported out of the box by Recharts, but since it's not too hard to build yourself maybe it's better if the Recharts author focuses on the features that are already there?
  Is there an easy way to disable the animation that will slowly draw the chart when it is first rendered? If there isn't, please add an option. Or better, add an option to specify the maximum delay in milliseconds (0 would completely disable the animation).
 Works like a charm. It would be more intuitive if the property existed on AreaChart, BarChar, LineChart, etc as well, though.
 Makes sense. But you could also allow it on the parent for the default behaviour, and override that default on the child element.
 +1 for adding the props at the chart (parent) level Hi All, I am trying to make the area chart real time using socket.io , The problem is every time it get new data, it gets re drawn. Tried setting  "isAnimationActive" property to "false", but did not help. Any idea how can I stop this redrawn/animation?  I think there is currently a bug with the Customized Label. If you go to http://recharts.org/#/en-US/examples/PieChartWithCustomizedLabel directly, the customized label will be drawn. But if you go to any other link first such as http://recharts.org/#/en-US/examples/SimpleScatterChart then click on "PieChartWithCustomizedLabel", then the customized label won't be drawn. Unfortunately, `isAnimationActive` doesn't work anymore for at least `Line`  If we want to format the symbols, besides the fill, applying a style to the Scatter, won't affect the symbols.

Also the properties `tickLine` and `axisLine` on `X/YAxis` don't work in the ScatterChart context like it does for `AreaChart` 
 ```
.scatter-point {
  stroke: rgb(0, 157, 249);
  stroke-width: 1px;
  fill-opacity: 0.25;
  fill: rgb(0, 157, 249);
}

const data = [{x: 1, y: 2}, {x : 1, y: 12}, {x: 0.132, y: 19}, {x: 1,y: 1}, {x: 0.17,y: 14}]

<ScatterChart width={600} height={300}>
  <XAxis dataKey="x" tickCount={4} tickLine={false} axisLine={false}  />
  <YAxis dataKey="y" tickCount={4} tickLine={false} axisLine={false}  />
  <CartesianGrid strokeDasharray="1 1" />
 <Scatter data={data} className="scatter-point" />
</ScatterChart>
```

With this example you will see that the style won't be applied to the dots.
 `tickSize` and `tick` on `X/YAxis` don't work too for the same case.
  Here are two JSFiddles that are the same except that the second one has twice as many data points:
- http://jsfiddle.net/1b5qv2Ld/1/
- http://jsfiddle.net/1b5qv2Ld/2/

As you can see, when you double the amount of data points the chart stays the same height, but the bars become twice as small. 

What I would like to do is the opposite: keep the bars **the same size**, but make the chart **twice as big**. 

I still want the chart's width to adapt to its parent though. So how can I do that using `ResponsiveContainer`?
 Sorry, setting the `barSize` by itself doesn't make the chart taller, it makes the bars closer together:
- http://jsfiddle.net/twzLm0he/
- http://jsfiddle.net/zvr2qa90/1/

I tried setting `barGap` too but that doesn't seem to do anything. 
 Here's a temporary solution I found:

``` js
    const rowCount = this.props.data.length -1
    const aspect = 15 / rowCount
    return (
      <ResponsiveContainer aspect={aspect} width="100%" >
          ...
```

I want the container to stay responsive, so that's why I'm using `aspect` instead of setting the `height` or `width`. It'd be great if aspect was documented by the way, I couldn't find much info about it apart from reading the source. 
 @SachaG Thanks!  ![Alt text](http://cfile27.uf.tistory.com/image/2161BB4957D76A7D13871F)

The space left in the picture
 It solved in width values.
  When ResponsiveContainer is used with react-router, it's not showing anything.

```
import React from 'react'
import { AreaChart, ComposedChart, Line, Area, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts'

import Navbar from './common/Navbar.jsx'

const data = [
      {name: 'Page A', uv: 4000, pv: 2400, amt: 2400},
      {name: 'Page B', uv: 3000, pv: 1398, amt: 2210},
      {name: 'Page C', uv: 2000, pv: 9800, amt: 2290},
      {name: 'Page D', uv: 2780, pv: 3908, amt: 2000},
      {name: 'Page E', uv: 1890, pv: 4800, amt: 2181},
      {name: 'Page F', uv: 2390, pv: 3800, amt: 2500},
      {name: 'Page G', uv: 3490, pv: 4300, amt: 2100}
]

export default class App extends React.Component {
  render () {
    return (
      <div className='react-wrapper'>
        <Navbar />
        <div className='container'>
          <ResponsiveContainer>
            <AreaChart data={data}>
              <XAxis dataKey='name' />
              <YAxis />
              <CartesianGrid strokeDasharray='3 3' />
              <Tooltip />
              <Area type='monotone' dataKey='uv' stroke='#8884d8' fill='#8884d8' />
            </AreaChart>
          </ResponsiveContainer>
        </div>z
      </div>
    )
  }
}
```
 Yes, `aspect` worked for me! Thanks @xile611 
  ``` js
<RadarChart startAngle={120} outerRadius={40} width={140} height={110} data={data}>
                    <Radar name="Mike"
                           dataKey="A"
                           stroke="#8884d8"
                           dot={true}
                    />

                    <PolarGrid gridCount={3} />
                  </RadarChart>
```
  I am getting an error in the x-axis labels for a graph where the labels run into each other:

<img width="688" alt="screen shot 2016-09-09 at 4 48 09 pm" src="https://cloud.githubusercontent.com/assets/565779/18406095/6a8328f6-76ad-11e6-9784-1e66b77709bf.png">

I have traced this down to the [`DOMUtils.getStringSize`](https://github.com/recharts/recharts/blob/master/src/util/DOMUtils.js#L56) util function, and noticed that it returns a width of 0 in some cases.

To trigger this, I render a chart on one page, navigate away from that page and navigate to another page (navigation happens on client side, so no full page reload). On the second page, the 0 width error comes up. I also noticed that if I remove the span caching from `getStringSize` everything works as well. I haven't been able to figure out why this util breaks some of the time but not all of the time. Any assistance is much appreciated.
 Thanks for taking a look. I realize I didn't give much  to help in reproducing. I'll see if I can put together a little example of the bug to share with you.
 Ok. I figured out how to reproduce it and made a little demo showing the issue: https://flame-healer.hyperdev.space/ (click the "Switch" button to render a new graph that shows the label collision issue).

The issue is that I'm using [turbolinks](https://github.com/turbolinks/turbolinks) on this project, so the body of the page gets re-rendered on page navigation. The effect of this is that the `span` that is automatically added to the DOM is removed. However, because turbolinks only replaces the body, and doesn't do a full browser navigation, we aren't reloading the page's javascript. The Recharts library caches the span in memory (via a pointer), and this pointer is not cleared when the user navigates via turbolinks. This means that the `getStringSize` attempts to use that span to do the dimension calculation, but the span is no longer in the DOM, so the result is 0.

I'm not sure what the best solution for this is. I attempted some hacks to make it so turbolinks doesn't remove the span, but none of those worked. If I could clear the cached span pointer, or turn off caching that would fix this issue for me. Please let me know what seems reasonable to you.

Thanks!
 Small update. I did figure out a way to store the span element and restore it after turbolinks does the page navigation, so I have a workaround for this. If there was an API for clearing this cached span that would still be cleaner, but I am at least not experiencing the bug anymore.
 We don't want to do that or else a new span will get added every time `getStringSize` is called, which is messy. A better approach would be to set a well known id on the measurement span (e.g. 'recharts_measurement_span' or something), and use `document.getElementById('rechargs_measurement_span')` to look up the span in `getStringSize`. If it doesn't exist in the body, then add it.

I made the change here https://github.com/recharts/recharts/pull/241.
 @xile611 any feedback on #241?
  Hi, first off, the plugin is great and it's incredibly easy to use.

I am running into one issue: I have a use case where I would like to define a custom domain on an Y Axis and I have data points extending beyond the min or the max value. Example, domain is set as [0, 100] and I have data points [60, 89, 103, 116, 89, 85].

I would expect that my graph would extend out of vision past the Y Axis and the top edge of the chart, but instead, the Y Axis domain is automatically being reset to accommodate all data points.

Is it possible to force the Y Axis domain and not alter it based on the graphed data set?

Thanks!
 A prop for affecting the behavior would be perfect. How about `allowDataOverflow` ?
  For my `PieChart`, I want the `Tooltip` to always appear in the lower right corner of the chart, no matter which section i hover over. I've seen that there are `coordinate` and `viewBox` props, but if I set them, they are overwritten.
 The link is missing from you post. I assume you mean http://recharts.org/examples#BarChartWithCustomizedEvent.
 http://recharts.org/examples/#/en-US/examples/BarChartWithCustomizedEvent. Changed again... an auto-redirect to a default language wouldn't hurt :( For any others who come across this same requirement, you can set the Tooltip `position` which will get respected and not overriden/transformed dynamically. For example:
```
<Tooltip position={{ x: 400: y: 0 }} />
```
EDIT: thanks @breadadams for fixing my typo!
Via https://github.com/recharts/recharts/commit/31d2b2d367adecaef34c5bb0371f27126dc51d8b And for anyone copy-pasting the above solution, you'll want:

```jsx
<Tooltip position={{ x: 400, y: 0 }} />
```  strokeDasharray param of <Line> in <ResponsiveContainer> don't work until redraw, when isAnimationActive is false
  I have a `Pie` with a custom `label` function. The props passed to the function contain a `percent` property, but the value is not a percentage (e.g. 50 for 50%) but a decimal (e.g. 0.5).
 My point was that the value is wrong, if the property name is "percentage", it should be 50, not 0.5. But I can work around that.
  Hey! First off, thanks for a great library.

Unless I'm misunderstanding the API, I may have found a bug where AreaCharts don't stack as expected.

Reproduce: 
1) AreaChart
2) Use several yAxis
3) Link the stacked Area chart to any yAxis other than the first one

Example JSFiddle: http://jsfiddle.net/wf2rwcne/

(If you switch `yAxisId={1}` back to `yAxisId={0}` it will properly stack)
 @xile611 I think you misunderstood me - of couse all areas have the same yAxisId and stackId. Check out the JSFiddle for a case where that is not working properly.
  Is it possible to create a 2-tier (or more) category axis, such as this?

![image](https://cloud.githubusercontent.com/assets/10280734/18319373/4b2e29ba-751d-11e6-959c-fd3048651b8c.png)
http://peltiertech.com/chart-with-a-dual-category-axis/

I can see I might be able to create a 2 tier by manually specifying a `<Bar />` for each and every grouping value, but it's not ideal.
 Thanks @xile611 it's a good solution although ideally there would be wider gaps between major tiers.
 Is there any roadmap for this functionality ? @xile611 Your demo link does not navigate to a example of customized event. Could you please provide a example of how to go abt this ? @xile611  your link is dead. I think this is what you mean - http://recharts.org/examples/#/en-US/examples/CustomizedLableLineChart - though it no longer shows 2 tiers. Any updated examples? the jsfiddle on CustomizedLableLineChart points to CustomizedDotLineChart jsfiddle.
Anyone know where the  CustomizedLableLineChart jsfiddle is?    Preview
Following along the lines of the ResponsiveContainer example at http://recharts.org/api#ResponsiveContainer I substituted a BarChart for the LineChart shown in the example. However, this did not result in a responsive BarChart.

ResposiveContainer creates a ContentContainer element from the react-container-dimensions library. The react-container-dimensions documentation states that "Children component will receive top, right, bottom, left, width, height as props".

It was only after specifying my BarChart's height and width as shown below that the BarChart became responsive.

height={this.props.height}
width={this.props.width}
Is this the correct usage of ResponsiveContainer? Nothing along these lines is mentioned in the example documentation at the recharts.org website.
 I will try to create an example this weekend.  Hopefully, I will have something to show in the next few days.
 I'm unable to reproduce the problem I had using jsfiddle.   I'm pretty sure the original problem was due to something on my end so I will close this issue.
  I'm running into the following problem with a stacked bar chart:

![https://d3vv6lp55qjaqc.cloudfront.net/items/1L2j0r220F0z0I2w1i0j/Screen%20Shot%202016-09-06%20at%206.45.26%20PM.png?X-CloudApp-Visitor-Id=01406470cd8cc4d8af4ff992d3ec662f&v=0a778b63](https://d3vv6lp55qjaqc.cloudfront.net/items/1L2j0r220F0z0I2w1i0j/Screen%20Shot%202016-09-06%20at%206.45.26%20PM.png?X-CloudApp-Visitor-Id=01406470cd8cc4d8af4ff992d3ec662f&v=0a778b63)

As you can see the labels overlap each other because the bars are too short. Ideally I would be able to offset a label if the one above is too close, but I'm not sure how to make labels know about each other's positions. 

Even if I used some kind of global array to hold the positions, the chart gets drawn from the bottom up which means the bottom label gets drawn before the top oneâ€¦ Any idea how I can work around this?
 OK, I found a solution that works alright. Here's a quick overview in case it helps others.

![https://d3vv6lp55qjaqc.cloudfront.net/items/3m361N3U0x3v371N0N2G/Screen%20Shot%202016-09-07%20at%209.04.49%20AM.png?X-CloudApp-Visitor-Id=01406470cd8cc4d8af4ff992d3ec662f&v=714785e6](https://d3vv6lp55qjaqc.cloudfront.net/items/3m361N3U0x3v371N0N2G/Screen%20Shot%202016-09-07%20at%209.04.49%20AM.png?X-CloudApp-Visitor-Id=01406470cd8cc4d8af4ff992d3ec662f&v=714785e6)

1: Initialize an empty two-dimensional array to hold all label coordinates:

``` js
    const bars = 5
    const columns = data.length
    const coords = new Array(columns)
    for (let i = 0; i < columns; i++) {
      coords[i] = new Array(bars)
    }
```

2: Create getter and setter functions and pass them to each custom label component

``` js
    const setCoords = (column, bar, coord) => {
      coords[column][bar] = coord
    }
    const getCoords = (column, bar) => coords[column][bar]
```

I'm also manually passing the current bar (i.e. row) number to each label.

3: Inside the component, compare the current label's y coordinate with the previous label's and offset it if needed. 

You can get the previous label by subtracting 1 from the current bar number and calling `getCoords`.

4: Call `setCoords` with the current label coordinates to make them available to the next one. 

I would love to know if there's a simpler way to do this, but for now it seems to work well enough. 
 This is also relevant for pie charts.
 There's actually one issue with my method: as you can see in the last two columns, the line for "1%" goes _behind_ the blue bar. This is because of SVG elements stacks in the order they are drawn, and I don't think there's any way around itâ€¦

The best solution would be drawing all labels _after_ all bars. But that would probably require some changes in the library itself.
 @SachaG is the option for the lines pointing to small areas mentioned in the Brush component API or is this a custom format? I also have an issue of horizontal overlap - when using the Recharts Responsive Container the bar widths become too small for the text labels and they start to overlap horizontally.  Sorry I don't use this library anymore. But as I remember it was all custom code back then.   While I appreciate that Recharts comes with a set of pre-made inline styles to speed up the process, there's some cases where you'll want to customize your chart with your own set of styles. 

So I think it'd be a good idea to always have an option to completely disable inline styles, for components such as `<Legend/>` for example.
 It's good that you can do this, but I still think you should be able to disable inline styles altogether. A practical use case is media queries: maybe you want to style the legend (or other elements) differently on mobile and on desktop. You can't do that if these elements have their own inline styles. 

I think as a general best practice, any component that has inline styles should also offer an option to disable them. i.e. something like

```
<MyComponent style={ this.props.disableStyles ? null : inlineStyles } />
```
 The problem comes from CSS specificity: 

> Inline styles added to an element (e.g., style="font-weight:bold") always overwrite any styles in external stylesheets and thus can be thought of as having the highest specificity.

https://developer.mozilla.org/en/docs/Web/CSS/Specificity

Practically speaking, this can be a problem if you'd like to overwrite one of the inline styles with a style from your own stylesheet, for a responsive mobile version for example. 

So let's say I want the label to be `position:static` on desktop and `position:absolute` on mobile, with the current system I cannot do that. 

So what I'm suggesting is adding a `disableStyle` option to the `Legend` component that would simply make it have no inline styles at all. I think it would be a relatively easy fix, and I would be happy to submit a PR for it. 
 I total understand the problem that @SachaG brought up, inline styles make it hard to overwrite just using CSS (may need `!important`), but I don't think an API named "disableStyles" is an answer for that. 

@xile611 instead of inline styles, have you thought about using `CSS-Module` ? which should be easier to maintain styles and will not cause overwriting your default style to be a problem.
 +1 for CSS-Modules support. That could be. I'll think more about it. It looks like https://github.com/styled-components/styled-components is doing a lot of things right and it was made with theming in mind.  I'm still not sure what the right answer is, but on this same topic, it would be very useful to be able to set the data plot components (area, bar, line, etc.) styles (stroke, fill, stroke-width, etc.) from a style sheet, rather than specifying each attribute in-line.

That way, the config for the components needs only to specify a CSS class (something like "chart-data-series-1"). This would be particularly useful when it comes to themes, where the data plot styles need to be easily modified by the underlying theme, without having to change the component configs. as a follow-up to https://github.com/recharts/recharts/issues/210#issuecomment-285980467 , I also would like to ask if the class that I see generated from the components in the SVG code can be used in the stylesheets to style the individual object of a chart. (the value circles etc).
For example, this seems to work in the inspector: 
![image](https://cloud.githubusercontent.com/assets/1768834/26224116/4ebf0646-3c21-11e7-9d0a-cb26beb22376.png)
 For the next guy who is trying to invalidate the position absolute property and place it in a style sheet here is what I used.

```
<Legend  
   content={legendJSX} {...legend} wrapperStyle={{ position: null }}  
/>
```

and then in your stylesheet your can do 
```
@media (min-width: 801px) { 
     .recharts-legend-wrapper {
        position: absolute;
    }
}
@media (max-width: 800px) { 
     .recharts-legend-wrapper {
        position: sticky;
    }
}
```  It seems like stack charts legends get generated with the wrong order. Assuming you have:

```
        <BarChart width={600} height={300} data={data}
            margin={{top: 20, right: 30, left: 20, bottom: 5}}>
       <Bar dataKey="pv" stackId="a" fill="#8884d8" />
       <Bar dataKey="uv" stackId="a" fill="#82ca9d" />
      </BarChart>
```

Bar `uv` will appear on top, and `pv` on bottom (see http://recharts.org/examples/#StackedBarChart). 

The problem is that the legend has `pv` first, and `uv` second. Which is confusing especially if you chose to use a vertical layout. 
 OK, here's what I mean. If you chose a vertical layout for the legend, it would be:
- pv
- uv

On the other hand, the bar are stacked in this order:
- uv
- pv

What I'm saying is that the legend and the bars should be stacked in the same order.
 I don't know how I can make it any clearer than that: http://jsfiddle.net/y9bxhbkj/ (I don't know why the legend is overlayed on the chart but that's another matter).

Is it not clear that the bars and the legend are in opposite orders?

The chart has green on top and purple on bottom, and the legend has purple on top and green on bottom.
 Any thoughts? Would you accept a PR to add an `order` prop to `Legend`?
 By the way, in the meantime I'll use:

```
    display: flex;
    flex-direction: column-reverse;
```
 Well it's true that the order of stacked bar is the opposite of the markup order. So you're right, maybe the bars order should be changed. 
 @xile611 I am still seeing this inverted behavior in my horizontal chart:

![image](https://cloud.githubusercontent.com/assets/14200749/21811034/1a68fb78-d71c-11e6-9fe3-af865b94bac7.png)

The code used to generate this graph is as follows:

```javascript
<BarChart layout="vertical" width={800} height={300} data={data}
    margin={{top: 20, right: 30, left: 40, bottom: 5}}>
  <XAxis type="number" />
  <YAxis type="category" dataKey="name"/>
  <CartesianGrid strokeDasharray="3 3"/>
  <Tooltip/>
  <Legend />
  <Bar name="Fitness Level 1" dataKey="Level1" stackId="a" fill="#FBB040" />
  <Bar name="Fitness Level 2" dataKey="Level2" stackId="a" fill="#0D79A7" />
  <Bar name="Fitness Level 3" dataKey="Level3" stackId="a" fill="#589241" />
</BarChart>
```  Small typo here: https://github.com/recharts/recharts/blob/dd7b4b19892a22b7bbfec022f701656b67ef8ec6/src/util/AnimationDecorator.js#L5
 The spelling of `AniamtionDecorator`. 
 BTW let me know if you want me to open a PR for this.
  Curious if there is a particular reason that the legend is not part of the main chart `<svg>`?

Use-case is that users customize charts within our app, and when done are able to download/export them as either a standalone `.svg` or `.png`. In either case, the legend being separate complicates this.
 Maybe even a separate legend component designed to be composed into the main svg, keeping the functionality of both... like an `<SvgLegend>` or something. Just thinking out loud...
 I'm working on making charts exportable as images (to let people share them as Twitter cards) so I also think this would be useful. 
 @SachaG I had started a decorator here based on that need: [react-download-svg](https://github.com/derrickpelletier/react-download-svg) for (ideally) use with any svg-based component. It's just a first working pass, open to ideas on a better api for it ðŸ‘Œ 
 This looks really cool! Does it convert the SVG to PNG right in the browser? I didn't even know you could do that!

That being said for Twitter Cards I need to be able to point my meta tag at an image file, so I think I would have to do the conversion server-side first and host the file somewhere. 
 Anybody try [html2canvas](https://html2canvas.hertzen.com) which I guess can export to PNG? Or maybe this one https://github.com/tsayen/dom-to-image/blob/master/README.md

I'm gonna need this functionality soon, so will be trying it out soon-ish  **How to reproduce**
1. Implement a simple LineChart:

```
<LineChart data={data}>
  <XAxis/>
  <YAxis width={12} tick={{strokeWidth: 1}}/>
  <CartesianGrid strokeDasharray="1 5"/>
  <Tooltip />
  <Line type="monotone" dataKey="pv" stroke="#FBC011" dot={{stroke: '#FBC011'}}/>
  <Line type="monotone" dataKey="uv" stroke="#47484A" />
</LineChart>
```
1. Try to click on the dots in the graph
2. No tooltip is showed

**Reproducable in:**
- iOS Safari (latest)
- iOS Simulator via XCode

**Recharts version**
`0.13.4`

---

![unclickable](https://cloud.githubusercontent.com/assets/1921046/18170401/7f0a6a0a-705e-11e6-8ed0-49e86977021e.gif)
 I have modified file `chart/generateCategoricalChart.js` to support touch event. Visit my fork at https://github.com/thoqbk/recharts @xile611 I just created a pull request. Can you have a look?
https://github.com/recharts/recharts/pull/402 @xile611 @thoqbk 

Can I help in any way so that this PR is accepted?  Hi

I'd like to hide the first (lowest) tick on the Y-Axis, is this possible?

I'd also like to apply some right-padding to the ticks, because they're touching the axis. I tried to accomplish this with setting the tick function to a custom react element, but when doing so, no tick is displayed at all.
 Thank you so much, worked perfectly
  When hovering over a bar on ComposedStack (or actually on all bars), the rectangle/cursor background effect should be customizable.
- a unified and more global approach of doing this is highly appreciated, due to time constraints, I couldn't develop a global utility, I just fixed it on ComposedStack, any other volunteer?
 that's fine, thanks. 
  It would be very useful if there was a React `<Text>` component that could be used in place of the direct SVG `<text>` element that supported word wrapping.

This component could then be used for wrapping long axis labels (like [this](https://bl.ocks.org/mbostock/7555321) d3 demo), but also used for custom labels.  For example, I have a similar pie chart to [this example](http://recharts.org/examples#CustomActiveShapePieChart) and would like to word wrap long labels in the center.

I envision you would set a fixed width prop on the component and it would wrap the contents (using `<tspan>s`).  For example:

``` jsx
<Text width="200">
  Discovered howto â€œlikeâ€ things mentally
</Text>
```

would produce something like (stolen from d3 example):

``` html
<text x="0" y="9" dy="0.71em">
  <tspan x="0" y="9" dy="0.71em">Discovered how</tspan>
  <tspan x="0" y="9" dy="1.81em">to â€œlikeâ€ things</tspan>
  <tspan x="0" y="9" dy="2.91em">mentally</tspan>
</text>
```

Btw, Victory has a similar concept with their [VictoryLabel](https://formidable.com/open-source/victory/docs/victory-label) component.  I'm not sure if using explicit new lines `\n` is the way to go, or having a `width` prop and having the text wrap to fit.
 The `VictoryLabel` component is nice as it goes beyond this request and supports rotation (angle), anchor positions (horizontal/vertical), and others
 @xile611 I can try to get to this.  I'm under a few deadlines right now myself, but I also need the feature.  If I don't get to it this weekend, I might try to (if you haven't) during a long flight in a week or so.

A couple implementation questions:
- Should we call it `<Label>` similarly to Victory, instead of the generic `<Text>`?  This would also cut down on confusion with the svg element `<text>` (I've updated the issue to reflect this, but am open for discussion).
- I think it would be nicer if we had the `width` property and used `getComputedTextLength()` to determine if we need a new line/tspan than the explicit `\n`.  Thoughts?
  - I'm not exactly sure how accomplish this within React.  I'm assuming I'll need to use `refs` (which I've not had the need to thus far), but I need to create some temporary nodes, evaluate them, and then change generated DOM structure accordingly.  Any ideas on how best to approach this?
- Initially I plan to just have the `<Label>` component used by itself for use, but I figure we'll want to use it within existing components (axises, etc).  Any thoughts on how/where this should be done?

I might initially start with just creating a standalone Codepen example of the `Label` component, and then maybe leave it up to you to integrate (if possible) based on the answers above.  Thanks
 Here's a rough proof of concept in a [Codepen](http://codepen.io/techniq/pen/rLXwJJ?editors=0011).  It needs a lot of improvement / cleanup though.
- Currently only works on initial mount (`componentDidMount`).  Attempting to wire up `componentDidUpdate` resulted in `Maximum call stack size exceeded` (you can uncomment the range input as well as the componentDidUpdate method to reproduce)
- This implementation works by first rendering each word of the `<Label>` into it's own `tspan` element, measuring the length of each (from `refs`), and then updating the state to set the appropriate lines based on the defined `width` prop, ultimately performing a second render with the corrected lines.  While I didn't witness any flicker for artifacts, it seems like this approach could have problems.  I later [came across](http://stackoverflow.com/questions/31305071/measuring-text-width-height-without-rendering/31305410#31305410) a way to do this without rendering by using a canvas to measure text size, but there were some caveats with this approach using `ems` (my current approach may very well have some of the same caveats as well).
- The implementation doesn't take into consideration the space between words, so it would be possible for a line to exceed the requested width after spaces are inserted.

I'm not sure I'll get much more time on this for a while, so if you do get some free time and want to tackle this further, I would greatly appreciate it.  If I find some more time, I'll try to flesh this out more, but not sure when I'll be able to get this to a PR-level quality.  Also, bullet 3 in my previous comment (integrating/using Label for other components) I figure should be handled.  It would also be nice to look at VictoryLabel and support more of it's features (angle, etc).
 I had a little more time today to work on the Codepen POC and was able to resolve the `componentDidUpdate` issue, as well as take into effect spaces for the calculations.  I ended up using regular old javascript DOM api instead of refs with a temporary `<svg>` and `<text>` element to perform the width per word calculations.

Still need to remove the hard coded `lineHeight`, `x`, `y`, and `dy` values.  Will need to instead take these in and take into affect styling (`fontWeight`, `fontSize`, etc).  This will need to be done on the elements in the calculation, as well as the rendered ones.

Anyways, if someone else can run with this and turn it into a proper PR  before I can, that would be awesome.  If not, I'll try to get to it when I can.
 @xile611 I'm good with calling it `Text`.

I've updated the Codepen again with some tweaks and at this point I feel pretty good about the approach and have resolved all the issues I've encountered thus far.

Looking at VictoryLabel's [source](https://github.com/FormidableLabs/victory-label/blob/master/src/components/victory-label.jsx) and [docs](https://formidable.com/open-source/victory/docs/victory-label/), it would be nice if we did something similar with the way they handle anchoring/positioning.
 Does anyone know how to use this to wrap X-axis label? @James2516 set `<Text />`'s width attribute.
http://recharts.org/en-US/api/Text#width

> The width of Text. When the width is specified to be a number, the text will warp auto by calculating the width of text.

 Can anyone tell me how I specify the text max width of the lables in a radar chart?

Edit: I found out:
`<RadarChart>
    <PolarAngleAxis width="25" dataKey="subject" />
</RadarChart>` > Does anyone know how to use this to wrap X-axis label?

Here's how I did it: https://github.com/recharts/recharts/issues/961#issuecomment-430799345  - tree
- step
- path
  How LineChart width set 100%
 How about for BarChart?
I'm using

```
<ResponsiveContainer height='100%' width='100%'>
              <BarChart data={data} 
                margin={{top: 5, right: 30, left: 20, bottom: 5}}>
                <XAxis dataKey="description"/>
                <CartesianGrid strokeDasharray="3 3"/>
                <Tooltip/>
                <Legend />
                <Bar dataKey="votecount" fill="#82ca9d" />
              </BarChart>
           </ResponsiveContainer>
```

and the chart does not show.
Error:

```
LogUtils.js:23 The width(521) and height(0) of chart should be greater than 0,
       please check the style of container, or the props width(100%) and height(100%),
       or add a minWidth(undefined) or minHeight(undefined) or use aspect(undefined) to control the
       height and width.
```
 This worked for me:

```
<ResponsiveContainer width='100%' aspect={4.0/3.0}>
...
</ResponsiveContainer>
```

presumably because it forces a height based on width.
 @xile611  setting min-height to `ResponsiveContainer` worked perfect to me.
also @godmar solution works great  I would like the ability to specify styles on the Surface component that is created for a chart. The `styles` prop on a chart gets applied to the containing div (`recharts-wrapper`) here https://github.com/recharts/recharts/blob/cdf194bc10aa5141cdc479b7f91bf5006351401c/src/chart/generateCategoricalChart.js#L760, but I don't see a way to get it to the Surface and the svg it creates.

The Surface component seems to have the capability (https://github.com/recharts/recharts/blob/e39ee8fb9a3256527f1cb8550a4a58ef1051153a/src/container/Surface.js#L33), but I'm unsure if this is exposed anywhere.

Being able to specify the styles on the Surface (and in effect on the underlying svg) would allow me to embed styles on the svg before exporting is as an image. Is this feature currently available or are there plans to implement it?

Thanks!
 That is good news, thank you for the response. Do you have an idea when the next version will be released?
 Thannks @xile611 

I just tried this out. With some fiddling, I managed to get it to work.

given a structure like:

``` javascript
<BarChart
  data={ data }
  >
  <XAxis />
  <YAxis />
  <CartesianGrid />
  <ReferenceLine />
  <Bar />
</BarChart>
```

I would have expected to add the `style={...}` prop onto the `<BarChart>` component, but when doing that, it just ends up on the "bars" portion of the chart, if I want styles to affect the Y-axis, I have to set those individually, so there doesn't appear to be a catch all that applies a style="" directly onto the svg?

Just wanted to confirm that's expected behaviour. Can definitely work with this behaviour if this was the intention though.
  - The ResponsiveContainer can make use of optional
  minWidth, minHeight and aspect options to give more
  control over the sizing of the chart in various layouts.
 [![Coverage Status](https://coveralls.io/builds/7580137/badge)](https://coveralls.io/builds/7580137)

Coverage increased (+0.2%) to 92.586% when pulling **aec73d638ae9fa14c5e52e543934eb8f1b599d21 on nick-codes:issue-135-take3** into **cdf194bc10aa5141cdc479b7f91bf5006351401c on recharts:master**.
 @xile611 No worries. I would like to see this merge so I don't have to check a private branch out of git in npm for the project I am working on.
 Unfortunately there is no way to test the double percentage because enzyme doesn't actually trigger the ContainerDimensions to calculate. ðŸ‘… 
 [![Coverage Status](https://coveralls.io/builds/7582552/badge)](https://coveralls.io/builds/7582552)

Coverage increased (+0.2%) to 92.586% when pulling **ceaef6b1af94ce96588f028500223a002ad785ad on nick-codes:issue-135-take3** into **cdf194bc10aa5141cdc479b7f91bf5006351401c on recharts:master**.
  I see a couple examples where there is text placed into the center of Donut Pie Chart based on active index.  In my case, I need static text placed into the center representing the data (i.e. 30% if that is what the data represents).  I can kind of get by this using custom label, but if I ever need labels outside of the center too, this won't work.

Am I missing something or is this currently accurate in how one might do this?  Thanks!
 @xile611 Awesome, thank you so much for the demo.  Unfortunately, the width is not static as I am using responsivecontainer, so I really need cx and cy, like in the custom label function.
 @xile611  Thank you!  For now, I am fine with my workaround but I appreciate the quick reply
 Is there an example of this using the Label component?  What if I want multiple labels inside the pie chart?

For example..

````
 60%
Completed
```
 I tried putting a react component in the `content` property of `Label` but for some reason its not rendering the react component.
e.g. 
```
<Label content={<h4>My label here</h4>} position="center" />
```

but its not working :/ any idea?  @essaji Did you figure out a way to make it work? I am trying to add JSX either to content prop or as children prop (displays as [object Object]) and both does not work. @essaji, @nivedhithaVenkatachalam: I've hit the same rock.

Seems that `Label` actually implements `<Text>` [(link)](https://github.com/recharts/recharts/blob/master/src/component/Text.js) which is basically `<text>` [(link)](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/text) so it won't support html elements, only what's supported by native `<text>` element.

It would be nice if `<Label>` was implemented using `<g>` so it could be more flexible.
   @xile611 ,
Hi I'm utilizing recharts for our new project that includes data visualization, 
and one of the requirements is to present some text in middle of the pie/donut charts - 
![image](https://user-images.githubusercontent.com/4598162/34953334-377f1c06-fa25-11e7-9b97-bac644e125b0.png)

I've noticed that I can use the `<Label >` element to present some text,
but I can't influence on it's position by setting the `position` prop or x/y props, the following failed - 
```
        <PieChart width={200} height={200}>
            <Pie dataKey="value" data={data} innerRadius={60} outerRadius={80} >
                {
                    data.map((entry, index) => <Cell fill={COLORS[index % COLORS.length]} key={entry.name} />)
                }
                <Label value="any text" position="center" />
                <Label value="more text" position="insideBottomRight" />
            </Pie>
            <Tooltip />
        </PieChart>
```

Are there additional options to control the label location or utilizing multiple labels, or even pass some "child" elements to the Pie chart to be presented in the middle that I missed in the documentation?

P.S. the data within the pie chart is not derived from the data supplied to the pie chart, 
it's unrelated, but this is the requirement of the project lead that designs the project.

Thanks. Any update on supporting multiple labels in center of PieChart? Any update? Hello, any updates? +1
Label appears to work with a plaintext `value`, plaintext `children`, and `content=renderLabel`, where `renderLabel` returns plaintext.
But attempting to return html elements from `renderLabel`, or passing them directly to `content` does nothing..

edit:
Ah, so if you try to use non-plaintext content, you need to be aware that:
- your positioning and presentation attributes will get ignored. See how it exits out early here: https://github.com/recharts/recharts/blob/master/src/component/Label.js#L297-L337
- you can only render svg-friendly components.

Here's a basic example of rendering a custom component in the Label, with centering.
```
          <Label
            content={props => {
              const {viewBox: {cx, cy}} = props
              const positioningProps = {
                x: cx,
                y: cy,
                textAnchor: 'middle',
                verticalAnchor: 'middle',
              }
              const presentationProps = {
                fill: colour || theme.colours.text,
                ...theme.typography.h1,
              }

              return (
                <Text {...positioningProps} {...presentationProps}>{"My centred text"}</Text>
              )
            }}
          />
```
Note that if you only need a single Text element, you can avoid doing the above by just expanding your presentationProps into `Label` and passing your text into its `value` prop.

Would be nice if `getAttrsOfPolarLabel` was exposed to end users, so we didn't have to copy stuff out of its innards. @qborreda You got those demos?  Hi once again,
This will be a quick question.

![example](https://cloud.githubusercontent.com/assets/8009142/17900257/d0f026fe-695e-11e6-82ea-797688dc8289.png)

Would it be possible to somehow force the Area chart to start applying that fill below the curve (at all times), so that I don't get that sort of effect where the curve is intercepting "fills", but instead get the effect where fill is always below the curve? 

Thanks again, super charting library!
  Hey guys, 
This might be weird since the Recharts.org example page of AreaChart really works well in both Chrome and Firefox, but I'd really like some help or direction as I'm clueless what to do next but I really like this library and would be more than happy to keep using it in all my future projects.

I'm using Recharts.js in Meteor.js application (if it helps). 
On the page I render 2 Line charts and 1 Area charts . 
What happens is the following:
- On Chrome, every chart works nicely, meaning animation fully plays.
- On Firefox, every chart works nicely except the AreaChart type. In its case, animation kinda jumps from 0% to 100% in like a second, barely noticeable that there's is animation in it, more like jerk effect, video below.

What I did is I basically took the simplest area chart example (http://recharts.org/examples/#SimpleAreaChart) and put it on the page, no responsive containers (so I can rule that as being the problematic thing out), basically the simplest I can make it.

```
import {AreaChart, Area, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer} from 'recharts';

const data = [
      {name: 'Page A', uv: 4000, pv: 2400, amt: 2400},
      {name: 'Page B', uv: 3000, pv: 1398, amt: 2210},
      {name: 'Page C', uv: 2000, pv: 9800, amt: 2290},
      {name: 'Page D', uv: 2780, pv: 3908, amt: 2000},
      {name: 'Page E', uv: 1890, pv: 4800, amt: 2181},
      {name: 'Page F', uv: 2390, pv: 3800, amt: 2500},
      {name: 'Page G', uv: 3490, pv: 4300, amt: 2100},
];

<AreaChart width={600} height={400} data={data} margin={{top: 10, right: 30, left: 0, bottom: 0}}>
    <XAxis dataKey="name"/>
    <YAxis/>
    <CartesianGrid strokeDasharray="3 3"/>
    <Tooltip/>
    <Area type='monotone' dataKey='uv' stroke='#8884d8' fill='#8884d8' />
</AreaChart>
```

The only two differences that I'm doing VS the recharts.org site that I can think of are:
- I'm using class Panel extends React.Component { } notation instead of React.createClass({})
- I'm using Meteor.js 

Here's video of what's happening:
Chrome: https://miscstuff.tinytake.com/sf/OTI2OTE1XzM5MTM1MTQ
Firefox: https://miscstuff.tinytake.com/sf/OTI2OTE4XzM5MTM1MTc

The console output on both Chrome and Firefox shows exactly 0 errors/warnings.
Firefox is also updated to its latest version available as of this moment.

Any ideas? Could Meteor.js, server-side/client-side rendering play role on this?
Thanks in advance!
 @xile611 That totally worked! Thanks! I though I had the latest version but I obviously didn't. I guess you can close this issue then. I can't thank you enough, really good support on this package!
  This library is great. 

Any chance of porting to React Native? Charting libraries are few and far between on React Native.
 Victory charts just recently added React Native support. Maybe some ideas
on how Recharts can add support can be determined from their approach -
https://formidable.com/blog/2016/08/05/announcing-victory-0-10-2-and-victorynative/

On Mon, Aug 22, 2016, 4:42 PM simonbdev notifications@github.com wrote:

> This library is great.
> 
> Any chance of porting to React Native? Charting libraries are few and far
> between on React Native.
> 
> â€”
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> https://github.com/recharts/recharts/issues/188, or mute the thread
> https://github.com/notifications/unsubscribe-auth/AAK1RDBnnoIJHYGHZY9APqNxkhWjnfzdks5qigm3gaJpZM4JqSJQ
> .
 If Recharts ever does decide to support React Native, https://github.com/react-native-community/react-native-svg might make things easier (Victory uses it and created a [mock](https://github.com/FormidableLabs/react-native-svg-mock) library for it as well)
 @xile611 I used Recharts in my React Native app with some customizations. The result is good. Can you have a look? [Using Recharts in React Native project](https://dzone.com/articles/using-recharts-in-react-native-project) and here's the [Github Repo](https://github.com/thoqbk/RNCharts).  Something like this?
![image](https://cloud.githubusercontent.com/assets/1279530/17845458/93b848ca-685f-11e6-8c8f-cf0eefecf942.png)
 Not exactly same but close. How do I start it from 12'o clock?
  Hey folks, 

Recharts looks perfect for a new project I'm working on, but the one thing holding me back right now is IE10/11 have considerably worse performance with larger data sets.

It's very possible our customers will require charting with 365 points for a years worth of data, in a combination chart. What we've found interesting is that [Morris.js](http://morrisjs.github.io/morris.js/) seems to perform fine (obviously we'd rather with a React-based library if possible, though) on those browsers.
- Is it possible the performance on these browsers is due to poor React render operations? 
- Is this something you've looked at before?

Cheers,
Sean.
 Thanks @xile611 -- Recharts looks fantastic, we just need to ensure our customers on IE10 aren't getting left out, when comparatively, other libraries seem to perform better. We'd love to use Recharts. :)
 One of the performance issues we've run into is that the XAxis (and subsequent formatting of all ticks, which can be not-free with date formatting) is re-computed/rendered on every render, which is super expensive with large data sets.  

https://github.com/recharts/recharts/blob/38269105832e2ab3a353e091ddb874b2c39adcfb/src/chart/generateCategoricalChart.js#L614

Really need to update the Axis so that they are pure components that don't re-render if the props don't change, and defer formatting of the ticks into the component itself rather than formatting them prior to sending them as a property the component
 I submitted pull request #277.  That should help with some of the large dataset performance issues.  Still need to fix it so that it doesn't format every tick on every render.  Since the ticks are formatted each time, the CartesianAxis can't act as as pure function and will always re-render because the old "ticks" object will never === the new "ticks" object.
 @billneff79 I noticed in the PR you said

> we've effectively abandoned recharts for our project

I'm curious what you replaced recharts with?
 We ended up writing our own wrapper library that uses d3's rendering methods as well as it's math methods, but makes it all accessible via react components (technically, we use [preact](http://preactjs.com)).  After I got the recharts performance somewhere close to where I wanted it to be for large datasets, I realized that there was still more work to do in adding zooming functionality, native time series, touch handling, etc that I thought it would just be faster to write a library from scratch using what d3 already provides than update recharts.

For example, instead of re-writing an area chart component from scratch like recharts did, we created an `<Area>` component that takes in as props the scales for the x-axis and y-axis generated using d3-scale methods, as well as the full data array.  

All `<Area>`'s render method does is render a `<g/>` tag.  The magic happens in componentDidMount where we use the d3-shape library to create a new `area` function and we apply that function to our <g> tag.  componentDidUpdate updates the `area` function and reapplies it to the same <g> tag from the render method.

We applied that same pattern to create XAxis, YAxis (using d3-axis), Area (d3-shape), Line (d3-shape), Brush (d3-brush), and Zoom (d3-zoom).  We created our own ReferenceLine, Tooltip and other handy stuff using straight react/preact code as we didn't need any magic from d3 for rendering other than the data from the scales.

In the end, our component definition ends up looking something like this.  The `<Chart>` component takes those scaleDefs props, creates d3 scales from them, and passes it as an array to all of it's children - that's where a lot of the magic lies in addition to just calling d3's rendering functions.

We may open-source our project some day, but it's not quite ready for open-source prime-time yet - it's still a little too specific to our use case.

```
<div class={style.stockChart} >
    { /* MAIN AREA CHART */ }
    <div>
        <Chart
            class={style.mainChart}
            border
            width={width}
            height={300}
            startIndex={startIndex}
            endIndex={endIndex}
            scaleDefs={[
                { scaleId: 'mainXScale', type: TimeScale, data, startIndex, endIndex, dataSelector: xAxisSelector },
                { scaleId: 'zoomXScale', type: TimeScale, data, dataSelector: xAxisSelector },
                { scaleId: 'mainYScale', type: LinearScale, data, startIndex, endIndex,
                    dataSelectorFactory: isPercentChange ? priceChangeSelectorFactory : false,
                    dataSelector: isPercentChange ? false : priceSelector,
                    symbols
                },
                { scaleId: 'volumeYScale', type: LinearScale, data, startIndex, endIndex,
                    dataSelector: volumeSelector, symbols, multiplier: 0.3
                }
            ]}
        >
            <XAxis
                height={17}
                scaleId="mainXScale"
            />
            <YAxis
                width={60}
                showGrid
                border
                scaleId="mainYScale"
                tickFormat={isPercentChange ? percentFormatter : priceFormatter}
            >
                <ReferencePill class={style.lastPricePill} value={lastClosingPrice} formatter={priceFormatter} />
            </YAxis>
            <Area
                class={cx(style.price, style[`compare-color-${i+1}`])}
                xScaleId="mainXScale"
                yScaleId="mainYScale"
                symbol={symbol}
            >
                    <ReferenceLine value={lastClosingPrice} />
            </Area>
            {/* VOLUME CHART OVERLAYED ON AREA CHART at 30% scale */}
            <Area
                class={style.volume}
                xScaleId="mainXScale"
                yScaleId="volumeYScale"
                curveFunction={curveStepAfter}
                symbol={primarySymbol}
            />
            <Tooltip
                symbol={primarySymbol}
                referenceLineValue={isPercentChange ? false : priceSelector(primarySymbol)(data[data.length-1])}
                xScaleId="mainXScale"
                yScaleId="mainYScale"
                xFormatter={dateFormatter}
                yFormatter={isPercentChange ? percentFormatter : priceFormatter}
            />
            <Zoom
                xScaleId="zoomXScale"
                startIndex={startIndex}
                endIndex={endIndex}
                onChange={this.handleIndexChange}
            />
        </Chart>
    </div>


    { /* BRUSHABLE CONTEXT AREA CHART  */ }
    <div>
        <Chart
            class={style.contextChart}
            border
            width={width}
            height={50}
            scaleDefs={[
                { scaleId: 'contextXScale', type: TimeScale, data, dataSelector: xAxisSelector },
                { scaleId: 'contextYScale', type: LinearScale, data,
                    dataSelector: priceSelector,
                    symbols: [primarySymbol]
                }
            ]}
        >
            <Area class={style.context} xScaleId="contextXScale" yScaleId="contextYScale" symbol={primarySymbol} />
            <XAxis height={0} scaleId="contextXScale" />
            <Brush xScaleId="contextXScale" startIndex={startIndex} endIndex={endIndex} onChange={this.handleIndexChange} />
        </Chart>
    </div>
</div>
```
 @billneff79 Thanks for your very thorough response and the code. Eagerly looking forward to your open source debut!
 @billneff79 I'd jump at that. Looking forward to the day.  Tooltip doesn't display the same way if you add or remove `XAxis`.

Without `XAxis` the tooltip doesn't know the datakey and so display a number.
http://jsfiddle.net/areski/97q4apgw/2/

With `XAxis` we got a perfect tooltip:
http://jsfiddle.net/areski/97q4apgw/5/
 Additionally if the chart is display inside a `html table` the tooltip is not being displayed
 I was able to fix this by adding the XAxis, but then hiding it.

```jsx
<XAxis hide={true} dataKey='name' />
```  There doesn't seem to be way to do a vertical Y-Axis Label like this:

![image](https://cloud.githubusercontent.com/assets/31308/17833451/864d77f2-66d2-11e6-980a-876703191ddd.png)

Maybe I am missing something, but if I am not it would be great to support. Right now I am using multiple `div`s and transforming `transform: 'rotate(270deg)`, which becomes problematic when dynamic labels are different lengths. Or maybe there's an easy way to use the `label` prop on `YAxis`? Thanks!
 > Currently, you can get this only by a customized label which can be a function or a react element. 

Fair enough, thanks for the response. FWIW, I would argue that for a `YAxis` label it should be vertical by default mainly because I've never seen a library that doesn't do it that way. When it's horizontal it's either creating extra width on the left or it's bleeding over the axis and potentially clashing with the proper title of the graph.
 I don't see how #160 is a solution to this issue, and therefore am confused as to why this issue was closed.
The current axis label positioning is very unusual.

It would be good to have the common situation:
Y-axis label vertical and to the left of the y-axis (rather than at the top of the axis)
X-axis label horizontal and under the x-axis (rather than at the far right)
Legend to be vertical and on the right of the chart

I've tried multiple libraries and rechart is truly the best I've found, apart from the above issues. custom label with these values sort of works...

```
const AxisLabel = ({ axisType, x, y, width, height, children }) => {
  const isVert = axisType === 'yAxis';
  const rot = isVert ? -90 : 0;
  const cx = isVert ? -height / 2 : x + (width / 2);
  const cy = isVert ? y : y + (height / 2) + 14;
  return (
    <text x={cx} y={cy} transform={`rotate(${rot})`} textAnchor="middle">
      {children}
    </text>
  );
};
```

The vertical alignment of the y-axis label is not quite right.
Also, transforming rotates before doing the x-y offset, so have to switch those values. Changing the rotation point makes positioning the y-axis label much easier. The following is working for me.

``` javascript
const AxisLabel = ({ axisType, x, y, width, height, stroke, children }) => {
  const isVert = axisType === 'yAxis';
  const cx = isVert ? x : x + (width / 2);
  const cy = isVert ? (height / 2) + y : y + height + 10;
  const rot = isVert ? `270 ${cx} ${cy}` : 0;
  return (
    <text x={cx} y={cy} transform={`rotate(${rot})`} textAnchor="middle" stroke={stroke}>
      {children}
    </text>
  );
};
``` Hey @youngnicks can you please provide an example on how would you call this inside <YAxis 
label={SOMETHING} /> I'm new to react and not yet used to all the prop stuff. @malbolge44, just create the component above and include it in your graph component. You would then use it with the following.

```javascript
<YAxis label={<AxisLabel axisType='yAxis'>Cost / Customer</AxisLabel>} />
``` @youngnicks thanks it works well. The only thing for me now is that it looks that the `label` prop does not render HTML element (like div, span), I still need to do some format for the label ( in my case the label will consist of two paragraph, one is like `last available month` and the second is`05/06/2016 - 05/07/2016) I enhanced a little based on @youngnicks 's work:

```html
import React from 'react';

function renderText(child, x, y, rotate, stroke, key) {
  if (child && child.content) {
    return (<text
      key={key}
      x={x}
      y={y}
      transform={`rotate(${rotate})`}
      textAnchor="middle"
      stroke={stroke}
      {...child.props}>
      {child.content}
    </text>);
  }

  return (<text
    key={key}
    x={x}
    y={y}
    transform={`rotate(${rotate})`}
    textAnchor="middle"
    stroke={stroke}>{child}</text>);
}

export default function AxisLabel({ axisType, x, y, width, height, stroke, children }) {
  const isVert = axisType === 'yAxis';
  const cx = isVert ? x : x + (width / 2);
  const cy = isVert ? (height / 2) + y : y + height + 20;
  const rot = isVert ? `270 ${cx} ${cy}` : 0;
  const lineHeight = 20;

  if (children.length > 1 && children.map) {
    return (<g>
      {children.map((child, index) =>
        renderText(
          child,
          cx,
          cy + index * lineHeight,
          rot,
          stroke,
          index)
      )}
    </g>);
  }

  return renderText(children, cx, cy, rot, stroke);
}

AxisLabel.propTypes = {
  axisType: React.PropTypes.oneOf(['yAxis', 'xAxis']),
  x: React.PropTypes.number,
  y: React.PropTypes.number,
  width: React.PropTypes.number,
  height: React.PropTypes.number,
  stroke: React.PropTypes.string,
  children: React.PropTypes.any,
};
```

So that you can use it as simple: 

```html
<XAxis label={<AxisLabel axisType="xAxis">Hello</AxisLabel>}
```

Or you have multiple paragraphes, you can do:

```html
<XAxis label={<AxisLabel axisType="xAxis">{['hello', 'world']}</AxisLabel>}
```

You can also tweak the text a little bit:

```html
<XAxis label={<AxisLabel axisType="xAxis">{{
    content: 'hello',
    props: { fontSize: 14, fontWeight: 200 },
}}</AxisLabel>}
``` @neekey I had to use this to get it to align nicely.
```
const cx = isVert ? x + 20 : x + (width / 2);
const cy = isVert ? (height / 2) + y : y + height;
```

(Notice the +20 moved. The y-axis label was too far left, and the x-axis was too low)

Does this mean the alignment is not adaptive enough yet? Your example : 

`<XAxis label={<AxisLabel axisType="xAxis">Hello</AxisLabel>}`

Doesn't work for me.

I get - 

> Error: <text> attribute y: Expected length, "NaN".

Do you need to feed in the arguments as properties like something like this ?

`<AxisLabel axisType="yAxis" x={123} y={123} stroke="blah">`

My full code :  

```
        <LineChart width={600} height={300} data={data}
                   margin={{top: 5, right: 30, left: 20, bottom: 5}}>
          <XAxis dataKey="name" label="asdfasdf"/>
          <YAxis label={<AxisLabel axisType="yAxis">Hello</AxisLabel>}/>
          <CartesianGrid strokeDasharray="3 3"/>
          <Tooltip/>
          <Legend />
          {lines}
        </LineChart>
```

(Still newish to react)
 Hey @oliverwatkins I had the same problem and I solved it by specifying default values for x and y (the origin). I am also new to React so if this is not a good solution please let me know :)

`var AxisLabel = ({ axisType, x=0, y=0, width, height, stroke, children }) => { ....` { x, y, width, height } need to be defined. Try something like:
```
        <LineChart width={600} height={300} data={data}
                   margin={{top: 5, right: 30, left: 20, bottom: 5}}>
          <XAxis dataKey="name" label="asdfasdf"/>
          <YAxis label={<AxisLabel axisType="yAxis" x={25} y={125} width={0} height={0}>Hello</AxisLabel>}/>
          <CartesianGrid strokeDasharray="3 3"/>
          <Tooltip/>
          <Legend />
          {lines}
        </LineChart>
``` I'm having to use
```label={({ viewBox }) => <AxisLabel axisType="yAxis" {...viewBox}>{yLabel}</AxisLabel>}```
to get it to position nicely.
`viewBox` has `x`, `y`, `width`, `height`, which solves @oliverwatkins 's issue.

I'm still having to tweak the cx and cy values each time... @jacktasia how did you get your y axis to have dollar units in _front_ of the values?  i.e. $150k instead of 150k$ > @jacktasia how did you get your y axis to have dollar units in front of the values? i.e. $150k instead of 150k$

Sorry @levininja I can't remember (we eventually moved off recharts a short time later) and I no longer work where we were doing this so I can't access the code to look it up. @jacktasia thanks for the quick response.  

I actually figured out it's tickFormatter for anyone else reading this. the solutions are great and all but `AxisLabel`, unfortunately, doesn't seem to work when the graph is inside` <ResponsiveContainer></ResponsiveContainer>` Anyone made this work with `<ResponsiveContainer>`? The newer API for Labels should work inside:

http://recharts.org/en-US/api/Label

e.g.
`<YAxis label={{ value: 'My Y Axis', angle: -90, position: 'insideLeft' }} />` This doesn't fix longer text strings. The rotation is still happening from (0,0) of the text.  Is it possible to create a LineChart (and AreaChart) with numeric data values for both x and y axis? I want a Line calculated with both dataKeys (so that x-axis values are not evenly distributed).

I see how to do this for a ScatterChart (and even connect with linear line), but I want a curved line, and gradients, and options available only with Line/Area charts.

Or is the only option to input connected Null points to simulate that spacing between values?

PS. Great work!
 Both this issue and https://github.com/recharts/recharts/issues/154 highlight a few of shortcomings:
1) While almost all line/area charts can be drawn with x-axis being categorical, the problem occurs if you'd like to use axis' domain (imagine a line chart, where you want to draw 2 overlapping lines with different x-axes, both of which have different domains - currently impossible). Then, if you start supporting domains for categorical axes, what should happen if the domain is wider than the categories provided?
2) Replicating this scenario using scatter chart is not possible either, since it doesn't support multiple axes (and it wouldn't make much sense for it to do so).
3) Mocking numerical x and y values with scatter chart is also different in terms of behaviour - in scatter chart you interact with data points only, whereas in line/area chart you can be scrolling through their x-axis and the tooltip is always going to show something.
  You all are awesome! Working on a project on a tight deadline and just came across this library, it's amazing! Any idea on how I might be able to contribute?
  Is there a way i can force the overflow to be visible? As you can see in the below example, the results are being cut off: 

![image](https://cloud.githubusercontent.com/assets/7227636/17787218/2d33ddb4-6556-11e6-8b2d-7ed0f817fe66.png)

Thanks in advance for your help!
  For complex graphs, it is sometimes necessary to highlight one data stream over the others. Hovering over the legend is a good trigger for this. An example of this is found in the [c3 library](http://c3js.org/) (e.g. [here](http://c3js.org/samples/simple_multiple.html))

In the jsfiddle graph linked below, for example, hovering over the "Left" area of the legend would make the corresponding "Left", purple bars highlighted and the "Right", green bars decrease their opacity.
http://jsfiddle.net/dyujxk7L/

I've been trying to figure out how to do this by myself, but although the legend has some unique class names, the charts themselves do not. Therefore I can't do a quick jQuery `onHover` link between the two items.

I suppose I'm asking if option 1 (hover over legend to highlight the corresponding chart) is a possible feature. If not, could option 2 (an id correspondence between the legend and the chart itself) be implemented â€“ or do you have another suggestion for how to achieve the desired effect?

Great job with this library; I've found it very useful.
  I want to achieve something like this.
<img width="976" alt="chart" src="https://cloud.githubusercontent.com/assets/4010960/17737257/e32de0ae-64a9-11e6-990e-ed2f49c6083a.png">

But the bars are overlapping(http://jsfiddle.net/ragrbruL/15/). i want it to be on side by side.

I can add placeholder dataKey to achieve this though(http://jsfiddle.net/ragrbruL/22/).

Is there anyway to do this without placeholder dataKey?
  This PR fixes #177 .

`series[i][j][1]` is summation of previous values, so there's no need to add it to `positive`.
 [![Coverage Status](https://coveralls.io/builds/7484345/badge)](https://coveralls.io/builds/7484345)

Changes Unknown when pulling **a8868b8a0f68ddb01801c94004cf84aa022b5c46 on kazup0n:fix-issues-177** into *\* on recharts:master**.
 @xile611 It's OK. thank you!
  As shown in the attached screenshot, The third stack in a stacked bar chart will be shown in unexpected position.
If a bar chart contains more than three stacks, the position of stacks may be misplaced

![](https://i.gyazo.com/4fdca38e3d69e5d5c7ea8557dd99bfe9.png)

Here's a reproduction code.
http://jsfiddle.net/kauzp0n/m7w8c7uq/

And it is not happened if value is negative.
http://jsfiddle.net/kauzp0n/csqxnk43/1/
  **URL**: http://recharts.org/examples/
**OS**: Linux (Arch)
**Firefox**: 47.0.1 (empty profile)

![recharts-wrap](https://cloud.githubusercontent.com/assets/31533/17713217/bc4a6e66-63f1-11e6-8697-5c43beb7bbb7.png)

The first can be fixed by adding `white-space: nowrap` to the `header .logo` rule:

``` css
header .logo {
    float: left;
    width: 130px;
    margin-right: 60px;
    font-family: Roboto Mono,Consolas,Liberation Mono,Courier New,Courier,monospace;
    font-weight: 300;
    font-size: 18px;
    white-space: nowrap;
}
```

Not sure what's causing the second. It's the same for all examples. They work fine in JSFiddle.
  Is there an easy way to create custom labels while maintaining the layout in the following example: 
- http://recharts.org/examples/#StraightAnglePieChart

My end goal is to have custom labels and have them outside of the pie chart with lines directing the label to the slice. I have reviewed your example for custom labels (http://recharts.org/examples/#PieChartWithCustomizedLabel) and set **labelLine** to **true**, but can't figure out the math/logic to have the label be outside of the pie, by the line. The following is the function I am referring to, taken from your example: 

``` javascript
const renderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent, index }) => {
  const radius = innerRadius + (outerRadius - innerRadius) * 0.5;
  const x  = cx + radius * Math.cos(-midAngle * RADIAN);
  const y = cy  + radius * Math.sin(-midAngle * RADIAN);

  return (
    <text x={x} y={y} fill="white" textAnchor={x > cx ? 'start' : 'end'}    dominantBaseline="central">
        {`${(percent * 100).toFixed(0)}%`}
    </text>
  );
};
```

A side note: The example for **label** on http://recharts.org/api/#Pie is pointing to a 404.
 Thanks for linking to an existing issue.
 @patryk0605 you can get the labels to appear outside the pie by increasing the radius:
```js
const renderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent, index }) => {
  const radius = innerRadius + (outerRadius - innerRadius) * 1.5;
  const x  = cx + radius * Math.cos(-midAngle * RADIAN);
  const y = cy  + radius * Math.sin(-midAngle * RADIAN);

  return (
    <text x={x} y={y} fill="white" textAnchor={x > cx ? 'start' : 'end'}    dominantBaseline="central">
        {`${(percent * 100).toFixed(0)}%`}
    </text>
  );
};
``` is there any way to show label vertical. in line chart.  Would it be possible to allow for 1 left YAxis and a right YAxis? I want to do something like 

``` xml
<ComposedChart data={data} margin={{top: 20, right: 0, bottom: 0, left: 0}}>
    <XAxis dataKey="name" tickLine={false} axisLine={false} />
    <YAxis tickCount={10} tickLine={false} axisLine={false} minTickGap={600} />
    <YAxis orientation='right' tickCount={10} tickLine={false} axisLine={false} minTickGap={600} />
    <Tooltip formatter={this.props.drawTooltip} wrapperStyle={{display: 'none'}} />
    <Legend />
    <CartesianGrid stroke='#f5f5f5' vertical={false} />
    <Bar dataKey='pv' barSize={40} fill='#F7B7B4'/>
    <Line type='linear' dataKey='uv' stroke='#41527D' strokeWidth={3} />
    <Line type='linear' dataKey='amt' stroke='#F70D1C' strokeWidth={3} />
</ComposedChart>
```

Where the YAxis on the right represents a different scale (related to one of the line charts). 
 ah ha! thanks. 
 For anyone else working example with a composed chart. http://jsfiddle.net/w7qdap9f/
 Is there a way to get both axis (and the data) to align their 0 to the center? 
 My 2 domains are {-4, 4} and {-1, 1}. 
 I used [yAxisId="right" orientation="right" ],but they throw some errors like 'Uncaught TypeError: Cannot read property 'scale' of undefined'! I don't know how to fixed it...... @kekeuy  I'm getting the same error when I use a string for the `yAxisId`:
```
Uncaught TypeError: Cannot read property 'scale' of undefined
    at eval (webpack:///./~/recharts/es6/chart/LineChart.js?:101:86)
```
However, the docs do say that you can also use a number for the `yAxisId` and that seems to work.  Could be a good PR opportunity ðŸ˜„  FYI, it seems the axis id's need to be sequential numbers rather than just integers.   To reproduce:
1) Edit the fiddle for http://recharts.org/examples#StackedBarChart
2) Add `layout="vertical"` attribute to the `BarChart` element
3) Run

It breaks - `TypeError: g[t] is undefined`
 On my localhost I just get 'coordinate not defined'. 

One would think that changing `horizontal` to `vertical` would simply put the charts on their side, without further intervention from the user.

I'm not sure why you have to change the datatypes of the axes but it isn't explained in the documentation. It would be awesome to have a note explaining how `layout` works in there somewhere. And at least one example of a chart with horizontal bars.
  ResponsiveContainer computes the size of the chart based on the current window size. It also seems to respond when you make the browser window larger, however if you make the browser window smaller, the chart stays large. Tested on chrome. 
 hi Xile. You're correct that it does rescale. I believe the problem I'm having is that I have a chart inside a flexbox container. Since recharts is using javascript to compute the resize, I don't think that it will work with flexbox. This isn't necessarily a recharts issue (or d3.js), but I would presume that a change or config on the recharts side would be needed to achieve what I'm doing. 
 @xile611 http://jsfiddle.net/9tjsb7k2/embedded/result/. You'll see it opens to the correct size of the window, and if you resize from a small window to make it larger, it works, but not going from larger to smaller. 
 http://jsfiddle.net/oezx3kh2/embedded/result/

Thanks, adding width: 0 to the children fixed that issue!
 Does anyone know the fix for `flexDirection: 'column'?` Apparently setting `width: 0` does not fix the issue here.  I figured it out. Kind of. If you're trying to use `flexDirection: 'column'` and run into this issue, I suggest that on your `ResponsiveContainer` that you add `width={'99%'}` along with a static height, like `height={200}`. This will make the chart resize properly. Just setting `width: 0` on the parent element will not work because for some reason `flex: 1` will not override `width: 0` on the parent element. I have no idea why. According to this blog post, [http://gedd.ski/post/the-difference-between-width-and-flex-basis/](url), it should, but it doesn't.  This problem seems to persist. got it working with a 99% width and a fixed height We also got it working using 99% width.  Working with 99% however it would be nice if this worked at 100%. I'll do some further investigating to understand how this could be resolved in a way that doesn't include hacks.  Please add a note in the documentation defining uv and pv:
 http://recharts.org/examples#SimpleRadialBarChart
 Oh, I see. I was hoping they were Recharts values, like min & max.  Thanks for replying.

How can I make just a one-bar chart like this?
![untitled](https://cloud.githubusercontent.com/assets/5468805/17664257/25578b8c-62f3-11e6-95ec-7c0e47a9d22d.png)

From your API I cannot see a way of specifying the max value for a chart. I've tried this:

```
const chartData = [
    {name: 'score', value: 680, fill: '#aaa'}
  ];
  return React.createClass({
    render () {
      return (
        <RadialBarChart   width={300} height={244} cx='50%' cy='50%'
                          outerRadius={50} barSize={40} data={chartData}>
          <RadialBar startAngle={-1 * 135} endAngle={-1 * 405} background clockWise={true} dataKey='value'/>
        </RadialBarChart>
      );
    }
  });
```

but only actual value is set, not the max value, so the chart isn't showing 68%, it shows 50%

![untitled2](https://cloud.githubusercontent.com/assets/5468805/17664321/8990a570-62f3-11e6-8a20-461d0359234a.png)
 Thanks, that'll help for now.  But this is a bit hacky and will prevent people from doing more complex graphs.

Are you saying there's no way to set the range and domain of your data? It's all auto-calculated from the data given?  

That is sad :(  I think I might be forced to use chartist then as it can set more complex values: https://gionkunz.github.io/chartist-js/api-documentation.html
 I found a different workaround for setting a domain onto a RadialBar in this ticket https://github.com/recharts/recharts/issues/1100. Worked for me by just adding the max (`1000` in my case):

```jsx
<PolarAngleAxis
  type="number"
  domain={[0, 1000]}
  dataKey={'value'}
  angleAxisId={0}
  tick={false}
/>
```

Alongside a bar of:

```jsx
<RadialBar
  angleAxisId={0} 
  minAngle={15}
  label={{ fill: '#666', position: 'inside' }}
  background
  clockWise={true}
  dataKey='value'
/>
```  Hello!

I want to create a Spark Line - so I used TinyLineChart with width = 50 and height = 30. But the reference dots are still visible and disproportionately big. So I want to hide them or at least make them very very small. How can we do that?

Thank you for any help.
Nachiket.
 @xile611: Here it is : http://jsfiddle.net/16h2935k/1/. I have just set the width to 50 and height to 30 of TinyLineChart. 
Apologies for not providing the link before. As you can see, it looks like a SparkLine but the reference dots are still visible.
 Yes. `dot` is the prop I was looking for. Thanks! :-)
 Sorry to comment on a closed issue - but the question I have is related to this question.
I have a spark line kind of component with tooltip. I have "dot" set to false. If I use Tooltip in the LineChart, the vertical reference line becomes visible. Is there a way to hide the line?
 @xile611 : Thanks! It worked.
  Hi, I'm not sure how to do this.

I have this:

```
<ResponsiveContainer>
        <AreaChart data={this.props.data} margin={{top: 5, right: 30, left: 20, bottom: 5}}>
                .....
        </AreaChart>
</ResponsiveContainer>
```

When I inspect it, it shows:
`<div class="recharts-responsive-container" style="width: 100%; height: 100%; position: relative;">`

I'd like to change that height: 100% to height: 80%.
What's best way to do that?    

I tried doing this: `<ResponsiveContainer height={'80%'}>` and visually it worked, but when inspecting I still noticed it says the same: `<div class="recharts-responsive-container" style="width: 100%; height: 100%; position: relative;">`

And because of that, chart is rendered in 80% of the space, but then there's a lot of "margin" below it (looks like it's still using the 100% of the height, like chart is 80% of the height now, there's empty space below it and that combined still takes 100% of the div's height) and only then does the other content continues. When I manually, in inspector change 100% to 80% it works as I want it to work.

-------------------------div----------------------------
[Chart]
[Chart]      <- chart using 80% of the height
[Chart]  
.     <- empty space (other 20% of the height)
------------------------/div------------------------------
[other content]

And I'd like:
-------------------------div----------------------------
[Chart]
[Chart]      <- chart using 80% of the height
[Chart]  
[other content]      <- other 20% of the height
------------------------/div------------------------------

Any ideas?
  Is it possible to bind a click event, not only on the bar, but also on the bar with the grey background when hovering.

Would be really useful when the bar is to small to click.
 Yeah that will do.
  Would like to pass scatter component to a composed chart. Currently it doesn't allow to do.
 Ok @xile611 Thanks for your help. I can use the idea of using smooth curve in scatter chart. 
 @xile611 is this still not supported?
I want to have a 3d scatter chart (like ThreeDimScatterChart in the samples) in a composed chart, I don't think I can do that with a line chart, or can I? The problem with both axes being of type="number" is no longer valid. Time series data *must* be of type="number" on the time-axis: http://recharts.org/en-US/api/XAxis#scale

However, it might make more sense to just use another line chart with stroke="none".  There seems to be an issue with stacking positive and negative numbers on BarCharts, I'm not sure if it's a known issue.

Here is a JS fiddle showing the issue, which presents differently depending on the ordering of the two Bar elements; http://jsfiddle.net/p9830b6y/

Here is what I would expect the generated chart to look like in both cases;
<img width="533" alt="screenshot 2016-08-09 12 10 49" src="https://cloud.githubusercontent.com/assets/1833303/17504318/807db95a-5e2a-11e6-95f9-3db0fd870662.png">

Is there some way for me to achieve this result? Have I made a mistake, or is this a bug?

Thanks,
Ash
 To clarify, I would expect any chart value that starts at zero and goes into negative (pv in this example) to stack under bars with positive values, and run from 0 to the given negative value (in this case -100).
 @xile611 Thank you for your help, much appreciated! I will use that method.
However, I would consider this behaviour a bug. Would you agree?
 I agree that a stacked chart should display the sum of positive values as you've indicated. However you can see in other charting libraries that the common approach is that positive and negative values are generally separated and stacked above and below zero respectively.

Some examples;
Highcharts: http://www.highcharts.com/demo/bar-negative-stack
Excel: http://peltiertech.com/images/2016-03/StackedWithNegative1.png
 Cheers, thanks for all your help :)
  I want to be able to click on the area chart and be able to retrieve the data that was used to create that point. 
For example:

``` javascript
const collection = [{a: 1, b: 2}, {a:2, b:4}];
...
<Area type="monotone" dataKey="b" onClick={x} stroke="#8884d8" fill="#8884d8" />
```

Updated area example: http://jsfiddle.net/5p61t9qp/4/ to use the click. As you can see it return info about dispatch event and not the data, what should I change?

Kind Regards,
AK

P.S. It works with Bar charts.
 Thank you for the quick answer!
 Awesome! Looking forward to it!
 It would also be nice to select an area and not only one point. Would be useful for time-based area charts.
 @Algiras 
Maybe you can use an composed chart to get informations from an area chart:
http://recharts.org/api#ComposedChart

I need that functionality to and I got that idea to draw hollow bar charts which I can click to get the data. Its a workaround but maybe it fits your needs.
 Here's a solution for getting data/coordinates:

Assign a ref to your chart. Add onClick function to a wrapper div. You can then reference the chart and get state.chartX and state.chartY (coordinates clicked)... or any properties you want.

`<LineChart ref={(ref) => (this.lineChart = ref)} >`
...

```
handleClick(event) {
    event.preventDefault();
    const { chartX, chartY } = this.lineChart.state;
}
```
  Currently it seems to take a good bit of boilerplate code just to customize the text on a pie label.  For example, I wanted to include an additional piece of text for the label (the textual name along with the value), which from my understanding, requires the following:

``` js
const renderLabel = ({cx, cy, midAngle, innerRadius, outerRadius, percent, index}) => {
  const radius = innerRadius + (outerRadius - innerRadius) * 1.5;
  const x = cx + radius * Math.cos(-midAngle * RADIAN);
  const y = cy + radius * Math.sin(-midAngle * RADIAN);

  const item = chartData[index];

  return (
    <text x={x} y={y} fill="black" textAnchor={x > cx ? 'start' : 'end'} dominantBaseline="central" key={`label-${data.Id}-${item.Id}`}>
      {item.Name} ({item.Count})  // all I really need to customize
    </text>
  )
};
```

Semi-related (and I can create a separate issue if needed), it would be nice if we could use d3-shape's [arc.centroid](https://github.com/d3/d3-shape#arc_centroid) (or another simpler way) to center a label within a pie piece, or expose a prop to allow placing labels within the pie or outside with the line.

Not that I don't appreciate all the control within the functions, it just seems like I need to "brake glass" too often for simple use cases.
 @xile611 Understood.  I think some util functions would be great (basically expose the same default rendering calls if possible, as well as some additional (render labels in the center of a pie slice, etc).
 @xile611 Since you mention it... :), and speaking of labels on pie charts...

While I might ultimately take a different approach to these charts, I'm currently having difficulty getting the labels and/or activeShape's to always been visible when using a `<ResponsiveContainer>` with little real estate.

![image](https://cloud.githubusercontent.com/assets/177476/17425891/65637f70-5aa0-11e6-8eff-044ebaf06b58.png)

It seems like I need to be able to determine the `<ResponsiveContainer>`'s width/height and account for a label being rendered outside it's bounds and reposition the labels/etc accordingly (place them in the corners with longer connecting lines, etc)

Any thoughts (or examples) on how to accomplish this?  I might ultimately put all the label in the inside of the pie (when active), or show just the percentages within the pie slices themselves, but it seemed like something that could be solvable none-the-less.

Oh, and great work on the library.  It's been the best React graphing/d3 library I've [come across](https://github.com/techniq/wiki/wiki/React-Components#libraries)
 We could check the return value of the `label` function and, if it is a string, treat it as if the string was passed as `label` in the first place. This would allow us to write

``` jsx
<Pie data={chartData} label={(name, value)=>`${name}: ${value}`}>

```
 PR created: #219
  When I am transpiling my project, I am getting the following error thrown from Uglify after Babel transpilation.

`SyntaxError: Unexpected token: punc ({) [./~/d3-scale/index.js:1,0]`

After reviewing the bundle, it seems to relate to D3-Scale not being transpiled in the project and instead being outputted like so:

```
function(module, exports) {

    export {
      version
    } from "./build/package";

    export {
      default as scaleBand,
      point as scalePoint
    } from "./src/band";

    export {
      default as scaleIdentity
    } from "./src/identity";

    export {
      default as scaleLinear
    } from "./src/linear";

    export {
      default as scaleLog
    } from "./src/log";

    export {
      default as scaleOrdinal,
      implicit as scaleImplicit
    } from "./src/ordinal";

    export {
      default as scalePow,
      sqrt as scaleSqrt
    } from "./src/pow";

    export {
      default as scaleQuantile
    } from "./src/quantile";

    export {
      default as scaleQuantize
    } from "./src/quantize";

    export {
      default as scaleThreshold
    } from "./src/threshold";

    export {
      default as scaleTime
    } from "./src/time";

    export {
      default as scaleUtc
    } from "./src/utcTime";

    export {
      default as scaleCategory10
    } from "./src/category10";

    export {
      default as scaleCategory20b
    } from "./src/category20b";

    export {
      default as scaleCategory20c
    } from "./src/category20c";

    export {
      default as scaleCategory20
    } from "./src/category20";

    export {
      default as scaleCubehelix
    } from "./src/cubehelix";

    export {
      default as scaleRainbow,
      warm as scaleWarm,
      cool as scaleCool
    } from "./src/rainbow";

    export {
      default as scaleViridis,
      magma as scaleMagma,
      inferno as scaleInferno,
      plasma as scalePlasma
    } from "./src/viridis";



function(module, exports) {

    export {version} from "./build/version";

    export {default as arc} from "./src/arc";
    export {default as area} from "./src/area";
    export {default as line} from "./src/line";
    export {default as pie} from "./src/pie";
    export {default as radialArea} from "./src/radialArea";
    export {default as radialLine} from "./src/radialLine";

    export {default as symbol, symbols} from "./src/symbol";
    export {default as symbolCircle} from "./src/symbol/circle";
    export {default as symbolCross} from "./src/symbol/cross";
    export {default as symbolDiamond} from "./src/symbol/diamond";
    export {default as symbolSquare} from "./src/symbol/square";
    export {default as symbolStar} from "./src/symbol/star";
    export {default as symbolTriangle} from "./src/symbol/triangle";
    export {default as symbolWye} from "./src/symbol/wye";

    export {default as curveBasisClosed} from "./src/curve/basisClosed";
    export {default as curveBasisOpen} from "./src/curve/basisOpen";
    export {default as curveBasis} from "./src/curve/basis";
    export {default as curveBundle} from "./src/curve/bundle";
    export {default as curveCardinalClosed} from "./src/curve/cardinalClosed";
    export {default as curveCardinalOpen} from "./src/curve/cardinalOpen";
    export {default as curveCardinal} from "./src/curve/cardinal";
    export {default as curveCatmullRomClosed} from "./src/curve/catmullRomClosed";
    export {default as curveCatmullRomOpen} from "./src/curve/catmullRomOpen";
    export {default as curveCatmullRom} from "./src/curve/catmullRom";
    export {default as curveLinearClosed} from "./src/curve/linearClosed";
    export {default as curveLinear} from "./src/curve/linear";
    export {monotoneX as curveMonotoneX, monotoneY as curveMonotoneY} from "./src/curve/monotone";
    export {default as curveNatural} from "./src/curve/natural";
    export {default as curveStep, stepAfter as curveStepAfter, stepBefore as curveStepBefore} from "./src/curve/step";

    export {default as stack} from "./src/stack";
    export {default as stackOffsetExpand} from "./src/offset/expand";
    export {default as stackOffsetNone} from "./src/offset/none";
    export {default as stackOffsetSilhouette} from "./src/offset/silhouette";
    export {default as stackOffsetWiggle} from "./src/offset/wiggle";
    export {default as stackOrderAscending} from "./src/order/ascending";
    export {default as stackOrderDescending} from "./src/order/descending";
    export {default as stackOrderInsideOut} from "./src/order/insideOut";
    export {default as stackOrderNone} from "./src/order/none";
    export {default as stackOrderReverse} from "./src/order/reverse";
```

Any ideas how I get around this?
 Please find all the information below.

Currently importing as so:

`import {LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend} from 'recharts'`

.babelrc and webpack config looks like so:

```
{
  "presets": ["es2015", "react", "stage-0"],
  "env": {
    "development": {
      "plugins": [["react-transform", {
        "transforms": [{
          "transform": "react-transform-hmr",
          "imports": ["react"],
          "locals": ["module"]
        }]
      }]]
    },
    "production": {
        "presets": ["es2015", "react", "stage-0", "react-optimize"]
    }
  }
}
```

```
module: {
    devtool: "hidden-source-map",
    loaders: [{
      test   : /\.jsx?$/,
      loaders: ['babel'],
      exclude: path.join(__dirname, 'node_modules')
    }
}
```

And versions are as follows:
- Recharts (0.12.3)
- Babel-CLI (6.11.4)
- Babel-Loader (6.2.4)
- Babel Preset ES2015 (6.6.0)
- Babel Preset Stage 0 (6.5.0)
- Webpack (1.13.1)

Does it not cause a problem that D3-Scale, as well as D3-Shape do not provide transpiled versions of their libs?
 Ended up hunting this down and this actually related to ExtractText for CSS in the end for some random reason. Apologies for wasting your time. Closing off.
  I'm trying to put rechart on dark background.  For a line chart I can see how to change color (stroke) of the lines but I it's not clear to me from docs how to customize any other colors.   I see fill colors specified in SVG attributes.
  I combined a few example to have a nice half-circle PieChart with an active state. The clipPath used for animating the pie chart (even though I disabled the animation) is actually clipping my active labels as well.

![image](https://cloud.githubusercontent.com/assets/1522455/17277268/f5600d7e-573e-11e6-81cc-af42ce967bf2.png)
(http://jsfiddle.net/j3d22g0m/)

I tried passing a custom maxRadius to the Pie component, but PieChart actually overrides it based on the Pie width and height.

I guess I could subclass Pie and just remove the clippath, but it feels like there could be a better solution. Maybe Pie could take the max of it's computed maxRadius and the one in Pie's props (if passed), for example.
Not a big issue and there are workarounds, just wondering what the optimal solution would be and if you'd like a PR for it.

Other than that, works perfectly fine, great work !
 I can do a quick test/PR with a different approach to maxRadius : compute the minimum radius that covers the whole surface of the bouding box. 
 Probably as simple as `maxRadius = 0.5 * Math.sqrt(width * width + height * height)` (maybe using cx and cy to compute the maximum width/height values)
 Thanks !
  I am trying to plot a time series graph using line chart. X axis will have time and Y axis will have price of an item. Since there is not date/time type in this library, I'm using a number corresponding to the time. But when I render, I get a console warning "x-axis should be category axis when the layout is horizontal" and an error "Uncaught TypeError: Cannot read property 'coordinate' of undefined"

Here is the code I am trying

```
import React from 'react';
import ReactDOM from 'react-dom';
import { LineChart, Line, CartesianGrid, YAxis, XAxis, Tooltip } from 'recharts';

const data = [
    {date:10, price:50 },
    {date:11, price:60 },
    {date:12, price:54 },
    {date:15, price:55 },
    {date:18, price:58 },
    {date:20, price:53 }
]

const SimpleLineChart = React.createClass({
    render() {
        return (
            <LineChart width={600} height={300} data={data} margin={{ top: 5, right: 20, bottom: 5, left: 0 }} >
              <Line type="monotone" dataKey="price" stroke="#8884d8" xAxisId="dateAxis" yAxisId="priceAxis" unit="Kg" />
              <CartesianGrid stroke="#ccc" strokeDasharray="5 5" />
              <XAxis type="number" dataKey="date" xAxisId="dateAxis" />
              <YAxis yAxisId="priceAxis" />
              <Tooltip />
            </LineChart>
        );
    }
})

ReactDOM.render(<SimpleLineChart />, document.querySelector("#main"));
```
 I have only two data axes so line chart is better suite for my purpose. In my use case some days the product may be unavailable so I have to skip plotting a data point on that line and plot the trend accordingly. 
 Second chart is exactly what I am looking for. But I want the line connecting all the data points (In the image, line is only connecting data points against 10,11 and 12)
 Thank you @xile611 
Problem with the scatter charts is that it lacks the **curves** ;-)
It would be great if you can include a time series chart in your future plans.
Thanks a lot
 Great news. Waiting for the update.
 I actually prefer using Composed, Line, or Area charts for time-series data. It works OK with the X axis being "category", but I think it makes more sense to use "number" (there are fewer tick labels and the labels shown are evenly spaced, regardless of the exact time values in between). Of course, as expected, it doesn't work (exception right after the X axis is redrawn), but why it is a problem to use "number" for both X and Y axis? Hmmm. Since what version? We are having trouble with this with version 0.18.0. Ah so. Yes, it turns out we were running 0.15.3. After upgrading 0.19.0, it now works as expected. Wow. Tested it and it works great. Thanks a lot.  Are there plans to tackle such feature? From what I understand the only thing blocking it is `dataStartIndex` and `dataEndIndex` being part of the state.
  ![legend_r1](https://cloud.githubusercontent.com/assets/15674149/17133701/c20ff6ac-5359-11e6-9326-105826bc1b80.png)
I would like to make a bar chart where the the upper min value of y-axis set to 10000 although the highest value is 8000.
  It would be great to be able to sort the order of items in the tooltip. This could be a prop for ASC/DESC of the original order, or a sorting function with the label name and value.

The use case is that with stacked bar charts where bars are stacked bottom-up but tooltip labels are top-down. http://jsfiddle.net/nickstanish/zrhudh0f/1/
  I am working on a LineChart, and I noticed that there is a bug where the point is not being rendered when there is only one data point. [JS Fiddle Example Here](http://jsfiddle.net/248r5yha/1/)
# Input

Normally, I have this data:

``` jsx
data: [
    { varX: 'Mon', varY: 10 },
    { varX: 'Tue', varY: 24 },
    { varX: 'Wed', varY: 34 },
    { varX: 'Thu', varY: 40 },
    { varX: 'Fri', varY: 52 },
    { varX: 'Sat', varY: 62 },
    { varX: 'Sun', varY: 70 },
  ],
```

But with a single point, I will have this data:

``` jsx
data: [
    { varX: 'Mon', varY: 10 },
    { varX: 'Tue' },
    { varX: 'Wed' },
    { varX: 'Thu' },
    { varX: 'Fri' },
    { varX: 'Sat' },
    { varX: 'Sun' },
  ],
```
# Potential Cause

After some testing, I believe it is because of [this line](https://github.com/recharts/recharts/blob/master/src/cartesian/Line.js#L238) in `src/cartesian/Line.js`:

``` jsx
if (isAnimationActive && !this.state.isAnimationFinished) {
  return null;
}
```

This line is inside the `renderDots()` function, and it seems that `this.state.isAnimationFinished` is causing the function to exit early.
# Temporary Workaround

Since I do not need animation for a single data point, I have put in these two lines to make the point appear:

```
const numData = data.filter(item => item.varY).length;
```

and inside my `<Line>` component:

```
isAnimationActive={numData !== 1}
```

Essentially, I disable animation so the `if` statement returns false and it does not go into that code block.
# Live Example of Bug

I've made a JSFiddle to demonstrate the bug and workaround: http://jsfiddle.net/248r5yha/1/
 @xile611 I'm running into this bug with `<Area />` in `v1.1.0`  I'm having trouble understanding how the CartesianAxis interval property works.

My main goal is to make sure that every number on the scale must be an integer (no decimal places allowed).

Unfortunately, when I set:

``` jsx
<YAxis interval={0} />
```

I get this:

![screen shot 2016-07-19 at 1 57 02 am](https://cloud.githubusercontent.com/assets/943555/16926738/43fdee28-4d54-11e6-93b9-9da03e33a1f1.png)

But when I set:

``` jsx
<YAxis interval={1} />
```

I get:

![screen shot 2016-07-19 at 1 57 44 am](https://cloud.githubusercontent.com/assets/943555/16926756/5a57fbdc-4d54-11e6-899c-22599cb14cb2.png)

And when I set:

``` jsx
<YAxis interval={2} />
```

I get:

![screen shot 2016-07-19 at 1 59 56 am](https://cloud.githubusercontent.com/assets/943555/16926789/855140dc-4d54-11e6-901d-07e819c414e4.png)

I find this to be very strange, because I was expecting the interval prop to mean the base number for ticks to be generated.

For example:
- For `interval={1}`, I would expect: `0, 1, 2, 3, 4, 5, 6, 7, 8`
- For `interval={2}`, I would expect: `0, 2, 4, 6, 8, 10, 12, 14`

Can I get some explanation for how the `interval` prop actually works. I tried to read through the source code, but it was a little confusing. I'll try again tomorrow, but if you have a better explanation, I could rephrase it for you and submit a PR to the docs.
 I see, interesting.

What do you suggest for ensuring tick values are integers only?
 Apparently HighCharts has an "allowDecimals" option. Can we have something similar?

Docs: http://api.highcharts.com/highcharts#yAxis.allowDecimals
SO Question: http://stackoverflow.com/questions/14238780/how-to-show-only-integer-values-on-yaxis-of-highchart
 @xile611 
I'm not sure I understand. I looked at the changelog of 0.12.6, but I don't see where this is fixed? Can you give a quick example of how to set the YAxis to integers only? Thanks.
 @xile611
Wouldn't it be a good idea to have an option to guarantee integers? There are a lot of good use cases for this, such as when you are counting the number of people, it would be strange to have a tick that says 2.5 people.
 > For `interval={1}`, I would expect: `0, 1, 2, 3, 4, 5, 6, 7, 8`
> For `interval={2}`, I would expect: `0, 2, 4, 6, 8, 10, 12, 14`

+1 on this
 Just in case people come across this, it was actually implemented and works. Awesome!  ![Alt text](http://cfile26.uf.tistory.com/image/24409948578C91583446EB)
![Alt text](http://cfile29.uf.tistory.com/image/22470150578C9268247AC5)
The starting point of the chart is zero .
What can modify the starting point ?
 @xile611 Thank you :)
  ``` js
const {Radar, RadarChart, PolarGrid, Legend,
         PolarAngleAxis, PolarRadiusAxis, Tooltip} = Recharts;

const data = [
    { subject: 'Math', A: 120, B: 110, fullMark: 150 },
    { subject: 'Chinese', A: 98, B: 130, fullMark: 150 },
    { subject: 'English', A: 86, B: 130, fullMark: 150 },
    { subject: 'Geography', A: 99, B: 100, fullMark: 150 },
    { subject: 'Physics', A: 85, B: 90, fullMark: 150 },
    { subject: 'History', A: 65, B: 85, fullMark: 150 },
];

const TwoLevelPieChart = React.createClass({
    render () {
    return (
        <RadarChart cx={300} cy={250} outerRadius={150} width={600} height={500} data={data}>
          <Radar name="Mike" dataKey="A" stroke="#8884d8" fill="#8884d8" fillOpacity={0.6}/>
          <Radar name="Lily" dataKey="B" stroke="#82ca9d" fill="#82ca9d" fillOpacity={0.6}/>
          <PolarGrid />
      <Tooltip/>
          <Legend />
          <PolarAngleAxis dataKey="subject" />
          <PolarRadiusAxis angle={30} domain={[0, 150]}/>
        </RadarChart>
    );
  }
})

ReactDOM.render(
  <TwoLevelPieChart />,
  document.getElementById('container')
);

```

Add Tooltip components , but it does not appear in the tooltip
  I'm having a little trouble getting the legend icon to show up properly. Take a look at how my chart is currently displaying, and notice how there is no icon beside where it says "Registered Users":

![screen shot 2016-07-17 at 6 33 00 pm](https://cloud.githubusercontent.com/assets/943555/16900350/f6e6fa10-4c4c-11e6-8b0c-75ad18c9f2b9.png)

I suspect I am not using the `Legend` component correctly, but I am not sure how. The following is the code I am using to generate the above chart:

``` jsx
import React from 'react';
import { LineChart, Line, XAxis, YAxis,
  Tooltip, CartesianGrid, Legend } from 'recharts';

const data = [
  { name: 'Mon', pv: 10 },
  { name: 'Tue', pv: 24 },
  { name: 'Wed', pv: 34 },
  { name: 'Thu', pv: 40 },
  { name: 'Fri', pv: 52 },
  { name: 'Sat', pv: 62 },
  { name: 'Sun', pv: 70 },
];

const Component = () =>
  <LineChart
    width={600}
    height={240}
    data={data}
    margin={{ top: 20, right: 120, left: 20, bottom: 5 }}
  >
    <XAxis dataKey="name" />
    <YAxis />
    <CartesianGrid strokeDasharray="3 3" />
    <Tooltip />
    <Legend payload={[{ value: 'Registered Users', type: 'line', id: 'pv' }]} />
    <Line type="monotone" dataKey="pv" stroke="#8884d8" />
  </LineChart>;

export default Component;
```
 @xile611 Thanks. I wasn't aware of the name property because I didn't see it in the examples. Maybe it would be a good idea to put it in some of the examples? All of the examples simply use `pv` and `pu`.
  Hello,

I'm trying to use formatter from Tooltip, here's my code:
`<Tooltip formatter={(a) => {console.log('asd')}} />`

But my console.log is not working. I want to just format my value properly
 It's working now. I don't know, why it wasn't. 
  Is it possible to use this library to make a chart similar to this:

![bar chart with threshold line](http://www.nature.com/nclimate/journal/v1/n8/images/nclimate1265-f1.jpg)

Additionally, can I colour the bars differently depending on whether or not they are above the threshold line?
 @xile611 thanks for the reply. That is very helpful! 

Re: fossil fuels, I'm not sure either. I just found this random chart on the web as an example. My own application has nothing to do with it. My guess is that the chart is trying to say something about replacing fossil fuels with bio-fuels.
  Hi,

is there a way to change gaps between pie cells (Sectors)? Something like this:
![image](https://cloud.githubusercontent.com/assets/1628252/16726566/2c331266-475d-11e6-89ee-8f321e62c0da.png)
  [![Coverage Status](https://coveralls.io/builds/6899904/badge)](https://coveralls.io/builds/6899904)

Coverage remained the same at 93.547% when pulling **6e14ab0ef5e2353260d9c0642f24c18b3633275a on feature/update_deps** into **e22c73f0fa57c9bad4f3afcbed96400ade93cf1c on master**.
 [![Coverage Status](https://coveralls.io/builds/6899963/badge)](https://coveralls.io/builds/6899963)

Coverage remained the same at 93.547% when pulling **679fd5f344b0271fba2a4fb11c99e665790b2810 on feature/update_deps** into **e22c73f0fa57c9bad4f3afcbed96400ade93cf1c on master**.
  Got the following warnings when rendering the below code:
![image](https://cloud.githubusercontent.com/assets/5429033/16584273/a11966be-42c3-11e6-806d-9b2d5db0a51f.png)

```
import React, { PropTypes } from 'react';
import { BarChart, Bar, XAxis, YAxis, Tooltip, Legend, CartesianGrid } from 'recharts';

const SectionBarChart = ({ data, style }) =>
  <div className="section-bar-chart" style={style}>
    <BarChart width={800} height={400} data={data}>
      <XAxis dataKey="name" />
      <YAxis />
      <CartesianGrid strokeDasharray="3 3" />
      <Tooltip />
      <Legend />
      <Bar dataKey="pv" fill="#8884d8" />
      <Bar dataKey="uv" fill="#82ca9d" />
    </BarChart>
  </div>
;
SectionBarChart.propTypes = {
  data: PropTypes.oneOfType([
    PropTypes.object,
    PropTypes.array
  ]),
  style: PropTypes.object
};

export default SectionBarChart;
```

Data:

```
const data = [
    { "name": "Page A", "uv": 4000, "pv": 2400, "amt": 2400 },
    { "name": "Page B", "uv": 3000, "pv": 1398, "amt": 2210 },
    { "name": "Page C", "uv": 2000, "pv": 9800, "amt": 2290 },
    { "name": "Page D", "uv": 2780, "pv": 3908, "amt": 2000 },
    { "name": "Page E", "uv": 1890, "pv": 4800, "amt": 2181 },
    { "name": "Page F", "uv": 2390, "pv": 3800, "amt": 2500 },
    { "name": "Page G", "uv": 3490, "pv": 4300, "amt": 2100 }
]
```

React: 15.2.0
recharts: 0.12.3

Warnings does not appear when running in NODE_ENV=production, since React does not print them.

![image](https://cloud.githubusercontent.com/assets/5429033/16584304/eb2a2eaa-42c3-11e6-960e-912f367f00ce.png)
 I see, do you want me to close the issue?
 Fixed in React 15.2.1 - Verified.
  Got the following warnings when rendering the below code:
![image](https://cloud.githubusercontent.com/assets/5429033/16583986/c6a2e1be-42c1-11e6-8a67-7b7a474d6afe.png)

![image](https://cloud.githubusercontent.com/assets/5429033/16583994/d359fe7e-42c1-11e6-98c3-b48c6bc16368.png)

```
import React, { PropTypes } from 'react';
import { PieChart, Pie, Legend, Tooltip } from 'recharts';

const SectionPieChart = ({ data, style }) =>
  <div className="section-pie-chart" style={style}>
    <PieChart width={800} height={400}>
      <Tooltip />
      <Legend />
      <Pie data={data} cx={200} cy={200} startAngle={90} endAngle={-270} outerRadius={80} label />
    </PieChart>
  </div>
;
SectionPieChart.propTypes = {
  data: PropTypes.oneOfType([
    PropTypes.object,
    PropTypes.array
  ]),
  style: PropTypes.object
};

export default SectionPieChart;
```

Data:

```
const data = [
    { "name": "Group B", "value": 4567, "fill": "#82ca9d" },
    { "name": "Group C", "value": 1398, "fill": "#ffbb28" },
    { "name": "Group D", "value": 9800, "fill": "#ff8042" },
    { "name": "Group E", "value": 3908, "fill": "#0088fe" },
    { "name": "Group F", "value": 4800, "fill": "#8884d8" }
]
```

React: 15.2.0
recharts: 0.12.3

Warnings does not appear when running in NODE_ENV=production, since React does not print them.
 OK, there are also other warnings for props like: `percent', 'innderRadius' and etc.
  I'm looking for a React charting library, mostly for pie charts, that can render multiple active slices.

It looks like it would be pretty simple to also allow an array of numbers for activeIndex, and the code change would be minor : https://github.com/recharts/recharts/blob/master/src/polar/Pie.js#L317 (array lookup if activeIndex is an array)

Would a PR with this enhancement be merged ?
  Hey,

formatter is declared in Bar's PropTypes but it isn't used anywhere and doesn't work. I would like to pass custom formatting function for labels that sits on top of Bar.
  On IOS 8.3 the AreaChart does not render if it is within a ResponsiveContainer. Used the example from the docs. http://jsfiddle.net/znqLLdev/1/

Removing ResponsiveContainer and adding width/height props to AreaChart renders successfully.
 @xile611 There were no console logs. Browser is mobile safari. Tried iOS simulator with ios8.3, and tried an iPhone 4 with ios 6. However, IOS 8.4 simulator worked fine.

This may have to do with how safari is handling the dimensions of the parent element.
 @xile611 Safari version on io8.3 simulator is the same as yours. Strangely enough, it renders some times but not every time. The axes are there though.

![image](https://cloud.githubusercontent.com/assets/1869157/16621983/e9e01a1a-435d-11e6-8b91-a00cf92299d4.png)
 Discovered the issue while using it with ReactBootstrap tabs which hide/show content depending on which tabs are selected, and then I went back to the recharts website to see if they worked there. The navigation needs some work on mobile, but I tried a direct link to the responsive container examples and the jsfiddles. The axes and gridlines would appear despite the area not appearing. 

In my case, the charts wouldn't render at all, until I forced the tabs component to remove the nodes from the dom. It seems that react-container-dimensions was getting 0 for the dimensions of the parent element despite the styles being set to 100%, and then didn't trigger an update as the visibility changed. That doesn't appear to be the case with the jsfiddle though since the axes and gridlines are there.
 I'm having this exact problem right now in a react/redux/react-router app. Any charts wrapped in a responsive container won't render at all on first load... It has to be some kind of timing issue with the route switching and the responsive container not being able to read the height of the parent correctly. It works fine if I resize the window immediately after page load... but it just won't load anything otherwise. Kinda makes it unusable in its current state :/

This is just a normal single page app in Chrome for me.

EDIT: 

Actually, I just discovered that it's VelocityTransitionGroup from the velocity-react animation library that is causing this problem. I am running a transition animation on the entire inner content of the app when routing to new pages... this transition causes the ResponsiveContainer to not be able to get the proper width of the parent container. I just tested it with the animation disabled, and it works correctly. Is there any way to get around this problem?
 @xile611  I'll try to put something together when I get some time.
 I am having the same problem with ResponsiveContainer and react-router. The container is set to a height of 100%, but there is other content above and below the chart and so the browser is happy to squish the div to zero height because there is no content in it. The SVG doesn't render because the div has zero height and thus the container never gets any height and the SVG never can render. I have to set a height on the container to get it to render, but then it isn't really responsive in terms of changes in width shrinking the height. Also when it gets narrow the SVG is cropped instead of scaling in both height and width.

Why not use a different technique for scalable SVGs? In particular I am used to specifying the desired aspect ratio of the chart using the viewBox and then scaling that using an `<object>` tag. One could also use the padding-bottom hack if you object to the `<object>` tag method. See here for a discussion of techniques for scaling them without the use of javascript:

https://css-tricks.com/scale-svg/

I will look to put a pull request together today that uses this technique in conjunction with the ability to pass down a viewBox. It seems Surface supports the viewBox but charts (like PieChart) don't allow it to be specified and passed to the Surface. They are just taking height and width parameters, which are useful but specify the aspect ratio of the container not the chart.

Thoughts?
 Here is a fiddle with the problem I am having:

http://jsfiddle.net/d0k0rk0m/1
 @xile611 
Sorry I haven't had a chance to create a jsfiddle for it. 

In my case the issue was that the chart wouldn't render on ios 8 at all when used with react-router and tabs through react-bootstrap. However I was able to fix the issue by forcing the react-bootstrap tabs to remove the tab's content (including the chart) so that the chart is re-rendered and the height is correct. It seems that react-container-dimensions doesn't respond to the way react-bootstrap hides/shows the tab content by default without a re-render. 

In the process of debugging that issue, I found the issue on the recharts jsfiddle where sometimes when refreshing the axes would be visible and correct height but area chart would not be visible.
 @nickstanish sounds very related to the problem I was having with react-router & velocity-react. In my case, elements were hidden as velocity-react transitioned them into view (animation). The responsive container seems to have problems with calculating proper values in scenarios where there are hidden parent elements.
 @xile611 Forcing users of the library to set heights on all elements of the tree that leads to a responsive graph really lowers usability. Most developers are used to just placing elements and allowing the browsers render engine to sort out the required height to contain the content.

I think the main problem is that ResponsiveContainer doesn't render anything if the height or width are zero. It just returns null. Maybe defaulting to some minimum height or width would be better?
 An additional idea would be to set an aspect ratio on ResponsiveContainer and if one of the measures is zero then use the aspect ratio and the other to come up with the initial size.
 Something like this:
https://github.com/nick-codes/recharts/commit/0d66374ee06db2c498b458e686f7815e7807c4be

Thoughts?
 @nickpalmer What if you use `Math.max` along with the calculatedWidth/calculatedHeight so that percentages are still supported? Maybe aspect should be optional.
 Second pass:
https://github.com/nick-codes/recharts/commit/839506e318b880f955db21800217b58f0cb83f19
Feel free to comment on the commit as well.

If this is more like what you would accept I will add some tests around it and submit a PR.
 Awesome!
 I feel like I'm running into a similar issue. This renders fine:

```
<BarChart width={600} height={400} data={data} barCategoryGap="30%" margin={{top: 75, right: 30, left: 20, bottom: 5}}>
          <Bar className="not-interested" isAnimationActive={false} dataKey="I've heard of it, and am not interested" stackId="a" fill={fills.notInterested} />
          <Bar className="never-heard" isAnimationActive={false} dataKey="I've never heard of it" stackId="a" fill={fills.neverHeard} />
</BarChart>
```

But if I wrap the block in `<ResponsiveContainer>`, it stops rendering. Am I missing something?
 It turns out that ResponsiveContainer doesn't work when the inner component has a `height` and width`. This makes sense I guess, but maybe something about it could be added to the docs, if that's the expected behavior?
 Still not working for me :/ (Safari 9.3.1 & Chrome 52)

```
import React from 'react'
import { AreaChart, ComposedChart, Line, Area, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts'

import Navbar from './common/Navbar.jsx'

const data = [
      {name: 'Page A', uv: 4000, pv: 2400, amt: 2400},
      {name: 'Page B', uv: 3000, pv: 1398, amt: 2210},
      {name: 'Page C', uv: 2000, pv: 9800, amt: 2290},
      {name: 'Page D', uv: 2780, pv: 3908, amt: 2000},
      {name: 'Page E', uv: 1890, pv: 4800, amt: 2181},
      {name: 'Page F', uv: 2390, pv: 3800, amt: 2500},
      {name: 'Page G', uv: 3490, pv: 4300, amt: 2100}
]

export default class App extends React.Component {
  render () {
    return (
      <div className='react-wrapper'>
        <Navbar />
        <div className='container'>
          <ResponsiveContainer>
            <AreaChart data={data}>
              <XAxis dataKey='name' />
              <YAxis />
              <CartesianGrid strokeDasharray='3 3' />
              <Tooltip />
              <Area type='monotone' dataKey='uv' stroke='#8884d8' fill='#8884d8' />
            </AreaChart>
          </ResponsiveContainer>
        </div>
      </div>
    )
  }
}
```
 Add an aspect to the ResponsiveContainer to resolve the issue. When embedded in a zero height container it needs an aspect to determine the height based on the width.
  fill must be a string 

thank you ~
  Hi!
I have a problem with exporting recharts graphs as svg.
In our project we need to make pdf reports and we use wkhtmltopdf.
What I want to do is to get svg representation that recharts generates (actually client browser generates, not nodejs), paste that markup into html report file and give this file to wkhtmltopdf.

Everything works fine for firefox, chrome, but for IE (11) I have got empty pie charts.

After some research I've found that the problem in this line

`const deltaAngle = Math.min(Math.abs(endAngle - startAngle), 359.9999);`

It seems like IE makes float calculations (rounding) in different way, and the path attributes for pie and pie's clippath for the same pie chart are different.
In other words, if I copy-paste markup from IE to chrome I will get empty pie chart.

So the solution is to decrease `359.9999` to `359.999`.
 [![Coverage Status](https://coveralls.io/builds/6830887/badge)](https://coveralls.io/builds/6830887)

Coverage remained the same at 93.544% when pulling **937341f997eb9dae69d7268f7497310a78971eee on Cloudo:patch-1** into **3d36a1c13d0674c7d4f5bade17b7ac8938c0d002 on recharts:master**.
  Hi 

![chart](https://cloud.githubusercontent.com/assets/8921044/16487191/d6913c44-3ee6-11e6-8c71-b6abaeb208fa.png)

I am trying to create pie chart like uploaded image since 3 days but i did not get success so i want to ask that is it possible to create pie chart like uploaded image ???
 @xile611 thanks for giving nice example
  [![Coverage Status](https://coveralls.io/builds/6787844/badge)](https://coveralls.io/builds/6787844)

Coverage increased (+0.01%) to 93.6% when pulling **4e205d51525a3895767b0f4bba361bc43aa4845e on feature/sankey** into **bbc27576e60463ad998cf060f797985d458a5047 on master**.
 [![Coverage Status](https://coveralls.io/builds/6795177/badge)](https://coveralls.io/builds/6795177)

Coverage decreased (-0.007%) to 93.581% when pulling **21232cb4867b415a88b58bf4758fb75d7515f9e0 on feature/sankey** into **bbc27576e60463ad998cf060f797985d458a5047 on master**.
  Thanks for this fantastic library which saved my time.

Could you please share any ideas on how to get a Scatter plus Line combination chart using this.
 @xile611 
I am looking for something like this - Please let me know if there is a workaround to get this done using ReCharts.
![linescatter](https://cloud.githubusercontent.com/assets/19373614/16406473/1ae8655a-3d2c-11e6-97fd-9fafb033f171.png)
 @xile611 - Hey, can we connect to talk ReCharts? 
  I want to use rem in my css ,but I find line chart become strange.
I found that when font-size of html element changed,  most of  axis ticks are hidden and height of chart become smaller.
For example, I change the style of SimpleLineChart (http://recharts.org/examples#SimpleLineChart) 
to  
`body {
  margin: 0;
  font-size:100px;
}
# container {

  font-size:16px
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  padding: 10px;
  width: 800px;
  height: 800px;
  background-color: #fff;
}`

this  phenomenon above will happen. 
 Thank you very much for your  help !
  Was a simple addition I needed for a project I'm using it on. Useful for when you want the bars on a Barchart to be separate colors as determined by their values.

A few thoughts:
- could be better as a separate prop rather than overloading the `fill` prop and allowing 2 different types.
- let me know if the method could be executed in a better place w/n `Bar.js` other than `renderRectangle()`
- when we're ok with the implementation I'd be happy to add this feature to the other components in the `cartesian/` folder.
 [![Coverage Status](https://coveralls.io/builds/6735041/badge)](https://coveralls.io/builds/6735041)

Coverage increased (+0.002%) to 93.571% when pulling **891ec6179a78cce52492c98dd0d36cbd6d143836 on sankho:master** into **a640422cc6e83ae3b0f86433a116d63a407e2913 on recharts:master**.
 @xile611 updated this to not touch `ReactUtils` and overload the presentation attributes.

Instead, setting up a prop `fillFormatter` directly on the Bar itself. I'm hoping this is a more suitable approach, but please advise and I can make further adjustments.
 [![Coverage Status](https://coveralls.io/builds/6741415/badge)](https://coveralls.io/builds/6741415)

Coverage decreased (-0.02%) to 93.572% when pulling **1e81673f711f493e12b5e5ba2a75ee6c817d0381 on sankho:master** into **bbc27576e60463ad998cf060f797985d458a5047 on recharts:master**.
 @xile611 so I understand this creates another way to implement the feature of having different colored `Bar`'s on `BarCharts` - that's kind ot he point. The other approaches involve creating multiple `Bar` elements for each color type w/ separate sets of data. I was trying to add a convenience method to avoid creating multiple `Bar` elements and iterate over a single set of data.

Understood if you'd rather avoid having multiple ways to do things, but I feel this feature is the most developer friendly, moreso than creating multiple bars. I included a test to help w/ maintenance in the future. If having multiple approaches is less desired than developer friendliness, I can close the commit and use the aforementioned approach.

But I may be misunderstanding, and I'm a bit unclear about how to do this w/ `style` - would you mind elaborating here?
 @xile611, For the record, I think Recharts is absolutely the most developer friendly d3 react library out there, it's why I chose it - regardless of this feature or the approach. I didn't mean anything negative by that comment.

Thanks for detailing the hesitancy of making too many props, I can understand the want to avoid code with endless if statements.

Also, thanks for the fiddle's showing alternative implementations. Personally I'd prefer the library I'm using obfuscate such tasks, so I do like the `attrFormatter` approach as it allows my application code to be less verbose.

So, here's my question: would you want an `attrFormatter` in the code, or would you prefer people use the shape / data formatting approach for this feature? If so I can start implementing, but otherwise I could close this PR. I should have made an issue for this first, so just checking this time around :)
 No problem, will do
  <img width="782" alt="screen shot 2016-06-23 at 21 58 05" src="https://cloud.githubusercontent.com/assets/2077683/16302318/ca86bd10-398d-11e6-8bd2-8e66d448b75a.png">
 [![Coverage Status](https://coveralls.io/builds/6721802/badge)](https://coveralls.io/builds/6721802)

Coverage remained the same at 93.737% when pulling **1bc20126d1d41f6c534485a66f2297d4d316bc09 on iuriikozuliak:hotfix/composed-bar-chart-yAxisId** into **0b2be09c90c1b3c2962d9f76cde8f681f24a5316 on recharts:master**.
 @xile611 Please take a look on it at http://jsfiddle.net/jvhd96pq/ and check error in the console, it happens at this line - https://github.com/recharts/recharts/blob/c326127737687e0e89d75935c799f3b1e70b8e56/src/chart/BarChart.js#L125

`sizeList` is undefined at `this.getBarPosition(bandSize, sizeList[axisId])` since `axisId` equals `xAxisId` for horizontal layout instead of `yAxisId`.
In general it is rather a hotfix, than a proper solution for a problem, current version works only because usually xAxisId === yAxisId === 0
   [![Coverage Status](https://coveralls.io/builds/6719078/badge)](https://coveralls.io/builds/6719078)

Coverage increased (+0.02%) to 93.754% when pulling **a4c96851c3c1eb9200c8d168006a06cf63b2a098 on george-cz:master** into **0b2be09c90c1b3c2962d9f76cde8f681f24a5316 on recharts:master**.
 [![Coverage Status](https://coveralls.io/builds/6719935/badge)](https://coveralls.io/builds/6719935)

Coverage decreased (-0.05%) to 93.686% when pulling **2780b60261c55ffd5cbffe1d26245704d3b74022 on george-cz:master** into **0b2be09c90c1b3c2962d9f76cde8f681f24a5316 on recharts:master**.
 You're right, I believe my latest commit fixed that. However the code isn't as pretty and straightforward anymore :D
  Hi,

I just updated Recharts in our project to version 0.11.0 and noticed a problem. When I hover over a tick and my cursor is in the right hand half of the tick, the tooltip is displayed on next tick.

Its even visible in example here: http://recharts.org/examples#SimpleBarChart

Do you know about this issue? Are you planning to address it anytime soon? 
 Hey, I created a pull request that should fix this: https://github.com/recharts/recharts/pull/126
  Question: How can i set min-height of `<Bar />` component ?
 @xile611 wow! thank you so much!
 @xile611 what does the number represent? Percentage? Or pixels?  I am struggling to find a way to allow padding on the Y axis so that the top value is not coming close to the top of the graph itself. This is a stylistic thing that I believe should probably be best achieved while building the svg elements and can not be easily modified using css after the svg has rendered.

A good example of what I want to be able to control in recharts is [how c3 handles Y axis padding](http://c3js.org/samples/axes_y_padding.html).

Here is an image of what I am seeing is desirable to be able to control.

![paddingtop](https://cloud.githubusercontent.com/assets/996725/16247420/418978e6-37cf-11e6-9489-3693b8448d05.png)
 @xile611  I saw `domain` and if I understand it correctly the problem I see is that is you can't really say `max + 20px` as `max` could be any number large or small. The designer in me loves how easy c3 allows you to just throw pixel values at it so my chart doesn't look so crammed and I don't have to worry about the data involved as it's merely a style issue.

So for example your example of `[0, max + 100]` works great for any data that is in the 100's .... but say you have data that could exit in the 100's in some cases but then exist in the 10,000's the next time the same chart is used. This means you would have to evaluate the data first and decide on what fraction of the total data gives you the best breathing room. `[0, max + (n * dataRange)]`

I see value in separating style from data in this case, but I appreciate the example it will definitely work to give the desired result.
 You are awesome, thanks a lot!
  Thank you for recharts!
I've got a simple example going and the tooltip box is too small to show all the data.
Also the text is inline instead of in 3 separate lines.
I'm using es6, babel, webpack.

![image](http://i.imgur.com/DESUdkk.png?1)

Sorry, I couldn't make it work on JSFiddle. Here's my code:

```
import React from 'react';
import { ComposedChart, Line, Area, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend } from 'recharts';
const data = [{name: 'Page A', uv: 590, pv: 800, amt: 1400},
              {name: 'Page B', uv: 868, pv: 967, amt: 1506},
              {name: 'Page C', uv: 1397, pv: 1098, amt: 989},
              {name: 'Page D', uv: 1480, pv: 1200, amt: 1228},
              {name: 'Page E', uv: 1520, pv: 1108, amt: 1100},
              {name: 'Page F', uv: 1400, pv: 680, amt: 1700}];

export default class LineBarAreaComposedChart extends React.Component {
    render () {
    return (
        <ComposedChart width={600} height={400} data={data}
            margin={{top: 20, right: 80, bottom: 20, left: 20}}>
          <XAxis dataKey="name" label="Pages"/>
          <YAxis label="Index"/>
          <Tooltip/>
          <Legend/>
          <CartesianGrid stroke='#f5f5f5'/>
          <Area type='monotone' dataKey='amt' fill='#8884d8' stroke='#8884d8'/>
          <Bar dataKey='pv' barSize={20} fill='#413ea0'/>
          <Line type='monotone' dataKey='uv' stroke='#ff7300'/>
       </ComposedChart>
    );
  }
}
```

Please advise.
 @xile611 Thanks, fixed!
Keep up the good work.
 @xile611 I've got another question, sorry.
Is it possible to have the line segments between data points to be drawn in a straight fashion, without curves? I've tried the "type" property but no luck.

I mean: 
![screen shot 2016-06-23 at 5 27 13 pm](https://cloud.githubusercontent.com/assets/9028592/16320822/c647963c-3967-11e6-8c0f-3df67b35997e.png)

instead of:

![screen shot 2016-06-23 at 5 28 18 pm](https://cloud.githubusercontent.com/assets/9028592/16320854/fb979bde-3967-11e6-8e5e-030b9ec07781.png)
 @xile611 Somehow I totally missed that. Thanks!
I have 1 more problem: I'm trying to make a slider where the actual slider is static(just a data point) but the chart shown will be something like this:

![screen shot 2016-06-24 at 11](https://cloud.githubusercontent.com/assets/9028592/16342080/52ec55be-39fe-11e6-8430-7ac00a7ac9c6.png)

I've played around with layout=vertical with a combination of area and a bar, area and line, line and bar but for some reason I can't quite get the layout right.
So my question is: 
1- Can something like this be done with recharts
2- How hard would it be to create a new "shape" of dot to match the 
![screen shot 2016-06-24 at 11-1](https://cloud.githubusercontent.com/assets/9028592/16342267/34e38a3c-39ff-11e6-8d7b-6e41028d958b.png)

Sorry for extra questions but I love the library and don't want to use something else if it's possible.
Thank you again!
 @xile611 
This looks great!
I was thinking about this and there's another part in my application that I'd like to have an active slider, basically exactly like the one above but movable, where the user can move the slider back and forth. How would I go about that?
Sorry to ask a million questions. You're the greatest.
  Hello,

My team is between using c3 and recharts. We want to use recharts as our project is react and it works a lot better with our technology. BUT a lot of people see the curves on the spline line graphs on recharts to be a problem. I wanted to bring this to you and see what you think.

Ignore the other styles; but as you see in the image below that c3 (the image on the bottom). Has more smoothed out curves if you look closely.

![unnamed](https://cloud.githubusercontent.com/assets/996725/16209682/c683c286-36fd-11e6-8551-4218e09724b8.jpg)

I know this is a very nebulous ask, but was wondering if you would consider making the curves that recharts use more smooth. Thanks for recharts; it's great.
 This is great information!

I didn't see you could add your own custom d3 interpolation in your [documentation](http://recharts.org/api/#Line). But that is awesome. I will definitely be using this, thanks again and sorry for missing that.
 @xile611  Hello, this is working great for us but there is something I have noticed that you should be aware of. I get this warning when using a custom d3 interpolation.

```
warning.js?8a56:44Warning: Failed propType: Invalid prop `type` of value `function cardinal(context) {
      return new Cardinal(context, tension);
    }` supplied to `Area`, expected one of ["linear","monotone","step","stepBefore","stepAfter"]. Check the render method of `ComposedLineAreaChart`.
```

Just a heads up as if recharts is allowing a custom type this warning seems to be a tad misleading. This could be because of us using es6 as well though.

```
import { curveCardinal } from 'd3-shape';
<Area  type={curveCardinal} />
```

Thanks!
  Using this library for work @ NS1.com. In the past we've used Horizon charts (see http://www.perceptualedge.com/articles/visual_business_intelligence/time_on_the_horizon.pdf) for certain sets of data where there are large spikes which obfuscate changes that are not of the same delta across the given data set (think of a line chart where there's one data point at 10000, but most other changes are in the 10's, and how the visual appearance for the lower changes are sometimes incorrectly seen as subtle).

There are some D3 applications of horizon charts out there (see http://bl.ocks.org/mbostock/1483226).

I'd love to take on the coding work, add animations + tooltip formatting in the manner to which other chart types behave, and submit a PR but wanted to see if
1.) That's cool re: contribution guidelines and
2.) If horizon charts are even of interest

LMK and I'll get on it!
  [![Coverage Status](https://coveralls.io/builds/6625220/badge)](https://coveralls.io/builds/6625220)

Coverage increased (+0.03%) to 93.733% when pulling **ceae75741fd87db400dfadcfd4082ef524915ad3 on feature/sankey** into **f8126a7e87e1d27b88dab4b1455770886281cf60 on master**.
  [![Coverage Status](https://coveralls.io/builds/6624162/badge)](https://coveralls.io/builds/6624162)

Coverage decreased (-0.06%) to 93.7% when pulling **965a382e1140c70047c083eac58965fcc53002d1 on feature/sankey** into **6cee618bca1cfb056641e17e61290f384cbcead1 on master**.
 [![Coverage Status](https://coveralls.io/builds/6624618/badge)](https://coveralls.io/builds/6624618)

Coverage decreased (-0.06%) to 93.7% when pulling **3c86a858da805b2a316b2bfeb4c3d310b24f9977 on feature/sankey** into **07ce17017fb4596e9dda2959b43f2c6479409388 on master**.
  Here is [fiidle](http://jsfiddle.net/mcf1akad/1/)

If data has only one item then tooltip not showing up, But when data has more than one item (uncomment second one in fiddle) then showing tooltip.

Is there any other configuration to allow tooltip in single item ?
  [![Coverage Status](https://coveralls.io/builds/6584235/badge)](https://coveralls.io/builds/6584235)

Coverage remained the same at 93.765% when pulling **0ce35521354fd78a32e637e317a37a32215da637 on feature/sankey** into **0633b2e293d2e0a188d8c3e3ee424f0d07506e9c on master**.
  Hello,

I am working with recharts and and trying to produce something like this:

![mock](https://cloud.githubusercontent.com/assets/996725/16024302/a70bc204-3186-11e6-8e22-74df5c99ff9c.png)

But this is not easy to achieve with recharts as the stroke I get for any custom tooltip or active dot seems to be hardcoded to `#fff`.

The fill is the only thing that has my custom color information passed down, and considering it's a reference to a gradient it doesn't do me much good. The closest I can get achieving the look given the information is this:

![weirddot](https://cloud.githubusercontent.com/assets/996725/16024411/4e02d548-3187-11e6-90f7-2411a6738595.png)

I have made a jsfiddle to demo this:

http://jsfiddle.net/troyblank/ae55bfLm/6/

As you can see `{props.stroke}` is always `#fff` on any custom dot, and there is no stroke information for custom tooltip payloads to use. It would be a lot more useful for both cases to have the stroke color of the actual line in which it is referencing, which in jsfiddle's case is `#82ca9d`. This would allow any custom tooltip or dot work to be able to really leverage the colors set by any gradient area.

Thanks for an amazing tool outside of this issue, and let me know if I can elaborate on this issue.
 Thank you and thank you for the advice. My team actually came to that conclusion this morning as well. It works pretty straightforward for the dot. The tooltip does work with custom data, but as you said is not as elegant. `<CustomTooltip colors={{ someProp: blue, someOtherProp purple }} />`
  [![Coverage Status](https://coveralls.io/builds/6574268/badge)](https://coveralls.io/builds/6574268)

Coverage increased (+0.2%) to 94.266% when pulling **b3c59c30e056d52753b92c1cee999f951f88225e on feature/sankey** into **e05cf62959449c5b670d283ace496119d1031716 on master**.
  I need a BarChart, where Bars values will be displayed over them. Im attaching image, showing what Im talking about. How can I easly achieve that?
![screen](https://cloud.githubusercontent.com/assets/11422162/16005321/ebe3b528-3166-11e6-9e96-87f023df1d76.png)
 This image just shows what Im talking about. I want to display values over Bars, like it's presented on image, that I attached.
 Yes, thats what Im talking about. Thank you.
  Hey,

what is the recommended approach to update a chart element after it has already been rendered to the DOM?

Best Bodo
 Yes worked ;)
  I'm considering to switch to recharts and have a question. I'd like to draw a line which is made of different line types and has dots of different types (see image).

![unbenannt](https://cloud.githubusercontent.com/assets/5469488/15931865/b7dda384-2e59-11e6-99af-3e3806f52428.PNG)

Is that's supported? If not, might a workaround like creating multiple data series and connecting them in the chart work?
 @xile611 Thank you, but that's not quite what I want. I'd like to draw one line made of different line types. I forked your example and tried it here: http://jsfiddle.net/nightlyop/ggg0trdh/1/ Unfortunately it does not compile, because I added the property `type="number"` to `XAxis`. Without that property, the two `4` are regarded as two different categories.
 The chart is ok. I guess I could use the `content` attribute of the `Tooltip` component to make sure, that the data of the point connecting two series appears only once.

Using `type="number"` does still break the example. Is this my mistake?
  I am using a RadarChart to represent a bunch of scores ranging from 0-3 (whole numbers only) in different categories. However, no matter what I try there are always five circles drawn on the grid, one of them being at radius zero of course. As you can imagine, this seems confusing when the grid lines are between actual possible scores. How Would I go about setting the number of circles on my grid? I was hoping setting the polarRadius array on PolarGrid would do it, but I have had no luck.

```
<ResponsiveContainer width={'100%'} height={300}>
  <RadarChart
    data={radarData}
    margin={{top: 20, right: 20, bottom: 20, left: 20}}
    innerRadius="0%"
    outerRadius="100%"
  >
    <Radar name="Left" dataKey="L" stroke="#e91e63" fill="#e91e63" fillOpacity={0.3} />
    <Radar name="Right" dataKey="R" stroke="#673ab7" fill="#673ab7" fillOpacity={0.3} />
    <PolarGrid gridType="circle" polarRadius={[0, 50, 100, 150]} />
    <Legend />
    <PolarAngleAxis dataKey="test" />
  </RadarChart>
</ResponsiveContainer>
```
 My current solution was to set a domain of 0-4 instead of 0-3 to make results appear on the gridlines. However, this does add an extra gridline to the graph that is "unreachable".
`<PolarRadiusAxis domain={[0,4]} tick={false} axisLine={false}  />`
 Thank you! Surprised I missed that... 
 Ah that makes more sense. (: I also noticed it says default type is circle but mine defaults to the polygon...?
 Sounds good. I will let you know if I find anything else. Thank you much for theverything library. Works wonderfully.
  I'm trying to create functionality that syncs up 2-3 charts so that I can use one Brush component to keep the displayed chart area in sync across all charts. Similarly, when I hover over a chart and get the tooltip popup display, I'd like to sync this across all charts to be able to compare all 3. The goal is to have a more clear alternative to having multiple y-axes on a single chart. 

A good example of what I'm trying to do can be seen in the visualizations here:

[http://projects.fivethirtyeight.com/election-2016/delegate-targets/](http://projects.fivethirtyeight.com/election-2016/delegate-targets/)

Is there anyway to compose multiple charts together to be able to more easily use singular controls like the brush across multiple charts? Something like a ComposedVisualization component wrapping multiple LineCharts (or whatever else). 

Or do you have any tips on how I can tap into the onHover event for a chart to trigger all tooltips displaying simultaneously for a given point hovered over?
 A little more info: I've been looking at the state properties being used for each LineChart (or ComposedChart/AreaChart/etc.) to track & show the Tooltip... just trying to figure out a good way to wrap my set of charts with a container component that syncs those state properties on each chart anytime the state changes & isTooltipActive is true.
  Hey, guys. Nice work on recharts. Really enjoying using it so far, but just noticed one issue. When using the Brush component (view finder/zoom control/slider bar) in charts that are wrapped with a ResponsiveContainer component, they don't resize/rerender correctly like the rest of the chart does. 

Is there a prescribed way to make this work that I haven't found or is this a visual bug that needs to be fixed? I first noticed it my project, but added a Brush to the ComposedChart demo on JSFiddle and had the same issue.

[http://jsfiddle.net/8uzkn19y/](http://jsfiddle.net/8uzkn19y/)

It's not a huge deal but seems a little wonky. Could we maybe rerender the Brush to its initial state (slider bar at 100% width) for smoother transitions on resize?
  fix #104 
 I just analyzed it again and made a new PR there ðŸ» 
 @zvictor I've merged it. Please test it with `master` before I'll cut the release if possible.
 @okonet I tried locally with `master` and it works fine.
 Im having issues with the ResponsiveContainer. Not sure if related to same issues. 
Basically the container sticks to parent but recharts-surfcace element goes way of it's parent.
https://www.dropbox.com/s/0jpckmqfa6vdimt/Screenshot%202016-05-31%2004.39.50.png?dl=0

```
<ResponsiveContainer height={100}>
  <AreaChart data={Chardata}
        margin={{top: 10, right: 30, left: 0, bottom: 0}}>
    <Area type='monotone' dataKey='uv' stroke='#8884d8' fill='#8884d8' />
  </AreaChart>
</ResponsiveContainer>
```
 @sbehrends try removing `margin`. This can be caused by CSS.
 @okonet nope. The issue also occurred with a simpler example.

```
<ResponsiveContainer height={100}>
  <LineChart data={Chartdata}>
    <Line type='monotone' dataKey='pv' stroke='#8884d8' strokeWidth={2} />
  </LineChart>
</ResponsiveContainer>
```
 @xile611 closing a PR and pushing the changes as if it was your work is definitely not a good way to keep the community engaged in contributing to your project. Getting credits for my contribution is the only payment I expected to get for spending time publishing my changes.
  I am not being able to have customised labels in `YAxis` in vertical `BarChart`s. It complains about the way `props` are being propagated.
# code

``` js
const CategoryLabel = ({ x, y, fill, payload }) => (
  <text>whatever component...</text>
);

...

<ResponsiveContainer>
    <BarChart layout="vertical" data={ data }>
      <YAxis dataKey="name" type="category" label={ <CategoryLabel /> } />    <--- problem is here
      <XAxis type="number" />
      <Bar dataKey="myKey" />
    </BarChart>
</ResponsiveContainer>
```
# errors

> Warning: CartesianAxis: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)

&

> Warning: CartesianAxis: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)
# versions:

``` json
"react": "^15.1.0",
"react-dom": "^15.1.0",
"recharts": "^0.10.5",
```
 How to change the xaxis ticks above small line. likes on attached below image. 
![9b7_0900_results_bar_graph_align_wrong_crop](https://user-images.githubusercontent.com/33149279/32549954-4e9e865a-c4b1-11e7-9fba-bb9eef3ecd35.jpg)
  ```
// origin data
const data = [ {name: '1s', value: 5} ]

// update
const data = [ {name: '1s', value: 5}, {name: '2s', value: 7}]
```

As you know, I am not expecting re-render the whole chartï¼Œ especially with initial animation.  
And I can't find any API about this situation.
Another ugly solution is make animation disable,  but I still can't find any api about it.
 @jasonHzq 
yeah, I just mean the pass the new data props to Chart Component, and its reaction(animation) just like render a new Chart.But I know it only re-render the Data Component(Line/Bar/...).
thx a lot ! great work!
 Kinda hacky but it seems to work. Thank you @jasonHzq !
  Hi,

I can't really find a way to move the ticks up/down.

Looking at the `renderTicks()` function it looks like the `dy` value is set to fixed values depending on if the orientation is left/right/top/default and it doesn't look like it's possible to override it from `axisProps` or `customTickProps` as `dy` is not a valid presentation attribute.

My use case is that I want to be able to make the tick text larger, e.g. `tick={{ fontSize: 20 }}` but with them still being below the X axis. 
 Hi,
Is it possible to rotate ticks? When i'm applying css to <text> - tick rotates, but changes its position http://take.ms/X7zVC @emiloberg After some fiddling around with this, you can move ticks around by setting the `dx` or `dy` value respectively so in my case, I wanted to move the ticks down on the X-Axis so I just did this `tick={{ fontSize: 20, dy: 20 }}` you can do the same with moving the y-axis ticks towards more the left hand side by doing `tick={{dx: -20}}`  CategoricalChartWrapper 'notify' brush when receiving new data. This lead to reset internal brush's scale state.

CategoricalChartWrapper keep ref to Brush element. May be using 'ref' is not good solution, and there may be other solutions to force Brush to reset...
 @xile611 Ok. 

It seems that problem with refs and tests environment. The only failure I see when running test locally is:

```
Firefox 46.0.0 (Mac OS X 10.11.0) <LineChart /> MouseEnter lineChart should show tooltip, 
active dot, and cursor FAILED
    addComponentAsRefTo(...): Only a ReactOwner can have refs. You might be adding a ref to a 
component that was not created inside a component's `render` method, or you have multiple copies of 
React loaded (details: https://fb.me/react-refs-must-have-owner).

...

@/......./recharts/test/index.js:89873:21 <- webpack:///test/specs/chart/LineChartSpec.js:201:20
```

I will try to fix.
 @xile611 Thanks a lot!
  Does anyone have an example of how the line chart animation can be modified? I'm trying to see if we can have it be unique and maybe come up from the bottom instead of from the left. Thank you!

Also, if I disable animations, does react-smooth get bundled still?

Thank you!
 @xile611 how do I disable animation?
 Oh I see, I didn't realize it was specific to the Bar component and not the BarChart component. Thanks.
 @xile611 @jasonHzq Rather than start a new issue, I thought I would add to this. Is there a way to trigger the animation only when the graph is enters the view e.g. you scroll down to the graph area and then it starts animating? I'd rather not delay the animation using `animationBegin` or slow it down using `animationDuration`. Thanks!
 Although not ideal, I ended up using some conditional logic to display the graph component based on React's event system, specifically `onMouseEnter`. I can go into further detail if anyone was interested. Would still like to know a better way to solve that however.
 I think there is currently a bug with the Customized Label. If you go to http://recharts.org/#/en-US/examples/PieChartWithCustomizedLabel directly, the customized label will be drawn. But if you go to any other link first such as http://recharts.org/#/en-US/examples/SimpleScatterChart then click on "PieChartWithCustomizedLabel", then the customized label won't be drawn.    Currently, the reference lines/dots are rendered _before_ the actual chart component (in `[generateCategoricalChart.js`](https://github.com/recharts/recharts/blob/master/src/chart/generateCategoricalChart.js#L750-L751))

As SVGs do not have the concept of z-index but rather renders elements as they appear in the document this means that we can't have ref lines/dots _on top of_ chart data.

Is there a reason for ref lines/dots being rendered below?
 I'm not really following. Could you perhaps post a small example of how to shelter the refs from e.g. a Bar chart?
 This is awesome! Cheers!
 Hi, how about rendering the elements in the order we provide?,  i'm currently trying to show the axis inside the bars on the barchart but can't use z-index, if i could render the axis at the end this would take priority whitout the z index, 
```
<BarChart width={400} height={400} data={data}  >
  <YAxis />
  <Legend />
  <Tooltip />
  <CartesianGrid vertical={false} />
  <XAxis dataKey="name" />
</BarChart>
``` Hey! I know this is already closed, and my question is not even entirely related, but maybe you guys have ran into it... It is #1325
Im interested if it is possible to only show references after the animation has ended... Anyone?
Thanks! @ppseprus Did you find a solution?  Hi,

When adding recharts to a fairly simple React project and importing it as `import x from 'recharts'` I'm getting this error in my Webpack build.

```
ERROR in ./~/recharts/lib/component/Legend.js
Module not found: Error: Cannot resolve module 'node_modules/react-dom/dist/react-dom.min/server' in /Users/emiloberg/code/charttest/node_modules/recharts/lib/component
 @ ./~/recharts/lib/component/Legend.js 51:14-41

ERROR in ./~/recharts/lib/component/Tooltip.js
Module not found: Error: Cannot resolve module 'node_modules/react-dom/dist/react-dom.min/server' in /Users/emiloberg/code/charttest/node_modules/recharts/lib/component
 @ ./~/recharts/lib/component/Tooltip.js 47:14-41
```

I can't really figure out why (and not where that `.min` part comes from), but looking at the `Legend.js` and `Tooltip.js` files they're importing ReactDOM as: 

```
import ReactDOMServer from 'react-dom/server';
```

That points to the source files.

Replacing the import lines in those two files with this line will solve the problem: 

```
//import ReactDOMServer from 'react-dom/server';
import ReactDOMServer from 'react/lib/ReactDOMServer';
```

Please let me know what I can do to help debugging.
 Ah finally figured it out. I was using an old webpack config and had (for some reason I can't even think of)  an alias set up; `'react-dom': 'node_modules/react-dom/dist/react-dom.min'`
  I had read the API and examples about BarChart and wanna to mix it into my project.
First, I copied the JS code from [http://recharts.org/examples/#SimpleBarChart](url) to my React Project. And I got the graph below.
![qq 20160509175008](https://cloud.githubusercontent.com/assets/14069488/15109689/3db56b26-160f-11e6-9293-e2a102717289.png)
Everything is ok. But after I made some changes...

``` javascript
<BarChart
    width={800}
    height={400}
    layout="vertical"
    data={data}
    margin={{top: 5, right: 30, left: 20, bottom: 5}}
>
    <XAxis />
    <YAxis type="category" dataKey="name" />
```

![qq 20160509174358](https://cloud.githubusercontent.com/assets/14069488/15109773/b71c50e2-160f-11e6-972e-104395647d6e.png)
The uv is disappeared from Page A, and XAxis is totally wrong, obviously.
I was wondering if you could point out my configuration mistakes about layout: "vertical". I will be greatly appreciated.
 seems like the default types of `XAxis` and `YAxis` are tuned for a `horizontal` layout chart - would it be an improvement to the library if the defaults for the axes would change automatically when the chart's layout is switched?  Currently the curve types are restricted to 'linear', 'monotone', 'step', 'stepBefore' or 'stepAfter'. `d3-shape` supports more of them, so it might be a good idea to allow any of them to be specified.

My reasoning behind it is that recharts have already got a glorious API and it would be good to allow people to create more chart types based on it (I personally need the chord diagram).
 Thanks a lot! Do you guys fancy Chord Diagram contribution? Something along those lines: http://www.global-migration.info/
  When my pointer(indicated by the red point) is in the red rectangle, the tooltip of Page-B shows up. But I suppose that the tooltip of Page-B shows up when the pointer is in the the blue rectangle.

![1](https://cloud.githubusercontent.com/assets/5550931/15037838/ec5ec434-12d0-11e6-8fd3-5646bdae0e27.png)

I am using Chrome 50 and edge on Windows.

å¦‚å›¾, å½“é¼ æ ‡åœ¨çº¢è‰²æ¡†é‡Œé¢çš„æ—¶å€™, å°†æ˜¾ç¤ºPage-Bçš„æç¤ºå·¥å…·. ä¸åº”è¯¥æ˜¯é¼ æ ‡åœ¨è“è‰²æ¡†çš„æ—¶å€™æ‰æ˜¾ç¤ºPage-Bçš„æç¤ºä¹ˆ?
  just like this 

http://www.humblesoftware.com/flotr2/#!mouse-drag

but i can't find any event api 
  Hello! First of all thanks for this excellent chart library!
A little thing that I'm missing is the option to animate again the chart when the underlying data change, to provide a visual feedback to the user when this happens.

Actually I've achieved this in an hacky way, by wrapping the chart in a component and force a full redraw of the chart by changing the component state inside the `componentWillReceiveProps` callback, but that's not an ideal solution.

Do you think this is a feature that could be implemented in the future?
 Cool, thanks for the info!
 Great, I will try it asap! :)
 It seems to only animate the last bar or line when the data is changed. The other data shows up instantaneously. http://jsfiddle.net/x1yoboc7/249/  when tooltip reach viewBox.x + viewBox.y, it will suddenly jump to another coordination, fix to stay at bottom or top feels no surprise to user :)
 You are right.  I didn't think about that.  This is why the tooltip will jump. Let me try something make the jump smoothly.
  Hi

I haven't found anything about it in documentation, so I guess it isn't possible at the moment.

It would be useful to be able to change name in easy way of groups. Now they inherits labels from property name of data series.

In my case I need it to be translated for instance. Of course I can create new data series where I put new elements with changed keys, but in my opinion it's not good solution to this problem.

I think it would be good idea to send into Chart element array/object with mapped labels, something like, if I have values like:
[{name: 'A', x: 5, y: 7}, {name: 'B', x: 2, y: 6}, {name: 'C', x: 4, y: 4}, {name: 'D', x: 3, y: 1}]
I would like to send there something like this:
{x: 'My X value', y: 'My Y value'}
 Thanks, that's exactly what I was looking for. :)
   My bad, I was reading the recharts awesome source code. Wish me next time
will do something right : )

2016-04-27 19:28 GMT+08:00 xile611 notifications@github.com:

> Thanks!
> But getTooltipBBox is not a misspelling, it means getting bounding box of
> the tooltip.
> If you have used _Raphael.js_ before, you may know getBBox which is a
> method of Raphael element.
> I just borrowed the naming from _Raphael.js_.
> 
> â€”
> You are receiving this because you authored the thread.
> Reply to this email directly or view it on GitHub
> https://github.com/recharts/recharts/pull/78#issuecomment-215055011
  Can you use Tooltip with Treemap? I can't find any place in the docs where it says which components can use Tooltip.
 @xile611 wow thanks!
 Could you provide an example with tooltip and treemap?  Ideally I think both should be rendered side by side. I've tried digging into this to see if I could provide a fix but it looks like it's touching several parts of the library.

To replicate the error change line:
https://github.com/recharts/recharts/blob/master/demo/component/BarChart.js#L10
to:

```
{ name: 'food', uv: 3300, pv: 4567, amt: 6500 }
```

and try and view the barchart demo.

I'd be more than happy to try and put in the work here if someone could point me in the right direction of which pieces would need to be modified.
 Wow that was fast!  Thank you for all of your hard work! ðŸ‘ 

In my case I was abusing the charts a little bit, using the dataKeys on a horizontal barchart to be the values so it was a little easier to read, and then color coding the bars for identification below them if that makes sense.
  I have been trying to render ComposedChart and BarChart from the server. The grid and axis get rendered but data content isn't. I see no error nor warnings. It is suppose to be working? I see no mention about server-side rendering at http://recharts.org/

Thanx
 I have no idea how to make server-side rendering with jsfiddle.

My isomorphic app is based on react-starter-kit. I forked it so you can see the whole code here: https://github.com/Renaud009/react-starter-kit. I just added recharts library with npm and copied the ComposedChart component based on this example http://recharts.org/examples#LineBarAreaComposedChart.

Making a GET localhost:3001 with Postman shows me that items (ex. try to find class recharts-line-dots) are not rendered on the first call but axis as well as grid are.

Maybe it has to do with the animation?
 Thank you, it works like a charm.

And good job with this chart library.
  Thatâ€™s it :octocat: 
  On the [Radar Chart example page](http://recharts.org/examples/#SimpleRadarChart), the `data` array contains a `fullMark` property with a value of `150`:

``` js
const data = [
    { subject: 'Math', A: 120, B: 110, fullMark: 150 },
    { subject: 'Chinese', A: 98, B: 130, fullMark: 150 },
    { subject: 'English', A: 86, B: 130, fullMark: 150 },
    { subject: 'Geography', A: 99, B: 100, fullMark: 150 },
    { subject: 'Physics', A: 85, B: 90, fullMark: 150 },
    { subject: 'History', A: 65, B: 85, fullMark: 150 },
];
```

Adding that property to my dataset did not seem to have any effect. Additionally, changing the maximum value in my array of data changed the rendering of all other data points.

It looks like `fullMark` has been deprecated in favor of `domain: [0, 150 /* desired max value */]` on `PolarRadiusAxis`.

If that is correct, a change to the example page is likely needed which I will gladly submit a PR for if desired.
 Hi there.

I tried the above. It doesn't seem to work... It just plots according to the max number... no scaling :-(

Thanks,

Alex The above does not work for me too. 
The following code does not work.
`    {
        data.map((entry, index) => (
          <Cell domain={[0, entry.fullMark]} key={`cell-${index}`}/>
        ))
    }`



When I check <cell>. It's parents are `<Bar /><Scatter /><Pie /><RadialBar />`. `<Radar />` is not in the list. I guess it is the reason?  When using `0.8.8` installed from NPM, everything works as expected.

When I clone the repo and build locally using `npm install`, `npm run build` and `npm link`, I get the following errors:

```
Error: addComponentAsRefTo(...): Only a ReactOwner can have refs. You might be adding a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner).(â€¦)
```

and

```
Error: removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might be removing a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner).(â€¦)
```

I _think_ those errors are coming from `ResponsiveContainer`, but when I remove that from my app's code, I get:

```
React can't find the root component node for data-reactid value `.0.3.1.$appContent.$mainFeedContent.0.0.0.3.$dc627119-d8b6-4dd5-964a-bd69706b5faa.1.0.$=11.$1.0.0.5.1:$bar-0.0.$rectangle-0.0`. If you're seeing this message, it probably means that you've loaded two copies of React on the page. At this time, only a single copy of React can be loaded at a time.
```

Both errors reference multiple copies of React, so I'm think that has something to do with it, but I'm unsure how that is happening, especially if `npm run build` is the official way to build this.

Am I missing a step?
 Turns out I was bit by this: https://github.com/facebook/react/issues/5188
  I am trying to graph a time-series with recharts and thing will be better/simpler if I could use the D3 timeScale (x axis values are Date).

I look into the code to see where scale where set and I try to replace the scalePoint by scaleTime in getFormatAxisMap(). But it doesn't work (it would be too easy). It throw an error in getTicksOfAxis() because scaleTime obviously doesn't have the bandwidth method. I suppose that is far to be the only issue of changing the scale.

Do you have any idea if making the scale customizable or having an option to specify that we want a time scale on one of the axis will be difficult to implement?
 My slightly simplified Chart component:

``` javascript
const Chart = ({ values }) =>
  <div style={{ height: '10rem' }}>
    <ResponsiveContainer >
      <LineChart
          data={values}
          margin={{ top: 5, right: 0, bottom: 0, left: 0 }}
      >
        <Line type="linear" dataKey="value" stroke="#8884d8" dot={false} />
        <CartesianGrid stroke="#ccc" strokeDasharray="5 5" />
        <XAxis dataKey="time" tickFormatter={tickFormatDate}/>
        <YAxis dataKey="value" tickFormatter={twoDigitsWithMetricPrefix}/>
        <Tooltip
            formatter={twoDigitsWithMetricPrefix}
            labelFormatter={tickFormatDate}
            wrapperStyle={{ width: 100, backgroundColor: '#ccc' }}
        />
      </LineChart>
    </ResponsiveContainer>
  </div>
```

Where _values_ is an array of {time: Date, value: Number} and _tickFormatDate_ is a function very close to [d3.time.format.multi(formats)](https://github.com/mbostock/d3/wiki/Time-Formatting#format_multi).

The component is working but the ticks aren't at _round_ time:
![recharts_timeseries](https://cloud.githubusercontent.com/assets/1727215/14180497/8624e83e-f763-11e5-946a-c61b767bcb6a.png)

A similar chart using NVD3 with ticks each 5 minutes:
![nvd3_timeseries](https://cloud.githubusercontent.com/assets/1727215/14180367/00b3c40e-f763-11e5-9a1a-59bc16c5ce41.png)

I also like to be able to choose the number of ticks for each axis, or precise that I want more of them.

Thanks for your work!
 Thanks @xile611 
It works with a minor modification, my _time_ property need to be a timestamp instead of Date.
 It might be useful for other people that want to use recharts for timeseries that I specify my other work-around.

By default XAxis is of type _category_ so I cannot specify it's domain and it isn't linear; if I have points every minutes with a 5 minutes hole in in the middle, the graph will display a hole of a duration of 1minute :-( .

I try using a _number_ axis and specify the domain but it doesn't work because of the way recharts is done.

So I end up using a _category_ x axis but I manually ensure that they are a point every minutes of my whole domain, with some point having an _undefined_ value.
  ``` javascript
<ResponsiveContainer height={200}>
  <PieChart>
    {...}
  </PieChart>
</ResponsiveContainer>
```

This works nicely but React reports warning of
`Invalid prop 'height' of type 'number' supplied to 'ResponsiveContainer', expected 'string'`

If I change the `height` to `<ResponsiveContainer height='200'>` the container doesn't work.

I looked at the source code of ResponsiveContainer.js, the propType does require string. However the function it depends on in `DataUtils.js`, here is the core:

``` javascript
export const getPercentValue = (percent, totalValue, defaultValue = 0, validate = false) => {
  // ...
  const str = percent.toString();
  const index = str.indexOf('%');
  let value;

  if (index > 0) {
    value = totalValue * parseFloat(str.slice(0, index)) / 100;
  } else if (percent === +percent) {
    value = percent;
  }
```

Apparently my height '200' in string doesn't go into any of `if` branch so this function gives me a height of 0, but 200 in number works well.

Is there a way supporting 200px of height, and without propType warning?
Either a fix in `getPercentValue` or a change of propType would work for me.
 Nice work. Thanks.
  i try to add css

```
.recharts-cartesian-axis-label {
        position: relative;
        left: -100px;
        top: -9999px;
        color:red;
    }
```

but it not work
 i resolve it by using  `transform: translate`
is there a better way ?
 thanks! i may have to learn some base of svg
  stage-0 is need for demo(when`npm run demo`)
  i try to change the viewBox on svg,it can solve. Is there a better way to solve it ?

![a block of blank](https://raw.githubusercontent.com/p2227/p2227.github.io/master/asset/chart.jpg)
  http://jsfiddle.net/urt1d7v5/

I want to set `payload={data1}` but is doesn't work.

but this spec is work

https://github.com/recharts/recharts/blob/master/test/specs/component/LegendSpec.js
  Hello,

I'm currently trying out `recharts` to get to know it a little better before we use it at my job.
Currently I have 3 charts lined up and for the life of me I cannot seem to position them. I've attempted so far to position them using `flex-box`, `margins`, and `padding` but none of these seem to work.

![screen shot 2016-03-18 at 11 15 37 pm](https://cloud.githubusercontent.com/assets/8888991/13896365/6cb9ccba-ed5f-11e5-9206-cbe754e49ebe.png)

I put all three of them in individual `<ResponsiveContainer>` components with their widths and heights set to 100% to see if it was proportions thing. I've ran out of ideas. Is there like a easy way to line them up and be proportioned equally that I may have overlooked?
 @kennetpostigo can you show some code?
 I have the following:

``` jsx
    <div className="DashCharts">
      <ResponsiveContainer  width='100%' height='100%'>
        <AreaChart className="area" data={data}
              margin={{top: 10, right: 30, left: 0, bottom: 0}}>
            <XAxis dataKey="name"/>
            <YAxis/>
            <CartesianGrid strokeDasharray="3 3"/>
            <Tooltip/>
            <Area type='monotone' dataKey='uv' stackId="1" stroke='#8884d8' fill='#8884d8' />
            <Area type='monotone' dataKey='pv' stackId="1" stroke='#82ca9d' fill='#82ca9d' />
            <Area type='monotone' dataKey='amt' stackId="1" stroke='#ffc658' fill='#ffc658' />
        </AreaChart>
      </ResponsiveContainer>

      <ResponsiveContainer width='100%' height='100%'>
        <RadialBarChart className="radial" cx={150} cy={150} innerRadius={20} outerRadius={140} barSize={10} data={data2}>
          <RadialBar minAngle={15} label background clockWise={true} dataKey='uv'/>
          <Legend iconSize={10} width={90} height={140} layout='vertical' verticalAlign='middle' wrapperStyle={style}/>
        </RadialBarChart>
      </ResponsiveContainer>

      <ResponsiveContainer width='100%' height='100%'>
        <RadarChart className="radar" cx={300} cy={250} outerRadius={90} data={data3}>
            <Radar name="Mike" dataKey="A" stroke="#8884d8" fill="#8884d8" fillOpacity={0.6}/>
            <Radar name="Lily" dataKey="B" stroke="#82ca9d" fill="#82ca9d" fillOpacity={0.6}/>
            <PolarGrid />
            <Legend />
            <PolarAngleAxis dataKey="subject" />
            <PolarRadiusAxis angle={30} domain={[0, 150]}/>
          </RadarChart>
      </ResponsiveContainer>
    </div>
```
 Okay thank you!
  When Rendering Charts Server-Side, it's showing all ticks on scale, but when rendering Client-Side, it's cutting them to about 7-8 ticks. Which version is broken? And, maybe it's possible to give a possibility to choose if you want to cut ticks, or maybe you want to draw them all?
  In React 15 you can now use native SVG properties, which means **className** becomes **class**, etc..

Current version of Recharts throws these warnings:
`Warning: SVG property className is deprecated. Use the original attribute name class for SVG tags instead.`
  Top was calculated from viewBox.x instead of y,
when I had a chart with margin right the tooltip was going down out of the box even if it could fit there.
anyways it looks like a typo :smile: 
 thanks!
When do you plan to release? it's really annoying in my app..
  Hello
Again problem with SSR. :)
As stated it topic, server side rendering doesn't display grid.
As in previous case - this problem creates react warning in console that client side code is different from server side code.
  Hello
With client side - everything is working as it should, but when trying to render server side only part that was rendered is horizontal line - labels aren't visible.
Of course because of above problem there is also react warning in console that server side code is different than client side code.
 SSR and CSR is unlikely to be completely consistent. 
This has fixedï¼Ÿ
Weather sometimes there are some warnings: different on server or client, that is Unavoidable?
 ```
    <LineChart
        width={600}
        height={300}
        data={verData}
        margin={{ top: 5, right: 30, left: 20, bottom: 5 }}
      >
        <XAxis dataKey="time" />
        <YAxis />
        <CartesianGrid strokeDasharray="3 3" />
        <Tooltip />
        <Legend />
        {
          versions && versions.map(ver => (
            <Line type="monotone" dataKey={ver} stroke="#8884d8" activeDot={{ r: 8 }} key={ver} />
          ))
        }
      </LineChart>
```

warning: different on server or client
 (client) idth="490" height="245" stroke="#ccc" fi
 (server) idth="490" height="260" stroke="#ccc" fi
  Hello
When modifying tickCount nothing changes - there are always 6 ticks. Also as I checked code - default value for tickCount is 5, but it displays 6 ticks.
 @xile611 
Can we remove `tickCount` from the API doc for `XAxis` then? @itsdeezy PR https://github.com/recharts/recharts.org/pull/66 submitted if you want to add anything.  http://jsfiddle.net/x1yoboc7/15/
 Thats because you mutate `this.state.data` instead of creating new array based on previous.
Replace `arr.push(a)` with `arr = [...arr, a]`.
http://jsfiddle.net/x1yoboc7/16/
  I am in the process of swapping out `react-d3` in favor of `recharts` and everything has gone well up until the point that my tests ran.

When `ResponsiveContainer` is rendered with `renderIntoDocument` in my Karma tests (with `karma-chrome-launcher`), the [`invariant` warning](https://github.com/recharts/recharts/blob/e296ba602703176e8f744d35d5c2f82a928607f8/src/component/ResponsiveContainer.js#L60-L64) is thrown and my test blows up.

After digging in to it a bit, it appears that `getComputedStyles`, called from `OuiDomUtils.width`, is returning an object where all values are blank strings. This means that the `width` of the container element is essentially `0` which in turns causes the `invariant` to fail.

While I see why it would be desirable to want a container with a width greater than `0`, is that any reason to blow up the render path?

AFAIK, having a `0`-width (or -height) container element won't cause any errors to be thrown, so maybe it'd be better to go with a softer `console.warn` rather than a hard stop?

Short of removing the `invariant`, the only way I was able to get my tests to run was to re-write the test to use `shallowRender` (which is not something I really wanted to be forced to do :confused:)

 I was unable to find any way to get `getComputedStyles` to _not_ return empty values so I have a feeling like the logic for `ResponsiveContainer` simply won't work in the context of Karma + Chrome. I even looked at your own tests and noted that you are using `shallowRender` (via `enzyme`) so you are likely not seeing this particular "feature"

Sorry if it seems like I'm complaining. Its a corner case (albeit a confusing one) and the rest of this lib seems pretty :100:. Thanks!
  Actually `labelRadius` will make sense to position the label from centre.
Ex: `{labelRadius: '50%'}` for positioning in the middle of the slice.
`{labelRadius: 10}` or `{labelRadius: -10}` to position it from the outer radius
  It's very weird that the default config creates all slices with the same colors. For comparison, I'm adding two pie charts. The left one is recharts, the right one is from c3js.

![image](https://cloud.githubusercontent.com/assets/941075/13228286/e6f72b66-d979-11e5-8850-a51696c08225.png)
 Yeah, to be honest, I think the api should change a bit. I was thinking in something like this:

``` js
<PieChart>
    <Pie>
        <Slice name="Mobile" value={70} fill="#9cacf1" />
        <Slice name="Desktop" value={15} fill="#8884d8" />
        <Slice name="Tablet" value={15} fill="#82ca9d" />
    </Pie>
</PieChart>
```

IMO, this makes more sense for pie charts and it's good to be declarative.

If you don't think this API is good, at least we should be able to not pass any color in the data fields and still get different colors for each slice.
 ? is issue closed?
 So ,, can i help?
 This is awesome, thanks!
 What about customization of the labels? For example, what if I want to display values as a percentage instead of just as a number?
 I want to use different colors for each pie slice and change the stroke color if a slice is hovered over. That means I have to create custom `Cell` components to be able to set `fill` and `stroke`. I have to bind `onMouseEnter` and `onMouseEnter` for the hover effect, so it reads like this

``` jsx
<Pie data={chartData}>
{
  chartData.map((entry, index) => {
    const stroke = this.state.selectedIndex == index ? 'red': undefined;
    return <Cell key={`cell-${index}`}
                 fill={colors[index]}
                 stroke={stroke}
                 onClick={this.pieClicked.bind(this, index)}
                 onMouseEnter={this.enterArea.bind(this, index)}
                 onMouseLeave={this.leaveArea.bind(this, index)} />
  })
}
</Pie>
```

Now, if I enter a cell with the mouse, the whole chart is re-rendered, because the state changes and the `render` function is called again and the handler props change (because `bind` creates new functions).
I cannot bind the handlers to the `Pie` because they won't be called if the `Pie` has `children`.
Any suggestions?
 Never mind, I figured out that the actual problem was that I was computing the `chartData` array in my `render` function. I moved that to the constructor and now it works as expected.
 @jochenberger Thank you very much! That fixed my issue.
In another note, do you happen to know why adding ResponsiveContainer to any Recharts graphs results on animations no working? I found that setting height and width on the ResponsiveContainer node fixes it, but then nothing is responsive anymore.  For me the Cell color don't change at all this is my issue https://github.com/recharts/recharts/issues/1043 can anyone help? here is a working fiddle http://jsfiddle.net/pwa5zka0/1/ since the one above doesn't work  Author of [react-stockcharts](https://github.com/rrag/react-stockcharts/) here

I came across recharts a couple of weeks ago, and just today had a chance to read some source and play with the examples. When I looked at the API, it looked very similar to my project and was excited. Looking at the code of the different `XXXChart` I saw that you are limiting to a set of types you have created.

Take an example of http://jsfiddle.net/1n97rmsy/ where I have added a `circle` and `rect` on line 20 and 21, those are not displayed. It could be as simple as the user wanting a background text on the chart.

I believe it is essential to be able to support composition of custom components, at least for all the cartesian charts.
 the 2 projects are very similar, not only in the way the chart composition works. the variable exposed to `window` on the UMD build of `react-stockcharts` is `ReStock`. This similarity is just too cool to pass :)

stockcharts has gone through a few iterations of api changes.

When I started with it, I was using the `cloneElement` of all the children, then started to use the react `context` (and still do) and checking the type of children for certain props. Now with the yet to be released version (0.4). There is just one type check, and the parent passes props down via context. 

Using custom components, and svg elements on a chart is a solution for many problems that are hard to imagine initially. For me it was essential, since there are so many types of financial indicators that the api had to be capable to accommodate new types.

There is duplication of logic between the different children of `CartesianChart` which can be reduced by using `context`. In any case I believe the api you currently expose is at the right abstraction, offering flexibility to improve upon later..

I also draw inspiration from [d3fc](https://github.com/ScottLogic/d3fc) very nice charting library (not just for financial charting) with different renderers and indicators.
  When rendering in server SVG Path is not visible when using LineChart (did not test other). If i use chrome devtools and remove `stroke-dasharray: 0px 1px;` from style it is visible again.
 I understand that `stroke-dasharray: 0px 1px;`. But don't you think that rendering behavior should be same on server side and client side? I've got exactly same code and different results. From the other side I think that default behavior of component should be that it is visible rather than hidden.
 It still doesn't work for me, or I don't understand something. I have updated to 0.8
After server side rendering i still don't see Path because in Path i Have `stroke-dasharray="none" style="stroke-dasharray:0px 1px;"` 
I understand that behavior of SSR and CSR is same when rendering, but after componentDidMount you change style to `style="stroke-dasharray: 1180.76px, 0px; transition: stroke-dasharray 1500ms ease;"` to have nice animation and it becomes visible.

I will repeat my opinion: default props of chart should be that path is visible. I can make it visible by setting up strokeDasharray to "1180 0" or what is also intereseting isAnimationActive to false. 

btw. i couldn't find how to disable animation in documentation.

thnx for fixing other bugs
 sure. https://github.com/isilweo/recharts-ssr-test/ here is very simple repo with standard ssr rendering and on the end client side js is loaded.

Exact code is in shared/chart.js in my repo

```
import {LineChart, Line, Legend} from 'recharts';
import React from 'react';

export default class Chart extends React.Component {
    render() {
        const data = [
            {name: 'Page A', uv: 4000, pv: 2400, amt: 2400},
            {name: 'Page B', uv: 3000, pv: 1398, amt: 2210},
            {name: 'Page C', uv: 2000, pv: 9800, amt: 2290},
            {name: 'Page D', uv: 2780, pv: 3908, amt: 2000},
            {name: 'Page E', uv: 1890, pv: 4800, amt: 2181},
            {name: 'Page F', uv: 2390, pv: 3800, amt: 2500},
            {name: 'Page G', uv: 3490, pv: 4300, amt: 2100},
        ];

        return (
            <LineChart width={600} height={300} data={data}>
                <Legend />
                <Line type="monotone" dataKey="pv" stroke="#8884d8" />
                <Line type="monotone" dataKey="uv" stroke="#82ca9d" />
            </LineChart>
        );
    }
}
```

Look also on this screenshots, maybe it will be more obvious:
1. Client side rendering, everything is visible
   ![selection_116](https://cloud.githubusercontent.com/assets/1628252/13245088/fd1907c0-da0a-11e5-87c0-f59a2d9aee4e.png)
2. Disable javascript
   ![selection_117](https://cloud.githubusercontent.com/assets/1628252/13245087/fd16483c-da0a-11e5-9df1-3692345d8052.png)
3. REfresh and see server side rendering - lines are invisible
   ![selection_118](https://cloud.githubusercontent.com/assets/1628252/13245086/fd1215aa-da0a-11e5-9bc9-80bbe0c2f670.png)
  When using Legend, Tooltip,  XAxis, YAxis, CartesianGrid I have

```
var span = document.createElement('span');
ReferenceError: document is not defined
```

or

```
var wrapper = document.createElement('div');
ReferenceError: document is not defined
```

I understand that Tooltip has no sense in SSR but other components should render fine. When wrapping this around ResponsiveContainer I've got no error but also no output.

code to reproduce

```
        <LineChart width={600} height={300} data={data}
              margin={{top: 5, right: 30, left: 20, bottom: 5}}>
           <XAxis dataKey="name"/>
           <YAxis/>
           <CartesianGrid strokeDasharray="3 3"/>
           <Tooltip/>
           <Legend />
           <Line type="monotone" dataKey="pv" stroke="#8884d8" />
           <Line type="monotone" dataKey="uv" stroke="#82ca9d" />
        </LineChart>
```

and
`console.log(renderToString(<SimpleLineChart />));`
  Hey, 

i've been testing Recharts recently and jumped into few problems with server side rendering. I've tested a lot of different charting libraries for React and I would love to stop my search on recharts. Hope that we can fix SSR problems. I have very simple script with Simple Line Chart from example and use renderToString from react-dom/server. If you wish i can post it here or somewhere as a gist.

When adding ResponsiveContainer wrapper around LineChart it doesn't produce any output.

`<div class="recharts-responsive-container" style="width:100%;height:100%;" data-reactid=".1zgxrmyubk0" data-react-checksum="1605641647"></div>` this is all I have. 

I believe I should have same output for server and client.

my code

```
      <ResponsiveContainer>
        <LineChart width={600} height={300} data={data}
              margin={{top: 5, right: 30, left: 20, bottom: 5}}>
           <Line type="monotone" dataKey="pv" stroke="#8884d8" />
           <Line type="monotone" dataKey="uv" stroke="#82ca9d" />
        </LineChart>
      </ResponsiveContainer>
```
  I found a quite interesting implementation of component, which provide width and height to its children.
[https://github.com/bvaughn/react-virtualized/blob/master/docs/AutoSizer.md](url)

Its based on https://github.com/sdecima/javascript-detect-element-resize and as the docs say...

> it not only detects javascript generated resize changes but also changes made from CSS pseudo classes e.g. :hover, CSS animations, etc.

You can see it in action here in `Autosizer` tab:
[https://bvaughn.github.io/react-virtualized/](url)

So i already have used `AutoSizer` in my project and it works perfectly!
I think I can make a PR a bit later.
What do you think?
  I think it is worth considering, it seems more intuitive to, in case of `ReferenceLine`, only define a `x` or `y` prop instead of `type` and `value` or, in case of `ReferenceDot`, define `x` and `y` instead of value pairs. :+1: 
 You could still use this for dynamic values, so I really can't think of any problems with that solution right now

``` jsx
var values = {x: 'Page C', y: 5};
<ReferenceDot stroke="green" label="Min PAGE" {...values}/>
```
  If I may suggest to add an option if you are using `[auto, auto ]`, have a bool property like alwaysShowReferenceLine
 Also it shouldn't render if its out of the domain. 
  Server side rendering of ResponsiveContainer doesn't currently work because of oui-dom-utils. I've filed an issue there https://github.com/oneuijs/oui-dom-utils/issues/1

Maybe we can leave this one open, until the other one is resolved to keep track of it.

Here is a trace:

```
ReferenceError: window is not defined
 [app]/[recharts]/[oui-dom-utils]/build/index.js:10:29
ResponsiveContainer.js:24 Object.<anonymous>
[app]/[recharts]/lib/component/ResponsiveContainer.js:24:20
```
 Okay, the author just released https://github.com/oneuijs/oui-dom-utils/releases/tag/v0.3.6
A little version bump should fix this.
  Recharts is currently the biggest library in my project. Its size could possibly be reduced by explicitly importing only those functions of lodash that are used.

See here: https://github.com/lodash/lodash/tree/npm

``` jsx
// Load a single method for smaller builds with browserify/rollup/webpack.
var chunk = require('lodash/chunk');
var extend = require('lodash/fp/extend');
```

Here is the stats for recharts (in my case)

```
recharts: 790.74 KB (24.7%)
  d3-scale: 126.08 KB (15.9%)
    d3-time-format: 27.13 KB (21.5%)
      <self>: 27.13 KB (100%)
    d3-array: 16.59 KB (13.2%)
      <self>: 16.59 KB (100%)
    d3-format: 14.26 KB (11.3%)
      <self>: 14.26 KB (100%)
    d3-color: 13.5 KB (10.7%)
      <self>: 13.5 KB (100%)
    d3-interpolate: 12.13 KB (9.62%)
      <self>: 12.13 KB (100%)
    d3-time: 10.38 KB (8.23%)
      <self>: 10.38 KB (100%)
    <self>: 32.1 KB (25.5%)
  lodash: 112.91 KB (14.3%)
    <self>: 112.91 KB (100%)
  d3-shape: 53.82 KB (6.81%)
    d3-path: 4.57 KB (8.50%)
      <self>: 4.57 KB (100%)
    <self>: 49.24 KB (91.5%)
  react-smooth: 42.3 KB (5.35%)
    raf: 2.61 KB (6.17%)
      performance-now: 886 B (33.1%)
        <self>: 886 B (100%)
      <self>: 1.75 KB (66.9%)
    pure-render-decorator: 722 B (1.67%)
      react-addons-shallow-compare: 53 B (7.34%)
        <self>: 53 B (100%)
      <self>: 669 B (92.7%)
    <self>: 38.98 KB (92.2%)
  recharts-scale: 16.34 KB (2.07%)
    <self>: 16.34 KB (100%)
  oui-dom-utils: 13.85 KB (1.75%)
    <self>: 13.85 KB (100%)
  core-js: 10.95 KB (1.38%)
    <self>: 10.95 KB (100%)
  invariant: 1.48 KB (0.187%)
    <self>: 1.48 KB (100%)
  classnames: 1.08 KB (0.136%)
    <self>: 1.08 KB (100%)
  ima.js-babel6-polyfill: 301 B (0.0372%)
    <self>: 301 B (100%)
  <self>: 411.65 KB (52.1%)
```
 Ah, cool, didn't know of https://github.com/lodash/babel-plugin-lodash
You want to rename this issue or open a new one for your plans? 
 @arcthur will this ever be reconsidered? I think the libraries size is still pretty large.  I don't know why, but history keeps getting installed in recharts/node_modules folder, even though its only defined as a devdependency. Any ideas why? Am I the only one affected by this?
 Its really strange, it is not noted in the installation log, but it still appears in the node_modules folder. I've already cleared the cache, completely removed it, reinstalled it.

```
recharts@0.6.3 node_modules/recharts
â”œâ”€â”€ ima.js-babel6-polyfill@0.1.0
â”œâ”€â”€ classnames@2.2.3
â”œâ”€â”€ oui-dom-utils@0.3.5
â”œâ”€â”€ recharts-scale@0.1.8
â”œâ”€â”€ invariant@2.2.0 (loose-envify@1.1.0)
â”œâ”€â”€ d3-scale@0.4.0 (d3-color@0.3.4, d3-time@0.1.1, d3-time-format@0.2.1, d3-interpolate@0.3.0, d3-format@0.4.2, d3-array@0.6.2)
â”œâ”€â”€ d3-shape@0.4.0 (d3-path@0.1.4)
â”œâ”€â”€ react-smooth@0.0.9 (pure-render-decorator@0.2.0, raf@3.1.0)
â”œâ”€â”€ lodash@4.5.0
â””â”€â”€ core-js@2.0.3
```

![ohne titel](https://cloud.githubusercontent.com/assets/4349324/13104733/3def3dba-d55f-11e5-91c7-f8f6669eb8a2.jpg)
 I've investigated it further, check out http://registry.npmjs.org/recharts/-/recharts-0.6.3.tgz 

It includes history module. See here for more infos on this issue
https://github.com/npm/npm/issues/9642

NPM2 seems to fix it, or use the workaround of @othiym23

"I can totally see how that would be confusing. A way to work around this for redux-react-router would be to add a postversion script that runs npm prune --prod, which will strip out devDependencies as long as
you publish right after versioning. (Using prepublish here is tricky because that will uninstall
devDependencies right after installling them.)

should the fix go in fstream-npm or util/lib/tar.js or both?
It should go in fstream-npm, which will fix it in util/lib/tar.js when we pull down the updated dependency."
 Hmm.. strange. As far as I understood npm2 should have this fixed, but please look at the tarball
http://registry.npmjs.org/recharts/-/recharts-0.6.3.tgz

History module is still part of your published package, which shouldn't happen with your version, so there is a problem. Did you update npm after publishing recharts 0.6.3?
 You need to update npm to >= 3.4.0 and then publish a new version. Maybe you could also bump oneuijs to 0.3.6 in that release: https://github.com/recharts/recharts/issues/31

That should fix it.
 For npm3 it is fixed with 3.4.0

Here is a quote:

```
There are two ways for avoiding this issue
- Use the npm versions which is fixed the issue(>=2.4.10 || >3.4.0)
- Remove node_modules/history before publishing the package
```
 I'm trying to create Scatter plots using React and Recharts. But i keep on getting the following build error at various places in file, and nothing shows:

**Uncaught SyntaxError: Unexpected token (**
at:
"use strict";
function(series) {
  var n = series.length, o = new Array(n);
  while (--n >= 0) o[n] = n;
  return o;
}
and other places.

What am I doing wrong?
  Hey, 
Having labels on xAxis, yAxis, Line etc. is very nice, but what about ReferenceLine? This would be important to have it work as an indicator with a text like 'Peek' or 'Maximum' or 'ROI' or whatever.
 Wow, thats great, thank you for all the efforts and keep it up!
  Hey, 
I'm wondering if there is / will be a possibility to choose if lines are curved between points. 
The default behaviour now seems to be true for horizontal and false for vertical.
 Strange, it didn't work at first, but after the change and a server restart it does. 
Indeed, the API documentations need a bit of improvement, I've found the `formatter` prop that some components got very useful, though these are not documented. 

But I understand recharts is still young, can't wait to see it become more mature. Keep it up! Recharts already is a great library!
   Awesome, thanks!
  Seems like there is now way to set label for axis, which logically would mean 'units of measurement'.
Example:
http://c3js.org/samples/axes_label.html
 Thanks a lot!
 I don't see that among the examples and I'm not sure how to implement units for the axes, can you please help? Thanks!  Here you go http://jsfiddle.net/rezxmfxm/4/
 Thank you
sorry 2nd error was my fault.
 This is working. Thank you. However some of the props doesn't get applied to the graphs such as `strokeDasharray`
  I cant make horizontal legend to be responsive for LineChart.
I mean it would be nice to set height for LineChart and then chart would be use that height to recalculate height of Surface and Legend so `height(Surface) + height(Legend) == props.height`

For now Legend is just overlapping.
http://jsfiddle.net/fxtwg1k7/1/
 Thanks @xile611!
It works fine now.
Your approach of calculating height for `Legend` is a bit tricky, but it works ;)

Before your commits I have solved problem another way similar to what `react-dimensions` does with a few additions (recalculating dimensions in wrapper's componentDidUpdate and rerender children only if it changed):
https://github.com/digidem/react-dimensions/pull/12/files
 I mentioned that if I pass specific `wrapperStyle` to `Legend` (whatever?), the chart will not show:
`wrapperStyle={{ fontSize: '12px', bottom : '10px' }}/>`
http://jsfiddle.net/fxtwg1k7/2/

It happens due assumption that such attributes like bottom, top ... will be numbers, not strings.
Not so serious, but for now I think it may be fixed by changing PropType of `wrapperStyle` from object to shape.
 The problem is still exists for PieChart. @xile611 Could you fix it in next version please?
 Sure:
[http://jsfiddle.net/xtned4bj/3/](http://jsfiddle.net/xtned4bj/3/)
  I just mentioned that `shallowCompare` method is totally useless for current version.
I slightly changed `pureRender` decorator to store information about results of `shouldComponentUpdate`.

```
window.perf = {};
function shouldComponentUpdate(nextProps, nextState) {
  var displayName = this.constructor.displayName;
  if (!window.perf[displayName]) {
    window.perf[displayName] = {
      yes: 0,
      no: 0
    }
  }

  var result = shallowCompare(this, nextProps, nextState);
  if (result) {
    window.perf[displayName].yes += 1;
  } else {
    window.perf[displayName].no += 1;
  }
  return result;
}
```

After render LineChart and mouseovering for a while I got results:

```
Line              yes: 1963      no: 1
Layer             yes: 3527      no: 0
Animate           yes: 1971      no: 0
Curve             yes: 2350      no: 0
Surface           yes: 2346      no: 0
CartesianGrid     yes: 391       no: 0
CartesianAxis     yes: 782       no: 0
Legend            yes: 782       no: 0
Tooltip           yes: 391       no: 0
DefaultTooltip    yes: 391       no: 0
Dot               yes: 1579      no: 316
```

The chart is almost totally rerender on any event yet it has the same data.

First of all, functions created in render should be refactored, cause it totally breaks pureRender.
More info here: [https://medium.com/@esamatti/react-js-pure-render-performance-anti-pattern-fb88c101332f#.30axfnwr2](url)
[http://benchling.engineering/performance-engineering-with-react/](url)

I tried to use another approach for some components and it works much faster:

```
function notDeepEqual(a, b) {
  return JSON.stringify(a) !== JSON.stringify(b);
}
```

...but I don't think that's a good solution.
guess we should find better way to deal with that problem...
 Thanks, @arcthur.

Yeah, it work faster now. 
Actually `isEqual` from `lodash` is yet another way to perform deep comparison. In terms of performance, this approach is pretty expensive.

The problem is not only for tooltip, but in managing state in common sense.
Every time LineChart is rerendering, it creates a bunch of new objects for `children`:

```
const items = findAllByType(children, Line);

let xAxisMap = this.getAxisMap('xAxis', items);
let yAxisMap = this.getAxisMap('yAxis', items);
const offset = this.getOffset(xAxisMap, yAxisMap);

xAxisMap = this.getFormatAxisMap(xAxisMap, offset, 'xAxis');
yAxisMap = this.getFormatAxisMap(yAxisMap, offset, 'yAxis');

```

I think it would be better to store such auxiliary objects (like axisMaps and offset) to state, and perform shallow comparison for own LineChart props (nextProps) and children props (nextProps.children[].props) in componentWillReceiveProps. If that comparison will be false, we could recalculate these objects, otherwise just reuse previous state.
This approach will allow us to use shallowEqual check for other pure components.

Deep comparison seems like a brute force to achieve some performance boost, but it hides problem rather than solves it.
What do you think?
  I'm using React 0.14.3.
Could you please update the library to meet dependency version ?
 Current version support react 0.14.x.
Can you provide error message?
 My error is:

```
â”œâ”€â”€ UNMET PEER DEPENDENCY react@^0.14.0
â”œâ”€â”€ UNMET PEER DEPENDENCY react-dom@^0.14.0
â””â”€â”¬ recharts@0.5.2
  â”œâ”€â”€ UNMET PEER DEPENDENCY react@^0.14.0
  â””â”€â”€ UNMET PEER DEPENDENCY react-dom@^0.14.0
npm WARN EPEERINVALID pure-render-decorator@0.2.0 requires a peer of react@^0.14.0 but none was installed.
npm WARN EPEERINVALID react-addons-shallow-compare@0.14.7 requires a peer of react@^0.14.7 but none was installed.
npm WARN EPEERINVALID react-addons-transition-group@0.14.7 requires a peer of react@^0.14.7 but none was installed.
npm WARN EPEERINVALID react-smooth@0.0.7 requires a peer of react@^0.14.0 but none was installed.
npm WARN EPEERINVALID react-smooth@0.0.7 requires a peer of react-dom@^0.14.0 but none was installed.
npm WARN EPEERINVALID recharts@0.5.2 requires a peer of react@^0.14.0 but none was installed.
npm WARN EPEERINVALID recharts@0.5.2 requires a peer of react-dom@^0.14.0 but none was installed.
```
 It seems like you specify exact version of react or react-aadons-*:
    "react": "0.14.3",
    "react-dom": "0.14.3"

Try to add caret like so
    "react": "^0.14.3",
    "react-dom": "^0.14.3"

If not, please share your dependencies sections of `package.json`
 Thank all. Just my mistake :D. It works fine now.
 @checkraiser what was the solution?
 @checkraiser How do you fix it?
 @Ohar: As i remember, we should remove the react dependency from recharts, and use react depdency independently. 
 I resolved this issue saying **requires a peer of react@>=0.14.0 but none was installed.** by uninstalling the react and react-dom and then locally install the react@0.14.0 and react-dom@0.14.0..
after this, I was able to install my module which had react@>=0.14.0 added as "peerDependencies": {
    "react": ">=0.14.0"
  },.
I uninstalled and installed the react with the latest version again, It worked for me. I had the same problem wasted few hrs. after upgrading NODE and NPM it worked. also try using PowerShell  A few options:
`ResizableContainer`, `AutoResizeContainer`, `ResponsiveContainer`
 +1 for `ResponsiveContainer`
  I've got the following error when tried to import recharts:

```
Module parse failed: D:\...\node_modules\recharts\src\index.js Line 1: Unexpected token
You may need an appropriate loader to handle this file type.
| import 'ima.js-babel6-polyfill';
| import 'core-js/es6/math';
| import Surface from './container/Surface';
```

I think it happens because you have `"main": "src/index.js"` in package.json instead of `"lib/index.js"`.
 Agree. 
Just mentioned other libraries use `jsnext:main` field in package.json to specify entry point for sources with es6 modules (in our case `src/index.js`), but seems like it can be handled by rollup only. Should check it first...
 > seems like it can be handled by rollup only

Yeah, unfortunately webpack v1 (I'm not sure about v2) doesn't handle es6 modules :(

> Just mentioned other libraries use jsnext:main field in package.json to specify entry point for sources with es6 modules (in our case src/index.js)

For instance, react-route use it like [this](https://github.com/rackt/react-router/blob/master/package.json#L15). So it would be great to make it the same way.
  Awesome work,
Are there any plans to make charts adapt to the container size on resize? or is it a concern of the container component?
  Would just like to say this library seems awesome.
Great job!
 Indeed! I want to reinforce that feeling :) Awesome work, folks!
  ### recharts/recharts now has a Chat Room on Gitter

@arcthur has just created a chat room. You can visit it here: [https://gitter.im/recharts/recharts](https://gitter.im/recharts/recharts?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&content=body_link).

This pull-request adds this badge to your README.md:

[![Gitter](https://badges.gitter.im/recharts/recharts.svg)](https://gitter.im/recharts/recharts?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=body_badge)

If my aim is a little off, please [let me know](https://github.com/gitterHQ/readme-badger/issues).

Happy chatting.

PS: [Click here](https://gitter.im/settings/badger/opt-out) if you would prefer not to receive automatic pull-requests from Gitter in future.
  I really impressed by your work.
Is there any support for LineChart to generate lines with not equal sets of `x` coordinates?

Example: http://c3js.org/samples/simple_xy_multiple.html
Thanks!
 Thank you for adding ScatterChart example. It is exactly what I was looking for.
